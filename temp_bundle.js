function CZ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Aa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vw={exports:{}},yh={};var aN;function PZ(){if(aN)return yh;aN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return yh.Fragment=e,yh.jsx=n,yh.jsxs=n,yh}var sN;function RZ(){return sN||(sN=1,vw.exports=PZ()),vw.exports}var E=RZ(),bw={exports:{}},$e={};var oN;function OZ(){if(oN)return $e;oN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function y(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function T(F,ee,ye){this.props=F,this.context=ee,this.refs=w,this.updater=ye||v}T.prototype.isReactComponent={},T.prototype.setState=function(F,ee){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ee,"setState")},T.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function C(){}C.prototype=T.prototype;function A(F,ee,ye){this.props=F,this.context=ee,this.refs=w,this.updater=ye||v}var R=A.prototype=new C;R.constructor=A,b(R,T.prototype),R.isPureReactComponent=!0;var P=Array.isArray;function O(){}var k={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function L(F,ee,ye){var be=ye.ref;return{$$typeof:t,type:F,key:ee,ref:be!==void 0?be:null,props:ye}}function $(F,ee){return L(F.type,ee,F.props)}function j(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function I(F){var ee={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ye){return ee[ye]})}var W=/\/+/g;function H(F,ee){return typeof F=="object"&&F!==null&&F.key!=null?I(""+F.key):ee.toString(36)}function J(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(O,O):(F.status="pending",F.then(function(ee){F.status==="pending"&&(F.status="fulfilled",F.value=ee)},function(ee){F.status==="pending"&&(F.status="rejected",F.reason=ee)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function z(F,ee,ye,be,Ae){var we=typeof F;(we==="undefined"||we==="boolean")&&(F=null);var Ee=!1;if(F===null)Ee=!0;else switch(we){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(F.$$typeof){case t:case e:Ee=!0;break;case d:return Ee=F._init,z(Ee(F._payload),ee,ye,be,Ae)}}if(Ee)return Ae=Ae(F),Ee=be===""?"."+H(F,0):be,P(Ae)?(ye="",Ee!=null&&(ye=Ee.replace(W,"$&/")+"/"),z(Ae,ee,ye,"",function(De){return De})):Ae!=null&&(j(Ae)&&(Ae=$(Ae,ye+(Ae.key==null||F&&F.key===Ae.key?"":(""+Ae.key).replace(W,"$&/")+"/")+Ee)),ee.push(Ae)),1;Ee=0;var Xe=be===""?".":be+":";if(P(F))for(var ue=0;ue<F.length;ue++)be=F[ue],we=Xe+H(be,ue),Ee+=z(be,ee,ye,we,Ae);else if(ue=y(F),typeof ue=="function")for(F=ue.call(F),ue=0;!(be=F.next()).done;)be=be.value,we=Xe+H(be,ue++),Ee+=z(be,ee,ye,we,Ae);else if(we==="object"){if(typeof F.then=="function")return z(J(F),ee,ye,be,Ae);throw ee=String(F),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function q(F,ee,ye){if(F==null)return F;var be=[],Ae=0;return z(F,be,"","",function(we){return ee.call(ye,we,Ae++)}),be}function se(F){if(F._status===-1){var ee=F._result;ee=ee(),ee.then(function(ye){(F._status===0||F._status===-1)&&(F._status=1,F._result=ye)},function(ye){(F._status===0||F._status===-1)&&(F._status=2,F._result=ye)}),F._status===-1&&(F._status=0,F._result=ee)}if(F._status===1)return F._result.default;throw F._result}var le=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},_e={map:q,forEach:function(F,ee,ye){q(F,function(){ee.apply(this,arguments)},ye)},count:function(F){var ee=0;return q(F,function(){ee++}),ee},toArray:function(F){return q(F,function(ee){return ee})||[]},only:function(F){if(!j(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return $e.Activity=p,$e.Children=_e,$e.Component=T,$e.Fragment=n,$e.Profiler=i,$e.PureComponent=A,$e.StrictMode=r,$e.Suspense=c,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,$e.__COMPILER_RUNTIME={__proto__:null,c:function(F){return k.H.useMemoCache(F)}},$e.cache=function(F){return function(){return F.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(F,ee,ye){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var be=b({},F.props),Ae=F.key;if(ee!=null)for(we in ee.key!==void 0&&(Ae=""+ee.key),ee)!D.call(ee,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ee.ref===void 0||(be[we]=ee[we]);var we=arguments.length-2;if(we===1)be.children=ye;else if(1<we){for(var Ee=Array(we),Xe=0;Xe<we;Xe++)Ee[Xe]=arguments[Xe+2];be.children=Ee}return L(F.type,Ae,be)},$e.createContext=function(F){return F={$$typeof:s,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},$e.createElement=function(F,ee,ye){var be,Ae={},we=null;if(ee!=null)for(be in ee.key!==void 0&&(we=""+ee.key),ee)D.call(ee,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Ae[be]=ee[be]);var Ee=arguments.length-2;if(Ee===1)Ae.children=ye;else if(1<Ee){for(var Xe=Array(Ee),ue=0;ue<Ee;ue++)Xe[ue]=arguments[ue+2];Ae.children=Xe}if(F&&F.defaultProps)for(be in Ee=F.defaultProps,Ee)Ae[be]===void 0&&(Ae[be]=Ee[be]);return L(F,we,Ae)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(F){return{$$typeof:o,render:F}},$e.isValidElement=j,$e.lazy=function(F){return{$$typeof:d,_payload:{_status:-1,_result:F},_init:se}},$e.memo=function(F,ee){return{$$typeof:f,type:F,compare:ee===void 0?null:ee}},$e.startTransition=function(F){var ee=k.T,ye={};k.T=ye;try{var be=F(),Ae=k.S;Ae!==null&&Ae(ye,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(O,le)}catch(we){le(we)}finally{ee!==null&&ye.types!==null&&(ee.types=ye.types),k.T=ee}},$e.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},$e.use=function(F){return k.H.use(F)},$e.useActionState=function(F,ee,ye){return k.H.useActionState(F,ee,ye)},$e.useCallback=function(F,ee){return k.H.useCallback(F,ee)},$e.useContext=function(F){return k.H.useContext(F)},$e.useDebugValue=function(){},$e.useDeferredValue=function(F,ee){return k.H.useDeferredValue(F,ee)},$e.useEffect=function(F,ee){return k.H.useEffect(F,ee)},$e.useEffectEvent=function(F){return k.H.useEffectEvent(F)},$e.useId=function(){return k.H.useId()},$e.useImperativeHandle=function(F,ee,ye){return k.H.useImperativeHandle(F,ee,ye)},$e.useInsertionEffect=function(F,ee){return k.H.useInsertionEffect(F,ee)},$e.useLayoutEffect=function(F,ee){return k.H.useLayoutEffect(F,ee)},$e.useMemo=function(F,ee){return k.H.useMemo(F,ee)},$e.useOptimistic=function(F,ee){return k.H.useOptimistic(F,ee)},$e.useReducer=function(F,ee,ye){return k.H.useReducer(F,ee,ye)},$e.useRef=function(F){return k.H.useRef(F)},$e.useState=function(F){return k.H.useState(F)},$e.useSyncExternalStore=function(F,ee,ye){return k.H.useSyncExternalStore(F,ee,ye)},$e.useTransition=function(){return k.H.useTransition()},$e.version="19.2.0",$e}var lN;function nd(){return lN||(lN=1,bw.exports=OZ()),bw.exports}var x=nd();const gi=Aa(x),Bv=CZ({__proto__:null,default:gi},[x]);var xw={exports:{}},vh={},_w={exports:{}},ww={};var cN;function MZ(){return cN||(cN=1,(function(t){function e(z,q){var se=z.length;z.push(q);e:for(;0<se;){var le=se-1>>>1,_e=z[le];if(0<i(_e,q))z[le]=q,z[se]=_e,se=le;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var q=z[0],se=z.pop();if(se!==q){z[0]=se;e:for(var le=0,_e=z.length,F=_e>>>1;le<F;){var ee=2*(le+1)-1,ye=z[ee],be=ee+1,Ae=z[be];if(0>i(ye,se))be<_e&&0>i(Ae,ye)?(z[le]=Ae,z[be]=se,le=be):(z[le]=ye,z[ee]=se,le=ee);else if(be<_e&&0>i(Ae,se))z[le]=Ae,z[be]=se,le=be;else break e}}return q}function i(z,q){var se=z.sortIndex-q.sortIndex;return se!==0?se:z.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],f=[],d=1,p=null,m=3,y=!1,v=!1,b=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function R(z){for(var q=n(f);q!==null;){if(q.callback===null)r(f);else if(q.startTime<=z)r(f),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(f)}}function P(z){if(b=!1,R(z),!v)if(n(c)!==null)v=!0,O||(O=!0,I());else{var q=n(f);q!==null&&J(P,q.startTime-z)}}var O=!1,k=-1,D=5,L=-1;function $(){return w?!0:!(t.unstable_now()-L<D)}function j(){if(w=!1,O){var z=t.unstable_now();L=z;var q=!0;try{e:{v=!1,b&&(b=!1,C(k),k=-1),y=!0;var se=m;try{t:{for(R(z),p=n(c);p!==null&&!(p.expirationTime>z&&$());){var le=p.callback;if(typeof le=="function"){p.callback=null,m=p.priorityLevel;var _e=le(p.expirationTime<=z);if(z=t.unstable_now(),typeof _e=="function"){p.callback=_e,R(z),q=!0;break t}p===n(c)&&r(c),R(z)}else r(c);p=n(c)}if(p!==null)q=!0;else{var F=n(f);F!==null&&J(P,F.startTime-z),q=!1}}break e}finally{p=null,m=se,y=!1}q=void 0}}finally{q?I():O=!1}}}var I;if(typeof A=="function")I=function(){A(j)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,H=W.port2;W.port1.onmessage=j,I=function(){H.postMessage(null)}}else I=function(){T(j,0)};function J(z,q){k=T(function(){z(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var se=m;m=q;try{return z()}finally{m=se}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var se=m;m=z;try{return q()}finally{m=se}},t.unstable_scheduleCallback=function(z,q,se){var le=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?le+se:le):se=le,z){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=se+_e,z={id:d++,callback:q,priorityLevel:z,startTime:se,expirationTime:_e,sortIndex:-1},se>le?(z.sortIndex=se,e(f,z),n(c)===null&&z===n(f)&&(b?(C(k),k=-1):b=!0,J(P,se-le))):(z.sortIndex=_e,e(c,z),v||y||(v=!0,O||(O=!0,I()))),z},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(z){var q=m;return function(){var se=m;m=q;try{return z.apply(this,arguments)}finally{m=se}}}})(ww)),ww}var uN;function IZ(){return uN||(uN=1,_w.exports=MZ()),_w.exports}var Sw={exports:{}},hr={};var fN;function kZ(){if(fN)return hr;fN=1;var t=nd();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:d}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hr.createPortal=function(c,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,d)},hr.flushSync=function(c){var f=s.T,d=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=d,r.d.f()}},hr.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},hr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},hr.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var d=f.as,p=o(d,f.crossOrigin),m=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):d==="script"&&r.d.X(c,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},hr.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=o(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},hr.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,p=o(d,f.crossOrigin);r.d.L(c,d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},hr.preloadModule=function(c,f){if(typeof c=="string")if(f){var d=o(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},hr.requestFormReset=function(c){r.d.r(c)},hr.unstable_batchedUpdates=function(c,f){return c(f)},hr.useFormState=function(c,f,d){return s.H.useFormState(c,f,d)},hr.useFormStatus=function(){return s.H.useHostTransitionStatus()},hr.version="19.2.0",hr}var dN;function n8(){if(dN)return Sw.exports;dN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sw.exports=kZ(),Sw.exports}var hN;function NZ(){if(hN)return vh;hN=1;var t=IZ(),e=nd(),n=n8();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var u=l,h=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(h=u.return),l=u.return;while(l)}return u.tag===3?h:null}function s(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function o(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(r(188))}function f(l){var u=l.alternate;if(!u){if(u=a(l),u===null)throw Error(r(188));return u!==l?null:l}for(var h=l,g=u;;){var _=h.return;if(_===null)break;var S=_.alternate;if(S===null){if(g=_.return,g!==null){h=g;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===h)return c(_),l;if(S===g)return c(_),u;S=S.sibling}throw Error(r(188))}if(h.return!==g.return)h=_,g=S;else{for(var M=!1,N=_.child;N;){if(N===h){M=!0,h=_,g=S;break}if(N===g){M=!0,g=_,h=S;break}N=N.sibling}if(!M){for(N=S.child;N;){if(N===h){M=!0,h=S,g=_;break}if(N===g){M=!0,g=S,h=_;break}N=N.sibling}if(!M)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:u}function d(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=d(l),u!==null)return u;l=l.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),A=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function I(l){return l===null||typeof l!="object"?null:(l=j&&l[j]||l["@@iterator"],typeof l=="function"?l:null)}var W=Symbol.for("react.client.reference");function H(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===W?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList";case L:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case v:return"Portal";case A:return l.displayName||"Context";case C:return(l._context.displayName||"Context")+".Consumer";case R:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case k:return u=l.displayName||null,u!==null?u:H(l.type)||"Memo";case D:u=l._payload,l=l._init;try{return H(l(u))}catch{}}return null}var J=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},le=[],_e=-1;function F(l){return{current:l}}function ee(l){0>_e||(l.current=le[_e],le[_e]=null,_e--)}function ye(l,u){_e++,le[_e]=l.current,l.current=u}var be=F(null),Ae=F(null),we=F(null),Ee=F(null);function Xe(l,u){switch(ye(we,u),ye(Ae,l),ye(be,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?Pk(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=Pk(u),l=Rk(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ee(be),ye(be,l)}function ue(){ee(be),ee(Ae),ee(we)}function De(l){l.memoizedState!==null&&ye(Ee,l);var u=be.current,h=Rk(u,l.type);u!==h&&(ye(Ae,l),ye(be,h))}function je(l){Ae.current===l&&(ee(be),ee(Ae)),Ee.current===l&&(ee(Ee),hh._currentValue=se)}var me,ht;function Le(l){if(me===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);me=u&&u[1]||"",ht=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+l+ht}var pt=!1;function It(l,u){if(!l||pt)return"";pt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ce){var ie=ce}Reflect.construct(l,[],ge)}else{try{ge.call()}catch(ce){ie=ce}l.call(ge.prototype)}}else{try{throw Error()}catch(ce){ie=ce}(ge=l())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ce){if(ce&&ie&&typeof ce.stack=="string")return[ce.stack,ie.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),M=S[0],N=S[1];if(M&&N){var V=M.split(`
`),re=N.split(`
`);for(_=g=0;g<V.length&&!V[g].includes("DetermineComponentFrameRoot");)g++;for(;_<re.length&&!re[_].includes("DetermineComponentFrameRoot");)_++;if(g===V.length||_===re.length)for(g=V.length-1,_=re.length-1;1<=g&&0<=_&&V[g]!==re[_];)_--;for(;1<=g&&0<=_;g--,_--)if(V[g]!==re[_]){if(g!==1||_!==1)do if(g--,_--,0>_||V[g]!==re[_]){var fe=`
`+V[g].replace(" at new "," at ");return l.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",l.displayName)),fe}while(1<=g&&0<=_);break}}}finally{pt=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?Le(h):""}function jt(l,u){switch(l.tag){case 26:case 27:case 5:return Le(l.type);case 16:return Le("Lazy");case 13:return l.child!==u&&u!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return It(l.type,!1);case 11:return It(l.type.render,!1);case 1:return It(l.type,!0);case 31:return Le("Activity");default:return""}}function tn(l){try{var u="",h=null;do u+=jt(l,h),h=l,l=l.return;while(l);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Zt=Object.prototype.hasOwnProperty,nn=t.unstable_scheduleCallback,tr=t.unstable_cancelCallback,ke=t.unstable_shouldYield,fs=t.unstable_requestPaint,rn=t.unstable_now,ds=t.unstable_getCurrentPriorityLevel,xn=t.unstable_ImmediatePriority,at=t.unstable_UserBlockingPriority,an=t.unstable_NormalPriority,Wn=t.unstable_LowPriority,Oa=t.unstable_IdlePriority,Cr=t.log,wl=t.unstable_setDisableYieldValue,ei=null,In=null;function Ma(l){if(typeof Cr=="function"&&wl(l),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(ei,l)}catch{}}var nr=Math.clz32?Math.clz32:a_,i_=Math.log,Kc=Math.LN2;function a_(l){return l>>>=0,l===0?32:31-(i_(l)/Kc|0)|0}var Yc=256,Gc=262144,Zc=4194304;function hs(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Qc(l,u,h){var g=l.pendingLanes;if(g===0)return 0;var _=0,S=l.suspendedLanes,M=l.pingedLanes;l=l.warmLanes;var N=g&134217727;return N!==0?(g=N&~S,g!==0?_=hs(g):(M&=N,M!==0?_=hs(M):h||(h=N&~l,h!==0&&(_=hs(h))))):(N=g&~S,N!==0?_=hs(N):M!==0?_=hs(M):h||(h=g&~l,h!==0&&(_=hs(h)))),_===0?0:u!==0&&u!==_&&(u&S)===0&&(S=_&-_,h=u&-u,S>=h||S===32&&(h&4194048)!==0)?u:_}function Sl(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function s_(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ve(){var l=Zc;return Zc<<=1,(Zc&62914560)===0&&(Zc=4194304),l}function Ti(l){for(var u=[],h=0;31>h;h++)u.push(l);return u}function Cd(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function gY(l,u,h,g,_,S){var M=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var N=l.entanglements,V=l.expirationTimes,re=l.hiddenUpdates;for(h=M&~h;0<h;){var fe=31-nr(h),ge=1<<fe;N[fe]=0,V[fe]=-1;var ie=re[fe];if(ie!==null)for(re[fe]=null,fe=0;fe<ie.length;fe++){var ce=ie[fe];ce!==null&&(ce.lane&=-536870913)}h&=~ge}g!==0&&uO(l,g,0),S!==0&&_===0&&l.tag!==0&&(l.suspendedLanes|=S&~(M&~u))}function uO(l,u,h){l.pendingLanes|=u,l.suspendedLanes&=~u;var g=31-nr(u);l.entangledLanes|=u,l.entanglements[g]=l.entanglements[g]|1073741824|h&261930}function fO(l,u){var h=l.entangledLanes|=u;for(l=l.entanglements;h;){var g=31-nr(h),_=1<<g;_&u|l[g]&u&&(l[g]|=u),h&=~_}}function dO(l,u){var h=u&-u;return h=(h&42)!==0?1:o_(h),(h&(l.suspendedLanes|u))!==0?0:h}function o_(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function l_(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function hO(){var l=q.p;return l!==0?l:(l=window.event,l===void 0?32:Qk(l.type))}function pO(l,u){var h=q.p;try{return q.p=l,u()}finally{q.p=h}}var yo=Math.random().toString(36).slice(2),rr="__reactFiber$"+yo,Br="__reactProps$"+yo,Jc="__reactContainer$"+yo,c_="__reactEvents$"+yo,mY="__reactListeners$"+yo,yY="__reactHandles$"+yo,gO="__reactResources$"+yo,Pd="__reactMarker$"+yo;function u_(l){delete l[rr],delete l[Br],delete l[c_],delete l[mY],delete l[yY]}function eu(l){var u=l[rr];if(u)return u;for(var h=l.parentNode;h;){if(u=h[Jc]||h[rr]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(l=Bk(l);l!==null;){if(h=l[rr])return h;l=Bk(l)}return u}l=h,h=l.parentNode}return null}function tu(l){if(l=l[rr]||l[Jc]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function Rd(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function nu(l){var u=l[gO];return u||(u=l[gO]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function qn(l){l[Pd]=!0}var mO=new Set,yO={};function Tl(l,u){ru(l,u),ru(l+"Capture",u)}function ru(l,u){for(yO[l]=u,l=0;l<u.length;l++)mO.add(u[l])}var vY=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vO={},bO={};function bY(l){return Zt.call(bO,l)?!0:Zt.call(vO,l)?!1:vY.test(l)?bO[l]=!0:(vO[l]=!0,!1)}function tm(l,u,h){if(bY(u))if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+h)}}function nm(l,u,h){if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+h)}}function ps(l,u,h,g){if(g===null)l.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(u,h,""+g)}}function Ai(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function xO(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function xY(l,u,h){var g=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var _=g.get,S=g.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return _.call(this)},set:function(M){h=""+M,S.call(this,M)}}),Object.defineProperty(l,u,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(M){h=""+M},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function f_(l){if(!l._valueTracker){var u=xO(l)?"checked":"value";l._valueTracker=xY(l,u,""+l[u])}}function _O(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return l&&(g=xO(l)?l.checked?"true":"false":l.value),l=g,l!==h?(u.setValue(l),!0):!1}function rm(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var _Y=/[\n"\\]/g;function Ei(l){return l.replace(_Y,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function d_(l,u,h,g,_,S,M,N){l.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?l.type=M:l.removeAttribute("type"),u!=null?M==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+Ai(u)):l.value!==""+Ai(u)&&(l.value=""+Ai(u)):M!=="submit"&&M!=="reset"||l.removeAttribute("value"),u!=null?h_(l,M,Ai(u)):h!=null?h_(l,M,Ai(h)):g!=null&&l.removeAttribute("value"),_==null&&S!=null&&(l.defaultChecked=!!S),_!=null&&(l.checked=_&&typeof _!="function"&&typeof _!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?l.name=""+Ai(N):l.removeAttribute("name")}function wO(l,u,h,g,_,S,M,N){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(l.type=S),u!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||u!=null)){f_(l);return}h=h!=null?""+Ai(h):"",u=u!=null?""+Ai(u):h,N||u===l.value||(l.value=u),l.defaultValue=u}g=g??_,g=typeof g!="function"&&typeof g!="symbol"&&!!g,l.checked=N?l.checked:!!g,l.defaultChecked=!!g,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(l.name=M),f_(l)}function h_(l,u,h){u==="number"&&rm(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function iu(l,u,h,g){if(l=l.options,u){u={};for(var _=0;_<h.length;_++)u["$"+h[_]]=!0;for(h=0;h<l.length;h++)_=u.hasOwnProperty("$"+l[h].value),l[h].selected!==_&&(l[h].selected=_),_&&g&&(l[h].defaultSelected=!0)}else{for(h=""+Ai(h),u=null,_=0;_<l.length;_++){if(l[_].value===h){l[_].selected=!0,g&&(l[_].defaultSelected=!0);return}u!==null||l[_].disabled||(u=l[_])}u!==null&&(u.selected=!0)}}function SO(l,u,h){if(u!=null&&(u=""+Ai(u),u!==l.value&&(l.value=u),h==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=h!=null?""+Ai(h):""}function TO(l,u,h,g){if(u==null){if(g!=null){if(h!=null)throw Error(r(92));if(J(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),u=h}h=Ai(u),l.defaultValue=h,g=l.textContent,g===h&&g!==""&&g!==null&&(l.value=g),f_(l)}function au(l,u){if(u){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=u;return}}l.textContent=u}var wY=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function AO(l,u,h){var g=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":g?l.setProperty(u,h):typeof h!="number"||h===0||wY.has(u)?u==="float"?l.cssFloat=h:l[u]=(""+h).trim():l[u]=h+"px"}function EO(l,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?l.setProperty(g,""):g==="float"?l.cssFloat="":l[g]="");for(var _ in u)g=u[_],u.hasOwnProperty(_)&&h[_]!==g&&AO(l,_,g)}else for(var S in u)u.hasOwnProperty(S)&&AO(l,S,u[S])}function p_(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SY=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TY=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function im(l){return TY.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function gs(){}var g_=null;function m_(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var su=null,ou=null;function CO(l){var u=tu(l);if(u&&(l=u.stateNode)){var h=l[Br]||null;e:switch(l=u.stateNode,u.type){case"input":if(d_(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Ei(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==l&&g.form===l.form){var _=g[Br]||null;if(!_)throw Error(r(90));d_(g,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(u=0;u<h.length;u++)g=h[u],g.form===l.form&&_O(g)}break e;case"textarea":SO(l,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&iu(l,!!h.multiple,u,!1)}}}var y_=!1;function PO(l,u,h){if(y_)return l(u,h);y_=!0;try{var g=l(u);return g}finally{if(y_=!1,(su!==null||ou!==null)&&(Wm(),su&&(u=su,l=ou,ou=su=null,CO(u),l)))for(u=0;u<l.length;u++)CO(l[u])}}function Od(l,u){var h=l.stateNode;if(h===null)return null;var g=h[Br]||null;if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(l=l.type,g=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!g;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v_=!1;if(ms)try{var Md={};Object.defineProperty(Md,"passive",{get:function(){v_=!0}}),window.addEventListener("test",Md,Md),window.removeEventListener("test",Md,Md)}catch{v_=!1}var vo=null,b_=null,am=null;function RO(){if(am)return am;var l,u=b_,h=u.length,g,_="value"in vo?vo.value:vo.textContent,S=_.length;for(l=0;l<h&&u[l]===_[l];l++);var M=h-l;for(g=1;g<=M&&u[h-g]===_[S-g];g++);return am=_.slice(l,1<g?1-g:void 0)}function sm(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function om(){return!0}function OO(){return!1}function Lr(l){function u(h,g,_,S,M){this._reactName=h,this._targetInst=_,this.type=g,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var N in l)l.hasOwnProperty(N)&&(h=l[N],this[N]=h?h(S):S[N]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?om:OO,this.isPropagationStopped=OO,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=om)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=om)},persist:function(){},isPersistent:om}),u}var Al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lm=Lr(Al),Id=p({},Al,{view:0,detail:0}),AY=Lr(Id),x_,__,kd,cm=p({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S_,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==kd&&(kd&&l.type==="mousemove"?(x_=l.screenX-kd.screenX,__=l.screenY-kd.screenY):__=x_=0,kd=l),x_)},movementY:function(l){return"movementY"in l?l.movementY:__}}),MO=Lr(cm),EY=p({},cm,{dataTransfer:0}),CY=Lr(EY),PY=p({},Id,{relatedTarget:0}),w_=Lr(PY),RY=p({},Al,{animationName:0,elapsedTime:0,pseudoElement:0}),OY=Lr(RY),MY=p({},Al,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),IY=Lr(MY),kY=p({},Al,{data:0}),IO=Lr(kY),NY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LY(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=BY[l])?!!u[l]:!1}function S_(){return LY}var jY=p({},Id,{key:function(l){if(l.key){var u=NY[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=sm(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?DY[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S_,charCode:function(l){return l.type==="keypress"?sm(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?sm(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),UY=Lr(jY),FY=p({},cm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kO=Lr(FY),$Y=p({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S_}),zY=Lr($Y),VY=p({},Al,{propertyName:0,elapsedTime:0,pseudoElement:0}),HY=Lr(VY),WY=p({},cm,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),qY=Lr(WY),XY=p({},Al,{newState:0,oldState:0}),KY=Lr(XY),YY=[9,13,27,32],T_=ms&&"CompositionEvent"in window,Nd=null;ms&&"documentMode"in document&&(Nd=document.documentMode);var GY=ms&&"TextEvent"in window&&!Nd,NO=ms&&(!T_||Nd&&8<Nd&&11>=Nd),DO=" ",BO=!1;function LO(l,u){switch(l){case"keyup":return YY.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jO(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var lu=!1;function ZY(l,u){switch(l){case"compositionend":return jO(u);case"keypress":return u.which!==32?null:(BO=!0,DO);case"textInput":return l=u.data,l===DO&&BO?null:l;default:return null}}function QY(l,u){if(lu)return l==="compositionend"||!T_&&LO(l,u)?(l=RO(),am=b_=vo=null,lu=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return NO&&u.locale!=="ko"?null:u.data;default:return null}}var JY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UO(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!JY[l.type]:u==="textarea"}function FO(l,u,h,g){su?ou?ou.push(g):ou=[g]:su=g,u=Qm(u,"onChange"),0<u.length&&(h=new lm("onChange","change",null,h,g),l.push({event:h,listeners:u}))}var Dd=null,Bd=null;function eG(l){wk(l,0)}function um(l){var u=Rd(l);if(_O(u))return l}function $O(l,u){if(l==="change")return u}var zO=!1;if(ms){var A_;if(ms){var E_="oninput"in document;if(!E_){var VO=document.createElement("div");VO.setAttribute("oninput","return;"),E_=typeof VO.oninput=="function"}A_=E_}else A_=!1;zO=A_&&(!document.documentMode||9<document.documentMode)}function HO(){Dd&&(Dd.detachEvent("onpropertychange",WO),Bd=Dd=null)}function WO(l){if(l.propertyName==="value"&&um(Bd)){var u=[];FO(u,Bd,l,m_(l)),PO(eG,u)}}function tG(l,u,h){l==="focusin"?(HO(),Dd=u,Bd=h,Dd.attachEvent("onpropertychange",WO)):l==="focusout"&&HO()}function nG(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return um(Bd)}function rG(l,u){if(l==="click")return um(u)}function iG(l,u){if(l==="input"||l==="change")return um(u)}function aG(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var ti=typeof Object.is=="function"?Object.is:aG;function Ld(l,u){if(ti(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var h=Object.keys(l),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var _=h[g];if(!Zt.call(u,_)||!ti(l[_],u[_]))return!1}return!0}function qO(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function XO(l,u){var h=qO(l);l=0;for(var g;h;){if(h.nodeType===3){if(g=l+h.textContent.length,l<=u&&g>=u)return{node:h,offset:u-l};l=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=qO(h)}}function KO(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?KO(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function YO(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=rm(l.document);u instanceof l.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)l=u.contentWindow;else break;u=rm(l.document)}return u}function C_(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var sG=ms&&"documentMode"in document&&11>=document.documentMode,cu=null,P_=null,jd=null,R_=!1;function GO(l,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;R_||cu==null||cu!==rm(g)||(g=cu,"selectionStart"in g&&C_(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),jd&&Ld(jd,g)||(jd=g,g=Qm(P_,"onSelect"),0<g.length&&(u=new lm("onSelect","select",null,u,h),l.push({event:u,listeners:g}),u.target=cu)))}function El(l,u){var h={};return h[l.toLowerCase()]=u.toLowerCase(),h["Webkit"+l]="webkit"+u,h["Moz"+l]="moz"+u,h}var uu={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionrun:El("Transition","TransitionRun"),transitionstart:El("Transition","TransitionStart"),transitioncancel:El("Transition","TransitionCancel"),transitionend:El("Transition","TransitionEnd")},O_={},ZO={};ms&&(ZO=document.createElement("div").style,"AnimationEvent"in window||(delete uu.animationend.animation,delete uu.animationiteration.animation,delete uu.animationstart.animation),"TransitionEvent"in window||delete uu.transitionend.transition);function Cl(l){if(O_[l])return O_[l];if(!uu[l])return l;var u=uu[l],h;for(h in u)if(u.hasOwnProperty(h)&&h in ZO)return O_[l]=u[h];return l}var QO=Cl("animationend"),JO=Cl("animationiteration"),eM=Cl("animationstart"),oG=Cl("transitionrun"),lG=Cl("transitionstart"),cG=Cl("transitioncancel"),tM=Cl("transitionend"),nM=new Map,M_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");M_.push("scrollEnd");function aa(l,u){nM.set(l,u),Tl(u,[l])}var fm=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Ci=[],fu=0,I_=0;function dm(){for(var l=fu,u=I_=fu=0;u<l;){var h=Ci[u];Ci[u++]=null;var g=Ci[u];Ci[u++]=null;var _=Ci[u];Ci[u++]=null;var S=Ci[u];if(Ci[u++]=null,g!==null&&_!==null){var M=g.pending;M===null?_.next=_:(_.next=M.next,M.next=_),g.pending=_}S!==0&&rM(h,_,S)}}function hm(l,u,h,g){Ci[fu++]=l,Ci[fu++]=u,Ci[fu++]=h,Ci[fu++]=g,I_|=g,l.lanes|=g,l=l.alternate,l!==null&&(l.lanes|=g)}function k_(l,u,h,g){return hm(l,u,h,g),pm(l)}function Pl(l,u){return hm(l,null,null,u),pm(l)}function rM(l,u,h){l.lanes|=h;var g=l.alternate;g!==null&&(g.lanes|=h);for(var _=!1,S=l.return;S!==null;)S.childLanes|=h,g=S.alternate,g!==null&&(g.childLanes|=h),S.tag===22&&(l=S.stateNode,l===null||l._visibility&1||(_=!0)),l=S,S=S.return;return l.tag===3?(S=l.stateNode,_&&u!==null&&(_=31-nr(h),l=S.hiddenUpdates,g=l[_],g===null?l[_]=[u]:g.push(u),u.lane=h|536870912),S):null}function pm(l){if(50<sh)throw sh=0,z1=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var du={};function uG(l,u,h,g){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(l,u,h,g){return new uG(l,u,h,g)}function N_(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ys(l,u){var h=l.alternate;return h===null?(h=ni(l.tag,u,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=u,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,u=l.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function iM(l,u){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,u=h.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function gm(l,u,h,g,_,S){var M=0;if(g=l,typeof l=="function")N_(l)&&(M=1);else if(typeof l=="string")M=gZ(l,h,be.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case L:return l=ni(31,h,u,_),l.elementType=L,l.lanes=S,l;case b:return Rl(h.children,_,S,u);case w:M=8,_|=24;break;case T:return l=ni(12,h,u,_|2),l.elementType=T,l.lanes=S,l;case P:return l=ni(13,h,u,_),l.elementType=P,l.lanes=S,l;case O:return l=ni(19,h,u,_),l.elementType=O,l.lanes=S,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case A:M=10;break e;case C:M=9;break e;case R:M=11;break e;case k:M=14;break e;case D:M=16,g=null;break e}M=29,h=Error(r(130,l===null?"null":typeof l,"")),g=null}return u=ni(M,h,u,_),u.elementType=l,u.type=g,u.lanes=S,u}function Rl(l,u,h,g){return l=ni(7,l,g,u),l.lanes=h,l}function D_(l,u,h){return l=ni(6,l,null,u),l.lanes=h,l}function aM(l){var u=ni(18,null,null,0);return u.stateNode=l,u}function B_(l,u,h){return u=ni(4,l.children!==null?l.children:[],l.key,u),u.lanes=h,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var sM=new WeakMap;function Pi(l,u){if(typeof l=="object"&&l!==null){var h=sM.get(l);return h!==void 0?h:(u={value:l,source:u,stack:tn(u)},sM.set(l,u),u)}return{value:l,source:u,stack:tn(u)}}var hu=[],pu=0,mm=null,Ud=0,Ri=[],Oi=0,bo=null,Ia=1,ka="";function vs(l,u){hu[pu++]=Ud,hu[pu++]=mm,mm=l,Ud=u}function oM(l,u,h){Ri[Oi++]=Ia,Ri[Oi++]=ka,Ri[Oi++]=bo,bo=l;var g=Ia;l=ka;var _=32-nr(g)-1;g&=~(1<<_),h+=1;var S=32-nr(u)+_;if(30<S){var M=_-_%5;S=(g&(1<<M)-1).toString(32),g>>=M,_-=M,Ia=1<<32-nr(u)+_|h<<_|g,ka=S+l}else Ia=1<<S|h<<_|g,ka=l}function L_(l){l.return!==null&&(vs(l,1),oM(l,1,0))}function j_(l){for(;l===mm;)mm=hu[--pu],hu[pu]=null,Ud=hu[--pu],hu[pu]=null;for(;l===bo;)bo=Ri[--Oi],Ri[Oi]=null,ka=Ri[--Oi],Ri[Oi]=null,Ia=Ri[--Oi],Ri[Oi]=null}function lM(l,u){Ri[Oi++]=Ia,Ri[Oi++]=ka,Ri[Oi++]=bo,Ia=u.id,ka=u.overflow,bo=l}var ir=null,Ut=null,Je=!1,xo=null,Mi=!1,U_=Error(r(519));function _o(l){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fd(Pi(u,l)),U_}function cM(l){var u=l.stateNode,h=l.type,g=l.memoizedProps;switch(u[rr]=l,u[Br]=g,h){case"dialog":Ye("cancel",u),Ye("close",u);break;case"iframe":case"object":case"embed":Ye("load",u);break;case"video":case"audio":for(h=0;h<lh.length;h++)Ye(lh[h],u);break;case"source":Ye("error",u);break;case"img":case"image":case"link":Ye("error",u),Ye("load",u);break;case"details":Ye("toggle",u);break;case"input":Ye("invalid",u),wO(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Ye("invalid",u);break;case"textarea":Ye("invalid",u),TO(u,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||g.suppressHydrationWarning===!0||Ek(u.textContent,h)?(g.popover!=null&&(Ye("beforetoggle",u),Ye("toggle",u)),g.onScroll!=null&&Ye("scroll",u),g.onScrollEnd!=null&&Ye("scrollend",u),g.onClick!=null&&(u.onclick=gs),u=!0):u=!1,u||_o(l,!0)}function uM(l){for(ir=l.return;ir;)switch(ir.tag){case 5:case 31:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:ir=ir.return}}function gu(l){if(l!==ir)return!1;if(!Je)return uM(l),Je=!0,!1;var u=l.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||rw(l.type,l.memoizedProps)),h=!h),h&&Ut&&_o(l),uM(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Ut=Dk(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Ut=Dk(l)}else u===27?(u=Ut,Do(l.type)?(l=lw,lw=null,Ut=l):Ut=u):Ut=ir?ki(l.stateNode.nextSibling):null;return!0}function Ol(){Ut=ir=null,Je=!1}function F_(){var l=xo;return l!==null&&($r===null?$r=l:$r.push.apply($r,l),xo=null),l}function Fd(l){xo===null?xo=[l]:xo.push(l)}var $_=F(null),Ml=null,bs=null;function wo(l,u,h){ye($_,u._currentValue),u._currentValue=h}function xs(l){l._currentValue=$_.current,ee($_)}function z_(l,u,h){for(;l!==null;){var g=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),l===h)break;l=l.return}}function V_(l,u,h,g){var _=l.child;for(_!==null&&(_.return=l);_!==null;){var S=_.dependencies;if(S!==null){var M=_.child;S=S.firstContext;e:for(;S!==null;){var N=S;S=_;for(var V=0;V<u.length;V++)if(N.context===u[V]){S.lanes|=h,N=S.alternate,N!==null&&(N.lanes|=h),z_(S.return,h,l),g||(M=null);break e}S=N.next}}else if(_.tag===18){if(M=_.return,M===null)throw Error(r(341));M.lanes|=h,S=M.alternate,S!==null&&(S.lanes|=h),z_(M,h,l),M=null}else M=_.child;if(M!==null)M.return=_;else for(M=_;M!==null;){if(M===l){M=null;break}if(_=M.sibling,_!==null){_.return=M.return,M=_;break}M=M.return}_=M}}function mu(l,u,h,g){l=null;for(var _=u,S=!1;_!==null;){if(!S){if((_.flags&524288)!==0)S=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var M=_.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var N=_.type;ti(_.pendingProps.value,M.value)||(l!==null?l.push(N):l=[N])}}else if(_===Ee.current){if(M=_.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(l!==null?l.push(hh):l=[hh])}_=_.return}l!==null&&V_(u,l,h,g),u.flags|=262144}function ym(l){for(l=l.firstContext;l!==null;){if(!ti(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Il(l){Ml=l,bs=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ar(l){return fM(Ml,l)}function vm(l,u){return Ml===null&&Il(l),fM(l,u)}function fM(l,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},bs===null){if(l===null)throw Error(r(308));bs=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else bs=bs.next=u;return h}var fG=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(h,g){l.push(g)}};this.abort=function(){u.aborted=!0,l.forEach(function(h){return h()})}},dG=t.unstable_scheduleCallback,hG=t.unstable_NormalPriority,_n={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function H_(){return{controller:new fG,data:new Map,refCount:0}}function $d(l){l.refCount--,l.refCount===0&&dG(hG,function(){l.controller.abort()})}var zd=null,W_=0,yu=0,vu=null;function pG(l,u){if(zd===null){var h=zd=[];W_=0,yu=K1(),vu={status:"pending",value:void 0,then:function(g){h.push(g)}}}return W_++,u.then(dM,dM),u}function dM(){if(--W_===0&&zd!==null){vu!==null&&(vu.status="fulfilled");var l=zd;zd=null,yu=0,vu=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function gG(l,u){var h=[],g={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return l.then(function(){g.status="fulfilled",g.value=u;for(var _=0;_<h.length;_++)(0,h[_])(u)},function(_){for(g.status="rejected",g.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),g}var hM=z.S;z.S=function(l,u){GI=rn(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&pG(l,u),hM!==null&&hM(l,u)};var kl=F(null);function q_(){var l=kl.current;return l!==null?l:kt.pooledCache}function bm(l,u){u===null?ye(kl,kl.current):ye(kl,u.pool)}function pM(){var l=q_();return l===null?null:{parent:_n._currentValue,pool:l}}var bu=Error(r(460)),X_=Error(r(474)),xm=Error(r(542)),_m={then:function(){}};function gM(l){return l=l.status,l==="fulfilled"||l==="rejected"}function mM(l,u,h){switch(h=l[h],h===void 0?l.push(u):h!==u&&(u.then(gs,gs),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,vM(l),l;default:if(typeof u.status=="string")u.then(gs,gs);else{if(l=kt,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(g){if(u.status==="pending"){var _=u;_.status="fulfilled",_.value=g}},function(g){if(u.status==="pending"){var _=u;_.status="rejected",_.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,vM(l),l}throw Dl=u,bu}}function Nl(l){try{var u=l._init;return u(l._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Dl=h,bu):h}}var Dl=null;function yM(){if(Dl===null)throw Error(r(459));var l=Dl;return Dl=null,l}function vM(l){if(l===bu||l===xm)throw Error(r(483))}var xu=null,Vd=0;function wm(l){var u=Vd;return Vd+=1,xu===null&&(xu=[]),mM(xu,l,u)}function Hd(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Sm(l,u){throw u.$$typeof===m?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function bM(l){function u(Z,X){if(l){var ne=Z.deletions;ne===null?(Z.deletions=[X],Z.flags|=16):ne.push(X)}}function h(Z,X){if(!l)return null;for(;X!==null;)u(Z,X),X=X.sibling;return null}function g(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function _(Z,X){return Z=ys(Z,X),Z.index=0,Z.sibling=null,Z}function S(Z,X,ne){return Z.index=ne,l?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<X?(Z.flags|=67108866,X):ne):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function M(Z){return l&&Z.alternate===null&&(Z.flags|=67108866),Z}function N(Z,X,ne,he){return X===null||X.tag!==6?(X=D_(ne,Z.mode,he),X.return=Z,X):(X=_(X,ne),X.return=Z,X)}function V(Z,X,ne,he){var Ie=ne.type;return Ie===b?fe(Z,X,ne.props.children,he,ne.key):X!==null&&(X.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===D&&Nl(Ie)===X.type)?(X=_(X,ne.props),Hd(X,ne),X.return=Z,X):(X=gm(ne.type,ne.key,ne.props,null,Z.mode,he),Hd(X,ne),X.return=Z,X)}function re(Z,X,ne,he){return X===null||X.tag!==4||X.stateNode.containerInfo!==ne.containerInfo||X.stateNode.implementation!==ne.implementation?(X=B_(ne,Z.mode,he),X.return=Z,X):(X=_(X,ne.children||[]),X.return=Z,X)}function fe(Z,X,ne,he,Ie){return X===null||X.tag!==7?(X=Rl(ne,Z.mode,he,Ie),X.return=Z,X):(X=_(X,ne),X.return=Z,X)}function ge(Z,X,ne){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=D_(""+X,Z.mode,ne),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case y:return ne=gm(X.type,X.key,X.props,null,Z.mode,ne),Hd(ne,X),ne.return=Z,ne;case v:return X=B_(X,Z.mode,ne),X.return=Z,X;case D:return X=Nl(X),ge(Z,X,ne)}if(J(X)||I(X))return X=Rl(X,Z.mode,ne,null),X.return=Z,X;if(typeof X.then=="function")return ge(Z,wm(X),ne);if(X.$$typeof===A)return ge(Z,vm(Z,X),ne);Sm(Z,X)}return null}function ie(Z,X,ne,he){var Ie=X!==null?X.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Ie!==null?null:N(Z,X,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case y:return ne.key===Ie?V(Z,X,ne,he):null;case v:return ne.key===Ie?re(Z,X,ne,he):null;case D:return ne=Nl(ne),ie(Z,X,ne,he)}if(J(ne)||I(ne))return Ie!==null?null:fe(Z,X,ne,he,null);if(typeof ne.then=="function")return ie(Z,X,wm(ne),he);if(ne.$$typeof===A)return ie(Z,X,vm(Z,ne),he);Sm(Z,ne)}return null}function ce(Z,X,ne,he,Ie){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Z=Z.get(ne)||null,N(X,Z,""+he,Ie);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case y:return Z=Z.get(he.key===null?ne:he.key)||null,V(X,Z,he,Ie);case v:return Z=Z.get(he.key===null?ne:he.key)||null,re(X,Z,he,Ie);case D:return he=Nl(he),ce(Z,X,ne,he,Ie)}if(J(he)||I(he))return Z=Z.get(ne)||null,fe(X,Z,he,Ie,null);if(typeof he.then=="function")return ce(Z,X,ne,wm(he),Ie);if(he.$$typeof===A)return ce(Z,X,ne,vm(X,he),Ie);Sm(X,he)}return null}function Re(Z,X,ne,he){for(var Ie=null,nt=null,Oe=X,qe=X=0,Qe=null;Oe!==null&&qe<ne.length;qe++){Oe.index>qe?(Qe=Oe,Oe=null):Qe=Oe.sibling;var rt=ie(Z,Oe,ne[qe],he);if(rt===null){Oe===null&&(Oe=Qe);break}l&&Oe&&rt.alternate===null&&u(Z,Oe),X=S(rt,X,qe),nt===null?Ie=rt:nt.sibling=rt,nt=rt,Oe=Qe}if(qe===ne.length)return h(Z,Oe),Je&&vs(Z,qe),Ie;if(Oe===null){for(;qe<ne.length;qe++)Oe=ge(Z,ne[qe],he),Oe!==null&&(X=S(Oe,X,qe),nt===null?Ie=Oe:nt.sibling=Oe,nt=Oe);return Je&&vs(Z,qe),Ie}for(Oe=g(Oe);qe<ne.length;qe++)Qe=ce(Oe,Z,qe,ne[qe],he),Qe!==null&&(l&&Qe.alternate!==null&&Oe.delete(Qe.key===null?qe:Qe.key),X=S(Qe,X,qe),nt===null?Ie=Qe:nt.sibling=Qe,nt=Qe);return l&&Oe.forEach(function(Fo){return u(Z,Fo)}),Je&&vs(Z,qe),Ie}function Ne(Z,X,ne,he){if(ne==null)throw Error(r(151));for(var Ie=null,nt=null,Oe=X,qe=X=0,Qe=null,rt=ne.next();Oe!==null&&!rt.done;qe++,rt=ne.next()){Oe.index>qe?(Qe=Oe,Oe=null):Qe=Oe.sibling;var Fo=ie(Z,Oe,rt.value,he);if(Fo===null){Oe===null&&(Oe=Qe);break}l&&Oe&&Fo.alternate===null&&u(Z,Oe),X=S(Fo,X,qe),nt===null?Ie=Fo:nt.sibling=Fo,nt=Fo,Oe=Qe}if(rt.done)return h(Z,Oe),Je&&vs(Z,qe),Ie;if(Oe===null){for(;!rt.done;qe++,rt=ne.next())rt=ge(Z,rt.value,he),rt!==null&&(X=S(rt,X,qe),nt===null?Ie=rt:nt.sibling=rt,nt=rt);return Je&&vs(Z,qe),Ie}for(Oe=g(Oe);!rt.done;qe++,rt=ne.next())rt=ce(Oe,Z,qe,rt.value,he),rt!==null&&(l&&rt.alternate!==null&&Oe.delete(rt.key===null?qe:rt.key),X=S(rt,X,qe),nt===null?Ie=rt:nt.sibling=rt,nt=rt);return l&&Oe.forEach(function(EZ){return u(Z,EZ)}),Je&&vs(Z,qe),Ie}function St(Z,X,ne,he){if(typeof ne=="object"&&ne!==null&&ne.type===b&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case y:e:{for(var Ie=ne.key;X!==null;){if(X.key===Ie){if(Ie=ne.type,Ie===b){if(X.tag===7){h(Z,X.sibling),he=_(X,ne.props.children),he.return=Z,Z=he;break e}}else if(X.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===D&&Nl(Ie)===X.type){h(Z,X.sibling),he=_(X,ne.props),Hd(he,ne),he.return=Z,Z=he;break e}h(Z,X);break}else u(Z,X);X=X.sibling}ne.type===b?(he=Rl(ne.props.children,Z.mode,he,ne.key),he.return=Z,Z=he):(he=gm(ne.type,ne.key,ne.props,null,Z.mode,he),Hd(he,ne),he.return=Z,Z=he)}return M(Z);case v:e:{for(Ie=ne.key;X!==null;){if(X.key===Ie)if(X.tag===4&&X.stateNode.containerInfo===ne.containerInfo&&X.stateNode.implementation===ne.implementation){h(Z,X.sibling),he=_(X,ne.children||[]),he.return=Z,Z=he;break e}else{h(Z,X);break}else u(Z,X);X=X.sibling}he=B_(ne,Z.mode,he),he.return=Z,Z=he}return M(Z);case D:return ne=Nl(ne),St(Z,X,ne,he)}if(J(ne))return Re(Z,X,ne,he);if(I(ne)){if(Ie=I(ne),typeof Ie!="function")throw Error(r(150));return ne=Ie.call(ne),Ne(Z,X,ne,he)}if(typeof ne.then=="function")return St(Z,X,wm(ne),he);if(ne.$$typeof===A)return St(Z,X,vm(Z,ne),he);Sm(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,X!==null&&X.tag===6?(h(Z,X.sibling),he=_(X,ne),he.return=Z,Z=he):(h(Z,X),he=D_(ne,Z.mode,he),he.return=Z,Z=he),M(Z)):h(Z,X)}return function(Z,X,ne,he){try{Vd=0;var Ie=St(Z,X,ne,he);return xu=null,Ie}catch(Oe){if(Oe===bu||Oe===xm)throw Oe;var nt=ni(29,Oe,null,Z.mode);return nt.lanes=he,nt.return=Z,nt}finally{}}}var Bl=bM(!0),xM=bM(!1),So=!1;function K_(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Y_(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function To(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Ao(l,u,h){var g=l.updateQueue;if(g===null)return null;if(g=g.shared,(st&2)!==0){var _=g.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),g.pending=u,u=pm(l),rM(l,null,h),u}return hm(l,g,u,h),pm(l)}function Wd(l,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var g=u.lanes;g&=l.pendingLanes,h|=g,u.lanes=h,fO(l,h)}}function G_(l,u){var h=l.updateQueue,g=l.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var _=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var M={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?_=S=M:S=S.next=M,h=h.next}while(h!==null);S===null?_=S=u:S=S.next=u}else _=S=u;h={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=u}var Z_=!1;function qd(){if(Z_){var l=vu;if(l!==null)throw l}}function Xd(l,u,h,g){Z_=!1;var _=l.updateQueue;So=!1;var S=_.firstBaseUpdate,M=_.lastBaseUpdate,N=_.shared.pending;if(N!==null){_.shared.pending=null;var V=N,re=V.next;V.next=null,M===null?S=re:M.next=re,M=V;var fe=l.alternate;fe!==null&&(fe=fe.updateQueue,N=fe.lastBaseUpdate,N!==M&&(N===null?fe.firstBaseUpdate=re:N.next=re,fe.lastBaseUpdate=V))}if(S!==null){var ge=_.baseState;M=0,fe=re=V=null,N=S;do{var ie=N.lane&-536870913,ce=ie!==N.lane;if(ce?(Ze&ie)===ie:(g&ie)===ie){ie!==0&&ie===yu&&(Z_=!0),fe!==null&&(fe=fe.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Re=l,Ne=N;ie=u;var St=h;switch(Ne.tag){case 1:if(Re=Ne.payload,typeof Re=="function"){ge=Re.call(St,ge,ie);break e}ge=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ne.payload,ie=typeof Re=="function"?Re.call(St,ge,ie):Re,ie==null)break e;ge=p({},ge,ie);break e;case 2:So=!0}}ie=N.callback,ie!==null&&(l.flags|=64,ce&&(l.flags|=8192),ce=_.callbacks,ce===null?_.callbacks=[ie]:ce.push(ie))}else ce={lane:ie,tag:N.tag,payload:N.payload,callback:N.callback,next:null},fe===null?(re=fe=ce,V=ge):fe=fe.next=ce,M|=ie;if(N=N.next,N===null){if(N=_.shared.pending,N===null)break;ce=N,N=ce.next,ce.next=null,_.lastBaseUpdate=ce,_.shared.pending=null}}while(!0);fe===null&&(V=ge),_.baseState=V,_.firstBaseUpdate=re,_.lastBaseUpdate=fe,S===null&&(_.shared.lanes=0),Oo|=M,l.lanes=M,l.memoizedState=ge}}function _M(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function wM(l,u){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)_M(h[l],u)}var _u=F(null),Tm=F(0);function SM(l,u){l=Rs,ye(Tm,l),ye(_u,u),Rs=l|u.baseLanes}function Q_(){ye(Tm,Rs),ye(_u,_u.current)}function J_(){Rs=Tm.current,ee(_u),ee(Tm)}var ri=F(null),Ii=null;function Eo(l){var u=l.alternate;ye(gn,gn.current&1),ye(ri,l),Ii===null&&(u===null||_u.current!==null||u.memoizedState!==null)&&(Ii=l)}function e1(l){ye(gn,gn.current),ye(ri,l),Ii===null&&(Ii=l)}function TM(l){l.tag===22?(ye(gn,gn.current),ye(ri,l),Ii===null&&(Ii=l)):Co()}function Co(){ye(gn,gn.current),ye(ri,ri.current)}function ii(l){ee(ri),Ii===l&&(Ii=null),ee(gn)}var gn=F(0);function Am(l){for(var u=l;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||sw(h)||ow(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var _s=0,He=null,_t=null,wn=null,Em=!1,wu=!1,Ll=!1,Cm=0,Kd=0,Su=null,mG=0;function sn(){throw Error(r(321))}function t1(l,u){if(u===null)return!1;for(var h=0;h<u.length&&h<l.length;h++)if(!ti(l[h],u[h]))return!1;return!0}function n1(l,u,h,g,_,S){return _s=S,He=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,z.H=l===null||l.memoizedState===null?oI:y1,Ll=!1,S=h(g,_),Ll=!1,wu&&(S=EM(u,h,g,_)),AM(l),S}function AM(l){z.H=Zd;var u=_t!==null&&_t.next!==null;if(_s=0,wn=_t=He=null,Em=!1,Kd=0,Su=null,u)throw Error(r(300));l===null||Sn||(l=l.dependencies,l!==null&&ym(l)&&(Sn=!0))}function EM(l,u,h,g){He=l;var _=0;do{if(wu&&(Su=null),Kd=0,wu=!1,25<=_)throw Error(r(301));if(_+=1,wn=_t=null,l.updateQueue!=null){var S=l.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}z.H=lI,S=u(h,g)}while(wu);return S}function yG(){var l=z.H,u=l.useState()[0];return u=typeof u.then=="function"?Yd(u):u,l=l.useState()[0],(_t!==null?_t.memoizedState:null)!==l&&(He.flags|=1024),u}function r1(){var l=Cm!==0;return Cm=0,l}function i1(l,u,h){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~h}function a1(l){if(Em){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Em=!1}_s=0,wn=_t=He=null,wu=!1,Kd=Cm=0,Su=null}function Pr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?He.memoizedState=wn=l:wn=wn.next=l,wn}function mn(){if(_t===null){var l=He.alternate;l=l!==null?l.memoizedState:null}else l=_t.next;var u=wn===null?He.memoizedState:wn.next;if(u!==null)wn=u,_t=l;else{if(l===null)throw He.alternate===null?Error(r(467)):Error(r(310));_t=l,l={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},wn===null?He.memoizedState=wn=l:wn=wn.next=l}return wn}function Pm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yd(l){var u=Kd;return Kd+=1,Su===null&&(Su=[]),l=mM(Su,l,u),u=He,(wn===null?u.memoizedState:wn.next)===null&&(u=u.alternate,z.H=u===null||u.memoizedState===null?oI:y1),l}function Rm(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Yd(l);if(l.$$typeof===A)return ar(l)}throw Error(r(438,String(l)))}function s1(l){var u=null,h=He.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var g=He.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(_){return _.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=Pm(),He.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(l),g=0;g<l;g++)h[g]=$;return u.index++,h}function ws(l,u){return typeof u=="function"?u(l):u}function Om(l){var u=mn();return o1(u,_t,l)}function o1(l,u,h){var g=l.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var _=l.baseQueue,S=g.pending;if(S!==null){if(_!==null){var M=_.next;_.next=S.next,S.next=M}u.baseQueue=_=S,g.pending=null}if(S=l.baseState,_===null)l.memoizedState=S;else{u=_.next;var N=M=null,V=null,re=u,fe=!1;do{var ge=re.lane&-536870913;if(ge!==re.lane?(Ze&ge)===ge:(_s&ge)===ge){var ie=re.revertLane;if(ie===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),ge===yu&&(fe=!0);else if((_s&ie)===ie){re=re.next,ie===yu&&(fe=!0);continue}else ge={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},V===null?(N=V=ge,M=S):V=V.next=ge,He.lanes|=ie,Oo|=ie;ge=re.action,Ll&&h(S,ge),S=re.hasEagerState?re.eagerState:h(S,ge)}else ie={lane:ge,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},V===null?(N=V=ie,M=S):V=V.next=ie,He.lanes|=ge,Oo|=ge;re=re.next}while(re!==null&&re!==u);if(V===null?M=S:V.next=N,!ti(S,l.memoizedState)&&(Sn=!0,fe&&(h=vu,h!==null)))throw h;l.memoizedState=S,l.baseState=M,l.baseQueue=V,g.lastRenderedState=S}return _===null&&(g.lanes=0),[l.memoizedState,g.dispatch]}function l1(l){var u=mn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=h.dispatch,_=h.pending,S=u.memoizedState;if(_!==null){h.pending=null;var M=_=_.next;do S=l(S,M.action),M=M.next;while(M!==_);ti(S,u.memoizedState)||(Sn=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),h.lastRenderedState=S}return[S,g]}function CM(l,u,h){var g=He,_=mn(),S=Je;if(S){if(h===void 0)throw Error(r(407));h=h()}else h=u();var M=!ti((_t||_).memoizedState,h);if(M&&(_.memoizedState=h,Sn=!0),_=_.queue,f1(OM.bind(null,g,_,l),[l]),_.getSnapshot!==u||M||wn!==null&&wn.memoizedState.tag&1){if(g.flags|=2048,Tu(9,{destroy:void 0},RM.bind(null,g,_,h,u),null),kt===null)throw Error(r(349));S||(_s&127)!==0||PM(g,u,h)}return h}function PM(l,u,h){l.flags|=16384,l={getSnapshot:u,value:h},u=He.updateQueue,u===null?(u=Pm(),He.updateQueue=u,u.stores=[l]):(h=u.stores,h===null?u.stores=[l]:h.push(l))}function RM(l,u,h,g){u.value=h,u.getSnapshot=g,MM(u)&&IM(l)}function OM(l,u,h){return h(function(){MM(u)&&IM(l)})}function MM(l){var u=l.getSnapshot;l=l.value;try{var h=u();return!ti(l,h)}catch{return!0}}function IM(l){var u=Pl(l,2);u!==null&&zr(u,l,2)}function c1(l){var u=Pr();if(typeof l=="function"){var h=l;if(l=h(),Ll){Ma(!0);try{h()}finally{Ma(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:l},u}function kM(l,u,h,g){return l.baseState=h,o1(l,_t,typeof g=="function"?g:ws)}function vG(l,u,h,g,_){if(km(l))throw Error(r(485));if(l=u.action,l!==null){var S={payload:_,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){S.listeners.push(M)}};z.T!==null?h(!0):S.isTransition=!1,g(S),h=u.pending,h===null?(S.next=u.pending=S,NM(u,S)):(S.next=h.next,u.pending=h.next=S)}}function NM(l,u){var h=u.action,g=u.payload,_=l.state;if(u.isTransition){var S=z.T,M={};z.T=M;try{var N=h(_,g),V=z.S;V!==null&&V(M,N),DM(l,u,N)}catch(re){u1(l,u,re)}finally{S!==null&&M.types!==null&&(S.types=M.types),z.T=S}}else try{S=h(_,g),DM(l,u,S)}catch(re){u1(l,u,re)}}function DM(l,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){BM(l,u,g)},function(g){return u1(l,u,g)}):BM(l,u,h)}function BM(l,u,h){u.status="fulfilled",u.value=h,LM(u),l.state=h,u=l.pending,u!==null&&(h=u.next,h===u?l.pending=null:(h=h.next,u.next=h,NM(l,h)))}function u1(l,u,h){var g=l.pending;if(l.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=h,LM(u),u=u.next;while(u!==g)}l.action=null}function LM(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function jM(l,u){return u}function UM(l,u){if(Je){var h=kt.formState;if(h!==null){e:{var g=He;if(Je){if(Ut){t:{for(var _=Ut,S=Mi;_.nodeType!==8;){if(!S){_=null;break t}if(_=ki(_.nextSibling),_===null){_=null;break t}}S=_.data,_=S==="F!"||S==="F"?_:null}if(_){Ut=ki(_.nextSibling),g=_.data==="F!";break e}}_o(g)}g=!1}g&&(u=h[0])}}return h=Pr(),h.memoizedState=h.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jM,lastRenderedState:u},h.queue=g,h=iI.bind(null,He,g),g.dispatch=h,g=c1(!1),S=m1.bind(null,He,!1,g.queue),g=Pr(),_={state:u,dispatch:null,action:l,pending:null},g.queue=_,h=vG.bind(null,He,_,S,h),_.dispatch=h,g.memoizedState=l,[u,h,!1]}function FM(l){var u=mn();return $M(u,_t,l)}function $M(l,u,h){if(u=o1(l,u,jM)[0],l=Om(ws)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=Yd(u)}catch(M){throw M===bu?xm:M}else g=u;u=mn();var _=u.queue,S=_.dispatch;return h!==u.memoizedState&&(He.flags|=2048,Tu(9,{destroy:void 0},bG.bind(null,_,h),null)),[g,S,l]}function bG(l,u){l.action=u}function zM(l){var u=mn(),h=_t;if(h!==null)return $M(u,h,l);mn(),u=u.memoizedState,h=mn();var g=h.queue.dispatch;return h.memoizedState=l,[u,g,!1]}function Tu(l,u,h,g){return l={tag:l,create:h,deps:g,inst:u,next:null},u=He.updateQueue,u===null&&(u=Pm(),He.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=l.next=l:(g=h.next,h.next=l,l.next=g,u.lastEffect=l),l}function VM(){return mn().memoizedState}function Mm(l,u,h,g){var _=Pr();He.flags|=l,_.memoizedState=Tu(1|u,{destroy:void 0},h,g===void 0?null:g)}function Im(l,u,h,g){var _=mn();g=g===void 0?null:g;var S=_.memoizedState.inst;_t!==null&&g!==null&&t1(g,_t.memoizedState.deps)?_.memoizedState=Tu(u,S,h,g):(He.flags|=l,_.memoizedState=Tu(1|u,S,h,g))}function HM(l,u){Mm(8390656,8,l,u)}function f1(l,u){Im(2048,8,l,u)}function xG(l){He.flags|=4;var u=He.updateQueue;if(u===null)u=Pm(),He.updateQueue=u,u.events=[l];else{var h=u.events;h===null?u.events=[l]:h.push(l)}}function WM(l){var u=mn().memoizedState;return xG({ref:u,nextImpl:l}),function(){if((st&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function qM(l,u){return Im(4,2,l,u)}function XM(l,u){return Im(4,4,l,u)}function KM(l,u){if(typeof u=="function"){l=l();var h=u(l);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function YM(l,u,h){h=h!=null?h.concat([l]):null,Im(4,4,KM.bind(null,u,l),h)}function d1(){}function GM(l,u){var h=mn();u=u===void 0?null:u;var g=h.memoizedState;return u!==null&&t1(u,g[1])?g[0]:(h.memoizedState=[l,u],l)}function ZM(l,u){var h=mn();u=u===void 0?null:u;var g=h.memoizedState;if(u!==null&&t1(u,g[1]))return g[0];if(g=l(),Ll){Ma(!0);try{l()}finally{Ma(!1)}}return h.memoizedState=[g,u],g}function h1(l,u,h){return h===void 0||(_s&1073741824)!==0&&(Ze&261930)===0?l.memoizedState=u:(l.memoizedState=h,l=QI(),He.lanes|=l,Oo|=l,h)}function QM(l,u,h,g){return ti(h,u)?h:_u.current!==null?(l=h1(l,h,g),ti(l,u)||(Sn=!0),l):(_s&42)===0||(_s&1073741824)!==0&&(Ze&261930)===0?(Sn=!0,l.memoizedState=h):(l=QI(),He.lanes|=l,Oo|=l,u)}function JM(l,u,h,g,_){var S=q.p;q.p=S!==0&&8>S?S:8;var M=z.T,N={};z.T=N,m1(l,!1,u,h);try{var V=_(),re=z.S;if(re!==null&&re(N,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var fe=gG(V,g);Gd(l,u,fe,oi(l))}else Gd(l,u,g,oi(l))}catch(ge){Gd(l,u,{then:function(){},status:"rejected",reason:ge},oi())}finally{q.p=S,M!==null&&N.types!==null&&(M.types=N.types),z.T=M}}function _G(){}function p1(l,u,h,g){if(l.tag!==5)throw Error(r(476));var _=eI(l).queue;JM(l,_,u,se,h===null?_G:function(){return tI(l),h(g)})}function eI(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:se},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:h},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function tI(l){var u=eI(l);u.next===null&&(u=l.alternate.memoizedState),Gd(l,u.next.queue,{},oi())}function g1(){return ar(hh)}function nI(){return mn().memoizedState}function rI(){return mn().memoizedState}function wG(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var h=oi();l=To(h);var g=Ao(u,l,h);g!==null&&(zr(g,u,h),Wd(g,u,h)),u={cache:H_()},l.payload=u;return}u=u.return}}function SG(l,u,h){var g=oi();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},km(l)?aI(u,h):(h=k_(l,u,h,g),h!==null&&(zr(h,l,g),sI(h,u,g)))}function iI(l,u,h){var g=oi();Gd(l,u,h,g)}function Gd(l,u,h,g){var _={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(km(l))aI(u,_);else{var S=l.alternate;if(l.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var M=u.lastRenderedState,N=S(M,h);if(_.hasEagerState=!0,_.eagerState=N,ti(N,M))return hm(l,u,_,0),kt===null&&dm(),!1}catch{}finally{}if(h=k_(l,u,_,g),h!==null)return zr(h,l,g),sI(h,u,g),!0}return!1}function m1(l,u,h,g){if(g={lane:2,revertLane:K1(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},km(l)){if(u)throw Error(r(479))}else u=k_(l,h,g,2),u!==null&&zr(u,l,2)}function km(l){var u=l.alternate;return l===He||u!==null&&u===He}function aI(l,u){wu=Em=!0;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}function sI(l,u,h){if((h&4194048)!==0){var g=u.lanes;g&=l.pendingLanes,h|=g,u.lanes=h,fO(l,h)}}var Zd={readContext:ar,use:Rm,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn};Zd.useEffectEvent=sn;var oI={readContext:ar,use:Rm,useCallback:function(l,u){return Pr().memoizedState=[l,u===void 0?null:u],l},useContext:ar,useEffect:HM,useImperativeHandle:function(l,u,h){h=h!=null?h.concat([l]):null,Mm(4194308,4,KM.bind(null,u,l),h)},useLayoutEffect:function(l,u){return Mm(4194308,4,l,u)},useInsertionEffect:function(l,u){Mm(4,2,l,u)},useMemo:function(l,u){var h=Pr();u=u===void 0?null:u;var g=l();if(Ll){Ma(!0);try{l()}finally{Ma(!1)}}return h.memoizedState=[g,u],g},useReducer:function(l,u,h){var g=Pr();if(h!==void 0){var _=h(u);if(Ll){Ma(!0);try{h(u)}finally{Ma(!1)}}}else _=u;return g.memoizedState=g.baseState=_,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:_},g.queue=l,l=l.dispatch=SG.bind(null,He,l),[g.memoizedState,l]},useRef:function(l){var u=Pr();return l={current:l},u.memoizedState=l},useState:function(l){l=c1(l);var u=l.queue,h=iI.bind(null,He,u);return u.dispatch=h,[l.memoizedState,h]},useDebugValue:d1,useDeferredValue:function(l,u){var h=Pr();return h1(h,l,u)},useTransition:function(){var l=c1(!1);return l=JM.bind(null,He,l.queue,!0,!1),Pr().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,h){var g=He,_=Pr();if(Je){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),kt===null)throw Error(r(349));(Ze&127)!==0||PM(g,u,h)}_.memoizedState=h;var S={value:h,getSnapshot:u};return _.queue=S,HM(OM.bind(null,g,S,l),[l]),g.flags|=2048,Tu(9,{destroy:void 0},RM.bind(null,g,S,h,u),null),h},useId:function(){var l=Pr(),u=kt.identifierPrefix;if(Je){var h=ka,g=Ia;h=(g&~(1<<32-nr(g)-1)).toString(32)+h,u="_"+u+"R_"+h,h=Cm++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=mG++,u="_"+u+"r_"+h.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:g1,useFormState:UM,useActionState:UM,useOptimistic:function(l){var u=Pr();u.memoizedState=u.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=m1.bind(null,He,!0,h),h.dispatch=u,[l,u]},useMemoCache:s1,useCacheRefresh:function(){return Pr().memoizedState=wG.bind(null,He)},useEffectEvent:function(l){var u=Pr(),h={impl:l};return u.memoizedState=h,function(){if((st&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},y1={readContext:ar,use:Rm,useCallback:GM,useContext:ar,useEffect:f1,useImperativeHandle:YM,useInsertionEffect:qM,useLayoutEffect:XM,useMemo:ZM,useReducer:Om,useRef:VM,useState:function(){return Om(ws)},useDebugValue:d1,useDeferredValue:function(l,u){var h=mn();return QM(h,_t.memoizedState,l,u)},useTransition:function(){var l=Om(ws)[0],u=mn().memoizedState;return[typeof l=="boolean"?l:Yd(l),u]},useSyncExternalStore:CM,useId:nI,useHostTransitionStatus:g1,useFormState:FM,useActionState:FM,useOptimistic:function(l,u){var h=mn();return kM(h,_t,l,u)},useMemoCache:s1,useCacheRefresh:rI};y1.useEffectEvent=WM;var lI={readContext:ar,use:Rm,useCallback:GM,useContext:ar,useEffect:f1,useImperativeHandle:YM,useInsertionEffect:qM,useLayoutEffect:XM,useMemo:ZM,useReducer:l1,useRef:VM,useState:function(){return l1(ws)},useDebugValue:d1,useDeferredValue:function(l,u){var h=mn();return _t===null?h1(h,l,u):QM(h,_t.memoizedState,l,u)},useTransition:function(){var l=l1(ws)[0],u=mn().memoizedState;return[typeof l=="boolean"?l:Yd(l),u]},useSyncExternalStore:CM,useId:nI,useHostTransitionStatus:g1,useFormState:zM,useActionState:zM,useOptimistic:function(l,u){var h=mn();return _t!==null?kM(h,_t,l,u):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:s1,useCacheRefresh:rI};lI.useEffectEvent=WM;function v1(l,u,h,g){u=l.memoizedState,h=h(g,u),h=h==null?u:p({},u,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var b1={enqueueSetState:function(l,u,h){l=l._reactInternals;var g=oi(),_=To(g);_.payload=u,h!=null&&(_.callback=h),u=Ao(l,_,g),u!==null&&(zr(u,l,g),Wd(u,l,g))},enqueueReplaceState:function(l,u,h){l=l._reactInternals;var g=oi(),_=To(g);_.tag=1,_.payload=u,h!=null&&(_.callback=h),u=Ao(l,_,g),u!==null&&(zr(u,l,g),Wd(u,l,g))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var h=oi(),g=To(h);g.tag=2,u!=null&&(g.callback=u),u=Ao(l,g,h),u!==null&&(zr(u,l,h),Wd(u,l,h))}};function cI(l,u,h,g,_,S,M){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(g,S,M):u.prototype&&u.prototype.isPureReactComponent?!Ld(h,g)||!Ld(_,S):!0}function uI(l,u,h,g){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==l&&b1.enqueueReplaceState(u,u.state,null)}function jl(l,u){var h=u;if("ref"in u){h={};for(var g in u)g!=="ref"&&(h[g]=u[g])}if(l=l.defaultProps){h===u&&(h=p({},h));for(var _ in l)h[_]===void 0&&(h[_]=l[_])}return h}function fI(l){fm(l)}function dI(l){console.error(l)}function hI(l){fm(l)}function Nm(l,u){try{var h=l.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function pI(l,u,h){try{var g=l.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function x1(l,u,h){return h=To(h),h.tag=3,h.payload={element:null},h.callback=function(){Nm(l,u)},h}function gI(l){return l=To(l),l.tag=3,l}function mI(l,u,h,g){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var S=g.value;l.payload=function(){return _(S)},l.callback=function(){pI(u,h,g)}}var M=h.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(l.callback=function(){pI(u,h,g),typeof _!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var N=g.stack;this.componentDidCatch(g.value,{componentStack:N!==null?N:""})})}function TG(l,u,h,g,_){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=h.alternate,u!==null&&mu(u,h,_,!0),h=ri.current,h!==null){switch(h.tag){case 31:case 13:return Ii===null?qm():h.alternate===null&&on===0&&(on=3),h.flags&=-257,h.flags|=65536,h.lanes=_,g===_m?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([g]):u.add(g),W1(l,g,_)),!1;case 22:return h.flags|=65536,g===_m?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([g]):h.add(g)),W1(l,g,_)),!1}throw Error(r(435,h.tag))}return W1(l,g,_),qm(),!1}if(Je)return u=ri.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=_,g!==U_&&(l=Error(r(422),{cause:g}),Fd(Pi(l,h)))):(g!==U_&&(u=Error(r(423),{cause:g}),Fd(Pi(u,h))),l=l.current.alternate,l.flags|=65536,_&=-_,l.lanes|=_,g=Pi(g,h),_=x1(l.stateNode,g,_),G_(l,_),on!==4&&(on=2)),!1;var S=Error(r(520),{cause:g});if(S=Pi(S,h),ah===null?ah=[S]:ah.push(S),on!==4&&(on=2),u===null)return!0;g=Pi(g,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,l=_&-_,h.lanes|=l,l=x1(h.stateNode,g,l),G_(h,l),!1;case 1:if(u=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Mo===null||!Mo.has(S))))return h.flags|=65536,_&=-_,h.lanes|=_,_=gI(_),mI(_,l,h,g),G_(h,_),!1}h=h.return}while(h!==null);return!1}var _1=Error(r(461)),Sn=!1;function sr(l,u,h,g){u.child=l===null?xM(u,null,h,g):Bl(u,l.child,h,g)}function yI(l,u,h,g,_){h=h.render;var S=u.ref;if("ref"in g){var M={};for(var N in g)N!=="ref"&&(M[N]=g[N])}else M=g;return Il(u),g=n1(l,u,h,M,S,_),N=r1(),l!==null&&!Sn?(i1(l,u,_),Ss(l,u,_)):(Je&&N&&L_(u),u.flags|=1,sr(l,u,g,_),u.child)}function vI(l,u,h,g,_){if(l===null){var S=h.type;return typeof S=="function"&&!N_(S)&&S.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=S,bI(l,u,S,g,_)):(l=gm(h.type,null,g,u,u.mode,_),l.ref=u.ref,l.return=u,u.child=l)}if(S=l.child,!R1(l,_)){var M=S.memoizedProps;if(h=h.compare,h=h!==null?h:Ld,h(M,g)&&l.ref===u.ref)return Ss(l,u,_)}return u.flags|=1,l=ys(S,g),l.ref=u.ref,l.return=u,u.child=l}function bI(l,u,h,g,_){if(l!==null){var S=l.memoizedProps;if(Ld(S,g)&&l.ref===u.ref)if(Sn=!1,u.pendingProps=g=S,R1(l,_))(l.flags&131072)!==0&&(Sn=!0);else return u.lanes=l.lanes,Ss(l,u,_)}return w1(l,u,h,g,_)}function xI(l,u,h,g){var _=g.children,S=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(S=S!==null?S.baseLanes|h:h,l!==null){for(g=u.child=l.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;g=_&~S}else g=0,u.child=null;return _I(l,u,S,h,g)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&bm(u,S!==null?S.cachePool:null),S!==null?SM(u,S):Q_(),TM(u);else return g=u.lanes=536870912,_I(l,u,S!==null?S.baseLanes|h:h,h,g)}else S!==null?(bm(u,S.cachePool),SM(u,S),Co(),u.memoizedState=null):(l!==null&&bm(u,null),Q_(),Co());return sr(l,u,_,h),u.child}function Qd(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function _I(l,u,h,g,_){var S=q_();return S=S===null?null:{parent:_n._currentValue,pool:S},u.memoizedState={baseLanes:h,cachePool:S},l!==null&&bm(u,null),Q_(),TM(u),l!==null&&mu(l,u,g,!0),u.childLanes=_,null}function Dm(l,u){return u=Lm({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function wI(l,u,h){return Bl(u,l.child,null,h),l=Dm(u,u.pendingProps),l.flags|=2,ii(u),u.memoizedState=null,l}function AG(l,u,h){var g=u.pendingProps,_=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(Je){if(g.mode==="hidden")return l=Dm(u,g),u.lanes=536870912,Qd(null,l);if(e1(u),(l=Ut)?(l=Nk(l,Mi),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:bo!==null?{id:Ia,overflow:ka}:null,retryLane:536870912,hydrationErrors:null},h=aM(l),h.return=u,u.child=h,ir=u,Ut=null)):l=null,l===null)throw _o(u);return u.lanes=536870912,null}return Dm(u,g)}var S=l.memoizedState;if(S!==null){var M=S.dehydrated;if(e1(u),_)if(u.flags&256)u.flags&=-257,u=wI(l,u,h);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(r(558));else if(Sn||mu(l,u,h,!1),_=(h&l.childLanes)!==0,Sn||_){if(g=kt,g!==null&&(M=dO(g,h),M!==0&&M!==S.retryLane))throw S.retryLane=M,Pl(l,M),zr(g,l,M),_1;qm(),u=wI(l,u,h)}else l=S.treeContext,Ut=ki(M.nextSibling),ir=u,Je=!0,xo=null,Mi=!1,l!==null&&lM(u,l),u=Dm(u,g),u.flags|=4096;return u}return l=ys(l.child,{mode:g.mode,children:g.children}),l.ref=u.ref,u.child=l,l.return=u,l}function Bm(l,u){var h=u.ref;if(h===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(l===null||l.ref!==h)&&(u.flags|=4194816)}}function w1(l,u,h,g,_){return Il(u),h=n1(l,u,h,g,void 0,_),g=r1(),l!==null&&!Sn?(i1(l,u,_),Ss(l,u,_)):(Je&&g&&L_(u),u.flags|=1,sr(l,u,h,_),u.child)}function SI(l,u,h,g,_,S){return Il(u),u.updateQueue=null,h=EM(u,g,h,_),AM(l),g=r1(),l!==null&&!Sn?(i1(l,u,S),Ss(l,u,S)):(Je&&g&&L_(u),u.flags|=1,sr(l,u,h,S),u.child)}function TI(l,u,h,g,_){if(Il(u),u.stateNode===null){var S=du,M=h.contextType;typeof M=="object"&&M!==null&&(S=ar(M)),S=new h(g,S),u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=b1,u.stateNode=S,S._reactInternals=u,S=u.stateNode,S.props=g,S.state=u.memoizedState,S.refs={},K_(u),M=h.contextType,S.context=typeof M=="object"&&M!==null?ar(M):du,S.state=u.memoizedState,M=h.getDerivedStateFromProps,typeof M=="function"&&(v1(u,h,M,g),S.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(M=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),M!==S.state&&b1.enqueueReplaceState(S,S.state,null),Xd(u,g,S,_),qd(),S.state=u.memoizedState),typeof S.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(l===null){S=u.stateNode;var N=u.memoizedProps,V=jl(h,N);S.props=V;var re=S.context,fe=h.contextType;M=du,typeof fe=="object"&&fe!==null&&(M=ar(fe));var ge=h.getDerivedStateFromProps;fe=typeof ge=="function"||typeof S.getSnapshotBeforeUpdate=="function",N=u.pendingProps!==N,fe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N||re!==M)&&uI(u,S,g,M),So=!1;var ie=u.memoizedState;S.state=ie,Xd(u,g,S,_),qd(),re=u.memoizedState,N||ie!==re||So?(typeof ge=="function"&&(v1(u,h,ge,g),re=u.memoizedState),(V=So||cI(u,h,V,g,ie,re,M))?(fe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(u.flags|=4194308)):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=re),S.props=g,S.state=re,S.context=M,g=V):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{S=u.stateNode,Y_(l,u),M=u.memoizedProps,fe=jl(h,M),S.props=fe,ge=u.pendingProps,ie=S.context,re=h.contextType,V=du,typeof re=="object"&&re!==null&&(V=ar(re)),N=h.getDerivedStateFromProps,(re=typeof N=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==ge||ie!==V)&&uI(u,S,g,V),So=!1,ie=u.memoizedState,S.state=ie,Xd(u,g,S,_),qd();var ce=u.memoizedState;M!==ge||ie!==ce||So||l!==null&&l.dependencies!==null&&ym(l.dependencies)?(typeof N=="function"&&(v1(u,h,N,g),ce=u.memoizedState),(fe=So||cI(u,h,fe,g,ie,ce,V)||l!==null&&l.dependencies!==null&&ym(l.dependencies))?(re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,ce,V),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,ce,V)),typeof S.componentDidUpdate=="function"&&(u.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===l.memoizedProps&&ie===l.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===l.memoizedProps&&ie===l.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=ce),S.props=g,S.state=ce,S.context=V,g=fe):(typeof S.componentDidUpdate!="function"||M===l.memoizedProps&&ie===l.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===l.memoizedProps&&ie===l.memoizedState||(u.flags|=1024),g=!1)}return S=g,Bm(l,u),g=(u.flags&128)!==0,S||g?(S=u.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:S.render(),u.flags|=1,l!==null&&g?(u.child=Bl(u,l.child,null,_),u.child=Bl(u,null,h,_)):sr(l,u,h,_),u.memoizedState=S.state,l=u.child):l=Ss(l,u,_),l}function AI(l,u,h,g){return Ol(),u.flags|=256,sr(l,u,h,g),u.child}var S1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function T1(l){return{baseLanes:l,cachePool:pM()}}function A1(l,u,h){return l=l!==null?l.childLanes&~h:0,u&&(l|=si),l}function EI(l,u,h){var g=u.pendingProps,_=!1,S=(u.flags&128)!==0,M;if((M=S)||(M=l!==null&&l.memoizedState===null?!1:(gn.current&2)!==0),M&&(_=!0,u.flags&=-129),M=(u.flags&32)!==0,u.flags&=-33,l===null){if(Je){if(_?Eo(u):Co(),(l=Ut)?(l=Nk(l,Mi),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:bo!==null?{id:Ia,overflow:ka}:null,retryLane:536870912,hydrationErrors:null},h=aM(l),h.return=u,u.child=h,ir=u,Ut=null)):l=null,l===null)throw _o(u);return ow(l)?u.lanes=32:u.lanes=536870912,null}var N=g.children;return g=g.fallback,_?(Co(),_=u.mode,N=Lm({mode:"hidden",children:N},_),g=Rl(g,_,h,null),N.return=u,g.return=u,N.sibling=g,u.child=N,g=u.child,g.memoizedState=T1(h),g.childLanes=A1(l,M,h),u.memoizedState=S1,Qd(null,g)):(Eo(u),E1(u,N))}var V=l.memoizedState;if(V!==null&&(N=V.dehydrated,N!==null)){if(S)u.flags&256?(Eo(u),u.flags&=-257,u=C1(l,u,h)):u.memoizedState!==null?(Co(),u.child=l.child,u.flags|=128,u=null):(Co(),N=g.fallback,_=u.mode,g=Lm({mode:"visible",children:g.children},_),N=Rl(N,_,h,null),N.flags|=2,g.return=u,N.return=u,g.sibling=N,u.child=g,Bl(u,l.child,null,h),g=u.child,g.memoizedState=T1(h),g.childLanes=A1(l,M,h),u.memoizedState=S1,u=Qd(null,g));else if(Eo(u),ow(N)){if(M=N.nextSibling&&N.nextSibling.dataset,M)var re=M.dgst;M=re,g=Error(r(419)),g.stack="",g.digest=M,Fd({value:g,source:null,stack:null}),u=C1(l,u,h)}else if(Sn||mu(l,u,h,!1),M=(h&l.childLanes)!==0,Sn||M){if(M=kt,M!==null&&(g=dO(M,h),g!==0&&g!==V.retryLane))throw V.retryLane=g,Pl(l,g),zr(M,l,g),_1;sw(N)||qm(),u=C1(l,u,h)}else sw(N)?(u.flags|=192,u.child=l.child,u=null):(l=V.treeContext,Ut=ki(N.nextSibling),ir=u,Je=!0,xo=null,Mi=!1,l!==null&&lM(u,l),u=E1(u,g.children),u.flags|=4096);return u}return _?(Co(),N=g.fallback,_=u.mode,V=l.child,re=V.sibling,g=ys(V,{mode:"hidden",children:g.children}),g.subtreeFlags=V.subtreeFlags&65011712,re!==null?N=ys(re,N):(N=Rl(N,_,h,null),N.flags|=2),N.return=u,g.return=u,g.sibling=N,u.child=g,Qd(null,g),g=u.child,N=l.child.memoizedState,N===null?N=T1(h):(_=N.cachePool,_!==null?(V=_n._currentValue,_=_.parent!==V?{parent:V,pool:V}:_):_=pM(),N={baseLanes:N.baseLanes|h,cachePool:_}),g.memoizedState=N,g.childLanes=A1(l,M,h),u.memoizedState=S1,Qd(l.child,g)):(Eo(u),h=l.child,l=h.sibling,h=ys(h,{mode:"visible",children:g.children}),h.return=u,h.sibling=null,l!==null&&(M=u.deletions,M===null?(u.deletions=[l],u.flags|=16):M.push(l)),u.child=h,u.memoizedState=null,h)}function E1(l,u){return u=Lm({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Lm(l,u){return l=ni(22,l,null,u),l.lanes=0,l}function C1(l,u,h){return Bl(u,l.child,null,h),l=E1(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function CI(l,u,h){l.lanes|=u;var g=l.alternate;g!==null&&(g.lanes|=u),z_(l.return,u,h)}function P1(l,u,h,g,_,S){var M=l.memoizedState;M===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:_,treeForkCount:S}:(M.isBackwards=u,M.rendering=null,M.renderingStartTime=0,M.last=g,M.tail=h,M.tailMode=_,M.treeForkCount=S)}function PI(l,u,h){var g=u.pendingProps,_=g.revealOrder,S=g.tail;g=g.children;var M=gn.current,N=(M&2)!==0;if(N?(M=M&1|2,u.flags|=128):M&=1,ye(gn,M),sr(l,u,g,h),g=Je?Ud:0,!N&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&CI(l,h,u);else if(l.tag===19)CI(l,h,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(_){case"forwards":for(h=u.child,_=null;h!==null;)l=h.alternate,l!==null&&Am(l)===null&&(_=h),h=h.sibling;h=_,h===null?(_=u.child,u.child=null):(_=h.sibling,h.sibling=null),P1(u,!1,_,h,S,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,_=u.child,u.child=null;_!==null;){if(l=_.alternate,l!==null&&Am(l)===null){u.child=_;break}l=_.sibling,_.sibling=h,h=_,_=l}P1(u,!0,h,null,S,g);break;case"together":P1(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function Ss(l,u,h){if(l!==null&&(u.dependencies=l.dependencies),Oo|=u.lanes,(h&u.childLanes)===0)if(l!==null){if(mu(l,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,h=ys(l,l.pendingProps),u.child=h,h.return=u;l.sibling!==null;)l=l.sibling,h=h.sibling=ys(l,l.pendingProps),h.return=u;h.sibling=null}return u.child}function R1(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&ym(l)))}function EG(l,u,h){switch(u.tag){case 3:Xe(u,u.stateNode.containerInfo),wo(u,_n,l.memoizedState.cache),Ol();break;case 27:case 5:De(u);break;case 4:Xe(u,u.stateNode.containerInfo);break;case 10:wo(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,e1(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Eo(u),u.flags|=128,null):(h&u.child.childLanes)!==0?EI(l,u,h):(Eo(u),l=Ss(l,u,h),l!==null?l.sibling:null);Eo(u);break;case 19:var _=(l.flags&128)!==0;if(g=(h&u.childLanes)!==0,g||(mu(l,u,h,!1),g=(h&u.childLanes)!==0),_){if(g)return PI(l,u,h);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ye(gn,gn.current),g)break;return null;case 22:return u.lanes=0,xI(l,u,h,u.pendingProps);case 24:wo(u,_n,l.memoizedState.cache)}return Ss(l,u,h)}function RI(l,u,h){if(l!==null)if(l.memoizedProps!==u.pendingProps)Sn=!0;else{if(!R1(l,h)&&(u.flags&128)===0)return Sn=!1,EG(l,u,h);Sn=(l.flags&131072)!==0}else Sn=!1,Je&&(u.flags&1048576)!==0&&oM(u,Ud,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(l=Nl(u.elementType),u.type=l,typeof l=="function")N_(l)?(g=jl(l,g),u.tag=1,u=TI(null,u,l,g,h)):(u.tag=0,u=w1(null,u,l,g,h));else{if(l!=null){var _=l.$$typeof;if(_===R){u.tag=11,u=yI(null,u,l,g,h);break e}else if(_===k){u.tag=14,u=vI(null,u,l,g,h);break e}}throw u=H(l)||l,Error(r(306,u,""))}}return u;case 0:return w1(l,u,u.type,u.pendingProps,h);case 1:return g=u.type,_=jl(g,u.pendingProps),TI(l,u,g,_,h);case 3:e:{if(Xe(u,u.stateNode.containerInfo),l===null)throw Error(r(387));g=u.pendingProps;var S=u.memoizedState;_=S.element,Y_(l,u),Xd(u,g,null,h);var M=u.memoizedState;if(g=M.cache,wo(u,_n,g),g!==S.cache&&V_(u,[_n],h,!0),qd(),g=M.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:M.cache},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){u=AI(l,u,g,h);break e}else if(g!==_){_=Pi(Error(r(424)),u),Fd(_),u=AI(l,u,g,h);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Ut=ki(l.firstChild),ir=u,Je=!0,xo=null,Mi=!0,h=xM(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Ol(),g===_){u=Ss(l,u,h);break e}sr(l,u,g,h)}u=u.child}return u;case 26:return Bm(l,u),l===null?(h=Fk(u.type,null,u.pendingProps,null))?u.memoizedState=h:Je||(h=u.type,l=u.pendingProps,g=Jm(we.current).createElement(h),g[rr]=u,g[Br]=l,or(g,h,l),qn(g),u.stateNode=g):u.memoizedState=Fk(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return De(u),l===null&&Je&&(g=u.stateNode=Lk(u.type,u.pendingProps,we.current),ir=u,Mi=!0,_=Ut,Do(u.type)?(lw=_,Ut=ki(g.firstChild)):Ut=_),sr(l,u,u.pendingProps.children,h),Bm(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&Je&&((_=g=Ut)&&(g=nZ(g,u.type,u.pendingProps,Mi),g!==null?(u.stateNode=g,ir=u,Ut=ki(g.firstChild),Mi=!1,_=!0):_=!1),_||_o(u)),De(u),_=u.type,S=u.pendingProps,M=l!==null?l.memoizedProps:null,g=S.children,rw(_,S)?g=null:M!==null&&rw(_,M)&&(u.flags|=32),u.memoizedState!==null&&(_=n1(l,u,yG,null,null,h),hh._currentValue=_),Bm(l,u),sr(l,u,g,h),u.child;case 6:return l===null&&Je&&((l=h=Ut)&&(h=rZ(h,u.pendingProps,Mi),h!==null?(u.stateNode=h,ir=u,Ut=null,l=!0):l=!1),l||_o(u)),null;case 13:return EI(l,u,h);case 4:return Xe(u,u.stateNode.containerInfo),g=u.pendingProps,l===null?u.child=Bl(u,null,g,h):sr(l,u,g,h),u.child;case 11:return yI(l,u,u.type,u.pendingProps,h);case 7:return sr(l,u,u.pendingProps,h),u.child;case 8:return sr(l,u,u.pendingProps.children,h),u.child;case 12:return sr(l,u,u.pendingProps.children,h),u.child;case 10:return g=u.pendingProps,wo(u,u.type,g.value),sr(l,u,g.children,h),u.child;case 9:return _=u.type._context,g=u.pendingProps.children,Il(u),_=ar(_),g=g(_),u.flags|=1,sr(l,u,g,h),u.child;case 14:return vI(l,u,u.type,u.pendingProps,h);case 15:return bI(l,u,u.type,u.pendingProps,h);case 19:return PI(l,u,h);case 31:return AG(l,u,h);case 22:return xI(l,u,h,u.pendingProps);case 24:return Il(u),g=ar(_n),l===null?(_=q_(),_===null&&(_=kt,S=H_(),_.pooledCache=S,S.refCount++,S!==null&&(_.pooledCacheLanes|=h),_=S),u.memoizedState={parent:g,cache:_},K_(u),wo(u,_n,_)):((l.lanes&h)!==0&&(Y_(l,u),Xd(u,null,null,h),qd()),_=l.memoizedState,S=u.memoizedState,_.parent!==g?(_={parent:g,cache:g},u.memoizedState=_,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=_),wo(u,_n,g)):(g=S.cache,wo(u,_n,g),g!==_.cache&&V_(u,[_n],h,!0))),sr(l,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function Ts(l){l.flags|=4}function O1(l,u,h,g,_){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(_&335544128)===_)if(l.stateNode.complete)l.flags|=8192;else if(nk())l.flags|=8192;else throw Dl=_m,X_}else l.flags&=-16777217}function OI(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!Wk(u))if(nk())l.flags|=8192;else throw Dl=_m,X_}function jm(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Ve():536870912,l.lanes|=u,Pu|=u)}function Jd(l,u){if(!Je)switch(l.tailMode){case"hidden":u=l.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:g.sibling=null}}function Ft(l){var u=l.alternate!==null&&l.alternate.child===l.child,h=0,g=0;if(u)for(var _=l.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags&65011712,g|=_.flags&65011712,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=g,l.childLanes=h,u}function CG(l,u,h){var g=u.pendingProps;switch(j_(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(u),null;case 1:return Ft(u),null;case 3:return h=u.stateNode,g=null,l!==null&&(g=l.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),xs(_n),ue(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(gu(u)?Ts(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,F_())),Ft(u),null;case 26:var _=u.type,S=u.memoizedState;return l===null?(Ts(u),S!==null?(Ft(u),OI(u,S)):(Ft(u),O1(u,_,null,g,h))):S?S!==l.memoizedState?(Ts(u),Ft(u),OI(u,S)):(Ft(u),u.flags&=-16777217):(l=l.memoizedProps,l!==g&&Ts(u),Ft(u),O1(u,_,l,g,h)),null;case 27:if(je(u),h=we.current,_=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==g&&Ts(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Ft(u),null}l=be.current,gu(u)?cM(u):(l=Lk(_,g,h),u.stateNode=l,Ts(u))}return Ft(u),null;case 5:if(je(u),_=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==g&&Ts(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Ft(u),null}if(S=be.current,gu(u))cM(u);else{var M=Jm(we.current);switch(S){case 1:S=M.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:S=M.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":S=M.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":S=M.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":S=M.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof g.is=="string"?M.createElement("select",{is:g.is}):M.createElement("select"),g.multiple?S.multiple=!0:g.size&&(S.size=g.size);break;default:S=typeof g.is=="string"?M.createElement(_,{is:g.is}):M.createElement(_)}}S[rr]=u,S[Br]=g;e:for(M=u.child;M!==null;){if(M.tag===5||M.tag===6)S.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===u)break e;for(;M.sibling===null;){if(M.return===null||M.return===u)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}u.stateNode=S;e:switch(or(S,_,g),_){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Ts(u)}}return Ft(u),O1(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,h),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==g&&Ts(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(l=we.current,gu(u)){if(l=u.stateNode,h=u.memoizedProps,g=null,_=ir,_!==null)switch(_.tag){case 27:case 5:g=_.memoizedProps}l[rr]=u,l=!!(l.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||Ek(l.nodeValue,h)),l||_o(u,!0)}else l=Jm(l).createTextNode(g),l[rr]=u,u.stateNode=l}return Ft(u),null;case 31:if(h=u.memoizedState,l===null||l.memoizedState!==null){if(g=gu(u),h!==null){if(l===null){if(!g)throw Error(r(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[rr]=u}else Ol(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ft(u),l=!1}else h=F_(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=h),l=!0;if(!l)return u.flags&256?(ii(u),u):(ii(u),null);if((u.flags&128)!==0)throw Error(r(558))}return Ft(u),null;case 13:if(g=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(_=gu(u),g!==null&&g.dehydrated!==null){if(l===null){if(!_)throw Error(r(318));if(_=u.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[rr]=u}else Ol(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ft(u),_=!1}else _=F_(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=_),_=!0;if(!_)return u.flags&256?(ii(u),u):(ii(u),null)}return ii(u),(u.flags&128)!==0?(u.lanes=h,u):(h=g!==null,l=l!==null&&l.memoizedState!==null,h&&(g=u.child,_=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(_=g.alternate.memoizedState.cachePool.pool),S=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==_&&(g.flags|=2048)),h!==l&&h&&(u.child.flags|=8192),jm(u,u.updateQueue),Ft(u),null);case 4:return ue(),l===null&&Q1(u.stateNode.containerInfo),Ft(u),null;case 10:return xs(u.type),Ft(u),null;case 19:if(ee(gn),g=u.memoizedState,g===null)return Ft(u),null;if(_=(u.flags&128)!==0,S=g.rendering,S===null)if(_)Jd(g,!1);else{if(on!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(S=Am(l),S!==null){for(u.flags|=128,Jd(g,!1),l=S.updateQueue,u.updateQueue=l,jm(u,l),u.subtreeFlags=0,l=h,h=u.child;h!==null;)iM(h,l),h=h.sibling;return ye(gn,gn.current&1|2),Je&&vs(u,g.treeForkCount),u.child}l=l.sibling}g.tail!==null&&rn()>Vm&&(u.flags|=128,_=!0,Jd(g,!1),u.lanes=4194304)}else{if(!_)if(l=Am(S),l!==null){if(u.flags|=128,_=!0,l=l.updateQueue,u.updateQueue=l,jm(u,l),Jd(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!Je)return Ft(u),null}else 2*rn()-g.renderingStartTime>Vm&&h!==536870912&&(u.flags|=128,_=!0,Jd(g,!1),u.lanes=4194304);g.isBackwards?(S.sibling=u.child,u.child=S):(l=g.last,l!==null?l.sibling=S:u.child=S,g.last=S)}return g.tail!==null?(l=g.tail,g.rendering=l,g.tail=l.sibling,g.renderingStartTime=rn(),l.sibling=null,h=gn.current,ye(gn,_?h&1|2:h&1),Je&&vs(u,g.treeForkCount),l):(Ft(u),null);case 22:case 23:return ii(u),J_(),g=u.memoizedState!==null,l!==null?l.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(h&536870912)!==0&&(u.flags&128)===0&&(Ft(u),u.subtreeFlags&6&&(u.flags|=8192)):Ft(u),h=u.updateQueue,h!==null&&jm(u,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048),l!==null&&ee(kl),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),xs(_n),Ft(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function PG(l,u){switch(j_(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return xs(_n),ue(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return je(u),null;case 31:if(u.memoizedState!==null){if(ii(u),u.alternate===null)throw Error(r(340));Ol()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(ii(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Ol()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return ee(gn),null;case 4:return ue(),null;case 10:return xs(u.type),null;case 22:case 23:return ii(u),J_(),l!==null&&ee(kl),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return xs(_n),null;case 25:return null;default:return null}}function MI(l,u){switch(j_(u),u.tag){case 3:xs(_n),ue();break;case 26:case 27:case 5:je(u);break;case 4:ue();break;case 31:u.memoizedState!==null&&ii(u);break;case 13:ii(u);break;case 19:ee(gn);break;case 10:xs(u.type);break;case 22:case 23:ii(u),J_(),l!==null&&ee(kl);break;case 24:xs(_n)}}function eh(l,u){try{var h=u.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&l)===l){g=void 0;var S=h.create,M=h.inst;g=S(),M.destroy=g}h=h.next}while(h!==_)}}catch(N){mt(u,u.return,N)}}function Po(l,u,h){try{var g=u.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var S=_.next;g=S;do{if((g.tag&l)===l){var M=g.inst,N=M.destroy;if(N!==void 0){M.destroy=void 0,_=u;var V=h,re=N;try{re()}catch(fe){mt(_,V,fe)}}}g=g.next}while(g!==S)}}catch(fe){mt(u,u.return,fe)}}function II(l){var u=l.updateQueue;if(u!==null){var h=l.stateNode;try{wM(u,h)}catch(g){mt(l,l.return,g)}}}function kI(l,u,h){h.props=jl(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(g){mt(l,u,g)}}function th(l,u){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var g=l.stateNode;break;case 30:g=l.stateNode;break;default:g=l.stateNode}typeof h=="function"?l.refCleanup=h(g):h.current=g}}catch(_){mt(l,u,_)}}function Na(l,u){var h=l.ref,g=l.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(_){mt(l,u,_)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){mt(l,u,_)}else h.current=null}function NI(l){var u=l.type,h=l.memoizedProps,g=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(_){mt(l,l.return,_)}}function M1(l,u,h){try{var g=l.stateNode;GG(g,l.type,h,u),g[Br]=u}catch(_){mt(l,l.return,_)}}function DI(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Do(l.type)||l.tag===4}function I1(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||DI(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Do(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function k1(l,u,h){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(l),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=gs));else if(g!==4&&(g===27&&Do(l.type)&&(h=l.stateNode,u=null),l=l.child,l!==null))for(k1(l,u,h),l=l.sibling;l!==null;)k1(l,u,h),l=l.sibling}function Um(l,u,h){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?h.insertBefore(l,u):h.appendChild(l);else if(g!==4&&(g===27&&Do(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(Um(l,u,h),l=l.sibling;l!==null;)Um(l,u,h),l=l.sibling}function BI(l){var u=l.stateNode,h=l.memoizedProps;try{for(var g=l.type,_=u.attributes;_.length;)u.removeAttributeNode(_[0]);or(u,g,h),u[rr]=l,u[Br]=h}catch(S){mt(l,l.return,S)}}var As=!1,Tn=!1,N1=!1,LI=typeof WeakSet=="function"?WeakSet:Set,Xn=null;function RG(l,u){if(l=l.containerInfo,tw=sy,l=YO(l),C_(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var _=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var M=0,N=-1,V=-1,re=0,fe=0,ge=l,ie=null;t:for(;;){for(var ce;ge!==h||_!==0&&ge.nodeType!==3||(N=M+_),ge!==S||g!==0&&ge.nodeType!==3||(V=M+g),ge.nodeType===3&&(M+=ge.nodeValue.length),(ce=ge.firstChild)!==null;)ie=ge,ge=ce;for(;;){if(ge===l)break t;if(ie===h&&++re===_&&(N=M),ie===S&&++fe===g&&(V=M),(ce=ge.nextSibling)!==null)break;ge=ie,ie=ge.parentNode}ge=ce}h=N===-1||V===-1?null:{start:N,end:V}}else h=null}h=h||{start:0,end:0}}else h=null;for(nw={focusedElem:l,selectionRange:h},sy=!1,Xn=u;Xn!==null;)if(u=Xn,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Xn=l;else for(;Xn!==null;){switch(u=Xn,S=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(h=0;h<l.length;h++)_=l[h],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&S!==null){l=void 0,h=u,_=S.memoizedProps,S=S.memoizedState,g=h.stateNode;try{var Re=jl(h.type,_);l=g.getSnapshotBeforeUpdate(Re,S),g.__reactInternalSnapshotBeforeUpdate=l}catch(Ne){mt(h,h.return,Ne)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,h=l.nodeType,h===9)aw(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":aw(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,Xn=l;break}Xn=u.return}}function jI(l,u,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Cs(l,h),g&4&&eh(5,h);break;case 1:if(Cs(l,h),g&4)if(l=h.stateNode,u===null)try{l.componentDidMount()}catch(M){mt(h,h.return,M)}else{var _=jl(h.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(_,u,l.__reactInternalSnapshotBeforeUpdate)}catch(M){mt(h,h.return,M)}}g&64&&II(h),g&512&&th(h,h.return);break;case 3:if(Cs(l,h),g&64&&(l=h.updateQueue,l!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{wM(l,u)}catch(M){mt(h,h.return,M)}}break;case 27:u===null&&g&4&&BI(h);case 26:case 5:Cs(l,h),u===null&&g&4&&NI(h),g&512&&th(h,h.return);break;case 12:Cs(l,h);break;case 31:Cs(l,h),g&4&&$I(l,h);break;case 13:Cs(l,h),g&4&&zI(l,h),g&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=jG.bind(null,h),iZ(l,h))));break;case 22:if(g=h.memoizedState!==null||As,!g){u=u!==null&&u.memoizedState!==null||Tn,_=As;var S=Tn;As=g,(Tn=u)&&!S?Ps(l,h,(h.subtreeFlags&8772)!==0):Cs(l,h),As=_,Tn=S}break;case 30:break;default:Cs(l,h)}}function UI(l){var u=l.alternate;u!==null&&(l.alternate=null,UI(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&u_(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Wt=null,jr=!1;function Es(l,u,h){for(h=h.child;h!==null;)FI(l,u,h),h=h.sibling}function FI(l,u,h){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(ei,h)}catch{}switch(h.tag){case 26:Tn||Na(h,u),Es(l,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Tn||Na(h,u);var g=Wt,_=jr;Do(h.type)&&(Wt=h.stateNode,jr=!1),Es(l,u,h),uh(h.stateNode),Wt=g,jr=_;break;case 5:Tn||Na(h,u);case 6:if(g=Wt,_=jr,Wt=null,Es(l,u,h),Wt=g,jr=_,Wt!==null)if(jr)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(h.stateNode)}catch(S){mt(h,u,S)}else try{Wt.removeChild(h.stateNode)}catch(S){mt(h,u,S)}break;case 18:Wt!==null&&(jr?(l=Wt,Ik(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),Bu(l)):Ik(Wt,h.stateNode));break;case 4:g=Wt,_=jr,Wt=h.stateNode.containerInfo,jr=!0,Es(l,u,h),Wt=g,jr=_;break;case 0:case 11:case 14:case 15:Po(2,h,u),Tn||Po(4,h,u),Es(l,u,h);break;case 1:Tn||(Na(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"&&kI(h,u,g)),Es(l,u,h);break;case 21:Es(l,u,h);break;case 22:Tn=(g=Tn)||h.memoizedState!==null,Es(l,u,h),Tn=g;break;default:Es(l,u,h)}}function $I(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Bu(l)}catch(h){mt(u,u.return,h)}}}function zI(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Bu(l)}catch(h){mt(u,u.return,h)}}function OG(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new LI),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new LI),u;default:throw Error(r(435,l.tag))}}function Fm(l,u){var h=OG(l);u.forEach(function(g){if(!h.has(g)){h.add(g);var _=UG.bind(null,l,g);g.then(_,_)}})}function Ur(l,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var _=h[g],S=l,M=u,N=M;e:for(;N!==null;){switch(N.tag){case 27:if(Do(N.type)){Wt=N.stateNode,jr=!1;break e}break;case 5:Wt=N.stateNode,jr=!1;break e;case 3:case 4:Wt=N.stateNode.containerInfo,jr=!0;break e}N=N.return}if(Wt===null)throw Error(r(160));FI(S,M,_),Wt=null,jr=!1,S=_.alternate,S!==null&&(S.return=null),_.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)VI(u,l),u=u.sibling}var sa=null;function VI(l,u){var h=l.alternate,g=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ur(u,l),Fr(l),g&4&&(Po(3,l,l.return),eh(3,l),Po(5,l,l.return));break;case 1:Ur(u,l),Fr(l),g&512&&(Tn||h===null||Na(h,h.return)),g&64&&As&&(l=l.updateQueue,l!==null&&(g=l.callbacks,g!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var _=sa;if(Ur(u,l),Fr(l),g&512&&(Tn||h===null||Na(h,h.return)),g&4){var S=h!==null?h.memoizedState:null;if(g=l.memoizedState,h===null)if(g===null)if(l.stateNode===null){e:{g=l.type,h=l.memoizedProps,_=_.ownerDocument||_;t:switch(g){case"title":S=_.getElementsByTagName("title")[0],(!S||S[Pd]||S[rr]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=_.createElement(g),_.head.insertBefore(S,_.querySelector("head > title"))),or(S,g,h),S[rr]=l,qn(S),g=S;break e;case"link":var M=Vk("link","href",_).get(g+(h.href||""));if(M){for(var N=0;N<M.length;N++)if(S=M[N],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){M.splice(N,1);break t}}S=_.createElement(g),or(S,g,h),_.head.appendChild(S);break;case"meta":if(M=Vk("meta","content",_).get(g+(h.content||""))){for(N=0;N<M.length;N++)if(S=M[N],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){M.splice(N,1);break t}}S=_.createElement(g),or(S,g,h),_.head.appendChild(S);break;default:throw Error(r(468,g))}S[rr]=l,qn(S),g=S}l.stateNode=g}else Hk(_,l.type,l.stateNode);else l.stateNode=zk(_,g,l.memoizedProps);else S!==g?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,g===null?Hk(_,l.type,l.stateNode):zk(_,g,l.memoizedProps)):g===null&&l.stateNode!==null&&M1(l,l.memoizedProps,h.memoizedProps)}break;case 27:Ur(u,l),Fr(l),g&512&&(Tn||h===null||Na(h,h.return)),h!==null&&g&4&&M1(l,l.memoizedProps,h.memoizedProps);break;case 5:if(Ur(u,l),Fr(l),g&512&&(Tn||h===null||Na(h,h.return)),l.flags&32){_=l.stateNode;try{au(_,"")}catch(Re){mt(l,l.return,Re)}}g&4&&l.stateNode!=null&&(_=l.memoizedProps,M1(l,_,h!==null?h.memoizedProps:_)),g&1024&&(N1=!0);break;case 6:if(Ur(u,l),Fr(l),g&4){if(l.stateNode===null)throw Error(r(162));g=l.memoizedProps,h=l.stateNode;try{h.nodeValue=g}catch(Re){mt(l,l.return,Re)}}break;case 3:if(ny=null,_=sa,sa=ey(u.containerInfo),Ur(u,l),sa=_,Fr(l),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Bu(u.containerInfo)}catch(Re){mt(l,l.return,Re)}N1&&(N1=!1,HI(l));break;case 4:g=sa,sa=ey(l.stateNode.containerInfo),Ur(u,l),Fr(l),sa=g;break;case 12:Ur(u,l),Fr(l);break;case 31:Ur(u,l),Fr(l),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,Fm(l,g)));break;case 13:Ur(u,l),Fr(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(zm=rn()),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,Fm(l,g)));break;case 22:_=l.memoizedState!==null;var V=h!==null&&h.memoizedState!==null,re=As,fe=Tn;if(As=re||_,Tn=fe||V,Ur(u,l),Tn=fe,As=re,Fr(l),g&8192)e:for(u=l.stateNode,u._visibility=_?u._visibility&-2:u._visibility|1,_&&(h===null||V||As||Tn||Ul(l)),h=null,u=l;;){if(u.tag===5||u.tag===26){if(h===null){V=h=u;try{if(S=V.stateNode,_)M=S.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{N=V.stateNode;var ge=V.memoizedProps.style,ie=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;N.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Re){mt(V,V.return,Re)}}}else if(u.tag===6){if(h===null){V=u;try{V.stateNode.nodeValue=_?"":V.memoizedProps}catch(Re){mt(V,V.return,Re)}}}else if(u.tag===18){if(h===null){V=u;try{var ce=V.stateNode;_?kk(ce,!0):kk(V.stateNode,!1)}catch(Re){mt(V,V.return,Re)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=l.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,Fm(l,h))));break;case 19:Ur(u,l),Fr(l),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,Fm(l,g)));break;case 30:break;case 21:break;default:Ur(u,l),Fr(l)}}function Fr(l){var u=l.flags;if(u&2){try{for(var h,g=l.return;g!==null;){if(DI(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var _=h.stateNode,S=I1(l);Um(l,S,_);break;case 5:var M=h.stateNode;h.flags&32&&(au(M,""),h.flags&=-33);var N=I1(l);Um(l,N,M);break;case 3:case 4:var V=h.stateNode.containerInfo,re=I1(l);k1(l,re,V);break;default:throw Error(r(161))}}catch(fe){mt(l,l.return,fe)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function HI(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;HI(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function Cs(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)jI(l,u.alternate,u),u=u.sibling}function Ul(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:Po(4,u,u.return),Ul(u);break;case 1:Na(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&kI(u,u.return,h),Ul(u);break;case 27:uh(u.stateNode);case 26:case 5:Na(u,u.return),Ul(u);break;case 22:u.memoizedState===null&&Ul(u);break;case 30:Ul(u);break;default:Ul(u)}l=l.sibling}}function Ps(l,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,_=l,S=u,M=S.flags;switch(S.tag){case 0:case 11:case 15:Ps(_,S,h),eh(4,S);break;case 1:if(Ps(_,S,h),g=S,_=g.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(re){mt(g,g.return,re)}if(g=S,_=g.updateQueue,_!==null){var N=g.stateNode;try{var V=_.shared.hiddenCallbacks;if(V!==null)for(_.shared.hiddenCallbacks=null,_=0;_<V.length;_++)_M(V[_],N)}catch(re){mt(g,g.return,re)}}h&&M&64&&II(S),th(S,S.return);break;case 27:BI(S);case 26:case 5:Ps(_,S,h),h&&g===null&&M&4&&NI(S),th(S,S.return);break;case 12:Ps(_,S,h);break;case 31:Ps(_,S,h),h&&M&4&&$I(_,S);break;case 13:Ps(_,S,h),h&&M&4&&zI(_,S);break;case 22:S.memoizedState===null&&Ps(_,S,h),th(S,S.return);break;case 30:break;default:Ps(_,S,h)}u=u.sibling}}function D1(l,u){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&$d(h))}function B1(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&$d(l))}function oa(l,u,h,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)WI(l,u,h,g),u=u.sibling}function WI(l,u,h,g){var _=u.flags;switch(u.tag){case 0:case 11:case 15:oa(l,u,h,g),_&2048&&eh(9,u);break;case 1:oa(l,u,h,g);break;case 3:oa(l,u,h,g),_&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&$d(l)));break;case 12:if(_&2048){oa(l,u,h,g),l=u.stateNode;try{var S=u.memoizedProps,M=S.id,N=S.onPostCommit;typeof N=="function"&&N(M,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(V){mt(u,u.return,V)}}else oa(l,u,h,g);break;case 31:oa(l,u,h,g);break;case 13:oa(l,u,h,g);break;case 23:break;case 22:S=u.stateNode,M=u.alternate,u.memoizedState!==null?S._visibility&2?oa(l,u,h,g):nh(l,u):S._visibility&2?oa(l,u,h,g):(S._visibility|=2,Au(l,u,h,g,(u.subtreeFlags&10256)!==0||!1)),_&2048&&D1(M,u);break;case 24:oa(l,u,h,g),_&2048&&B1(u.alternate,u);break;default:oa(l,u,h,g)}}function Au(l,u,h,g,_){for(_=_&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var S=l,M=u,N=h,V=g,re=M.flags;switch(M.tag){case 0:case 11:case 15:Au(S,M,N,V,_),eh(8,M);break;case 23:break;case 22:var fe=M.stateNode;M.memoizedState!==null?fe._visibility&2?Au(S,M,N,V,_):nh(S,M):(fe._visibility|=2,Au(S,M,N,V,_)),_&&re&2048&&D1(M.alternate,M);break;case 24:Au(S,M,N,V,_),_&&re&2048&&B1(M.alternate,M);break;default:Au(S,M,N,V,_)}u=u.sibling}}function nh(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=l,g=u,_=g.flags;switch(g.tag){case 22:nh(h,g),_&2048&&D1(g.alternate,g);break;case 24:nh(h,g),_&2048&&B1(g.alternate,g);break;default:nh(h,g)}u=u.sibling}}var rh=8192;function Eu(l,u,h){if(l.subtreeFlags&rh)for(l=l.child;l!==null;)qI(l,u,h),l=l.sibling}function qI(l,u,h){switch(l.tag){case 26:Eu(l,u,h),l.flags&rh&&l.memoizedState!==null&&mZ(h,sa,l.memoizedState,l.memoizedProps);break;case 5:Eu(l,u,h);break;case 3:case 4:var g=sa;sa=ey(l.stateNode.containerInfo),Eu(l,u,h),sa=g;break;case 22:l.memoizedState===null&&(g=l.alternate,g!==null&&g.memoizedState!==null?(g=rh,rh=16777216,Eu(l,u,h),rh=g):Eu(l,u,h));break;default:Eu(l,u,h)}}function XI(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function ih(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];Xn=g,YI(g,l)}XI(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)KI(l),l=l.sibling}function KI(l){switch(l.tag){case 0:case 11:case 15:ih(l),l.flags&2048&&Po(9,l,l.return);break;case 3:ih(l);break;case 12:ih(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,$m(l)):ih(l);break;default:ih(l)}}function $m(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];Xn=g,YI(g,l)}XI(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:Po(8,u,u.return),$m(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,$m(u));break;default:$m(u)}l=l.sibling}}function YI(l,u){for(;Xn!==null;){var h=Xn;switch(h.tag){case 0:case 11:case 15:Po(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:$d(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Xn=g;else e:for(h=l;Xn!==null;){g=Xn;var _=g.sibling,S=g.return;if(UI(g),g===h){Xn=null;break e}if(_!==null){_.return=S,Xn=_;break e}Xn=S}}}var MG={getCacheForType:function(l){var u=ar(_n),h=u.data.get(l);return h===void 0&&(h=l(),u.data.set(l,h)),h},cacheSignal:function(){return ar(_n).controller.signal}},IG=typeof WeakMap=="function"?WeakMap:Map,st=0,kt=null,Ke=null,Ze=0,gt=0,ai=null,Ro=!1,Cu=!1,L1=!1,Rs=0,on=0,Oo=0,Fl=0,j1=0,si=0,Pu=0,ah=null,$r=null,U1=!1,zm=0,GI=0,Vm=1/0,Hm=null,Mo=null,kn=0,Io=null,Ru=null,Os=0,F1=0,$1=null,ZI=null,sh=0,z1=null;function oi(){return(st&2)!==0&&Ze!==0?Ze&-Ze:z.T!==null?K1():hO()}function QI(){if(si===0)if((Ze&536870912)===0||Je){var l=Gc;Gc<<=1,(Gc&3932160)===0&&(Gc=262144),si=l}else si=536870912;return l=ri.current,l!==null&&(l.flags|=32),si}function zr(l,u,h){(l===kt&&(gt===2||gt===9)||l.cancelPendingCommit!==null)&&(Ou(l,0),ko(l,Ze,si,!1)),Cd(l,h),((st&2)===0||l!==kt)&&(l===kt&&((st&2)===0&&(Fl|=h),on===4&&ko(l,Ze,si,!1)),Da(l))}function JI(l,u,h){if((st&6)!==0)throw Error(r(327));var g=!h&&(u&127)===0&&(u&l.expiredLanes)===0||Sl(l,u),_=g?DG(l,u):H1(l,u,!0),S=g;do{if(_===0){Cu&&!g&&ko(l,u,0,!1);break}else{if(h=l.current.alternate,S&&!kG(h)){_=H1(l,u,!1),S=!1;continue}if(_===2){if(S=u,l.errorRecoveryDisabledLanes&S)var M=0;else M=l.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){u=M;e:{var N=l;_=ah;var V=N.current.memoizedState.isDehydrated;if(V&&(Ou(N,M).flags|=256),M=H1(N,M,!1),M!==2){if(L1&&!V){N.errorRecoveryDisabledLanes|=S,Fl|=S,_=4;break e}S=$r,$r=_,S!==null&&($r===null?$r=S:$r.push.apply($r,S))}_=M}if(S=!1,_!==2)continue}}if(_===1){Ou(l,0),ko(l,u,0,!0);break}e:{switch(g=l,S=_,S){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:ko(g,u,si,!Ro);break e;case 2:$r=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(_=zm+300-rn(),10<_)){if(ko(g,u,si,!Ro),Qc(g,0,!0)!==0)break e;Os=u,g.timeoutHandle=Ok(ek.bind(null,g,h,$r,Hm,U1,u,si,Fl,Pu,Ro,S,"Throttled",-0,0),_);break e}ek(g,h,$r,Hm,U1,u,si,Fl,Pu,Ro,S,null,-0,0)}}break}while(!0);Da(l)}function ek(l,u,h,g,_,S,M,N,V,re,fe,ge,ie,ce){if(l.timeoutHandle=-1,ge=u.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gs},qI(u,S,ge);var Re=(S&62914560)===S?zm-rn():(S&4194048)===S?GI-rn():0;if(Re=yZ(ge,Re),Re!==null){Os=S,l.cancelPendingCommit=Re(lk.bind(null,l,u,S,h,g,_,M,N,V,fe,ge,null,ie,ce)),ko(l,S,M,!re);return}}lk(l,u,S,h,g,_,M,N,V)}function kG(l){for(var u=l;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var _=h[g],S=_.getSnapshot;_=_.value;try{if(!ti(S(),_))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ko(l,u,h,g){u&=~j1,u&=~Fl,l.suspendedLanes|=u,l.pingedLanes&=~u,g&&(l.warmLanes|=u),g=l.expirationTimes;for(var _=u;0<_;){var S=31-nr(_),M=1<<S;g[S]=-1,_&=~M}h!==0&&uO(l,h,u)}function Wm(){return(st&6)===0?(oh(0),!1):!0}function V1(){if(Ke!==null){if(gt===0)var l=Ke.return;else l=Ke,bs=Ml=null,a1(l),xu=null,Vd=0,l=Ke;for(;l!==null;)MI(l.alternate,l),l=l.return;Ke=null}}function Ou(l,u){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,JG(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),Os=0,V1(),kt=l,Ke=h=ys(l.current,null),Ze=u,gt=0,ai=null,Ro=!1,Cu=Sl(l,u),L1=!1,Pu=si=j1=Fl=Oo=on=0,$r=ah=null,U1=!1,(u&8)!==0&&(u|=u&32);var g=l.entangledLanes;if(g!==0)for(l=l.entanglements,g&=u;0<g;){var _=31-nr(g),S=1<<_;u|=l[_],g&=~S}return Rs=u,dm(),h}function tk(l,u){He=null,z.H=Zd,u===bu||u===xm?(u=yM(),gt=3):u===X_?(u=yM(),gt=4):gt=u===_1?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ai=u,Ke===null&&(on=1,Nm(l,Pi(u,l.current)))}function nk(){var l=ri.current;return l===null?!0:(Ze&4194048)===Ze?Ii===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?l===Ii:!1}function rk(){var l=z.H;return z.H=Zd,l===null?Zd:l}function ik(){var l=z.A;return z.A=MG,l}function qm(){on=4,Ro||(Ze&4194048)!==Ze&&ri.current!==null||(Cu=!0),(Oo&134217727)===0&&(Fl&134217727)===0||kt===null||ko(kt,Ze,si,!1)}function H1(l,u,h){var g=st;st|=2;var _=rk(),S=ik();(kt!==l||Ze!==u)&&(Hm=null,Ou(l,u)),u=!1;var M=on;e:do try{if(gt!==0&&Ke!==null){var N=Ke,V=ai;switch(gt){case 8:V1(),M=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(u=!0);var re=gt;if(gt=0,ai=null,Mu(l,N,V,re),h&&Cu){M=0;break e}break;default:re=gt,gt=0,ai=null,Mu(l,N,V,re)}}NG(),M=on;break}catch(fe){tk(l,fe)}while(!0);return u&&l.shellSuspendCounter++,bs=Ml=null,st=g,z.H=_,z.A=S,Ke===null&&(kt=null,Ze=0,dm()),M}function NG(){for(;Ke!==null;)ak(Ke)}function DG(l,u){var h=st;st|=2;var g=rk(),_=ik();kt!==l||Ze!==u?(Hm=null,Vm=rn()+500,Ou(l,u)):Cu=Sl(l,u);e:do try{if(gt!==0&&Ke!==null){u=Ke;var S=ai;t:switch(gt){case 1:gt=0,ai=null,Mu(l,u,S,1);break;case 2:case 9:if(gM(S)){gt=0,ai=null,sk(u);break}u=function(){gt!==2&&gt!==9||kt!==l||(gt=7),Da(l)},S.then(u,u);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:gM(S)?(gt=0,ai=null,sk(u)):(gt=0,ai=null,Mu(l,u,S,7));break;case 5:var M=null;switch(Ke.tag){case 26:M=Ke.memoizedState;case 5:case 27:var N=Ke;if(M?Wk(M):N.stateNode.complete){gt=0,ai=null;var V=N.sibling;if(V!==null)Ke=V;else{var re=N.return;re!==null?(Ke=re,Xm(re)):Ke=null}break t}}gt=0,ai=null,Mu(l,u,S,5);break;case 6:gt=0,ai=null,Mu(l,u,S,6);break;case 8:V1(),on=6;break e;default:throw Error(r(462))}}BG();break}catch(fe){tk(l,fe)}while(!0);return bs=Ml=null,z.H=g,z.A=_,st=h,Ke!==null?0:(kt=null,Ze=0,dm(),on)}function BG(){for(;Ke!==null&&!ke();)ak(Ke)}function ak(l){var u=RI(l.alternate,l,Rs);l.memoizedProps=l.pendingProps,u===null?Xm(l):Ke=u}function sk(l){var u=l,h=u.alternate;switch(u.tag){case 15:case 0:u=SI(h,u,u.pendingProps,u.type,void 0,Ze);break;case 11:u=SI(h,u,u.pendingProps,u.type.render,u.ref,Ze);break;case 5:a1(u);default:MI(h,u),u=Ke=iM(u,Rs),u=RI(h,u,Rs)}l.memoizedProps=l.pendingProps,u===null?Xm(l):Ke=u}function Mu(l,u,h,g){bs=Ml=null,a1(u),xu=null,Vd=0;var _=u.return;try{if(TG(l,_,u,h,Ze)){on=1,Nm(l,Pi(h,l.current)),Ke=null;return}}catch(S){if(_!==null)throw Ke=_,S;on=1,Nm(l,Pi(h,l.current)),Ke=null;return}u.flags&32768?(Je||g===1?l=!0:Cu||(Ze&536870912)!==0?l=!1:(Ro=l=!0,(g===2||g===9||g===3||g===6)&&(g=ri.current,g!==null&&g.tag===13&&(g.flags|=16384))),ok(u,l)):Xm(u)}function Xm(l){var u=l;do{if((u.flags&32768)!==0){ok(u,Ro);return}l=u.return;var h=CG(u.alternate,u,Rs);if(h!==null){Ke=h;return}if(u=u.sibling,u!==null){Ke=u;return}Ke=u=l}while(u!==null);on===0&&(on=5)}function ok(l,u){do{var h=PG(l.alternate,l);if(h!==null){h.flags&=32767,Ke=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(l=l.sibling,l!==null)){Ke=l;return}Ke=l=h}while(l!==null);on=6,Ke=null}function lk(l,u,h,g,_,S,M,N,V){l.cancelPendingCommit=null;do Km();while(kn!==0);if((st&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(S=u.lanes|u.childLanes,S|=I_,gY(l,h,S,M,N,V),l===kt&&(Ke=kt=null,Ze=0),Ru=u,Io=l,Os=h,F1=S,$1=_,ZI=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,FG(an,function(){return hk(),null})):(l.callbackNode=null,l.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=z.T,z.T=null,_=q.p,q.p=2,M=st,st|=4;try{RG(l,u,h)}finally{st=M,q.p=_,z.T=g}}kn=1,ck(),uk(),fk()}}function ck(){if(kn===1){kn=0;var l=Io,u=Ru,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=z.T,z.T=null;var g=q.p;q.p=2;var _=st;st|=4;try{VI(u,l);var S=nw,M=YO(l.containerInfo),N=S.focusedElem,V=S.selectionRange;if(M!==N&&N&&N.ownerDocument&&KO(N.ownerDocument.documentElement,N)){if(V!==null&&C_(N)){var re=V.start,fe=V.end;if(fe===void 0&&(fe=re),"selectionStart"in N)N.selectionStart=re,N.selectionEnd=Math.min(fe,N.value.length);else{var ge=N.ownerDocument||document,ie=ge&&ge.defaultView||window;if(ie.getSelection){var ce=ie.getSelection(),Re=N.textContent.length,Ne=Math.min(V.start,Re),St=V.end===void 0?Ne:Math.min(V.end,Re);!ce.extend&&Ne>St&&(M=St,St=Ne,Ne=M);var Z=XO(N,Ne),X=XO(N,St);if(Z&&X&&(ce.rangeCount!==1||ce.anchorNode!==Z.node||ce.anchorOffset!==Z.offset||ce.focusNode!==X.node||ce.focusOffset!==X.offset)){var ne=ge.createRange();ne.setStart(Z.node,Z.offset),ce.removeAllRanges(),Ne>St?(ce.addRange(ne),ce.extend(X.node,X.offset)):(ne.setEnd(X.node,X.offset),ce.addRange(ne))}}}}for(ge=[],ce=N;ce=ce.parentNode;)ce.nodeType===1&&ge.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ge.length;N++){var he=ge[N];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}sy=!!tw,nw=tw=null}finally{st=_,q.p=g,z.T=h}}l.current=u,kn=2}}function uk(){if(kn===2){kn=0;var l=Io,u=Ru,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=z.T,z.T=null;var g=q.p;q.p=2;var _=st;st|=4;try{jI(l,u.alternate,u)}finally{st=_,q.p=g,z.T=h}}kn=3}}function fk(){if(kn===4||kn===3){kn=0,fs();var l=Io,u=Ru,h=Os,g=ZI;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?kn=5:(kn=0,Ru=Io=null,dk(l,l.pendingLanes));var _=l.pendingLanes;if(_===0&&(Mo=null),l_(h),u=u.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(ei,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=z.T,_=q.p,q.p=2,z.T=null;try{for(var S=l.onRecoverableError,M=0;M<g.length;M++){var N=g[M];S(N.value,{componentStack:N.stack})}}finally{z.T=u,q.p=_}}(Os&3)!==0&&Km(),Da(l),_=l.pendingLanes,(h&261930)!==0&&(_&42)!==0?l===z1?sh++:(sh=0,z1=l):sh=0,oh(0)}}function dk(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,$d(u)))}function Km(){return ck(),uk(),fk(),hk()}function hk(){if(kn!==5)return!1;var l=Io,u=F1;F1=0;var h=l_(Os),g=z.T,_=q.p;try{q.p=32>h?32:h,z.T=null,h=$1,$1=null;var S=Io,M=Os;if(kn=0,Ru=Io=null,Os=0,(st&6)!==0)throw Error(r(331));var N=st;if(st|=4,KI(S.current),WI(S,S.current,M,h),st=N,oh(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(ei,S)}catch{}return!0}finally{q.p=_,z.T=g,dk(l,u)}}function pk(l,u,h){u=Pi(h,u),u=x1(l.stateNode,u,2),l=Ao(l,u,2),l!==null&&(Cd(l,2),Da(l))}function mt(l,u,h){if(l.tag===3)pk(l,l,h);else for(;u!==null;){if(u.tag===3){pk(u,l,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Mo===null||!Mo.has(g))){l=Pi(h,l),h=gI(2),g=Ao(u,h,2),g!==null&&(mI(h,g,u,l),Cd(g,2),Da(g));break}}u=u.return}}function W1(l,u,h){var g=l.pingCache;if(g===null){g=l.pingCache=new IG;var _=new Set;g.set(u,_)}else _=g.get(u),_===void 0&&(_=new Set,g.set(u,_));_.has(h)||(L1=!0,_.add(h),l=LG.bind(null,l,u,h),u.then(l,l))}function LG(l,u,h){var g=l.pingCache;g!==null&&g.delete(u),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,kt===l&&(Ze&h)===h&&(on===4||on===3&&(Ze&62914560)===Ze&&300>rn()-zm?(st&2)===0&&Ou(l,0):j1|=h,Pu===Ze&&(Pu=0)),Da(l)}function gk(l,u){u===0&&(u=Ve()),l=Pl(l,u),l!==null&&(Cd(l,u),Da(l))}function jG(l){var u=l.memoizedState,h=0;u!==null&&(h=u.retryLane),gk(l,h)}function UG(l,u){var h=0;switch(l.tag){case 31:case 13:var g=l.stateNode,_=l.memoizedState;_!==null&&(h=_.retryLane);break;case 19:g=l.stateNode;break;case 22:g=l.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),gk(l,h)}function FG(l,u){return nn(l,u)}var Ym=null,Iu=null,q1=!1,Gm=!1,X1=!1,No=0;function Da(l){l!==Iu&&l.next===null&&(Iu===null?Ym=Iu=l:Iu=Iu.next=l),Gm=!0,q1||(q1=!0,zG())}function oh(l,u){if(!X1&&Gm){X1=!0;do for(var h=!1,g=Ym;g!==null;){if(l!==0){var _=g.pendingLanes;if(_===0)var S=0;else{var M=g.suspendedLanes,N=g.pingedLanes;S=(1<<31-nr(42|l)+1)-1,S&=_&~(M&~N),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,bk(g,S))}else S=Ze,S=Qc(g,g===kt?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||Sl(g,S)||(h=!0,bk(g,S));g=g.next}while(h);X1=!1}}function $G(){mk()}function mk(){Gm=q1=!1;var l=0;No!==0&&QG()&&(l=No);for(var u=rn(),h=null,g=Ym;g!==null;){var _=g.next,S=yk(g,u);S===0?(g.next=null,h===null?Ym=_:h.next=_,_===null&&(Iu=h)):(h=g,(l!==0||(S&3)!==0)&&(Gm=!0)),g=_}kn!==0&&kn!==5||oh(l),No!==0&&(No=0)}function yk(l,u){for(var h=l.suspendedLanes,g=l.pingedLanes,_=l.expirationTimes,S=l.pendingLanes&-62914561;0<S;){var M=31-nr(S),N=1<<M,V=_[M];V===-1?((N&h)===0||(N&g)!==0)&&(_[M]=s_(N,u)):V<=u&&(l.expiredLanes|=N),S&=~N}if(u=kt,h=Ze,h=Qc(l,l===u?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g=l.callbackNode,h===0||l===u&&(gt===2||gt===9)||l.cancelPendingCommit!==null)return g!==null&&g!==null&&tr(g),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||Sl(l,h)){if(u=h&-h,u===l.callbackPriority)return u;switch(g!==null&&tr(g),l_(h)){case 2:case 8:h=at;break;case 32:h=an;break;case 268435456:h=Oa;break;default:h=an}return g=vk.bind(null,l),h=nn(h,g),l.callbackPriority=u,l.callbackNode=h,u}return g!==null&&g!==null&&tr(g),l.callbackPriority=2,l.callbackNode=null,2}function vk(l,u){if(kn!==0&&kn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(Km()&&l.callbackNode!==h)return null;var g=Ze;return g=Qc(l,l===kt?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g===0?null:(JI(l,g,u),yk(l,rn()),l.callbackNode!=null&&l.callbackNode===h?vk.bind(null,l):null)}function bk(l,u){if(Km())return null;JI(l,u,!0)}function zG(){eZ(function(){(st&6)!==0?nn(xn,$G):mk()})}function K1(){if(No===0){var l=yu;l===0&&(l=Yc,Yc<<=1,(Yc&261888)===0&&(Yc=256)),No=l}return No}function xk(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:im(""+l)}function _k(l,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,l.id&&h.setAttribute("form",l.id),u.parentNode.insertBefore(h,u),l=new FormData(l),h.parentNode.removeChild(h),l}function VG(l,u,h,g,_){if(u==="submit"&&h&&h.stateNode===_){var S=xk((_[Br]||null).action),M=g.submitter;M&&(u=(u=M[Br]||null)?xk(u.formAction):M.getAttribute("formAction"),u!==null&&(S=u,M=null));var N=new lm("action","action",null,g,_);l.push({event:N,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(No!==0){var V=M?_k(_,M):new FormData(_);p1(h,{pending:!0,data:V,method:_.method,action:S},null,V)}}else typeof S=="function"&&(N.preventDefault(),V=M?_k(_,M):new FormData(_),p1(h,{pending:!0,data:V,method:_.method,action:S},S,V))},currentTarget:_}]})}}for(var Y1=0;Y1<M_.length;Y1++){var G1=M_[Y1],HG=G1.toLowerCase(),WG=G1[0].toUpperCase()+G1.slice(1);aa(HG,"on"+WG)}aa(QO,"onAnimationEnd"),aa(JO,"onAnimationIteration"),aa(eM,"onAnimationStart"),aa("dblclick","onDoubleClick"),aa("focusin","onFocus"),aa("focusout","onBlur"),aa(oG,"onTransitionRun"),aa(lG,"onTransitionStart"),aa(cG,"onTransitionCancel"),aa(tM,"onTransitionEnd"),ru("onMouseEnter",["mouseout","mouseover"]),ru("onMouseLeave",["mouseout","mouseover"]),ru("onPointerEnter",["pointerout","pointerover"]),ru("onPointerLeave",["pointerout","pointerover"]),Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lh));function wk(l,u){u=(u&4)!==0;for(var h=0;h<l.length;h++){var g=l[h],_=g.event;g=g.listeners;e:{var S=void 0;if(u)for(var M=g.length-1;0<=M;M--){var N=g[M],V=N.instance,re=N.currentTarget;if(N=N.listener,V!==S&&_.isPropagationStopped())break e;S=N,_.currentTarget=re;try{S(_)}catch(fe){fm(fe)}_.currentTarget=null,S=V}else for(M=0;M<g.length;M++){if(N=g[M],V=N.instance,re=N.currentTarget,N=N.listener,V!==S&&_.isPropagationStopped())break e;S=N,_.currentTarget=re;try{S(_)}catch(fe){fm(fe)}_.currentTarget=null,S=V}}}}function Ye(l,u){var h=u[c_];h===void 0&&(h=u[c_]=new Set);var g=l+"__bubble";h.has(g)||(Sk(u,l,2,!1),h.add(g))}function Z1(l,u,h){var g=0;u&&(g|=4),Sk(h,l,g,u)}var Zm="_reactListening"+Math.random().toString(36).slice(2);function Q1(l){if(!l[Zm]){l[Zm]=!0,mO.forEach(function(h){h!=="selectionchange"&&(qG.has(h)||Z1(h,!1,l),Z1(h,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Zm]||(u[Zm]=!0,Z1("selectionchange",!1,u))}}function Sk(l,u,h,g){switch(Qk(u)){case 2:var _=xZ;break;case 8:_=_Z;break;default:_=hw}h=_.bind(null,u,h,l),_=void 0,!v_||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),g?_!==void 0?l.addEventListener(u,h,{capture:!0,passive:_}):l.addEventListener(u,h,!0):_!==void 0?l.addEventListener(u,h,{passive:_}):l.addEventListener(u,h,!1)}function J1(l,u,h,g,_){var S=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var N=g.stateNode.containerInfo;if(N===_)break;if(M===4)for(M=g.return;M!==null;){var V=M.tag;if((V===3||V===4)&&M.stateNode.containerInfo===_)return;M=M.return}for(;N!==null;){if(M=eu(N),M===null)return;if(V=M.tag,V===5||V===6||V===26||V===27){g=S=M;continue e}N=N.parentNode}}g=g.return}PO(function(){var re=S,fe=m_(h),ge=[];e:{var ie=nM.get(l);if(ie!==void 0){var ce=lm,Re=l;switch(l){case"keypress":if(sm(h)===0)break e;case"keydown":case"keyup":ce=UY;break;case"focusin":Re="focus",ce=w_;break;case"focusout":Re="blur",ce=w_;break;case"beforeblur":case"afterblur":ce=w_;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=MO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=CY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=zY;break;case QO:case JO:case eM:ce=OY;break;case tM:ce=HY;break;case"scroll":case"scrollend":ce=AY;break;case"wheel":ce=qY;break;case"copy":case"cut":case"paste":ce=IY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=kO;break;case"toggle":case"beforetoggle":ce=KY}var Ne=(u&4)!==0,St=!Ne&&(l==="scroll"||l==="scrollend"),Z=Ne?ie!==null?ie+"Capture":null:ie;Ne=[];for(var X=re,ne;X!==null;){var he=X;if(ne=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ne===null||Z===null||(he=Od(X,Z),he!=null&&Ne.push(ch(X,he,ne))),St)break;X=X.return}0<Ne.length&&(ie=new ce(ie,Re,null,h,fe),ge.push({event:ie,listeners:Ne}))}}if((u&7)===0){e:{if(ie=l==="mouseover"||l==="pointerover",ce=l==="mouseout"||l==="pointerout",ie&&h!==g_&&(Re=h.relatedTarget||h.fromElement)&&(eu(Re)||Re[Jc]))break e;if((ce||ie)&&(ie=fe.window===fe?fe:(ie=fe.ownerDocument)?ie.defaultView||ie.parentWindow:window,ce?(Re=h.relatedTarget||h.toElement,ce=re,Re=Re?eu(Re):null,Re!==null&&(St=a(Re),Ne=Re.tag,Re!==St||Ne!==5&&Ne!==27&&Ne!==6)&&(Re=null)):(ce=null,Re=re),ce!==Re)){if(Ne=MO,he="onMouseLeave",Z="onMouseEnter",X="mouse",(l==="pointerout"||l==="pointerover")&&(Ne=kO,he="onPointerLeave",Z="onPointerEnter",X="pointer"),St=ce==null?ie:Rd(ce),ne=Re==null?ie:Rd(Re),ie=new Ne(he,X+"leave",ce,h,fe),ie.target=St,ie.relatedTarget=ne,he=null,eu(fe)===re&&(Ne=new Ne(Z,X+"enter",Re,h,fe),Ne.target=ne,Ne.relatedTarget=St,he=Ne),St=he,ce&&Re)t:{for(Ne=XG,Z=ce,X=Re,ne=0,he=Z;he;he=Ne(he))ne++;he=0;for(var Ie=X;Ie;Ie=Ne(Ie))he++;for(;0<ne-he;)Z=Ne(Z),ne--;for(;0<he-ne;)X=Ne(X),he--;for(;ne--;){if(Z===X||X!==null&&Z===X.alternate){Ne=Z;break t}Z=Ne(Z),X=Ne(X)}Ne=null}else Ne=null;ce!==null&&Tk(ge,ie,ce,Ne,!1),Re!==null&&St!==null&&Tk(ge,St,Re,Ne,!0)}}e:{if(ie=re?Rd(re):window,ce=ie.nodeName&&ie.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ie.type==="file")var nt=$O;else if(UO(ie))if(zO)nt=iG;else{nt=nG;var Oe=tG}else ce=ie.nodeName,!ce||ce.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?re&&p_(re.elementType)&&(nt=$O):nt=rG;if(nt&&(nt=nt(l,re))){FO(ge,nt,h,fe);break e}Oe&&Oe(l,ie,re),l==="focusout"&&re&&ie.type==="number"&&re.memoizedProps.value!=null&&h_(ie,"number",ie.value)}switch(Oe=re?Rd(re):window,l){case"focusin":(UO(Oe)||Oe.contentEditable==="true")&&(cu=Oe,P_=re,jd=null);break;case"focusout":jd=P_=cu=null;break;case"mousedown":R_=!0;break;case"contextmenu":case"mouseup":case"dragend":R_=!1,GO(ge,h,fe);break;case"selectionchange":if(sG)break;case"keydown":case"keyup":GO(ge,h,fe)}var qe;if(T_)e:{switch(l){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else lu?LO(l,h)&&(Qe="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(Qe="onCompositionStart");Qe&&(NO&&h.locale!=="ko"&&(lu||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&lu&&(qe=RO()):(vo=fe,b_="value"in vo?vo.value:vo.textContent,lu=!0)),Oe=Qm(re,Qe),0<Oe.length&&(Qe=new IO(Qe,l,null,h,fe),ge.push({event:Qe,listeners:Oe}),qe?Qe.data=qe:(qe=jO(h),qe!==null&&(Qe.data=qe)))),(qe=GY?ZY(l,h):QY(l,h))&&(Qe=Qm(re,"onBeforeInput"),0<Qe.length&&(Oe=new IO("onBeforeInput","beforeinput",null,h,fe),ge.push({event:Oe,listeners:Qe}),Oe.data=qe)),VG(ge,l,re,h,fe)}wk(ge,u)})}function ch(l,u,h){return{instance:l,listener:u,currentTarget:h}}function Qm(l,u){for(var h=u+"Capture",g=[];l!==null;){var _=l,S=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||S===null||(_=Od(l,h),_!=null&&g.unshift(ch(l,_,S)),_=Od(l,u),_!=null&&g.push(ch(l,_,S))),l.tag===3)return g;l=l.return}return[]}function XG(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function Tk(l,u,h,g,_){for(var S=u._reactName,M=[];h!==null&&h!==g;){var N=h,V=N.alternate,re=N.stateNode;if(N=N.tag,V!==null&&V===g)break;N!==5&&N!==26&&N!==27||re===null||(V=re,_?(re=Od(h,S),re!=null&&M.unshift(ch(h,re,V))):_||(re=Od(h,S),re!=null&&M.push(ch(h,re,V)))),h=h.return}M.length!==0&&l.push({event:u,listeners:M})}var KG=/\r\n?/g,YG=/\u0000|\uFFFD/g;function Ak(l){return(typeof l=="string"?l:""+l).replace(KG,`
`).replace(YG,"")}function Ek(l,u){return u=Ak(u),Ak(l)===u}function wt(l,u,h,g,_,S){switch(h){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||au(l,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&au(l,""+g);break;case"className":nm(l,"class",g);break;case"tabIndex":nm(l,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":nm(l,h,g);break;case"style":EO(l,g,S);break;case"data":if(u!=="object"){nm(l,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||h!=="href")){l.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(h);break}g=im(""+g),l.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(u!=="input"&&wt(l,u,"name",_.name,_,null),wt(l,u,"formEncType",_.formEncType,_,null),wt(l,u,"formMethod",_.formMethod,_,null),wt(l,u,"formTarget",_.formTarget,_,null)):(wt(l,u,"encType",_.encType,_,null),wt(l,u,"method",_.method,_,null),wt(l,u,"target",_.target,_,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(h);break}g=im(""+g),l.setAttribute(h,g);break;case"onClick":g!=null&&(l.onclick=gs);break;case"onScroll":g!=null&&Ye("scroll",l);break;case"onScrollEnd":g!=null&&Ye("scrollend",l);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(_.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"multiple":l.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":l.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){l.removeAttribute("xlink:href");break}h=im(""+g),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(h,""+g):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":g===!0?l.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(h,g):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?l.setAttribute(h,g):l.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?l.removeAttribute(h):l.setAttribute(h,g);break;case"popover":Ye("beforetoggle",l),Ye("toggle",l),tm(l,"popover",g);break;case"xlinkActuate":ps(l,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ps(l,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ps(l,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ps(l,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ps(l,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ps(l,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ps(l,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ps(l,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ps(l,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":tm(l,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=SY.get(h)||h,tm(l,h,g))}}function ew(l,u,h,g,_,S){switch(h){case"style":EO(l,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(_.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"children":typeof g=="string"?au(l,g):(typeof g=="number"||typeof g=="bigint")&&au(l,""+g);break;case"onScroll":g!=null&&Ye("scroll",l);break;case"onScrollEnd":g!=null&&Ye("scrollend",l);break;case"onClick":g!=null&&(l.onclick=gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yO.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),u=h.slice(2,_?h.length-7:void 0),S=l[Br]||null,S=S!=null?S[h]:null,typeof S=="function"&&l.removeEventListener(u,S,_),typeof g=="function")){typeof S!="function"&&S!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(u,g,_);break e}h in l?l[h]=g:g===!0?l.setAttribute(h,""):tm(l,h,g)}}}function or(l,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",l),Ye("load",l);var g=!1,_=!1,S;for(S in h)if(h.hasOwnProperty(S)){var M=h[S];if(M!=null)switch(S){case"src":g=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:wt(l,u,S,M,h,null)}}_&&wt(l,u,"srcSet",h.srcSet,h,null),g&&wt(l,u,"src",h.src,h,null);return;case"input":Ye("invalid",l);var N=S=M=_=null,V=null,re=null;for(g in h)if(h.hasOwnProperty(g)){var fe=h[g];if(fe!=null)switch(g){case"name":_=fe;break;case"type":M=fe;break;case"checked":V=fe;break;case"defaultChecked":re=fe;break;case"value":S=fe;break;case"defaultValue":N=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,u));break;default:wt(l,u,g,fe,h,null)}}wO(l,S,N,V,re,M,_,!1);return;case"select":Ye("invalid",l),g=M=S=null;for(_ in h)if(h.hasOwnProperty(_)&&(N=h[_],N!=null))switch(_){case"value":S=N;break;case"defaultValue":M=N;break;case"multiple":g=N;default:wt(l,u,_,N,h,null)}u=S,h=M,l.multiple=!!g,u!=null?iu(l,!!g,u,!1):h!=null&&iu(l,!!g,h,!0);return;case"textarea":Ye("invalid",l),S=_=g=null;for(M in h)if(h.hasOwnProperty(M)&&(N=h[M],N!=null))switch(M){case"value":g=N;break;case"defaultValue":_=N;break;case"children":S=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:wt(l,u,M,N,h,null)}TO(l,g,_,S);return;case"option":for(V in h)if(h.hasOwnProperty(V)&&(g=h[V],g!=null))switch(V){case"selected":l.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:wt(l,u,V,g,h,null)}return;case"dialog":Ye("beforetoggle",l),Ye("toggle",l),Ye("cancel",l),Ye("close",l);break;case"iframe":case"object":Ye("load",l);break;case"video":case"audio":for(g=0;g<lh.length;g++)Ye(lh[g],l);break;case"image":Ye("error",l),Ye("load",l);break;case"details":Ye("toggle",l);break;case"embed":case"source":case"link":Ye("error",l),Ye("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in h)if(h.hasOwnProperty(re)&&(g=h[re],g!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:wt(l,u,re,g,h,null)}return;default:if(p_(u)){for(fe in h)h.hasOwnProperty(fe)&&(g=h[fe],g!==void 0&&ew(l,u,fe,g,h,void 0));return}}for(N in h)h.hasOwnProperty(N)&&(g=h[N],g!=null&&wt(l,u,N,g,h,null))}function GG(l,u,h,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,S=null,M=null,N=null,V=null,re=null,fe=null;for(ce in h){var ge=h[ce];if(h.hasOwnProperty(ce)&&ge!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":V=ge;default:g.hasOwnProperty(ce)||wt(l,u,ce,null,g,ge)}}for(var ie in g){var ce=g[ie];if(ge=h[ie],g.hasOwnProperty(ie)&&(ce!=null||ge!=null))switch(ie){case"type":S=ce;break;case"name":_=ce;break;case"checked":re=ce;break;case"defaultChecked":fe=ce;break;case"value":M=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,u));break;default:ce!==ge&&wt(l,u,ie,ce,g,ge)}}d_(l,M,N,V,re,fe,S,_);return;case"select":ce=M=N=ie=null;for(S in h)if(V=h[S],h.hasOwnProperty(S)&&V!=null)switch(S){case"value":break;case"multiple":ce=V;default:g.hasOwnProperty(S)||wt(l,u,S,null,g,V)}for(_ in g)if(S=g[_],V=h[_],g.hasOwnProperty(_)&&(S!=null||V!=null))switch(_){case"value":ie=S;break;case"defaultValue":N=S;break;case"multiple":M=S;default:S!==V&&wt(l,u,_,S,g,V)}u=N,h=M,g=ce,ie!=null?iu(l,!!h,ie,!1):!!g!=!!h&&(u!=null?iu(l,!!h,u,!0):iu(l,!!h,h?[]:"",!1));return;case"textarea":ce=ie=null;for(N in h)if(_=h[N],h.hasOwnProperty(N)&&_!=null&&!g.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:wt(l,u,N,null,g,_)}for(M in g)if(_=g[M],S=h[M],g.hasOwnProperty(M)&&(_!=null||S!=null))switch(M){case"value":ie=_;break;case"defaultValue":ce=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==S&&wt(l,u,M,_,g,S)}SO(l,ie,ce);return;case"option":for(var Re in h)if(ie=h[Re],h.hasOwnProperty(Re)&&ie!=null&&!g.hasOwnProperty(Re))switch(Re){case"selected":l.selected=!1;break;default:wt(l,u,Re,null,g,ie)}for(V in g)if(ie=g[V],ce=h[V],g.hasOwnProperty(V)&&ie!==ce&&(ie!=null||ce!=null))switch(V){case"selected":l.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:wt(l,u,V,ie,g,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in h)ie=h[Ne],h.hasOwnProperty(Ne)&&ie!=null&&!g.hasOwnProperty(Ne)&&wt(l,u,Ne,null,g,ie);for(re in g)if(ie=g[re],ce=h[re],g.hasOwnProperty(re)&&ie!==ce&&(ie!=null||ce!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,u));break;default:wt(l,u,re,ie,g,ce)}return;default:if(p_(u)){for(var St in h)ie=h[St],h.hasOwnProperty(St)&&ie!==void 0&&!g.hasOwnProperty(St)&&ew(l,u,St,void 0,g,ie);for(fe in g)ie=g[fe],ce=h[fe],!g.hasOwnProperty(fe)||ie===ce||ie===void 0&&ce===void 0||ew(l,u,fe,ie,g,ce);return}}for(var Z in h)ie=h[Z],h.hasOwnProperty(Z)&&ie!=null&&!g.hasOwnProperty(Z)&&wt(l,u,Z,null,g,ie);for(ge in g)ie=g[ge],ce=h[ge],!g.hasOwnProperty(ge)||ie===ce||ie==null&&ce==null||wt(l,u,ge,ie,g,ce)}function Ck(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZG(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var _=h[g],S=_.transferSize,M=_.initiatorType,N=_.duration;if(S&&N&&Ck(M)){for(M=0,N=_.responseEnd,g+=1;g<h.length;g++){var V=h[g],re=V.startTime;if(re>N)break;var fe=V.transferSize,ge=V.initiatorType;fe&&Ck(ge)&&(V=V.responseEnd,M+=fe*(V<N?1:(N-re)/(V-re)))}if(--g,u+=8*(S+M)/(_.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var tw=null,nw=null;function Jm(l){return l.nodeType===9?l:l.ownerDocument}function Pk(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rk(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function rw(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var iw=null;function QG(){var l=window.event;return l&&l.type==="popstate"?l===iw?!1:(iw=l,!0):(iw=null,!1)}var Ok=typeof setTimeout=="function"?setTimeout:void 0,JG=typeof clearTimeout=="function"?clearTimeout:void 0,Mk=typeof Promise=="function"?Promise:void 0,eZ=typeof queueMicrotask=="function"?queueMicrotask:typeof Mk<"u"?function(l){return Mk.resolve(null).then(l).catch(tZ)}:Ok;function tZ(l){setTimeout(function(){throw l})}function Do(l){return l==="head"}function Ik(l,u){var h=u,g=0;do{var _=h.nextSibling;if(l.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"||h==="/&"){if(g===0){l.removeChild(_),Bu(u);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")uh(l.ownerDocument.documentElement);else if(h==="head"){h=l.ownerDocument.head,uh(h);for(var S=h.firstChild;S;){var M=S.nextSibling,N=S.nodeName;S[Pd]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&S.rel.toLowerCase()==="stylesheet"||h.removeChild(S),S=M}}else h==="body"&&uh(l.ownerDocument.body);h=_}while(h);Bu(u)}function kk(l,u){var h=l;l=0;do{var g=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(l===0)break;l--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||l++;h=g}while(h)}function aw(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":aw(h),u_(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function nZ(l,u,h,g){for(;l.nodeType===1;){var _=h;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(g){if(!l[Pd])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(S=l.getAttribute("rel"),S==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(S!==_.rel||l.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||l.getAttribute("title")!==(_.title==null?null:_.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(S=l.getAttribute("src"),(S!==(_.src==null?null:_.src)||l.getAttribute("type")!==(_.type==null?null:_.type)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&S&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var S=_.name==null?null:""+_.name;if(_.type==="hidden"&&l.getAttribute("name")===S)return l}else return l;if(l=ki(l.nextSibling),l===null)break}return null}function rZ(l,u,h){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=ki(l.nextSibling),l===null))return null;return l}function Nk(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=ki(l.nextSibling),l===null))return null;return l}function sw(l){return l.data==="$?"||l.data==="$~"}function ow(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function iZ(l,u){var h=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||h.readyState!=="loading")u();else{var g=function(){u(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),l._reactRetry=g}}function ki(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var lw=null;function Dk(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"||h==="/&"){if(u===0)return ki(l.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}l=l.nextSibling}return null}function Bk(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return l;u--}else h!=="/$"&&h!=="/&"||u++}l=l.previousSibling}return null}function Lk(l,u,h){switch(u=Jm(h),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function uh(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);u_(l)}var Ni=new Map,jk=new Set;function ey(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Ms=q.d;q.d={f:aZ,r:sZ,D:oZ,C:lZ,L:cZ,m:uZ,X:dZ,S:fZ,M:hZ};function aZ(){var l=Ms.f(),u=Wm();return l||u}function sZ(l){var u=tu(l);u!==null&&u.tag===5&&u.type==="form"?tI(u):Ms.r(l)}var ku=typeof document>"u"?null:document;function Uk(l,u,h){var g=ku;if(g&&typeof u=="string"&&u){var _=Ei(u);_='link[rel="'+l+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),jk.has(_)||(jk.add(_),l={rel:l,crossOrigin:h,href:u},g.querySelector(_)===null&&(u=g.createElement("link"),or(u,"link",l),qn(u),g.head.appendChild(u)))}}function oZ(l){Ms.D(l),Uk("dns-prefetch",l,null)}function lZ(l,u){Ms.C(l,u),Uk("preconnect",l,u)}function cZ(l,u,h){Ms.L(l,u,h);var g=ku;if(g&&l&&u){var _='link[rel="preload"][as="'+Ei(u)+'"]';u==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+Ei(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+Ei(h.imageSizes)+'"]')):_+='[href="'+Ei(l)+'"]';var S=_;switch(u){case"style":S=Nu(l);break;case"script":S=Du(l)}Ni.has(S)||(l=p({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:l,as:u},h),Ni.set(S,l),g.querySelector(_)!==null||u==="style"&&g.querySelector(fh(S))||u==="script"&&g.querySelector(dh(S))||(u=g.createElement("link"),or(u,"link",l),qn(u),g.head.appendChild(u)))}}function uZ(l,u){Ms.m(l,u);var h=ku;if(h&&l){var g=u&&typeof u.as=="string"?u.as:"script",_='link[rel="modulepreload"][as="'+Ei(g)+'"][href="'+Ei(l)+'"]',S=_;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Du(l)}if(!Ni.has(S)&&(l=p({rel:"modulepreload",href:l},u),Ni.set(S,l),h.querySelector(_)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(dh(S)))return}g=h.createElement("link"),or(g,"link",l),qn(g),h.head.appendChild(g)}}}function fZ(l,u,h){Ms.S(l,u,h);var g=ku;if(g&&l){var _=nu(g).hoistableStyles,S=Nu(l);u=u||"default";var M=_.get(S);if(!M){var N={loading:0,preload:null};if(M=g.querySelector(fh(S)))N.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":u},h),(h=Ni.get(S))&&cw(l,h);var V=M=g.createElement("link");qn(V),or(V,"link",l),V._p=new Promise(function(re,fe){V.onload=re,V.onerror=fe}),V.addEventListener("load",function(){N.loading|=1}),V.addEventListener("error",function(){N.loading|=2}),N.loading|=4,ty(M,u,g)}M={type:"stylesheet",instance:M,count:1,state:N},_.set(S,M)}}}function dZ(l,u){Ms.X(l,u);var h=ku;if(h&&l){var g=nu(h).hoistableScripts,_=Du(l),S=g.get(_);S||(S=h.querySelector(dh(_)),S||(l=p({src:l,async:!0},u),(u=Ni.get(_))&&uw(l,u),S=h.createElement("script"),qn(S),or(S,"link",l),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(_,S))}}function hZ(l,u){Ms.M(l,u);var h=ku;if(h&&l){var g=nu(h).hoistableScripts,_=Du(l),S=g.get(_);S||(S=h.querySelector(dh(_)),S||(l=p({src:l,async:!0,type:"module"},u),(u=Ni.get(_))&&uw(l,u),S=h.createElement("script"),qn(S),or(S,"link",l),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(_,S))}}function Fk(l,u,h,g){var _=(_=we.current)?ey(_):null;if(!_)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Nu(h.href),h=nu(_).hoistableStyles,g=h.get(u),g||(g={type:"style",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=Nu(h.href);var S=nu(_).hoistableStyles,M=S.get(l);if(M||(_=_.ownerDocument||_,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(l,M),(S=_.querySelector(fh(l)))&&!S._p&&(M.instance=S,M.state.loading=5),Ni.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ni.set(l,h),S||pZ(_,l,h,M.state))),u&&g===null)throw Error(r(528,""));return M}if(u&&g!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Du(h),h=nu(_).hoistableScripts,g=h.get(u),g||(g={type:"script",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Nu(l){return'href="'+Ei(l)+'"'}function fh(l){return'link[rel="stylesheet"]['+l+"]"}function $k(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function pZ(l,u,h,g){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=l.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),or(u,"link",h),qn(u),l.head.appendChild(u))}function Du(l){return'[src="'+Ei(l)+'"]'}function dh(l){return"script[async]"+l}function zk(l,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var g=l.querySelector('style[data-href~="'+Ei(h.href)+'"]');if(g)return u.instance=g,qn(g),g;var _=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(l.ownerDocument||l).createElement("style"),qn(g),or(g,"style",_),ty(g,h.precedence,l),u.instance=g;case"stylesheet":_=Nu(h.href);var S=l.querySelector(fh(_));if(S)return u.state.loading|=4,u.instance=S,qn(S),S;g=$k(h),(_=Ni.get(_))&&cw(g,_),S=(l.ownerDocument||l).createElement("link"),qn(S);var M=S;return M._p=new Promise(function(N,V){M.onload=N,M.onerror=V}),or(S,"link",g),u.state.loading|=4,ty(S,h.precedence,l),u.instance=S;case"script":return S=Du(h.src),(_=l.querySelector(dh(S)))?(u.instance=_,qn(_),_):(g=h,(_=Ni.get(S))&&(g=p({},h),uw(g,_)),l=l.ownerDocument||l,_=l.createElement("script"),qn(_),or(_,"link",g),l.head.appendChild(_),u.instance=_);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,ty(g,h.precedence,l));return u.instance}function ty(l,u,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=g.length?g[g.length-1]:null,S=_,M=0;M<g.length;M++){var N=g[M];if(N.dataset.precedence===u)S=N;else if(S!==_)break}S?S.parentNode.insertBefore(l,S.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(l,u.firstChild))}function cw(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function uw(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var ny=null;function Vk(l,u,h){if(ny===null){var g=new Map,_=ny=new Map;_.set(h,g)}else _=ny,g=_.get(h),g||(g=new Map,_.set(h,g));if(g.has(l))return g;for(g.set(l,null),h=h.getElementsByTagName(l),_=0;_<h.length;_++){var S=h[_];if(!(S[Pd]||S[rr]||l==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var M=S.getAttribute(u)||"";M=l+M;var N=g.get(M);N?N.push(S):g.set(M,[S])}}return g}function Hk(l,u,h){l=l.ownerDocument||l,l.head.insertBefore(h,u==="title"?l.querySelector("head > title"):null)}function gZ(l,u,h){if(h===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Wk(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function mZ(l,u,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var _=Nu(g.href),S=u.querySelector(fh(_));if(S){u=S._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=ry.bind(l),u.then(l,l)),h.state.loading|=4,h.instance=S,qn(S);return}S=u.ownerDocument||u,g=$k(g),(_=Ni.get(_))&&cw(g,_),S=S.createElement("link"),qn(S);var M=S;M._p=new Promise(function(N,V){M.onload=N,M.onerror=V}),or(S,"link",g),h.instance=S}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(l.count++,h=ry.bind(l),u.addEventListener("load",h),u.addEventListener("error",h))}}var fw=0;function yZ(l,u){return l.stylesheets&&l.count===0&&ay(l,l.stylesheets),0<l.count||0<l.imgCount?function(h){var g=setTimeout(function(){if(l.stylesheets&&ay(l,l.stylesheets),l.unsuspend){var S=l.unsuspend;l.unsuspend=null,S()}},6e4+u);0<l.imgBytes&&fw===0&&(fw=62500*ZG());var _=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&ay(l,l.stylesheets),l.unsuspend)){var S=l.unsuspend;l.unsuspend=null,S()}},(l.imgBytes>fw?50:800)+u);return l.unsuspend=h,function(){l.unsuspend=null,clearTimeout(g),clearTimeout(_)}}:null}function ry(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ay(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var iy=null;function ay(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,iy=new Map,u.forEach(vZ,l),iy=null,ry.call(l))}function vZ(l,u){if(!(u.state.loading&4)){var h=iy.get(l);if(h)var g=h.get(null);else{h=new Map,iy.set(l,h);for(var _=l.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<_.length;S++){var M=_[S];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(h.set(M.dataset.precedence,M),g=M)}g&&h.set(null,g)}_=u.instance,M=_.getAttribute("data-precedence"),S=h.get(M)||g,S===g&&h.set(null,_),h.set(M,_),this.count++,g=ry.bind(this),_.addEventListener("load",g),_.addEventListener("error",g),S?S.parentNode.insertBefore(_,S.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(_,l.firstChild)),u.state.loading|=4}}var hh={$$typeof:A,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function bZ(l,u,h,g,_,S,M,N,V){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=g,this.onUncaughtError=_,this.onCaughtError=S,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function qk(l,u,h,g,_,S,M,N,V,re,fe,ge){return l=new bZ(l,u,h,M,V,re,fe,ge,N),u=1,S===!0&&(u|=24),S=ni(3,null,null,u),l.current=S,S.stateNode=l,u=H_(),u.refCount++,l.pooledCache=u,u.refCount++,S.memoizedState={element:g,isDehydrated:h,cache:u},K_(S),l}function Xk(l){return l?(l=du,l):du}function Kk(l,u,h,g,_,S){_=Xk(_),g.context===null?g.context=_:g.pendingContext=_,g=To(u),g.payload={element:h},S=S===void 0?null:S,S!==null&&(g.callback=S),h=Ao(l,g,u),h!==null&&(zr(h,l,u),Wd(h,l,u))}function Yk(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<u?h:u}}function dw(l,u){Yk(l,u),(l=l.alternate)&&Yk(l,u)}function Gk(l){if(l.tag===13||l.tag===31){var u=Pl(l,67108864);u!==null&&zr(u,l,67108864),dw(l,67108864)}}function Zk(l){if(l.tag===13||l.tag===31){var u=oi();u=o_(u);var h=Pl(l,u);h!==null&&zr(h,l,u),dw(l,u)}}var sy=!0;function xZ(l,u,h,g){var _=z.T;z.T=null;var S=q.p;try{q.p=2,hw(l,u,h,g)}finally{q.p=S,z.T=_}}function _Z(l,u,h,g){var _=z.T;z.T=null;var S=q.p;try{q.p=8,hw(l,u,h,g)}finally{q.p=S,z.T=_}}function hw(l,u,h,g){if(sy){var _=pw(g);if(_===null)J1(l,u,g,oy,h),Jk(l,g);else if(SZ(_,l,u,h,g))g.stopPropagation();else if(Jk(l,g),u&4&&-1<wZ.indexOf(l)){for(;_!==null;){var S=tu(_);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var M=hs(S.pendingLanes);if(M!==0){var N=S;for(N.pendingLanes|=2,N.entangledLanes|=2;M;){var V=1<<31-nr(M);N.entanglements[1]|=V,M&=~V}Da(S),(st&6)===0&&(Vm=rn()+500,oh(0))}}break;case 31:case 13:N=Pl(S,2),N!==null&&zr(N,S,2),Wm(),dw(S,2)}if(S=pw(g),S===null&&J1(l,u,g,oy,h),S===_)break;_=S}_!==null&&g.stopPropagation()}else J1(l,u,g,null,h)}}function pw(l){return l=m_(l),gw(l)}var oy=null;function gw(l){if(oy=null,l=eu(l),l!==null){var u=a(l);if(u===null)l=null;else{var h=u.tag;if(h===13){if(l=s(u),l!==null)return l;l=null}else if(h===31){if(l=o(u),l!==null)return l;l=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return oy=l,null}function Qk(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case xn:return 2;case at:return 8;case an:case Wn:return 32;case Oa:return 268435456;default:return 32}default:return 32}}var mw=!1,Bo=null,Lo=null,jo=null,ph=new Map,gh=new Map,Uo=[],wZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jk(l,u){switch(l){case"focusin":case"focusout":Bo=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":ph.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(u.pointerId)}}function mh(l,u,h,g,_,S){return l===null||l.nativeEvent!==S?(l={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:S,targetContainers:[_]},u!==null&&(u=tu(u),u!==null&&Gk(u)),l):(l.eventSystemFlags|=g,u=l.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),l)}function SZ(l,u,h,g,_){switch(u){case"focusin":return Bo=mh(Bo,l,u,h,g,_),!0;case"dragenter":return Lo=mh(Lo,l,u,h,g,_),!0;case"mouseover":return jo=mh(jo,l,u,h,g,_),!0;case"pointerover":var S=_.pointerId;return ph.set(S,mh(ph.get(S)||null,l,u,h,g,_)),!0;case"gotpointercapture":return S=_.pointerId,gh.set(S,mh(gh.get(S)||null,l,u,h,g,_)),!0}return!1}function eN(l){var u=eu(l.target);if(u!==null){var h=a(u);if(h!==null){if(u=h.tag,u===13){if(u=s(h),u!==null){l.blockedOn=u,pO(l.priority,function(){Zk(h)});return}}else if(u===31){if(u=o(h),u!==null){l.blockedOn=u,pO(l.priority,function(){Zk(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ly(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var h=pw(l.nativeEvent);if(h===null){h=l.nativeEvent;var g=new h.constructor(h.type,h);g_=g,h.target.dispatchEvent(g),g_=null}else return u=tu(h),u!==null&&Gk(u),l.blockedOn=h,!1;u.shift()}return!0}function tN(l,u,h){ly(l)&&h.delete(u)}function TZ(){mw=!1,Bo!==null&&ly(Bo)&&(Bo=null),Lo!==null&&ly(Lo)&&(Lo=null),jo!==null&&ly(jo)&&(jo=null),ph.forEach(tN),gh.forEach(tN)}function cy(l,u){l.blockedOn===u&&(l.blockedOn=null,mw||(mw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TZ)))}var uy=null;function nN(l){uy!==l&&(uy=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){uy===l&&(uy=null);for(var u=0;u<l.length;u+=3){var h=l[u],g=l[u+1],_=l[u+2];if(typeof g!="function"){if(gw(g||h)===null)continue;break}var S=tu(h);S!==null&&(l.splice(u,3),u-=3,p1(S,{pending:!0,data:_,method:h.method,action:g},g,_))}}))}function Bu(l){function u(V){return cy(V,l)}Bo!==null&&cy(Bo,l),Lo!==null&&cy(Lo,l),jo!==null&&cy(jo,l),ph.forEach(u),gh.forEach(u);for(var h=0;h<Uo.length;h++){var g=Uo[h];g.blockedOn===l&&(g.blockedOn=null)}for(;0<Uo.length&&(h=Uo[0],h.blockedOn===null);)eN(h),h.blockedOn===null&&Uo.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var _=h[g],S=h[g+1],M=_[Br]||null;if(typeof S=="function")M||nN(h);else if(M){var N=null;if(S&&S.hasAttribute("formAction")){if(_=S,M=S[Br]||null)N=M.formAction;else if(gw(_)!==null)continue}else N=M.action;typeof N=="function"?h[g+1]=N:(h.splice(g,3),g-=3),nN(h)}}}function rN(){function l(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(M){return _=M})},focusReset:"manual",scroll:"manual"})}function u(){_!==null&&(_(),_=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,_=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),_!==null&&(_(),_=null)}}}function yw(l){this._internalRoot=l}fy.prototype.render=yw.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,g=oi();Kk(h,g,l,u,null,null)},fy.prototype.unmount=yw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;Kk(l.current,2,null,l,null,null),Wm(),u[Jc]=null}};function fy(l){this._internalRoot=l}fy.prototype.unstable_scheduleHydration=function(l){if(l){var u=hO();l={blockedOn:null,target:l,priority:u};for(var h=0;h<Uo.length&&u!==0&&u<Uo[h].priority;h++);Uo.splice(h,0,l),h===0&&eN(l)}};var iN=e.version;if(iN!=="19.2.0")throw Error(r(527,iN,"19.2.0"));q.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=f(u),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var AZ={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dy.isDisabled&&dy.supportsFiber)try{ei=dy.inject(AZ),In=dy}catch{}}return vh.createRoot=function(l,u){if(!i(l))throw Error(r(299));var h=!1,g="",_=fI,S=dI,M=hI;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError)),u=qk(l,1,!1,null,null,h,g,null,_,S,M,rN),l[Jc]=u.current,Q1(l),new yw(u)},vh.hydrateRoot=function(l,u,h){if(!i(l))throw Error(r(299));var g=!1,_="",S=fI,M=dI,N=hI,V=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(M=h.onCaughtError),h.onRecoverableError!==void 0&&(N=h.onRecoverableError),h.formState!==void 0&&(V=h.formState)),u=qk(l,1,!0,u,h??null,g,_,V,S,M,N,rN),u.context=Xk(null),h=u.current,g=oi(),g=o_(g),_=To(g),_.callback=null,Ao(h,_,g),h=g,u.current.lanes=h,Cd(u,h),Da(u),l[Jc]=u.current,Q1(l),new fy(u)},vh.version="19.2.0",vh}var pN;function DZ(){if(pN)return xw.exports;pN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xw.exports=NZ(),xw.exports}var BZ=DZ();const LZ=Aa(BZ);var gN="popstate";function jZ(t={}){function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return T2("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pp(i)}return FZ(e,n,null,t)}function Jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UZ(){return Math.random().toString(36).substring(2,10)}function mN(t,e){return{usr:t.state,key:t.key,idx:e}}function T2(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?rd(e):e,state:n,key:e&&e.key||r||UZ()}}function pp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function FZ(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",c=null,f=d();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function d(){return(s.state||{idx:null}).idx}function p(){o="POP";let w=d(),T=w==null?null:w-f;f=w,c&&c({action:o,location:b.location,delta:T})}function m(w,T){o="PUSH";let C=T2(b.location,w,T);f=d()+1;let A=mN(C,f),R=b.createHref(C);try{s.pushState(A,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(R)}a&&c&&c({action:o,location:b.location,delta:1})}function y(w,T){o="REPLACE";let C=T2(b.location,w,T);f=d();let A=mN(C,f),R=b.createHref(C);s.replaceState(A,"",R),a&&c&&c({action:o,location:b.location,delta:0})}function v(w){return $Z(w)}let b={get action(){return o},get location(){return t(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(gN,p),c=w,()=>{i.removeEventListener(gN,p),c=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let T=v(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:y,go(w){return s.go(w)}};return b}function $Z(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Jt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:pp(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function r8(t,e,n="/"){return zZ(t,e,n,!1)}function zZ(t,e,n,r){let i=typeof e=="string"?rd(e):e,a=Xs(i.pathname||"/",n);if(a==null)return null;let s=i8(t);VZ(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let f=eQ(a);o=QZ(s[c],f,r)}return o}function i8(t,e=[],n=[],r="",i=!1){let a=(s,o,c=i,f)=>{let d={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;Jt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let p=Hs([r,d.relativePath]),m=n.concat(d);s.children&&s.children.length>0&&(Jt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),i8(s.children,e,m,p,c)),!(s.path==null&&!s.index)&&e.push({path:p,score:GZ(p,s.index),routesMeta:m})};return t.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))a(s,o);else for(let c of a8(s.path))a(s,o,!0,c)}),e}function a8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=a8(r.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...s),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function VZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var HZ=/^:[\w-]+$/,WZ=3,qZ=2,XZ=1,KZ=10,YZ=-2,yN=t=>t==="*";function GZ(t,e){let n=t.split("/"),r=n.length;return n.some(yN)&&(r+=YZ),e&&(r+=qZ),n.filter(i=>!yN(i)).reduce((i,a)=>i+(HZ.test(a)?WZ:a===""?XZ:KZ),r)}function ZZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function QZ(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let c=r[o],f=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",p=Lv({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},d),m=c.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=Lv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Hs([a,p.pathname]),pathnameBase:aQ(Hs([a,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(a=Hs([a,p.pathnameBase]))}return s}function Lv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((f,{paramName:d,isOptional:p},m)=>{if(d==="*"){let v=o[m]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const y=o[m];return p&&!y?f[d]=void 0:f[d]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function JZ(t,e=!1,n=!0){xa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function eQ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var tQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nQ=t=>tQ.test(t);function rQ(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rd(t):t,a;if(n)if(nQ(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),xa(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=vN(n.substring(1),"/"):a=vN(n,e)}else a=e;return{pathname:a,search:sQ(r),hash:oQ(i)}}function vN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tw(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iQ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function s8(t){let e=iQ(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function o8(t,e,n,r=!1){let i;typeof t=="string"?i=rd(t):(i={...t},Jt(!i.pathname||!i.pathname.includes("?"),Tw("?","pathname","search",i)),Jt(!i.pathname||!i.pathname.includes("#"),Tw("#","pathname","hash",i)),Jt(!i.search||!i.search.includes("#"),Tw("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}o=p>=0?e[p]:"/"}let c=rQ(i,o),f=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||d)&&(c.pathname+="/"),c}var Hs=t=>t.join("/").replace(/\/\/+/g,"/"),aQ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sQ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oQ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lQ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function cQ(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var l8=["POST","PUT","PATCH","DELETE"];new Set(l8);var uQ=["GET",...l8];new Set(uQ);var id=x.createContext(null);id.displayName="DataRouter";var xb=x.createContext(null);xb.displayName="DataRouterState";x.createContext(!1);var c8=x.createContext({isTransitioning:!1});c8.displayName="ViewTransition";var fQ=x.createContext(new Map);fQ.displayName="Fetchers";var dQ=x.createContext(null);dQ.displayName="Await";var Ea=x.createContext(null);Ea.displayName="Navigation";var tg=x.createContext(null);tg.displayName="Location";var oo=x.createContext({outlet:null,matches:[],isDataRoute:!1});oo.displayName="Route";var oC=x.createContext(null);oC.displayName="RouteError";function hQ(t,{relative:e}={}){Jt(ng(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Ea),{hash:i,pathname:a,search:s}=rg(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:Hs([n,a])),r.createHref({pathname:o,search:s,hash:i})}function ng(){return x.useContext(tg)!=null}function pl(){return Jt(ng(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(tg).location}var u8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f8(t){x.useContext(Ea).static||x.useLayoutEffect(t)}function d8(){let{isDataRoute:t}=x.useContext(oo);return t?EQ():pQ()}function pQ(){Jt(ng(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(id),{basename:e,navigator:n}=x.useContext(Ea),{matches:r}=x.useContext(oo),{pathname:i}=pl(),a=JSON.stringify(s8(r)),s=x.useRef(!1);return f8(()=>{s.current=!0}),x.useCallback((c,f={})=>{if(xa(s.current,u8),!s.current)return;if(typeof c=="number"){n.go(c);return}let d=o8(c,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Hs([e,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[e,n,a,i,t])}x.createContext(null);function rg(t,{relative:e}={}){let{matches:n}=x.useContext(oo),{pathname:r}=pl(),i=JSON.stringify(s8(n));return x.useMemo(()=>o8(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function gQ(t,e){return h8(t,e)}function h8(t,e,n,r,i){Jt(ng(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=x.useContext(Ea),{matches:s}=x.useContext(oo),o=s[s.length-1],c=o?o.params:{},f=o?o.pathname:"/",d=o?o.pathnameBase:"/",p=o&&o.route;{let C=p&&p.path||"";p8(f,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let m=pl(),y;if(e){let C=typeof e=="string"?rd(e):e;Jt(d==="/"||C.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),y=C}else y=m;let v=y.pathname||"/",b=v;if(d!=="/"){let C=d.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=r8(t,{pathname:b});xa(p||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),xa(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=xQ(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:Hs([d,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Hs([d,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),s,n,r,i);return e&&T?x.createElement(tg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function mQ(){let t=AQ(),e=lQ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,s)}var yQ=x.createElement(mQ,null),vQ=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?x.createElement(oo.Provider,{value:this.props.routeContext},x.createElement(oC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bQ({routeContext:t,match:e,children:n}){let r=x.useContext(id);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(oo.Provider,{value:t},n)}function xQ(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n?.errors;if(s!=null){let d=a.findIndex(p=>p.route.id&&s?.[p.route.id]!==void 0);Jt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let o=!1,c=-1;if(n)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:m,errors:y}=n,v=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let f=n&&r?(d,p)=>{r(d,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:cQ(n.matches),errorInfo:p})}:void 0;return a.reduceRight((d,p,m)=>{let y,v=!1,b=null,w=null;n&&(y=s&&p.route.id?s[p.route.id]:void 0,b=p.route.errorElement||yQ,o&&(c<0&&m===0?(p8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):c===m&&(v=!0,w=p.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,m+1)),C=()=>{let A;return y?A=b:v?A=w:p.route.Component?A=x.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=d,x.createElement(bQ,{match:p,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?x.createElement(vQ,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:C(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:f}):C()},null)}function lC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _Q(t){let e=x.useContext(id);return Jt(e,lC(t)),e}function wQ(t){let e=x.useContext(xb);return Jt(e,lC(t)),e}function SQ(t){let e=x.useContext(oo);return Jt(e,lC(t)),e}function cC(t){let e=SQ(t),n=e.matches[e.matches.length-1];return Jt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function TQ(){return cC("useRouteId")}function AQ(){let t=x.useContext(oC),e=wQ("useRouteError"),n=cC("useRouteError");return t!==void 0?t:e.errors?.[n]}function EQ(){let{router:t}=_Q("useNavigate"),e=cC("useNavigate"),n=x.useRef(!1);return f8(()=>{n.current=!0}),x.useCallback(async(i,a={})=>{xa(n.current,u8),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var bN={};function p8(t,e,n){!e&&!bN[t]&&(bN[t]=!0,xa(!1,n))}x.memo(CQ);function CQ({routes:t,future:e,state:n,unstable_onError:r}){return h8(t,void 0,n,r,e)}function Ds(t){Jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PQ({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Jt(!ng(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof n=="string"&&(n=rd(n));let{pathname:f="/",search:d="",hash:p="",state:m=null,key:y="default"}=n,v=x.useMemo(()=>{let b=Xs(f,o);return b==null?null:{location:{pathname:b,search:d,hash:p,state:m,key:y},navigationType:r}},[o,f,d,p,m,y,r]);return xa(v!=null,`<Router basename="${o}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:x.createElement(Ea.Provider,{value:c},x.createElement(tg.Provider,{children:e,value:v}))}function RQ({children:t,location:e}){return gQ(A2(t),e)}function A2(t,e=[]){let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let a=[...e,i];if(r.type===x.Fragment){n.push.apply(n,A2(r.props.children,a));return}Jt(r.type===Ds,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=A2(r.props.children,a)),n.push(s)}),n}var ov="get",lv="application/x-www-form-urlencoded";function _b(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function OQ(t){return _b(t)&&t.tagName.toLowerCase()==="button"}function MQ(t){return _b(t)&&t.tagName.toLowerCase()==="form"}function IQ(t){return _b(t)&&t.tagName.toLowerCase()==="input"}function kQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NQ(t,e){return t.button===0&&(!e||e==="_self")&&!kQ(t)}var hy=null;function DQ(){if(hy===null)try{new FormData(document.createElement("form"),0),hy=!1}catch{hy=!0}return hy}var BQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Aw(t){return t!=null&&!BQ.has(t)?(xa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lv}"`),null):t}function LQ(t,e){let n,r,i,a,s;if(MQ(t)){let o=t.getAttribute("action");r=o?Xs(o,e):null,n=t.getAttribute("method")||ov,i=Aw(t.getAttribute("enctype"))||lv,a=new FormData(t)}else if(OQ(t)||IQ(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||o.getAttribute("action");if(r=c?Xs(c,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||ov,i=Aw(t.getAttribute("formenctype"))||Aw(o.getAttribute("enctype"))||lv,a=new FormData(o,t),!DQ()){let{name:f,type:d,value:p}=t;if(d==="image"){let m=f?`${f}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else f&&a.append(f,p)}}else{if(_b(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ov,r=null,i=lv,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uC(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jQ(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Xs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function UQ(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FQ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $Q(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await UQ(a,n);return s.links?s.links():[]}return[]}));return WQ(r.flat(1).filter(FQ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function xN(t,e,n,r,i,a){let s=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,o=(c,f)=>n[f].pathname!==c.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,f)=>s(c,f)||o(c,f)):a==="data"?e.filter((c,f)=>{let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,f)||o(c,f))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function zQ(t,e,{includeHydrateFallback:n}={}){return VQ(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function VQ(t){return[...new Set(t)]}function HQ(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function WQ(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(HQ(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function g8(){let t=x.useContext(id);return uC(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function qQ(){let t=x.useContext(xb);return uC(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fC=x.createContext(void 0);fC.displayName="FrameworkContext";function m8(){let t=x.useContext(fC);return uC(t,"You must render this element inside a <HydratedRouter> element"),t}function XQ(t,e){let n=x.useContext(fC),[r,i]=x.useState(!1),[a,s]=x.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:f,onMouseLeave:d,onTouchStart:p}=e,m=x.useRef(null);x.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let b=T=>{T.forEach(C=>{s(C.isIntersecting)})},w=new IntersectionObserver(b,{threshold:.5});return m.current&&w.observe(m.current),()=>{w.disconnect()}}},[t]),x.useEffect(()=>{if(r){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[r]);let y=()=>{i(!0)},v=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,m,{}]:[a,m,{onFocus:bh(o,y),onBlur:bh(c,v),onMouseEnter:bh(f,y),onMouseLeave:bh(d,v),onTouchStart:bh(p,y)}]:[!1,m,{}]}function bh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function KQ({page:t,...e}){let{router:n}=g8(),r=x.useMemo(()=>r8(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(GQ,{page:t,matches:r,...e}):null}function YQ(t){let{manifest:e,routeModules:n}=m8(),[r,i]=x.useState([]);return x.useEffect(()=>{let a=!1;return $Q(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function GQ({page:t,matches:e,...n}){let r=pl(),{manifest:i,routeModules:a}=m8(),{basename:s}=g8(),{loaderData:o,matches:c}=qQ(),f=x.useMemo(()=>xN(t,e,c,i,r,"data"),[t,e,c,i,r]),d=x.useMemo(()=>xN(t,e,c,i,r,"assets"),[t,e,c,i,r]),p=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,b=!1;if(e.forEach(T=>{let C=i.routes[T.route.id];!C||!C.hasLoader||(!f.some(A=>A.route.id===T.route.id)&&T.route.id in o&&a[T.route.id]?.shouldRevalidate||C.hasClientLoader?b=!0:v.add(T.route.id))}),v.size===0)return[];let w=jQ(t,s,"data");return b&&v.size>0&&w.searchParams.set("_routes",e.filter(T=>v.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[s,o,r,i,f,e,t,a]),m=x.useMemo(()=>zQ(d,i),[d,i]),y=YQ(d);return x.createElement(x.Fragment,null,p.map(v=>x.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),m.map(v=>x.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),y.map(({key:v,link:b})=>x.createElement("link",{key:v,nonce:n.nonce,...b})))}function ZQ(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var y8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y8&&(window.__reactRouterVersion="7.10.0")}catch{}function QQ({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=x.useRef();i.current==null&&(i.current=jZ({window:r,v5Compat:!0}));let a=i.current,[s,o]=x.useState({action:a.action,location:a.location}),c=x.useCallback(f=>{n===!1?o(f):x.startTransition(()=>o(f))},[n]);return x.useLayoutEffect(()=>a.listen(c),[a,c]),x.createElement(PQ,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n===!0})}var v8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b8=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:c,to:f,preventScrollReset:d,viewTransition:p,...m},y){let{basename:v,unstable_useTransitions:b}=x.useContext(Ea),w=typeof f=="string"&&v8.test(f),T,C=!1;if(typeof f=="string"&&w&&(T=f,y8))try{let $=new URL(window.location.href),j=f.startsWith("//")?new URL($.protocol+f):new URL(f),I=Xs(j.pathname,v);j.origin===$.origin&&I!=null?f=I+j.search+j.hash:C=!0}catch{xa(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=hQ(f,{relative:i}),[R,P,O]=XQ(r,m),k=nJ(f,{replace:s,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:p,unstable_useTransitions:b});function D($){e&&e($),$.defaultPrevented||k($)}let L=x.createElement("a",{...m,...O,href:T||A,onClick:C||a?e:D,ref:ZQ(y,P),target:c,"data-discover":!w&&n==="render"?"true":void 0});return R&&!w?x.createElement(x.Fragment,null,L,x.createElement(KQ,{page:A})):L});b8.displayName="Link";var JQ=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:c,...f},d){let p=rg(s,{relative:f.relative}),m=pl(),y=x.useContext(xb),{navigator:v,basename:b}=x.useContext(Ea),w=y!=null&&oJ(p)&&o===!0,T=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,C=m.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(C=C.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&b&&(A=Xs(A,b)||A);const R=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let P=C===T||!i&&C.startsWith(T)&&C.charAt(R)==="/",O=A!=null&&(A===T||!i&&A.startsWith(T)&&A.charAt(T.length)==="/"),k={isActive:P,isPending:O,isTransitioning:w},D=P?e:void 0,L;typeof r=="function"?L=r(k):L=[r,P?"active":null,O?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let $=typeof a=="function"?a(k):a;return x.createElement(b8,{...f,"aria-current":D,className:L,ref:d,style:$,to:s,viewTransition:o},typeof c=="function"?c(k):c)});JQ.displayName="NavLink";var eJ=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=ov,action:o,onSubmit:c,relative:f,preventScrollReset:d,viewTransition:p,...m},y)=>{let{unstable_useTransitions:v}=x.useContext(Ea),b=aJ(),w=sJ(o,{relative:f}),T=s.toLowerCase()==="get"?"get":"post",C=typeof o=="string"&&v8.test(o),A=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let P=R.nativeEvent.submitter,O=P?.getAttribute("formmethod")||s,k=()=>b(P||R.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:a,relative:f,preventScrollReset:d,viewTransition:p});v&&n!==!1?x.startTransition(()=>k()):k()};return x.createElement("form",{ref:y,method:T,action:w,onSubmit:r?c:A,...m,"data-discover":!C&&t==="render"?"true":void 0})});eJ.displayName="Form";function tJ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x8(t){let e=x.useContext(id);return Jt(e,tJ(t)),e}function nJ(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_useTransitions:o}={}){let c=d8(),f=pl(),d=rg(t,{relative:a});return x.useCallback(p=>{if(NQ(p,e)){p.preventDefault();let m=n!==void 0?n:pp(f)===pp(d),y=()=>c(t,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:s});o?x.startTransition(()=>y()):y()}},[f,c,d,n,r,e,t,i,a,s,o])}var rJ=0,iJ=()=>`__${String(++rJ)}__`;function aJ(){let{router:t}=x8("useSubmit"),{basename:e}=x.useContext(Ea),n=TQ(),r=t.fetch,i=t.navigate;return x.useCallback(async(a,s={})=>{let{action:o,method:c,encType:f,formData:d,body:p}=LQ(a,e);if(s.navigate===!1){let m=s.fetcherKey||iJ();await r(m,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await i(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function sJ(t,{relative:e}={}){let{basename:n}=x.useContext(Ea),r=x.useContext(oo);Jt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...rg(t||".",{relative:e})},s=pl();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(p=>p).forEach(p=>o.append("index",p));let d=o.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Hs([n,a.pathname])),pp(a)}function oJ(t,{relative:e}={}){let n=x.useContext(c8);Jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=x8("useViewTransitionState"),i=rg(t,{relative:e});if(!n.isTransitioning)return!1;let a=Xs(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Xs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lv(i.pathname,s)!=null||Lv(i.pathname,a)!=null}var Fc=n8();const py=Aa(Fc);function Ac(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const Ga="$$material";function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(null,arguments)}function lJ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function cJ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var uJ=(function(){function t(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(cJ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=lJ(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t})(),mr="-ms-",Uv="-moz-",lt="-webkit-",_8="comm",dC="rule",hC="decl",fJ="@import",w8="@keyframes",dJ="@layer",hJ=Math.abs,wb=String.fromCharCode,pJ=Object.assign;function gJ(t,e){return ur(t,0)^45?(((e<<2^ur(t,0))<<2^ur(t,1))<<2^ur(t,2))<<2^ur(t,3):0}function S8(t){return t.trim()}function mJ(t,e){return(t=e.exec(t))?t[0]:t}function ct(t,e,n){return t.replace(e,n)}function E2(t,e){return t.indexOf(e)}function ur(t,e){return t.charCodeAt(e)|0}function gp(t,e,n){return t.slice(e,n)}function $a(t){return t.length}function pC(t){return t.length}function gy(t,e){return e.push(t),t}function yJ(t,e){return t.map(e).join("")}var Sb=1,Pf=1,T8=0,Qr=0,Rn=0,ad="";function Tb(t,e,n,r,i,a,s){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:Sb,column:Pf,length:s,return:""}}function xh(t,e){return pJ(Tb("",null,null,"",null,null,0),t,{length:-t.length},e)}function vJ(){return Rn}function bJ(){return Rn=Qr>0?ur(ad,--Qr):0,Pf--,Rn===10&&(Pf=1,Sb--),Rn}function yi(){return Rn=Qr<T8?ur(ad,Qr++):0,Pf++,Rn===10&&(Pf=1,Sb++),Rn}function Za(){return ur(ad,Qr)}function cv(){return Qr}function ig(t,e){return gp(ad,t,e)}function mp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A8(t){return Sb=Pf=1,T8=$a(ad=t),Qr=0,[]}function E8(t){return ad="",t}function uv(t){return S8(ig(Qr-1,C2(t===91?t+2:t===40?t+1:t)))}function xJ(t){for(;(Rn=Za())&&Rn<33;)yi();return mp(t)>2||mp(Rn)>3?"":" "}function _J(t,e){for(;--e&&yi()&&!(Rn<48||Rn>102||Rn>57&&Rn<65||Rn>70&&Rn<97););return ig(t,cv()+(e<6&&Za()==32&&yi()==32))}function C2(t){for(;yi();)switch(Rn){case t:return Qr;case 34:case 39:t!==34&&t!==39&&C2(Rn);break;case 40:t===41&&C2(t);break;case 92:yi();break}return Qr}function wJ(t,e){for(;yi()&&t+Rn!==57;)if(t+Rn===84&&Za()===47)break;return"/*"+ig(e,Qr-1)+"*"+wb(t===47?t:yi())}function SJ(t){for(;!mp(Za());)yi();return ig(t,Qr)}function TJ(t){return E8(fv("",null,null,null,[""],t=A8(t),0,[0],t))}function fv(t,e,n,r,i,a,s,o,c){for(var f=0,d=0,p=s,m=0,y=0,v=0,b=1,w=1,T=1,C=0,A="",R=i,P=a,O=r,k=A;w;)switch(v=C,C=yi()){case 40:if(v!=108&&ur(k,p-1)==58){E2(k+=ct(uv(C),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:k+=uv(C);break;case 9:case 10:case 13:case 32:k+=xJ(v);break;case 92:k+=_J(cv()-1,7);continue;case 47:switch(Za()){case 42:case 47:gy(AJ(wJ(yi(),cv()),e,n),c);break;default:k+="/"}break;case 123*b:o[f++]=$a(k)*T;case 125*b:case 59:case 0:switch(C){case 0:case 125:w=0;case 59+d:T==-1&&(k=ct(k,/\f/g,"")),y>0&&$a(k)-p&&gy(y>32?wN(k+";",r,n,p-1):wN(ct(k," ","")+";",r,n,p-2),c);break;case 59:k+=";";default:if(gy(O=_N(k,e,n,f,d,i,o,A,R=[],P=[],p),a),C===123)if(d===0)fv(k,e,O,O,R,a,p,o,P);else switch(m===99&&ur(k,3)===110?100:m){case 100:case 108:case 109:case 115:fv(t,O,O,r&&gy(_N(t,O,O,0,0,i,o,A,i,R=[],p),P),i,P,p,o,r?R:P);break;default:fv(k,O,O,O,[""],P,0,o,P)}}f=d=y=0,b=T=1,A=k="",p=s;break;case 58:p=1+$a(k),y=v;default:if(b<1){if(C==123)--b;else if(C==125&&b++==0&&bJ()==125)continue}switch(k+=wb(C),C*b){case 38:T=d>0?1:(k+="\f",-1);break;case 44:o[f++]=($a(k)-1)*T,T=1;break;case 64:Za()===45&&(k+=uv(yi())),m=Za(),d=p=$a(A=k+=SJ(cv())),C++;break;case 45:v===45&&$a(k)==2&&(b=0)}}return a}function _N(t,e,n,r,i,a,s,o,c,f,d){for(var p=i-1,m=i===0?a:[""],y=pC(m),v=0,b=0,w=0;v<r;++v)for(var T=0,C=gp(t,p+1,p=hJ(b=s[v])),A=t;T<y;++T)(A=S8(b>0?m[T]+" "+C:ct(C,/&\f/g,m[T])))&&(c[w++]=A);return Tb(t,e,n,i===0?dC:o,c,f,d)}function AJ(t,e,n){return Tb(t,e,n,_8,wb(vJ()),gp(t,2,-2),0)}function wN(t,e,n,r){return Tb(t,e,n,hC,gp(t,0,r),gp(t,r+1,-1),r)}function vf(t,e){for(var n="",r=pC(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function EJ(t,e,n,r){switch(t.type){case dJ:if(t.children.length)break;case fJ:case hC:return t.return=t.return||t.value;case _8:return"";case w8:return t.return=t.value+"{"+vf(t.children,r)+"}";case dC:t.value=t.props.join(",")}return $a(n=vf(t.children,r))?t.return=t.value+"{"+n+"}":""}function CJ(t){var e=pC(t);return function(n,r,i,a){for(var s="",o=0;o<e;o++)s+=t[o](n,r,i,a)||"";return s}}function PJ(t){return function(e){e.root||(e=e.return)&&t(e)}}function C8(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var RJ=function(e,n,r){for(var i=0,a=0;i=a,a=Za(),i===38&&a===12&&(n[r]=1),!mp(a);)yi();return ig(e,Qr)},OJ=function(e,n){var r=-1,i=44;do switch(mp(i)){case 0:i===38&&Za()===12&&(n[r]=1),e[r]+=RJ(Qr-1,n,r);break;case 2:e[r]+=uv(i);break;case 4:if(i===44){e[++r]=Za()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=wb(i)}while(i=yi());return e},MJ=function(e,n){return E8(OJ(A8(e),n))},SN=new WeakMap,IJ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!SN.get(r))&&!i){SN.set(e,!0);for(var a=[],s=MJ(n,a),o=r.props,c=0,f=0;c<s.length;c++)for(var d=0;d<o.length;d++,f++)e.props[f]=a[c]?s[c].replace(/&\f/g,o[d]):o[d]+" "+s[c]}}},kJ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function P8(t,e){switch(gJ(t,e)){case 5103:return lt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return lt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return lt+t+Uv+t+mr+t+t;case 6828:case 4268:return lt+t+mr+t+t;case 6165:return lt+t+mr+"flex-"+t+t;case 5187:return lt+t+ct(t,/(\w+).+(:[^]+)/,lt+"box-$1$2"+mr+"flex-$1$2")+t;case 5443:return lt+t+mr+"flex-item-"+ct(t,/flex-|-self/,"")+t;case 4675:return lt+t+mr+"flex-line-pack"+ct(t,/align-content|flex-|-self/,"")+t;case 5548:return lt+t+mr+ct(t,"shrink","negative")+t;case 5292:return lt+t+mr+ct(t,"basis","preferred-size")+t;case 6060:return lt+"box-"+ct(t,"-grow","")+lt+t+mr+ct(t,"grow","positive")+t;case 4554:return lt+ct(t,/([^-])(transform)/g,"$1"+lt+"$2")+t;case 6187:return ct(ct(ct(t,/(zoom-|grab)/,lt+"$1"),/(image-set)/,lt+"$1"),t,"")+t;case 5495:case 3959:return ct(t,/(image-set\([^]*)/,lt+"$1$`$1");case 4968:return ct(ct(t,/(.+:)(flex-)?(.*)/,lt+"box-pack:$3"+mr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+lt+t+t;case 4095:case 3583:case 4068:case 2532:return ct(t,/(.+)-inline(.+)/,lt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($a(t)-1-e>6)switch(ur(t,e+1)){case 109:if(ur(t,e+4)!==45)break;case 102:return ct(t,/(.+:)(.+)-([^]+)/,"$1"+lt+"$2-$3$1"+Uv+(ur(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~E2(t,"stretch")?P8(ct(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ur(t,e+1)!==115)break;case 6444:switch(ur(t,$a(t)-3-(~E2(t,"!important")&&10))){case 107:return ct(t,":",":"+lt)+t;case 101:return ct(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+lt+(ur(t,14)===45?"inline-":"")+"box$3$1"+lt+"$2$3$1"+mr+"$2box$3")+t}break;case 5936:switch(ur(t,e+11)){case 114:return lt+t+mr+ct(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return lt+t+mr+ct(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return lt+t+mr+ct(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return lt+t+mr+t+t}return t}var NJ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case hC:e.return=P8(e.value,e.length);break;case w8:return vf([xh(e,{value:ct(e.value,"@","@"+lt)})],i);case dC:if(e.length)return yJ(e.props,function(a){switch(mJ(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vf([xh(e,{props:[ct(a,/:(read-\w+)/,":"+Uv+"$1")]})],i);case"::placeholder":return vf([xh(e,{props:[ct(a,/:(plac\w+)/,":"+lt+"input-$1")]}),xh(e,{props:[ct(a,/:(plac\w+)/,":"+Uv+"$1")]}),xh(e,{props:[ct(a,/:(plac\w+)/,mr+"input-$1")]})],i)}return""})}},DJ=[NJ],BJ=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var w=b.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||DJ,a={},s,o=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var w=b.getAttribute("data-emotion").split(" "),T=1;T<w.length;T++)a[w[T]]=!0;o.push(b)});var c,f=[IJ,kJ];{var d,p=[EJ,PJ(function(b){d.insert(b)})],m=CJ(f.concat(i,p)),y=function(w){return vf(TJ(w),m)};c=function(w,T,C,A){d=C,y(w?w+"{"+T.styles+"}":T.styles),A&&(v.inserted[T.name]=!0)}}var v={key:n,sheet:new uJ({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return v.sheet.hydrate(o),v},Ew={exports:{}},ft={};var TN;function LJ(){if(TN)return ft;TN=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,o=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,T=t?Symbol.for("react.responder"):60118,C=t?Symbol.for("react.scope"):60119;function A(P){if(typeof P=="object"&&P!==null){var O=P.$$typeof;switch(O){case e:switch(P=P.type,P){case c:case f:case r:case a:case i:case p:return P;default:switch(P=P&&P.$$typeof,P){case o:case d:case v:case y:case s:return P;default:return O}}case n:return O}}}function R(P){return A(P)===f}return ft.AsyncMode=c,ft.ConcurrentMode=f,ft.ContextConsumer=o,ft.ContextProvider=s,ft.Element=e,ft.ForwardRef=d,ft.Fragment=r,ft.Lazy=v,ft.Memo=y,ft.Portal=n,ft.Profiler=a,ft.StrictMode=i,ft.Suspense=p,ft.isAsyncMode=function(P){return R(P)||A(P)===c},ft.isConcurrentMode=R,ft.isContextConsumer=function(P){return A(P)===o},ft.isContextProvider=function(P){return A(P)===s},ft.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},ft.isForwardRef=function(P){return A(P)===d},ft.isFragment=function(P){return A(P)===r},ft.isLazy=function(P){return A(P)===v},ft.isMemo=function(P){return A(P)===y},ft.isPortal=function(P){return A(P)===n},ft.isProfiler=function(P){return A(P)===a},ft.isStrictMode=function(P){return A(P)===i},ft.isSuspense=function(P){return A(P)===p},ft.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===r||P===f||P===a||P===i||P===p||P===m||typeof P=="object"&&P!==null&&(P.$$typeof===v||P.$$typeof===y||P.$$typeof===s||P.$$typeof===o||P.$$typeof===d||P.$$typeof===w||P.$$typeof===T||P.$$typeof===C||P.$$typeof===b)},ft.typeOf=A,ft}var AN;function jJ(){return AN||(AN=1,Ew.exports=LJ()),Ew.exports}var Cw,EN;function UJ(){if(EN)return Cw;EN=1;var t=jJ(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=r,a[t.Memo]=i;function s(v){return t.isMemo(v)?i:a[v.$$typeof]||e}var o=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;function y(v,b,w){if(typeof b!="string"){if(m){var T=p(b);T&&T!==m&&y(v,T,w)}var C=c(b);f&&(C=C.concat(f(b)));for(var A=s(v),R=s(b),P=0;P<C.length;++P){var O=C[P];if(!n[O]&&!(w&&w[O])&&!(R&&R[O])&&!(A&&A[O])){var k=d(b,O);try{o(v,O,k)}catch{}}}}return v}return Cw=y,Cw}UJ();var FJ=!0;function R8(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var gC=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||FJ===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},mC=function(e,n,r){gC(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function $J(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var zJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},VJ=/[A-Z]|^ms/g,HJ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,O8=function(e){return e.charCodeAt(1)===45},CN=function(e){return e!=null&&typeof e!="boolean"},Pw=C8(function(t){return O8(t)?t:t.replace(VJ,"-$&").toLowerCase()}),PN=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(HJ,function(r,i,a){return za={name:i,styles:a,next:za},i})}return zJ[e]!==1&&!O8(e)&&typeof n=="number"&&n!==0?n+"px":n};function yp(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return za={name:i.name,styles:i.styles,next:za},i.name;var a=n;if(a.styles!==void 0){var s=a.next;if(s!==void 0)for(;s!==void 0;)za={name:s.name,styles:s.styles,next:za},s=s.next;var o=a.styles+";";return o}return WJ(t,e,n)}case"function":{if(t!==void 0){var c=za,f=n(t);return za=c,yp(t,e,f)}break}}var d=n;if(e==null)return d;var p=e[d];return p!==void 0?p:d}function WJ(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=yp(t,e,n[i])+";";else for(var a in n){var s=n[a];if(typeof s!="object"){var o=s;e!=null&&e[o]!==void 0?r+=a+"{"+e[o]+"}":CN(o)&&(r+=Pw(a)+":"+PN(a,o)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var c=0;c<s.length;c++)CN(s[c])&&(r+=Pw(a)+":"+PN(a,s[c])+";");else{var f=yp(t,e,s);switch(a){case"animation":case"animationName":{r+=Pw(a)+":"+f+";";break}default:r+=a+"{"+f+"}"}}}return r}var RN=/label:\s*([^\s;{]+)\s*(;|$)/g,za;function ag(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";za=void 0;var a=t[0];if(a==null||a.raw===void 0)r=!1,i+=yp(n,e,a);else{var s=a;i+=s[0]}for(var o=1;o<t.length;o++)if(i+=yp(n,e,t[o]),r){var c=a;i+=c[o]}RN.lastIndex=0;for(var f="",d;(d=RN.exec(i))!==null;)f+="-"+d[1];var p=$J(i)+f;return{name:p,styles:i,next:za}}var qJ=function(e){return e()},M8=Bv.useInsertionEffect?Bv.useInsertionEffect:!1,I8=M8||qJ,ON=M8||x.useLayoutEffect,k8=x.createContext(typeof HTMLElement<"u"?BJ({key:"css"}):null);k8.Provider;var yC=function(e){return x.forwardRef(function(n,r){var i=x.useContext(k8);return e(n,i,r)})},sg=x.createContext({}),vC={}.hasOwnProperty,P2="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",XJ=function(e,n){var r={};for(var i in n)vC.call(n,i)&&(r[i]=n[i]);return r[P2]=e,r},KJ=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return gC(n,r,i),I8(function(){return mC(n,r,i)}),null},YJ=yC(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[P2],a=[r],s="";typeof t.className=="string"?s=R8(e.registered,a,t.className):t.className!=null&&(s=t.className+" ");var o=ag(a,void 0,x.useContext(sg));s+=e.key+"-"+o.name;var c={};for(var f in t)vC.call(t,f)&&f!=="css"&&f!==P2&&(c[f]=t[f]);return c.className=s,n&&(c.ref=n),x.createElement(x.Fragment,null,x.createElement(KJ,{cache:e,serialized:o,isStringTag:typeof i=="string"}),x.createElement(i,c))}),GJ=YJ,MN=function(e,n){var r=arguments;if(n==null||!vC.call(n,"css"))return x.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=GJ,a[1]=XJ(e,n);for(var s=2;s<i;s++)a[s]=r[s];return x.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(MN||(MN={}));var ZJ=yC(function(t,e){var n=t.styles,r=ag([n],void 0,x.useContext(sg)),i=x.useRef();return ON(function(){var a=e.key+"-global",s=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,c=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),c!==null&&(o=!0,c.setAttribute("data-emotion",a),s.hydrate([c])),i.current=[s,o],function(){s.flush()}},[e]),ON(function(){var a=i.current,s=a[0],o=a[1];if(o){a[1]=!1;return}if(r.next!==void 0&&mC(e,r.next,!0),s.tags.length){var c=s.tags[s.tags.length-1].nextElementSibling;s.before=c,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function sd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return ag(e)}function gl(){var t=sd.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var QJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,JJ=C8(function(t){return QJ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),eee=JJ,tee=function(e){return e!=="theme"},IN=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?eee:tee},kN=function(e,n,r){var i;if(n){var a=n.shouldForwardProp;i=e.__emotion_forwardProp&&a?function(s){return e.__emotion_forwardProp(s)&&a(s)}:a}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},nee=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return gC(n,r,i),I8(function(){return mC(n,r,i)}),null},ree=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,a,s;n!==void 0&&(a=n.label,s=n.target);var o=kN(e,n,r),c=o||IN(i),f=!c("as");return function(){var d=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&p.push("label:"+a+";"),d[0]==null||d[0].raw===void 0)p.push.apply(p,d);else{var m=d[0];p.push(m[0]);for(var y=d.length,v=1;v<y;v++)p.push(d[v],m[v])}var b=yC(function(w,T,C){var A=f&&w.as||i,R="",P=[],O=w;if(w.theme==null){O={};for(var k in w)O[k]=w[k];O.theme=x.useContext(sg)}typeof w.className=="string"?R=R8(T.registered,P,w.className):w.className!=null&&(R=w.className+" ");var D=ag(p.concat(P),T.registered,O);R+=T.key+"-"+D.name,s!==void 0&&(R+=" "+s);var L=f&&o===void 0?IN(A):c,$={};for(var j in w)f&&j==="as"||L(j)&&($[j]=w[j]);return $.className=R,C&&($.ref=C),x.createElement(x.Fragment,null,x.createElement(nee,{cache:T,serialized:D,isStringTag:typeof A=="string"}),x.createElement(A,$))});return b.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=p,b.__emotion_forwardProp=o,Object.defineProperty(b,"toString",{value:function(){return"."+s}}),b.withComponent=function(w,T){var C=t(w,jv({},n,T,{shouldForwardProp:kN(b,T,!0)}));return C.apply(void 0,p)},b}},iee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],R2=ree.bind(null);iee.forEach(function(t){R2[t]=R2(t)});function aee(t){return t==null||Object.keys(t).length===0}function N8(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(aee(i)?n:i):e;return E.jsx(ZJ,{styles:r})}function D8(t,e){return R2(t,e)}function see(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const NN=[];function tl(t){return NN[0]=t,ag(NN)}var Rw={exports:{}},Tt={};var DN;function oee(){if(DN)return Tt;DN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function v(b){if(typeof b=="object"&&b!==null){var w=b.$$typeof;switch(w){case t:switch(b=b.type,b){case n:case i:case r:case c:case f:case m:return b;default:switch(b=b&&b.$$typeof,b){case s:case o:case p:case d:return b;case a:return b;default:return w}}case e:return w}}}return Tt.ContextConsumer=a,Tt.ContextProvider=s,Tt.Element=t,Tt.ForwardRef=o,Tt.Fragment=n,Tt.Lazy=p,Tt.Memo=d,Tt.Portal=e,Tt.Profiler=i,Tt.StrictMode=r,Tt.Suspense=c,Tt.SuspenseList=f,Tt.isContextConsumer=function(b){return v(b)===a},Tt.isContextProvider=function(b){return v(b)===s},Tt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},Tt.isForwardRef=function(b){return v(b)===o},Tt.isFragment=function(b){return v(b)===n},Tt.isLazy=function(b){return v(b)===p},Tt.isMemo=function(b){return v(b)===d},Tt.isPortal=function(b){return v(b)===e},Tt.isProfiler=function(b){return v(b)===i},Tt.isStrictMode=function(b){return v(b)===r},Tt.isSuspense=function(b){return v(b)===c},Tt.isSuspenseList=function(b){return v(b)===f},Tt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===c||b===f||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===d||b.$$typeof===s||b.$$typeof===a||b.$$typeof===o||b.$$typeof===y||b.getModuleId!==void 0)},Tt.typeOf=v,Tt}var BN;function lee(){return BN||(BN=1,Rw.exports=oee()),Rw.exports}var bC=lee();function qa(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function B8(t){if(x.isValidElement(t)||bC.isValidElementType(t)||!qa(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=B8(t[n])}),e}function vi(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return qa(t)&&qa(e)&&Object.keys(e).forEach(i=>{x.isValidElement(e[i])||bC.isValidElementType(e[i])?r[i]=e[i]:qa(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&qa(t[i])?r[i]=vi(t[i],e[i],n):n.clone?r[i]=qa(e[i])?B8(e[i]):e[i]:r[i]=e[i]}),r}const cee=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function uee(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,a=cee(e),s=Object.keys(a);function o(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function c(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function f(m,y){const v=s.indexOf(y);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(v!==-1&&typeof e[s[v]]=="number"?e[s[v]]:y)-r/100}${n})`}function d(m){return s.indexOf(m)+1<s.length?f(m,s[s.indexOf(m)+1]):o(m)}function p(m){const y=s.indexOf(m);return y===0?o(s[1]):y===s.length-1?c(s[y]):f(m,s[s.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:s,values:a,up:o,down:c,between:f,only:d,not:p,unit:n,...i}}function LN(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{const a=/min-width:\s*([0-9.]+)/;return+(r.match(a)?.[1]||0)-+(i.match(a)?.[1]||0)});return n.length?n.reduce((r,i)=>{const a=e[i];return delete r[i],r[i]=a,r},{...e}):e}function fee(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function dee(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,a=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(a)}function hee(t){const e=(a,s)=>a.replace("@media",s?`@container ${s}`:"@container");function n(a,s){a.up=(...o)=>e(t.breakpoints.up(...o),s),a.down=(...o)=>e(t.breakpoints.down(...o),s),a.between=(...o)=>e(t.breakpoints.between(...o),s),a.only=(...o)=>e(t.breakpoints.only(...o),s),a.not=(...o)=>{const c=e(t.breakpoints.not(...o),s);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},i=a=>(n(r,a),r);return n(i),{...t,containerQueries:i}}const pee={borderRadius:4};function Gh(t,e){return e?vi(t,e,{clone:!1}):t}const Ab={xs:0,sm:600,md:900,lg:1200,xl:1536},jN={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Ab[t]}px)`},gee={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Ab[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Ks(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const a=r.breakpoints||jN;return e.reduce((s,o,c)=>(s[a.up(a.keys[c])]=n(e[c]),s),{})}if(typeof e=="object"){const a=r.breakpoints||jN;return Object.keys(e).reduce((s,o)=>{if(fee(a.keys,o)){const c=dee(r.containerQueries?r:gee,o);c&&(s[c]=n(e[o],o))}else if(Object.keys(a.values||Ab).includes(o)){const c=a.up(o);s[c]=n(e[o],o)}else{const c=o;s[c]=e[c]}return s},{})}return n(e)}function mee(t={}){return t.keys?.reduce((n,r)=>{const i=t.up(r);return n[i]={},n},{})||{}}function UN(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function xe(t){if(typeof t!="string")throw new Error(Ac(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Eb(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Fv(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Eb(t,n)||r,e&&(i=e(i,r,t)),i}function bn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,a=s=>{if(s[e]==null)return null;const o=s[e],c=s.theme,f=Eb(c,r)||{};return Ks(s,o,p=>{let m=Fv(f,i,p);return p===m&&typeof p=="string"&&(m=Fv(f,i,`${e}${p==="default"?"":xe(p)}`,p)),n===!1?m:{[n]:m}})};return a.propTypes={},a.filterProps=[e],a}function yee(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const vee={m:"margin",p:"padding"},bee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},FN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},xee=yee(t=>{if(t.length>2)if(FN[t])t=FN[t];else return[t];const[e,n]=t.split(""),r=vee[e],i=bee[n]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),xC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],_C=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...xC,..._C];function og(t,e,n,r){const i=Eb(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?a=>typeof a=="string"?a:typeof i=="string"?i.startsWith("var(")&&a===0?0:i.startsWith("var(")&&a===1?i:`calc(${a} * ${i})`:i*a:Array.isArray(i)?a=>{if(typeof a=="string")return a;const s=Math.abs(a),o=i[s];return a>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof i=="function"?i:()=>{}}function wC(t){return og(t,"spacing",8)}function lg(t,e){return typeof e=="string"||e==null?e:t(e)}function _ee(t,e){return n=>t.reduce((r,i)=>(r[i]=lg(e,n),r),{})}function wee(t,e,n,r){if(!e.includes(n))return null;const i=xee(n),a=_ee(i,r),s=t[n];return Ks(t,s,a)}function L8(t,e){const n=wC(t.theme);return Object.keys(t).map(r=>wee(t,e,r,n)).reduce(Gh,{})}function cn(t){return L8(t,xC)}cn.propTypes={};cn.filterProps=xC;function un(t){return L8(t,_C)}un.propTypes={};un.filterProps=_C;function j8(t=8,e=wC({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(a=>{const s=e(a);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function Cb(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),n=r=>Object.keys(r).reduce((i,a)=>e[a]?Gh(i,e[a](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function $i(t){return typeof t!="number"?t:`${t}px solid`}function na(t,e){return bn({prop:t,themeKey:"borders",transform:e})}const See=na("border",$i),Tee=na("borderTop",$i),Aee=na("borderRight",$i),Eee=na("borderBottom",$i),Cee=na("borderLeft",$i),Pee=na("borderColor"),Ree=na("borderTopColor"),Oee=na("borderRightColor"),Mee=na("borderBottomColor"),Iee=na("borderLeftColor"),kee=na("outline",$i),Nee=na("outlineColor"),Pb=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=og(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:lg(e,r)});return Ks(t,t.borderRadius,n)}return null};Pb.propTypes={};Pb.filterProps=["borderRadius"];Cb(See,Tee,Aee,Eee,Cee,Pee,Ree,Oee,Mee,Iee,Pb,kee,Nee);const Rb=t=>{if(t.gap!==void 0&&t.gap!==null){const e=og(t.theme,"spacing",8),n=r=>({gap:lg(e,r)});return Ks(t,t.gap,n)}return null};Rb.propTypes={};Rb.filterProps=["gap"];const Ob=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=og(t.theme,"spacing",8),n=r=>({columnGap:lg(e,r)});return Ks(t,t.columnGap,n)}return null};Ob.propTypes={};Ob.filterProps=["columnGap"];const Mb=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=og(t.theme,"spacing",8),n=r=>({rowGap:lg(e,r)});return Ks(t,t.rowGap,n)}return null};Mb.propTypes={};Mb.filterProps=["rowGap"];const Dee=bn({prop:"gridColumn"}),Bee=bn({prop:"gridRow"}),Lee=bn({prop:"gridAutoFlow"}),jee=bn({prop:"gridAutoColumns"}),Uee=bn({prop:"gridAutoRows"}),Fee=bn({prop:"gridTemplateColumns"}),$ee=bn({prop:"gridTemplateRows"}),zee=bn({prop:"gridTemplateAreas"}),Vee=bn({prop:"gridArea"});Cb(Rb,Ob,Mb,Dee,Bee,Lee,jee,Uee,Fee,$ee,zee,Vee);function bf(t,e){return e==="grey"?e:t}const Hee=bn({prop:"color",themeKey:"palette",transform:bf}),Wee=bn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:bf}),qee=bn({prop:"backgroundColor",themeKey:"palette",transform:bf});Cb(Hee,Wee,qee);function hi(t){return t<=1&&t!==0?`${t*100}%`:t}const Xee=bn({prop:"width",transform:hi}),SC=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const r=t.theme?.breakpoints?.values?.[n]||Ab[n];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:hi(n)}};return Ks(t,t.maxWidth,e)}return null};SC.filterProps=["maxWidth"];const Kee=bn({prop:"minWidth",transform:hi}),Yee=bn({prop:"height",transform:hi}),Gee=bn({prop:"maxHeight",transform:hi}),Zee=bn({prop:"minHeight",transform:hi});bn({prop:"size",cssProperty:"width",transform:hi});bn({prop:"size",cssProperty:"height",transform:hi});const Qee=bn({prop:"boxSizing"});Cb(Xee,SC,Kee,Yee,Gee,Zee,Qee);const cg={border:{themeKey:"borders",transform:$i},borderTop:{themeKey:"borders",transform:$i},borderRight:{themeKey:"borders",transform:$i},borderBottom:{themeKey:"borders",transform:$i},borderLeft:{themeKey:"borders",transform:$i},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:$i},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Pb},color:{themeKey:"palette",transform:bf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:bf},backgroundColor:{themeKey:"palette",transform:bf},p:{style:un},pt:{style:un},pr:{style:un},pb:{style:un},pl:{style:un},px:{style:un},py:{style:un},padding:{style:un},paddingTop:{style:un},paddingRight:{style:un},paddingBottom:{style:un},paddingLeft:{style:un},paddingX:{style:un},paddingY:{style:un},paddingInline:{style:un},paddingInlineStart:{style:un},paddingInlineEnd:{style:un},paddingBlock:{style:un},paddingBlockStart:{style:un},paddingBlockEnd:{style:un},m:{style:cn},mt:{style:cn},mr:{style:cn},mb:{style:cn},ml:{style:cn},mx:{style:cn},my:{style:cn},margin:{style:cn},marginTop:{style:cn},marginRight:{style:cn},marginBottom:{style:cn},marginLeft:{style:cn},marginX:{style:cn},marginY:{style:cn},marginInline:{style:cn},marginInlineStart:{style:cn},marginInlineEnd:{style:cn},marginBlock:{style:cn},marginBlockStart:{style:cn},marginBlockEnd:{style:cn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Rb},rowGap:{style:Mb},columnGap:{style:Ob},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:hi},maxWidth:{style:SC},minWidth:{transform:hi},height:{transform:hi},maxHeight:{transform:hi},minHeight:{transform:hi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Jee(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function ete(t,e){return typeof t=="function"?t(e):t}function tte(){function t(n,r,i,a){const s={[n]:r,theme:i},o=a[n];if(!o)return{[n]:r};const{cssProperty:c=n,themeKey:f,transform:d,style:p}=o;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[n]:r};const m=Eb(i,f)||{};return p?p(s):Ks(s,r,v=>{let b=Fv(m,d,v);return v===b&&typeof v=="string"&&(b=Fv(m,d,`${n}${v==="default"?"":xe(v)}`,v)),c===!1?b:{[c]:b}})}function e(n){const{sx:r,theme:i={},nested:a}=n||{};if(!r)return null;const s=i.unstable_sxConfig??cg;function o(c){let f=c;if(typeof c=="function")f=c(i);else if(typeof c!="object")return c;if(!f)return null;const d=mee(i.breakpoints),p=Object.keys(d);let m=d;return Object.keys(f).forEach(y=>{const v=ete(f[y],i);if(v!=null)if(typeof v=="object")if(s[y])m=Gh(m,t(y,v,i,s));else{const b=Ks({theme:i},v,w=>({[y]:w}));Jee(b,v)?m[y]=e({sx:v,theme:i,nested:!0}):m=Gh(m,b)}else m=Gh(m,t(y,v,i,s))}),!a&&i.modularCssLayers?{"@layer sx":LN(i,UN(p,m))}:LN(i,UN(p,m))}return Array.isArray(r)?r.map(o):o(r)}return e}const al=tte();al.filterProps=["sx"];function nte(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(t);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}function Ib(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:a={},...s}=t,o=uee(n),c=j8(i);let f=vi({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...pee,...a}},s);return f=hee(f),f.applyStyles=nte,f=e.reduce((d,p)=>vi(d,p),f),f.unstable_sxConfig={...cg,...s?.unstable_sxConfig},f.unstable_sx=function(p){return al({sx:p,theme:this})},f}function rte(t){return Object.keys(t).length===0}function TC(t=null){const e=x.useContext(sg);return!e||rte(e)?t:e}const ite=Ib();function ug(t=ite){return TC(t)}function Ow(t){const e=tl(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function U8({styles:t,themeId:e,defaultTheme:n={}}){const r=ug(n),i=e&&r[e]||r;let a=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(a)?a=a.map(s=>Ow(typeof s=="function"?s(i):s)):a=Ow(a)),E.jsx(N8,{styles:a})}const ate=t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??cg;return Object.keys(t).forEach(r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]}),e};function AC(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=ate(n);let a;return Array.isArray(e)?a=[r,...e]:typeof e=="function"?a=(...s)=>{const o=e(...s);return qa(o)?{...r,...o}:r}:a={...r,...e},{...i,sx:a}}const $N=t=>t,ste=()=>{let t=$N;return{configure(e){t=e},generate(e){return t(e)},reset(){t=$N}}},F8=ste();function $8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$8(t))&&(r&&(r+=" "),r+=e);return r}function ote(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,a=D8("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(al);return x.forwardRef(function(c,f){const d=ug(n),{className:p,component:m="div",...y}=AC(c);return E.jsx(a,{as:m,ref:f,className:Te(p,i?i(r):r),theme:e&&d[e]||d,...y})})}const lte={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Rt(t,e,n="Mui"){const r=lte[e];return r?`${n}-${r}`:`${F8.generate(t)}-${e}`}function Ot(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Rt(t,i,n)}),r}function z8(t){const{variants:e,...n}=t,r={variants:e,style:tl(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=tl(i.style))}),r}const cte=Ib();function Mw(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Jl(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function ute(t){return t?(e,n)=>n[t]:null}function fte(t,e,n){t.theme=hte(t.theme)?n:t.theme[e]||t.theme}function dv(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(i=>dv(t,i,n));if(Array.isArray(r?.variants)){let i;if(r.isProcessed)i=n?Jl(r.style,n):r.style;else{const{variants:a,...s}=r;i=n?Jl(tl(s),n):s}return V8(t,r.variants,[i],n)}return r?.isProcessed?n?Jl(tl(r.style),n):r.style:n?Jl(tl(r),n):r}function V8(t,e,n=[],r=void 0){let i;e:for(let a=0;a<e.length;a+=1){const s=e[a];if(typeof s.props=="function"){if(i??={...t,...t.ownerState,ownerState:t.ownerState},!s.props(i))continue}else for(const o in s.props)if(t[o]!==s.props[o]&&t.ownerState?.[o]!==s.props[o])continue e;typeof s.style=="function"?(i??={...t,...t.ownerState,ownerState:t.ownerState},n.push(r?Jl(tl(s.style(i)),r):s.style(i))):n.push(r?Jl(tl(s.style),r):s.style)}return n}function H8(t={}){const{themeId:e,defaultTheme:n=cte,rootShouldForwardProp:r=Mw,slotShouldForwardProp:i=Mw}=t;function a(o){fte(o,e,n)}return(o,c={})=>{see(o,O=>O.filter(k=>k!==al));const{name:f,slot:d,skipVariantsResolver:p,skipSx:m,overridesResolver:y=ute(gte(d)),...v}=c,b=f&&f.startsWith("Mui")||d?"components":"custom",w=p!==void 0?p:d&&d!=="Root"&&d!=="root"||!1,T=m||!1;let C=Mw;d==="Root"||d==="root"?C=r:d?C=i:pte(o)&&(C=void 0);const A=D8(o,{shouldForwardProp:C,label:dte(),...v}),R=O=>{if(O.__emotion_real===O)return O;if(typeof O=="function")return function(D){return dv(D,O,D.theme.modularCssLayers?b:void 0)};if(qa(O)){const k=z8(O);return function(L){return k.variants?dv(L,k,L.theme.modularCssLayers?b:void 0):L.theme.modularCssLayers?Jl(k.style,b):k.style}}return O},P=(...O)=>{const k=[],D=O.map(R),L=[];if(k.push(a),f&&y&&L.push(function(W){const J=W.theme.components?.[f]?.styleOverrides;if(!J)return null;const z={};for(const q in J)z[q]=dv(W,J[q],W.theme.modularCssLayers?"theme":void 0);return y(W,z)}),f&&!w&&L.push(function(W){const J=W.theme?.components?.[f]?.variants;return J?V8(W,J,[],W.theme.modularCssLayers?"theme":void 0):null}),T||L.push(al),Array.isArray(D[0])){const I=D.shift(),W=new Array(k.length).fill(""),H=new Array(L.length).fill("");let J;J=[...W,...I,...H],J.raw=[...W,...I.raw,...H],k.unshift(J)}const $=[...k,...D,...L],j=A(...$);return o.muiName&&(j.muiName=o.muiName),j};return A.withConfig&&(P.withConfig=A.withConfig),P}}function dte(t,e){return void 0}function hte(t){for(const e in t)return!1;return!0}function pte(t){return typeof t=="string"&&t.charCodeAt(0)>96}function gte(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const mte=H8();function vp(t,e,n=!1){const r={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const a=i;if(a==="components"||a==="slots")r[a]={...t[a],...r[a]};else if(a==="componentsProps"||a==="slotProps"){const s=t[a],o=e[a];if(!o)r[a]=s||{};else if(!s)r[a]=o;else{r[a]={...o};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=c;r[a][f]=vp(s[f],o[f],n)}}}else a==="className"&&n&&e.className?r.className=Te(t?.className,e?.className):a==="style"&&n&&e.style?r.style={...t?.style,...e?.style}:r[a]===void 0&&(r[a]=t[a])}return r}function yte(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:vp(e.components[n].defaultProps,r)}function vte({props:t,name:e,defaultTheme:n,themeId:r}){let i=ug(n);return r&&(i=i[r]||i),yte({theme:i,name:e,props:t})}const sl=typeof window<"u"?x.useLayoutEffect:x.useEffect;function bte(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function EC(t,e=0,n=1){return bte(t,e,n)}function xte(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ol(t){if(t.type)return t;if(t.charAt(0)==="#")return ol(xte(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ac(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Ac(10,i))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:i}}const _te=t=>{const e=ol(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Uh=(t,e)=>{try{return _te(t)}catch{return t}};function kb(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,a)=>a<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function W8(t){t=ol(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,a=r*Math.min(i,1-i),s=(f,d=(f+n/30)%12)=>i-a*Math.max(Math.min(d-3,9-d,1),-1);let o="rgb";const c=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(o+="a",c.push(e[3])),kb({type:o,values:c})}function O2(t){t=ol(t);let e=t.type==="hsl"||t.type==="hsla"?ol(W8(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function wte(t,e){const n=O2(t),r=O2(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function $v(t,e){return t=ol(t),e=EC(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,kb(t)}function $l(t,e,n){try{return $v(t,e)}catch{return t}}function Nb(t,e){if(t=ol(t),e=EC(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return kb(t)}function yt(t,e,n){try{return Nb(t,e)}catch{return t}}function Db(t,e){if(t=ol(t),e=EC(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return kb(t)}function vt(t,e,n){try{return Db(t,e)}catch{return t}}function Ste(t,e=.15){return O2(t)>.5?Nb(t,e):Db(t,e)}function my(t,e,n){try{return Ste(t,e)}catch{return t}}const q8=x.createContext(null);function CC(){return x.useContext(q8)}const Tte=typeof Symbol=="function"&&Symbol.for,Ate=Tte?Symbol.for("mui.nested"):"__THEME_NESTED__";function Ete(t,e){return typeof e=="function"?e(t):{...t,...e}}function Cte(t){const{children:e,theme:n}=t,r=CC(),i=x.useMemo(()=>{const a=r===null?{...n}:Ete(r,n);return a!=null&&(a[Ate]=r!==null),a},[n,r]);return E.jsx(q8.Provider,{value:i,children:e})}const X8=x.createContext();function Pte({value:t,...e}){return E.jsx(X8.Provider,{value:t??!0,...e})}const PC=()=>x.useContext(X8)??!1,K8=x.createContext(void 0);function Rte({value:t,children:e}){return E.jsx(K8.Provider,{value:t,children:e})}function Ote(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?vp(i.defaultProps,r,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?vp(i,r,e.components.mergeClassNameAndStyle):r}function Mte({props:t,name:e}){const n=x.useContext(K8);return Ote({props:t,name:e,theme:{components:n}})}let zN=0;function Ite(t){const[e,n]=x.useState(t),r=t||e;return x.useEffect(()=>{e==null&&(zN+=1,n(`mui-${zN}`))},[e]),r}const kte={...Bv},VN=kte.useId;function Bb(t){if(VN!==void 0){const e=VN();return t??e}return Ite(t)}function Nte(t){const e=TC(),n=Bb()||"",{modularCssLayers:r}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,sl(()=>{const a=document.querySelector("head");if(!a)return;const s=a.firstChild;if(i){if(s&&s.hasAttribute?.("data-mui-layer-order")&&s.getAttribute("data-mui-layer-order")===n)return;const o=document.createElement("style");o.setAttribute("data-mui-layer-order",n),o.textContent=i,a.prepend(o)}else a.querySelector(`style[data-mui-layer-order="${n}"]`)?.remove()},[i,n]),i?E.jsx(U8,{styles:i}):null}const HN={};function WN(t,e,n,r=!1){return x.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const a=n(i),s=t?{...e,[t]:a}:a;return r?()=>s:s}return t?{...e,[t]:n}:{...e,...n}},[t,e,n,r])}function Y8(t){const{children:e,theme:n,themeId:r}=t,i=TC(HN),a=CC()||HN,s=WN(r,i,n),o=WN(r,a,n,!0),c=(r?s[r]:s).direction==="rtl",f=Nte(s);return E.jsx(Cte,{theme:o,children:E.jsx(sg.Provider,{value:s,children:E.jsx(Pte,{value:c,children:E.jsxs(Rte,{value:r?s[r].components:s.components,children:[f,e]})})})})}const qN={theme:void 0};function Dte(t){let e,n;return function(i){let a=e;return(a===void 0||i.theme!==n)&&(qN.theme=i.theme,a=z8(t(qN)),e=a,n=i.theme),a}}const RC="mode",OC="color-scheme",Bte="data-color-scheme";function Lte(t){const{defaultMode:e="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=RC,colorSchemeStorageKey:a=OC,attribute:s=Bte,colorSchemeNode:o="document.documentElement",nonce:c}=t||{};let f="",d=s;if(s==="class"&&(d=".%s"),s==="data"&&(d="[data-%s]"),d.startsWith(".")){const m=d.substring(1);f+=`${o}.classList.remove('${m}'.replace('%s', light), '${m}'.replace('%s', dark));
      ${o}.classList.add('${m}'.replace('%s', colorScheme));`}const p=d.match(/\[([^[\]]+)\]/);if(p){const[m,y]=p[1].split("=");y||(f+=`${o}.removeAttribute('${m}'.replace('%s', light));
      ${o}.removeAttribute('${m}'.replace('%s', dark));`),f+=`
      ${o}.setAttribute('${m}'.replace('%s', colorScheme), ${y?`${y}.replace('%s', colorScheme)`:'""'});`}else f+=`${o}.setAttribute('${d}', colorScheme);`;return E.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${a}-dark') || '${r}';
  const light = localStorage.getItem('${a}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${f}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function jte(){}const Ute=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(n){if(typeof window>"u")return;if(!e)return n;let r;try{r=e.localStorage.getItem(t)}catch{}return r||n},set:n=>{if(e)try{e.localStorage.setItem(t,n)}catch{}},subscribe:n=>{if(!e)return jte;const r=i=>{const a=i.newValue;i.key===t&&n(a)};return e.addEventListener("storage",r),()=>{e.removeEventListener("storage",r)}}});function Iw(){}function XN(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function G8(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function Fte(t){return G8(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function $te(t){const{defaultMode:e="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:a=RC,colorSchemeStorageKey:s=OC,storageWindow:o=typeof window>"u"?void 0:window,storageManager:c=Ute,noSsr:f=!1}=t,d=i.join(","),p=i.length>1,m=x.useMemo(()=>c?.({key:a,storageWindow:o}),[c,a,o]),y=x.useMemo(()=>c?.({key:`${s}-light`,storageWindow:o}),[c,s,o]),v=x.useMemo(()=>c?.({key:`${s}-dark`,storageWindow:o}),[c,s,o]),[b,w]=x.useState(()=>{const D=m?.get(e)||e,L=y?.get(n)||n,$=v?.get(r)||r;return{mode:D,systemMode:XN(D),lightColorScheme:L,darkColorScheme:$}}),[T,C]=x.useState(f||!p);x.useEffect(()=>{C(!0)},[]);const A=Fte(b),R=x.useCallback(D=>{w(L=>{if(D===L.mode)return L;const $=D??e;return m?.set($),{...L,mode:$,systemMode:XN($)}})},[m,e]),P=x.useCallback(D=>{D?typeof D=="string"?D&&!d.includes(D)?console.error(`\`${D}\` does not exist in \`theme.colorSchemes\`.`):w(L=>{const $={...L};return G8(L,j=>{j==="light"&&(y?.set(D),$.lightColorScheme=D),j==="dark"&&(v?.set(D),$.darkColorScheme=D)}),$}):w(L=>{const $={...L},j=D.light===null?n:D.light,I=D.dark===null?r:D.dark;return j&&(d.includes(j)?($.lightColorScheme=j,y?.set(j)):console.error(`\`${j}\` does not exist in \`theme.colorSchemes\`.`)),I&&(d.includes(I)?($.darkColorScheme=I,v?.set(I)):console.error(`\`${I}\` does not exist in \`theme.colorSchemes\`.`)),$}):w(L=>(y?.set(n),v?.set(r),{...L,lightColorScheme:n,darkColorScheme:r}))},[d,y,v,n,r]),O=x.useCallback(D=>{b.mode==="system"&&w(L=>{const $=D?.matches?"dark":"light";return L.systemMode===$?L:{...L,systemMode:$}})},[b.mode]),k=x.useRef(O);return k.current=O,x.useEffect(()=>{if(typeof window.matchMedia!="function"||!p)return;const D=(...$)=>k.current(...$),L=window.matchMedia("(prefers-color-scheme: dark)");return L.addListener(D),D(L),()=>{L.removeListener(D)}},[p]),x.useEffect(()=>{if(p){const D=m?.subscribe(j=>{(!j||["light","dark","system"].includes(j))&&R(j||e)})||Iw,L=y?.subscribe(j=>{(!j||d.match(j))&&P({light:j})})||Iw,$=v?.subscribe(j=>{(!j||d.match(j))&&P({dark:j})})||Iw;return()=>{D(),L(),$()}}},[P,R,d,e,o,p,m,y,v]),{...b,mode:T?b.mode:void 0,systemMode:T?b.systemMode:void 0,colorScheme:T?A:void 0,setMode:R,setColorScheme:P}}const zte="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Vte(t){const{themeId:e,theme:n={},modeStorageKey:r=RC,colorSchemeStorageKey:i=OC,disableTransitionOnChange:a=!1,defaultColorScheme:s,resolveTheme:o}=t,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},f=x.createContext(void 0),d=()=>x.useContext(f)||c,p={},m={};function y(T){const{children:C,theme:A,modeStorageKey:R=r,colorSchemeStorageKey:P=i,disableTransitionOnChange:O=a,storageManager:k,storageWindow:D=typeof window>"u"?void 0:window,documentNode:L=typeof document>"u"?void 0:document,colorSchemeNode:$=typeof document>"u"?void 0:document.documentElement,disableNestedContext:j=!1,disableStyleSheetGeneration:I=!1,defaultMode:W="system",forceThemeRerender:H=!1,noSsr:J}=T,z=x.useRef(!1),q=CC(),se=x.useContext(f),le=!!se&&!j,_e=x.useMemo(()=>A||(typeof n=="function"?n():n),[A]),F=_e[e],ee=F||_e,{colorSchemes:ye=p,components:be=m,cssVarPrefix:Ae}=ee,we=Object.keys(ye).filter(xn=>!!ye[xn]).join(","),Ee=x.useMemo(()=>we.split(","),[we]),Xe=typeof s=="string"?s:s.light,ue=typeof s=="string"?s:s.dark,De=ye[Xe]&&ye[ue]?W:ye[ee.defaultColorScheme]?.palette?.mode||ee.palette?.mode,{mode:je,setMode:me,systemMode:ht,lightColorScheme:Le,darkColorScheme:pt,colorScheme:It,setColorScheme:jt}=$te({supportedColorSchemes:Ee,defaultLightColorScheme:Xe,defaultDarkColorScheme:ue,modeStorageKey:R,colorSchemeStorageKey:P,defaultMode:De,storageManager:k,storageWindow:D,noSsr:J});let tn=je,Zt=It;le&&(tn=se.mode,Zt=se.colorScheme);let nn=Zt||ee.defaultColorScheme;ee.vars&&!H&&(nn=ee.defaultColorScheme);const tr=x.useMemo(()=>{const xn=ee.generateThemeVars?.()||ee.vars,at={...ee,components:be,colorSchemes:ye,cssVarPrefix:Ae,vars:xn};if(typeof at.generateSpacing=="function"&&(at.spacing=at.generateSpacing()),nn){const an=ye[nn];an&&typeof an=="object"&&Object.keys(an).forEach(Wn=>{an[Wn]&&typeof an[Wn]=="object"?at[Wn]={...at[Wn],...an[Wn]}:at[Wn]=an[Wn]})}return o?o(at):at},[ee,nn,be,ye,Ae]),ke=ee.colorSchemeSelector;sl(()=>{if(Zt&&$&&ke&&ke!=="media"){const xn=ke;let at=ke;if(xn==="class"&&(at=".%s"),xn==="data"&&(at="[data-%s]"),xn?.startsWith("data-")&&!xn.includes("%s")&&(at=`[${xn}="%s"]`),at.startsWith("."))$.classList.remove(...Ee.map(an=>at.substring(1).replace("%s",an))),$.classList.add(at.substring(1).replace("%s",Zt));else{const an=at.replace("%s",Zt).match(/\[([^\]]+)\]/);if(an){const[Wn,Oa]=an[1].split("=");Oa||Ee.forEach(Cr=>{$.removeAttribute(Wn.replace(Zt,Cr))}),$.setAttribute(Wn,Oa?Oa.replace(/"|'/g,""):"")}else $.setAttribute(at,Zt)}}},[Zt,ke,$,Ee]),x.useEffect(()=>{let xn;if(O&&z.current&&L){const at=L.createElement("style");at.appendChild(L.createTextNode(zte)),L.head.appendChild(at),window.getComputedStyle(L.body),xn=setTimeout(()=>{L.head.removeChild(at)},1)}return()=>{clearTimeout(xn)}},[Zt,O,L]),x.useEffect(()=>(z.current=!0,()=>{z.current=!1}),[]);const fs=x.useMemo(()=>({allColorSchemes:Ee,colorScheme:Zt,darkColorScheme:pt,lightColorScheme:Le,mode:tn,setColorScheme:jt,setMode:me,systemMode:ht}),[Ee,Zt,pt,Le,tn,jt,me,ht,tr.colorSchemeSelector]);let rn=!0;(I||ee.cssVariables===!1||le&&q?.cssVarPrefix===Ae)&&(rn=!1);const ds=E.jsxs(x.Fragment,{children:[E.jsx(Y8,{themeId:F?e:void 0,theme:tr,children:C}),rn&&E.jsx(N8,{styles:tr.generateStyleSheets?.()||[]})]});return le?ds:E.jsx(f.Provider,{value:fs,children:ds})}const v=typeof s=="string"?s:s.light,b=typeof s=="string"?s:s.dark;return{CssVarsProvider:y,useColorScheme:d,getInitColorSchemeScript:T=>Lte({colorSchemeStorageKey:i,defaultLightColorScheme:v,defaultDarkColorScheme:b,modeStorageKey:r,...T})}}function Hte(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const KN=(t,e,n,r=[])=>{let i=t;e.forEach((a,s)=>{s===e.length-1?Array.isArray(i)?i[Number(a)]=n:i&&typeof i=="object"&&(i[a]=n):i&&typeof i=="object"&&(i[a]||(i[a]=r.includes(a)?[]:{}),i=i[a])})},Wte=(t,e,n)=>{function r(i,a=[],s=[]){Object.entries(i).forEach(([o,c])=>{(!n||n&&!n([...a,o]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...a,o],Array.isArray(c)?[...s,o]:s):e([...a,o],c,s))})}r(t)},qte=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function kw(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},a={},s={};return Wte(t,(o,c,f)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(o,c))){const d=`--${n?`${n}-`:""}${o.join("-")}`,p=qte(o,c);Object.assign(i,{[d]:p}),KN(a,o,`var(${d})`,f),KN(s,o,`var(${d}, ${p})`,f)}},o=>o[0]==="vars"),{css:i,vars:a,varsWithDefaults:s}}function Xte(t,e={}){const{getSelector:n=T,disableCssColorScheme:r,colorSchemeSelector:i,enableContrastVars:a}=e,{colorSchemes:s={},components:o,defaultColorScheme:c="light",...f}=t,{vars:d,css:p,varsWithDefaults:m}=kw(f,e);let y=m;const v={},{[c]:b,...w}=s;if(Object.entries(w||{}).forEach(([R,P])=>{const{vars:O,css:k,varsWithDefaults:D}=kw(P,e);y=vi(y,D),v[R]={css:k,vars:O}}),b){const{css:R,vars:P,varsWithDefaults:O}=kw(b,e);y=vi(y,O),v[c]={css:R,vars:P}}function T(R,P){let O=i;if(i==="class"&&(O=".%s"),i==="data"&&(O="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(O=`[${i}="%s"]`),R){if(O==="media")return t.defaultColorScheme===R?":root":{[`@media (prefers-color-scheme: ${s[R]?.palette?.mode||R})`]:{":root":P}};if(O)return t.defaultColorScheme===R?`:root, ${O.replace("%s",String(R))}`:O.replace("%s",String(R))}return":root"}return{vars:y,generateThemeVars:()=>{let R={...d};return Object.entries(v).forEach(([,{vars:P}])=>{R=vi(R,P)}),R},generateStyleSheets:()=>{const R=[],P=t.defaultColorScheme||"light";function O(L,$){Object.keys($).length&&R.push(typeof L=="string"?{[L]:{...$}}:L)}O(n(void 0,{...p}),p);const{[P]:k,...D}=v;if(k){const{css:L}=k,$=s[P]?.palette?.mode,j=!r&&$?{colorScheme:$,...L}:{...L};O(n(P,{...j}),j)}return Object.entries(D).forEach(([L,{css:$}])=>{const j=s[L]?.palette?.mode,I=!r&&j?{colorScheme:j,...$}:{...$};O(n(L,{...I}),I)}),a&&R.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),R}}}function Kte(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function Dt(t,e,n=void 0){const r={};for(const i in t){const a=t[i];let s="",o=!0;for(let c=0;c<a.length;c+=1){const f=a[c];f&&(s+=(o===!0?"":" ")+e(f),o=!1,n&&n[f]&&(s+=" "+n[f]))}r[i]=s}return r}function Yte(t,e){return x.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}const Gte=(t,e)=>t.filter(n=>e.includes(n)),od=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((i,a)=>{n((s,o)=>{a<=t.keys.length-1&&(a===0?Object.assign(s,o):s[t.up(t.keys[a])]=o)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:Gte(t.keys,Object.keys(e))).forEach(a=>{if(t.keys.includes(a)){const s=e[a];s!==void 0&&n((o,c)=>{r===a?Object.assign(o,c):o[t.up(a)]=c},s)}}):(typeof e=="number"||typeof e=="string")&&n((i,a)=>{Object.assign(i,a)},e)};function zv(t){return`--Grid-${t}Spacing`}function Lb(t){return`--Grid-parent-${t}Spacing`}const YN="--Grid-columns",xf="--Grid-parent-columns",Zte=({theme:t,ownerState:e})=>{const n={};return od(t.breakpoints,e.size,(r,i)=>{let a={};i==="grow"&&(a={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(a={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${xf}) - (var(${xf}) - ${i}) * (var(${Lb("column")}) / var(${xf})))`}),r(n,a)}),n},Qte=({theme:t,ownerState:e})=>{const n={};return od(t.breakpoints,e.offset,(r,i)=>{let a={};i==="auto"&&(a={marginLeft:"auto"}),typeof i=="number"&&(a={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${xf}) + var(${Lb("column")}) * ${i} / var(${xf}))`}),r(n,a)}),n},Jte=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[YN]:12};return od(t.breakpoints,e.columns,(r,i)=>{const a=i??12;r(n,{[YN]:a,"> *":{[xf]:a}})}),n},ene=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return od(t.breakpoints,e.rowSpacing,(r,i)=>{const a=typeof i=="string"?i:t.spacing?.(i);r(n,{[zv("row")]:a,"> *":{[Lb("row")]:a}})}),n},tne=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return od(t.breakpoints,e.columnSpacing,(r,i)=>{const a=typeof i=="string"?i:t.spacing?.(i);r(n,{[zv("column")]:a,"> *":{[Lb("column")]:a}})}),n},nne=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return od(t.breakpoints,e.direction,(r,i)=>{r(n,{flexDirection:i})}),n},rne=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${zv("row")}) var(${zv("column")})`}}),ine=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},ane=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([i,a])=>{n(a)&&r.push(`spacing-${i}-${String(a)}`)}),r}return[]},sne=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function one(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const lne=Ib(),cne=mte("div",{name:"MuiGrid",slot:"Root"});function une(t){return vte({props:t,name:"MuiGrid",defaultTheme:lne})}function fne(t={}){const{createStyledComponent:e=cne,useThemeProps:n=une,useTheme:r=ug,componentName:i="MuiGrid"}=t,a=(f,d)=>{const{container:p,direction:m,spacing:y,wrap:v,size:b}=f,w={root:["root",p&&"container",v!=="wrap"&&`wrap-xs-${String(v)}`,...sne(m),...ine(b),...p?ane(y,d.breakpoints.keys[0]):[]]};return Dt(w,T=>Rt(i,T),{})};function s(f,d,p=()=>!0){const m={};return f===null||(Array.isArray(f)?f.forEach((y,v)=>{y!==null&&p(y)&&d.keys[v]&&(m[d.keys[v]]=y)}):typeof f=="object"?Object.keys(f).forEach(y=>{const v=f[y];v!=null&&p(v)&&(m[y]=v)}):m[d.keys[0]]=f),m}const o=e(Jte,tne,ene,Zte,nne,rne,Qte),c=x.forwardRef(function(d,p){const m=r(),y=n(d),v=AC(y);one(v,m.breakpoints);const{className:b,children:w,columns:T=12,container:C=!1,component:A="div",direction:R="row",wrap:P="wrap",size:O={},offset:k={},spacing:D=0,rowSpacing:L=D,columnSpacing:$=D,unstable_level:j=0,...I}=v,W=s(O,m.breakpoints,F=>F!==!1),H=s(k,m.breakpoints),J=d.columns??(j?void 0:T),z=d.spacing??(j?void 0:D),q=d.rowSpacing??d.spacing??(j?void 0:L),se=d.columnSpacing??d.spacing??(j?void 0:$),le={...v,level:j,columns:J,container:C,direction:R,wrap:P,spacing:z,rowSpacing:q,columnSpacing:se,size:W,offset:H},_e=a(le,m);return E.jsx(o,{ref:p,as:A,ownerState:le,className:Te(_e.root,b),...I,children:x.Children.map(w,F=>x.isValidElement(F)&&Yte(F,["Grid"])&&C&&F.props.container?x.cloneElement(F,{unstable_level:F.props?.unstable_level??j+1}):F)})});return c.muiName="Grid",c}const bp={black:"#000",white:"#fff"},dne={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Lu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},ju={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},_h={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Uu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Fu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},$u={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function Z8(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:bp.white,default:bp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Q8=Z8();function J8(){return{text:{primary:bp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:bp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const M2=J8();function GN(t,e,n,r){const i=r.light||r,a=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Db(t.main,i):e==="dark"&&(t.dark=Nb(t.main,a)))}function ZN(t,e,n,r,i){const a=i.light||i,s=i.dark||i*1.5;e[n]||(e.hasOwnProperty(r)?e[n]=e[r]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(a*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(s*100).toFixed(0)}%)`))}function hne(t="light"){return t==="dark"?{main:Uu[200],light:Uu[50],dark:Uu[400]}:{main:Uu[700],light:Uu[400],dark:Uu[800]}}function pne(t="light"){return t==="dark"?{main:Lu[200],light:Lu[50],dark:Lu[400]}:{main:Lu[500],light:Lu[300],dark:Lu[700]}}function gne(t="light"){return t==="dark"?{main:ju[500],light:ju[300],dark:ju[700]}:{main:ju[700],light:ju[400],dark:ju[800]}}function mne(t="light"){return t==="dark"?{main:Fu[400],light:Fu[300],dark:Fu[700]}:{main:Fu[700],light:Fu[500],dark:Fu[900]}}function yne(t="light"){return t==="dark"?{main:$u[400],light:$u[300],dark:$u[700]}:{main:$u[800],light:$u[500],dark:$u[900]}}function vne(t="light"){return t==="dark"?{main:_h[400],light:_h[300],dark:_h[700]}:{main:"#ed6c02",light:_h[500],dark:_h[900]}}function bne(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function MC(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:i,...a}=t,s=t.primary||hne(e),o=t.secondary||pne(e),c=t.error||gne(e),f=t.info||mne(e),d=t.success||yne(e),p=t.warning||vne(e);function m(w){return i?bne(w):wte(w,M2.text.primary)>=n?M2.text.primary:Q8.text.primary}const y=({color:w,name:T,mainShade:C=500,lightShade:A=300,darkShade:R=700})=>{if(w={...w},!w.main&&w[C]&&(w.main=w[C]),!w.hasOwnProperty("main"))throw new Error(Ac(11,T?` (${T})`:"",C));if(typeof w.main!="string")throw new Error(Ac(12,T?` (${T})`:"",JSON.stringify(w.main)));return i?(ZN(i,w,"light",A,r),ZN(i,w,"dark",R,r)):(GN(w,"light",A,r),GN(w,"dark",R,r)),w.contrastText||(w.contrastText=m(w.main)),w};let v;return e==="light"?v=Z8():e==="dark"&&(v=J8()),vi({common:{...bp},mode:e,primary:y({color:s,name:"primary"}),secondary:y({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:c,name:"error"}),warning:y({color:p,name:"warning"}),info:y({color:f,name:"info"}),success:y({color:d,name:"success"}),grey:dne,contrastThreshold:n,getContrastText:m,augmentColor:y,tonalOffset:r,...v},a)}function xne(t){const e={};return Object.entries(t).forEach(r=>{const[i,a]=r;typeof a=="object"&&(e[i]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function _ne(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function wne(t){return Math.round(t*1e5)/1e5}const QN={textTransform:"uppercase"},JN='"Roboto", "Helvetica", "Arial", sans-serif';function e$(t,e){const{fontFamily:n=JN,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:o=700,htmlFontSize:c=16,allVariants:f,pxToRem:d,...p}=typeof e=="function"?e(t):e,m=r/14,y=d||(w=>`${w/c*m}rem`),v=(w,T,C,A,R)=>({fontFamily:n,fontWeight:w,fontSize:y(T),lineHeight:C,...n===JN?{letterSpacing:`${wne(A/T)}em`}:{},...R,...f}),b={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(a,48,1.167,0),h4:v(a,34,1.235,.25),h5:v(a,24,1.334,0),h6:v(s,20,1.6,.15),subtitle1:v(a,16,1.75,.15),subtitle2:v(s,14,1.57,.1),body1:v(a,16,1.5,.15),body2:v(a,14,1.43,.15),button:v(s,14,1.75,.4,QN),caption:v(a,12,1.66,.4),overline:v(a,12,2.66,1,QN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vi({htmlFontSize:c,pxToRem:y,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:o,...b},p,{clone:!1})}const Sne=.2,Tne=.14,Ane=.12;function qt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Sne})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Tne})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Ane})`].join(",")}const Ene=["none",qt(0,2,1,-1,0,1,1,0,0,1,3,0),qt(0,3,1,-2,0,2,2,0,0,1,5,0),qt(0,3,3,-2,0,3,4,0,0,1,8,0),qt(0,2,4,-1,0,4,5,0,0,1,10,0),qt(0,3,5,-1,0,5,8,0,0,1,14,0),qt(0,3,5,-1,0,6,10,0,0,1,18,0),qt(0,4,5,-2,0,7,10,1,0,2,16,1),qt(0,5,5,-3,0,8,10,1,0,3,14,2),qt(0,5,6,-3,0,9,12,1,0,3,16,2),qt(0,6,6,-3,0,10,14,1,0,4,18,3),qt(0,6,7,-4,0,11,15,1,0,4,20,3),qt(0,7,8,-4,0,12,17,2,0,5,22,4),qt(0,7,8,-4,0,13,19,2,0,5,24,4),qt(0,7,9,-4,0,14,21,2,0,5,26,4),qt(0,8,9,-5,0,15,22,2,0,6,28,5),qt(0,8,10,-5,0,16,24,2,0,6,30,5),qt(0,8,11,-5,0,17,26,2,0,6,32,5),qt(0,9,11,-5,0,18,28,2,0,7,34,6),qt(0,9,12,-6,0,19,29,2,0,7,36,6),qt(0,10,13,-6,0,20,31,3,0,8,38,7),qt(0,10,13,-6,0,21,33,3,0,8,40,7),qt(0,10,14,-6,0,22,35,3,0,8,42,7),qt(0,11,14,-7,0,23,36,3,0,9,44,8),qt(0,11,15,-7,0,24,38,3,0,9,46,8)],Cne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Pne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function eD(t){return`${Math.round(t)}ms`}function Rne(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function One(t){const e={...Cne,...t.easing},n={...Pne,...t.duration};return{getAutoHeightDuration:Rne,create:(i=["all"],a={})=>{const{duration:s=n.standard,easing:o=e.easeInOut,delay:c=0,...f}=a;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof s=="string"?s:eD(s)} ${o} ${typeof c=="string"?c:eD(c)}`).join(",")},...t,easing:e,duration:n}}const Mne={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Ine(t){return qa(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function t$(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let a=0;a<i.length;a++){const[s,o]=i[a];!Ine(o)||s.startsWith("unstable_")?delete r[s]:qa(o)&&(r[s]={...o},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function tD(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const kne=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let r=0;r<e.length;r+=1)n+=+e[r];return n};function Nne(t){Object.assign(t,{alpha(e,n){const r=this||t;return r.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:$v(e,kne(n))},lighten(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${tD(n)})`:Db(e,n)},darken(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${tD(n)})`:Nb(e,n)}})}function I2(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:a={},transitions:s={},typography:o={},shape:c,colorSpace:f,...d}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Ac(20));const p=MC({...a,colorSpace:f}),m=Ib(t);let y=vi(m,{mixins:_ne(m.breakpoints,r),palette:p,shadows:Ene.slice(),typography:e$(p,o),transitions:One(s),zIndex:{...Mne}});return y=vi(y,d),y=e.reduce((v,b)=>vi(v,b),y),y.unstable_sxConfig={...cg,...d?.unstable_sxConfig},y.unstable_sx=function(b){return al({sx:b,theme:this})},y.toRuntimeSource=t$,Nne(y),y}function k2(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const Dne=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=k2(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function n$(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function r$(t){return t==="dark"?Dne:[]}function Bne(t){const{palette:e={mode:"light"},opacity:n,overlays:r,colorSpace:i,...a}=t,s=MC({...e,colorSpace:i});return{palette:s,opacity:{...n$(s.mode),...n},overlays:r||r$(s.mode),...a}}function Lne(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const jne=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Une=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let a=i;if(i==="class"&&(a=".%s"),i==="data"&&(a="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(a=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return jne(t.cssVarPrefix).forEach(o=>{s[o]=n[o],delete n[o]}),a==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:a?{[a.replace("%s",e)]:s,[`${r}, ${a.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(a&&a!=="media")return`${r}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(a)return a.replace("%s",String(e))}return r};function Fne(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function de(t,e,n){!t[e]&&n&&(t[e]=n)}function Fh(t){return typeof t!="string"||!t.startsWith("hsl")?t:W8(t)}function Is(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Uh(Fh(t[e])))}function $ne(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Ba=t=>{try{return t()}catch{}},zne=(t="mui")=>Hte(t);function Nw(t,e,n,r,i){if(!n)return;n=n===!0?{}:n;const a=i==="dark"?"dark":"light";if(!r){e[i]=Bne({...n,palette:{mode:a,...n?.palette},colorSpace:t});return}const{palette:s,...o}=I2({...r,palette:{mode:a,...n?.palette},colorSpace:t});return e[i]={...n,palette:s,opacity:{...n$(a),...n?.opacity},overlays:n?.overlays||r$(a)},o}function Vne(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:a="mui",nativeColor:s=!1,shouldSkipGeneratingVar:o=Lne,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:f=":root",...d}=t,p=Object.keys(n)[0],m=r||(n.light&&p!=="light"?"light":p),y=zne(a),{[m]:v,light:b,dark:w,...T}=n,C={...T};let A=v;if((m==="dark"&&!("dark"in n)||m==="light"&&!("light"in n))&&(A=!0),!A)throw new Error(Ac(21,m));let R;s&&(R="oklch");const P=Nw(R,C,A,d,m);b&&!C.light&&Nw(R,C,b,void 0,"light"),w&&!C.dark&&Nw(R,C,w,void 0,"dark");let O={defaultColorScheme:m,...P,cssVarPrefix:a,colorSchemeSelector:c,rootSelector:f,getCssVar:y,colorSchemes:C,font:{...xne(P.typography),...P.font},spacing:$ne(d.spacing)};Object.keys(O.colorSchemes).forEach(j=>{const I=O.colorSchemes[j].palette,W=J=>{const z=J.split("-"),q=z[1],se=z[2];return y(J,I[q][se])};I.mode==="light"&&(de(I.common,"background","#fff"),de(I.common,"onBackground","#000")),I.mode==="dark"&&(de(I.common,"background","#000"),de(I.common,"onBackground","#fff"));function H(J,z,q){if(R){let se;return J===$l&&(se=`transparent ${((1-q)*100).toFixed(0)}%`),J===yt&&(se=`#000 ${(q*100).toFixed(0)}%`),J===vt&&(se=`#fff ${(q*100).toFixed(0)}%`),`color-mix(in ${R}, ${z}, ${se})`}return J(z,q)}if(Fne(I,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),I.mode==="light"){de(I.Alert,"errorColor",H(yt,I.error.light,.6)),de(I.Alert,"infoColor",H(yt,I.info.light,.6)),de(I.Alert,"successColor",H(yt,I.success.light,.6)),de(I.Alert,"warningColor",H(yt,I.warning.light,.6)),de(I.Alert,"errorFilledBg",W("palette-error-main")),de(I.Alert,"infoFilledBg",W("palette-info-main")),de(I.Alert,"successFilledBg",W("palette-success-main")),de(I.Alert,"warningFilledBg",W("palette-warning-main")),de(I.Alert,"errorFilledColor",Ba(()=>I.getContrastText(I.error.main))),de(I.Alert,"infoFilledColor",Ba(()=>I.getContrastText(I.info.main))),de(I.Alert,"successFilledColor",Ba(()=>I.getContrastText(I.success.main))),de(I.Alert,"warningFilledColor",Ba(()=>I.getContrastText(I.warning.main))),de(I.Alert,"errorStandardBg",H(vt,I.error.light,.9)),de(I.Alert,"infoStandardBg",H(vt,I.info.light,.9)),de(I.Alert,"successStandardBg",H(vt,I.success.light,.9)),de(I.Alert,"warningStandardBg",H(vt,I.warning.light,.9)),de(I.Alert,"errorIconColor",W("palette-error-main")),de(I.Alert,"infoIconColor",W("palette-info-main")),de(I.Alert,"successIconColor",W("palette-success-main")),de(I.Alert,"warningIconColor",W("palette-warning-main")),de(I.AppBar,"defaultBg",W("palette-grey-100")),de(I.Avatar,"defaultBg",W("palette-grey-400")),de(I.Button,"inheritContainedBg",W("palette-grey-300")),de(I.Button,"inheritContainedHoverBg",W("palette-grey-A100")),de(I.Chip,"defaultBorder",W("palette-grey-400")),de(I.Chip,"defaultAvatarColor",W("palette-grey-700")),de(I.Chip,"defaultIconColor",W("palette-grey-700")),de(I.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),de(I.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),de(I.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),de(I.LinearProgress,"primaryBg",H(vt,I.primary.main,.62)),de(I.LinearProgress,"secondaryBg",H(vt,I.secondary.main,.62)),de(I.LinearProgress,"errorBg",H(vt,I.error.main,.62)),de(I.LinearProgress,"infoBg",H(vt,I.info.main,.62)),de(I.LinearProgress,"successBg",H(vt,I.success.main,.62)),de(I.LinearProgress,"warningBg",H(vt,I.warning.main,.62)),de(I.Skeleton,"bg",R?H($l,I.text.primary,.11):`rgba(${W("palette-text-primaryChannel")} / 0.11)`),de(I.Slider,"primaryTrack",H(vt,I.primary.main,.62)),de(I.Slider,"secondaryTrack",H(vt,I.secondary.main,.62)),de(I.Slider,"errorTrack",H(vt,I.error.main,.62)),de(I.Slider,"infoTrack",H(vt,I.info.main,.62)),de(I.Slider,"successTrack",H(vt,I.success.main,.62)),de(I.Slider,"warningTrack",H(vt,I.warning.main,.62));const J=R?H(yt,I.background.default,.6825):my(I.background.default,.8);de(I.SnackbarContent,"bg",J),de(I.SnackbarContent,"color",Ba(()=>R?M2.text.primary:I.getContrastText(J))),de(I.SpeedDialAction,"fabHoverBg",my(I.background.paper,.15)),de(I.StepConnector,"border",W("palette-grey-400")),de(I.StepContent,"border",W("palette-grey-400")),de(I.Switch,"defaultColor",W("palette-common-white")),de(I.Switch,"defaultDisabledColor",W("palette-grey-100")),de(I.Switch,"primaryDisabledColor",H(vt,I.primary.main,.62)),de(I.Switch,"secondaryDisabledColor",H(vt,I.secondary.main,.62)),de(I.Switch,"errorDisabledColor",H(vt,I.error.main,.62)),de(I.Switch,"infoDisabledColor",H(vt,I.info.main,.62)),de(I.Switch,"successDisabledColor",H(vt,I.success.main,.62)),de(I.Switch,"warningDisabledColor",H(vt,I.warning.main,.62)),de(I.TableCell,"border",H(vt,H($l,I.divider,1),.88)),de(I.Tooltip,"bg",H($l,I.grey[700],.92))}if(I.mode==="dark"){de(I.Alert,"errorColor",H(vt,I.error.light,.6)),de(I.Alert,"infoColor",H(vt,I.info.light,.6)),de(I.Alert,"successColor",H(vt,I.success.light,.6)),de(I.Alert,"warningColor",H(vt,I.warning.light,.6)),de(I.Alert,"errorFilledBg",W("palette-error-dark")),de(I.Alert,"infoFilledBg",W("palette-info-dark")),de(I.Alert,"successFilledBg",W("palette-success-dark")),de(I.Alert,"warningFilledBg",W("palette-warning-dark")),de(I.Alert,"errorFilledColor",Ba(()=>I.getContrastText(I.error.dark))),de(I.Alert,"infoFilledColor",Ba(()=>I.getContrastText(I.info.dark))),de(I.Alert,"successFilledColor",Ba(()=>I.getContrastText(I.success.dark))),de(I.Alert,"warningFilledColor",Ba(()=>I.getContrastText(I.warning.dark))),de(I.Alert,"errorStandardBg",H(yt,I.error.light,.9)),de(I.Alert,"infoStandardBg",H(yt,I.info.light,.9)),de(I.Alert,"successStandardBg",H(yt,I.success.light,.9)),de(I.Alert,"warningStandardBg",H(yt,I.warning.light,.9)),de(I.Alert,"errorIconColor",W("palette-error-main")),de(I.Alert,"infoIconColor",W("palette-info-main")),de(I.Alert,"successIconColor",W("palette-success-main")),de(I.Alert,"warningIconColor",W("palette-warning-main")),de(I.AppBar,"defaultBg",W("palette-grey-900")),de(I.AppBar,"darkBg",W("palette-background-paper")),de(I.AppBar,"darkColor",W("palette-text-primary")),de(I.Avatar,"defaultBg",W("palette-grey-600")),de(I.Button,"inheritContainedBg",W("palette-grey-800")),de(I.Button,"inheritContainedHoverBg",W("palette-grey-700")),de(I.Chip,"defaultBorder",W("palette-grey-700")),de(I.Chip,"defaultAvatarColor",W("palette-grey-300")),de(I.Chip,"defaultIconColor",W("palette-grey-300")),de(I.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),de(I.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),de(I.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),de(I.LinearProgress,"primaryBg",H(yt,I.primary.main,.5)),de(I.LinearProgress,"secondaryBg",H(yt,I.secondary.main,.5)),de(I.LinearProgress,"errorBg",H(yt,I.error.main,.5)),de(I.LinearProgress,"infoBg",H(yt,I.info.main,.5)),de(I.LinearProgress,"successBg",H(yt,I.success.main,.5)),de(I.LinearProgress,"warningBg",H(yt,I.warning.main,.5)),de(I.Skeleton,"bg",R?H($l,I.text.primary,.13):`rgba(${W("palette-text-primaryChannel")} / 0.13)`),de(I.Slider,"primaryTrack",H(yt,I.primary.main,.5)),de(I.Slider,"secondaryTrack",H(yt,I.secondary.main,.5)),de(I.Slider,"errorTrack",H(yt,I.error.main,.5)),de(I.Slider,"infoTrack",H(yt,I.info.main,.5)),de(I.Slider,"successTrack",H(yt,I.success.main,.5)),de(I.Slider,"warningTrack",H(yt,I.warning.main,.5));const J=R?H(vt,I.background.default,.985):my(I.background.default,.98);de(I.SnackbarContent,"bg",J),de(I.SnackbarContent,"color",Ba(()=>R?Q8.text.primary:I.getContrastText(J))),de(I.SpeedDialAction,"fabHoverBg",my(I.background.paper,.15)),de(I.StepConnector,"border",W("palette-grey-600")),de(I.StepContent,"border",W("palette-grey-600")),de(I.Switch,"defaultColor",W("palette-grey-300")),de(I.Switch,"defaultDisabledColor",W("palette-grey-600")),de(I.Switch,"primaryDisabledColor",H(yt,I.primary.main,.55)),de(I.Switch,"secondaryDisabledColor",H(yt,I.secondary.main,.55)),de(I.Switch,"errorDisabledColor",H(yt,I.error.main,.55)),de(I.Switch,"infoDisabledColor",H(yt,I.info.main,.55)),de(I.Switch,"successDisabledColor",H(yt,I.success.main,.55)),de(I.Switch,"warningDisabledColor",H(yt,I.warning.main,.55)),de(I.TableCell,"border",H(yt,H($l,I.divider,1),.68)),de(I.Tooltip,"bg",H($l,I.grey[700],.92))}Is(I.background,"default"),Is(I.background,"paper"),Is(I.common,"background"),Is(I.common,"onBackground"),Is(I,"divider"),Object.keys(I).forEach(J=>{const z=I[J];J!=="tonalOffset"&&z&&typeof z=="object"&&(z.main&&de(I[J],"mainChannel",Uh(Fh(z.main))),z.light&&de(I[J],"lightChannel",Uh(Fh(z.light))),z.dark&&de(I[J],"darkChannel",Uh(Fh(z.dark))),z.contrastText&&de(I[J],"contrastTextChannel",Uh(Fh(z.contrastText))),J==="text"&&(Is(I[J],"primary"),Is(I[J],"secondary")),J==="action"&&(z.active&&Is(I[J],"active"),z.selected&&Is(I[J],"selected")))})}),O=e.reduce((j,I)=>vi(j,I),O);const k={prefix:a,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:Une(O),enableContrastVars:s},{vars:D,generateThemeVars:L,generateStyleSheets:$}=Xte(O,k);return O.vars=D,Object.entries(O.colorSchemes[O.defaultColorScheme]).forEach(([j,I])=>{O[j]=I}),O.generateThemeVars=L,O.generateStyleSheets=$,O.generateSpacing=function(){return j8(d.spacing,wC(this))},O.getColorSchemeSelector=Kte(c),O.spacing=O.generateSpacing(),O.shouldSkipGeneratingVar=o,O.unstable_sxConfig={...cg,...d?.unstable_sxConfig},O.unstable_sx=function(I){return al({sx:I,theme:this})},O.toRuntimeSource=t$,O}function nD(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:MC({...n===!0?{}:n.palette,mode:e})})}function jb(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:a=n?.mode,...s}=t,o=a||"light",c=i?.[o],f={...i,...n?{[o]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return I2(t,...e);let d=n;"palette"in t||f[o]&&(f[o]!==!0?d=f[o].palette:o==="dark"&&(d={mode:"dark"}));const p=I2({...t,palette:d},...e);return p.defaultColorScheme=o,p.colorSchemes=f,p.palette.mode==="light"&&(p.colorSchemes.light={...f.light!==!0&&f.light,palette:p.palette},nD(p,"dark",f.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:p.palette},nD(p,"light",f.light)),p}return!n&&!("light"in f)&&o==="light"&&(f.light=!0),Vne({...s,colorSchemes:f,defaultColorScheme:o,...typeof r!="boolean"&&r},...e)}const IC=jb();function Ub(){const t=ug(IC);return t[Ga]||t}function Hne(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const kC=t=>Hne(t)&&t!=="classes",Fe=H8({themeId:Ga,defaultTheme:IC,rootShouldForwardProp:kC});function Wne({theme:t,...e}){const n=Ga in t?t[Ga]:void 0;return E.jsx(Y8,{...e,themeId:n?Ga:void 0,theme:n||t})}const yy={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:qne}=Vte({themeId:Ga,theme:()=>jb({cssVariables:!0}),colorSchemeStorageKey:yy.colorSchemeStorageKey,modeStorageKey:yy.modeStorageKey,defaultColorScheme:{light:yy.defaultLightColorScheme,dark:yy.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:e$(t.palette,t.typography)};return e.unstable_sx=function(r){return al({sx:r,theme:this})},e}}),Xne=qne;function Kne({theme:t,...e}){const n=x.useMemo(()=>{if(typeof t=="function")return t;const r=Ga in t?t[Ga]:t;return"colorSchemes"in r?null:"vars"in r?t:{...t,vars:null}},[t]);return n?E.jsx(Wne,{theme:n,...e}):E.jsx(Xne,{theme:t,...e})}function Yne(t){return E.jsx(U8,{...t,defaultTheme:IC,themeId:Ga})}function i$(t){return function(n){return E.jsx(Yne,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function Gne(){return AC}function xt(t){return Mte(t)}const N2=typeof i$({})=="function",Zne=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),Qne=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),a$=(t,e=!1)=>{const n={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([a,s])=>{const o=t.getColorSchemeSelector(a);o.startsWith("@")?n[o]={":root":{colorScheme:s.palette?.mode}}:n[o.replace(/\s*&/,"")]={colorScheme:s.palette?.mode}});let r={html:Zne(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...Qne(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const i=t.components?.MuiCssBaseline?.styleOverrides;return i&&(r=[r,i]),r},hv="mui-ecs",Jne=t=>{const e=a$(t,!1),n=Array.isArray(e)?e[0]:e;return!t.vars&&n&&(n.html[`:root:has(${hv})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([r,i])=>{const a=t.getColorSchemeSelector(r);a.startsWith("@")?n[a]={[`:root:not(:has(.${hv}))`]:{colorScheme:i.palette?.mode}}:n[a.replace(/\s*&/,"")]={[`&:not(:has(.${hv}))`]:{colorScheme:i.palette?.mode}}}),e},ere=i$(N2?({theme:t,enableColorScheme:e})=>a$(t,e):({theme:t})=>Jne(t));function tre(t){const e=xt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return E.jsxs(x.Fragment,{children:[N2&&E.jsx(ere,{enableColorScheme:r}),!N2&&!r&&E.jsx("span",{className:hv,style:{display:"none"}}),n]})}const nre=Ot("MuiBox",["root"]),rre=jb(),Hr=ote({themeId:Ga,defaultTheme:rre,defaultClassName:nre.root,generateClassName:F8.generate}),Vt=Dte;function ire(t){return typeof t.main=="string"}function are(t,e=[]){if(!ire(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Sr(t=[]){return([,e])=>e&&are(e,t)}function sre(t){return Rt("MuiPaper",t)}Ot("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ore=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,a={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Dt(a,sre,i)},lre=Fe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Vt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Zo=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiPaper"}),i=Ub(),{className:a,component:s="div",elevation:o=1,square:c=!1,variant:f="elevation",...d}=r,p={...r,component:s,elevation:o,square:c,variant:f},m=ore(p);return E.jsx(lre,{as:s,ownerState:p,className:Te(m.root,a),ref:n,...d,style:{...f==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[o],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[o]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${$v("#fff",k2(o))}, ${$v("#fff",k2(o))})`}},...d.style}})});function cre(t){return Rt("MuiAppBar",t)}Ot("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const ure=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${xe(e)}`,`position${xe(n)}`]};return Dt(i,cre,r)},rD=(t,e)=>t?`${t?.replace(")","")}, ${e})`:e,fre=Fe(Zo,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${xe(n.position)}`],e[`color${xe(n.color)}`]]}})(Vt(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(Sr(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?rD(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?rD(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),dre=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiAppBar"}),{className:i,color:a="primary",enableColorOnDark:s=!1,position:o="fixed",...c}=r,f={...r,color:a,position:o,enableColorOnDark:s},d=ure(f);return E.jsx(fre,{square:!0,component:"header",ownerState:f,elevation:4,className:Te(d.root,i,o==="fixed"&&"mui-fixed"),ref:n,...c})});function hre(t){return Rt("MuiToolbar",t)}Ot("MuiToolbar",["root","gutters","regular","dense"]);const pre=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Dt({root:["root",!n&&"gutters",r]},hre,e)},gre=Fe("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(Vt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),mre=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiToolbar"}),{className:i,component:a="div",disableGutters:s=!1,variant:o="regular",...c}=r,f={...r,component:a,disableGutters:s,variant:o},d=pre(f);return E.jsx(gre,{as:a,className:Te(d.root,i),ref:n,ownerState:f,...c})}),xp=x.createContext({});function yre(t){return Rt("MuiList",t)}Ot("MuiList",["root","padding","dense","subheader"]);const vre=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Dt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},yre,e)},bre=Fe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),xre=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiList"}),{children:i,className:a,component:s="ul",dense:o=!1,disablePadding:c=!1,subheader:f,...d}=r,p=x.useMemo(()=>({dense:o}),[o]),m={...r,component:s,dense:o,disablePadding:c},y=vre(m);return E.jsx(xp.Provider,{value:p,children:E.jsxs(bre,{as:s,className:Te(y.root,a),ref:n,ownerState:m,...d,children:[f,i]})})});function _re(t){return Rt("MuiTypography",t)}const iD=Ot("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),wre={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Sre=Gne(),Tre=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:a,classes:s}=t,o={root:["root",a,t.align!=="inherit"&&`align${xe(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Dt(o,_re,s)},Are=Fe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${xe(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Vt(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,n])=>e!=="inherit"&&n&&typeof n=="object").map(([e,n])=>({props:{variant:e},style:n})),...Object.entries(t.palette).filter(Sr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${xe(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),aD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Bt=x.forwardRef(function(e,n){const{color:r,...i}=xt({props:e,name:"MuiTypography"}),a=!wre[r],s=Sre({...i,...a&&{color:r}}),{align:o="inherit",className:c,component:f,gutterBottom:d=!1,noWrap:p=!1,paragraph:m=!1,variant:y="body1",variantMapping:v=aD,...b}=s,w={...s,align:o,color:r,className:c,component:f,gutterBottom:d,noWrap:p,paragraph:m,variant:y,variantMapping:v},T=f||(m?"p":v[y]||aD[y])||"span",C=Tre(w);return E.jsx(Are,{as:T,ref:n,className:Te(C.root,c),...b,ownerState:w,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...b.style}})});function Ere(t){return Rt("MuiSvgIcon",t)}Ot("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Cre=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${xe(e)}`,`fontSize${xe(n)}`]};return Dt(i,Ere,r)},Pre=Fe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${xe(n.color)}`],e[`fontSize${xe(n.fontSize)}`]]}})(Vt(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),D2=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiSvgIcon"}),{children:i,className:a,color:s="inherit",component:o="svg",fontSize:c="medium",htmlColor:f,inheritViewBox:d=!1,titleAccess:p,viewBox:m="0 0 24 24",...y}=r,v=x.isValidElement(i)&&i.type==="svg",b={...r,color:s,component:o,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:m,hasSvgAsChild:v},w={};d||(w.viewBox=m);const T=Cre(b);return E.jsxs(Pre,{as:o,className:Te(T.root,a),focusable:"false",color:f,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n,...w,...y,...v&&i.props,ownerState:b,children:[v?i.props.children:i,p?E.jsx("title",{children:p}):null]})});D2.muiName="SvgIcon";function dr(t,e){function n(r,i){return E.jsx(D2,{"data-testid":void 0,ref:i,...r,children:t})}return n.muiName=D2.muiName,x.memo(x.forwardRef(n))}function sD(t){return t&&t.ownerDocument||document}function oD(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Rre(t){const{controlled:e,default:n}=t,{current:r}=x.useRef(e!==void 0),[i,a]=x.useState(n),s=r?e:i,o=x.useCallback(c=>{r||a(c)},[]);return[s,o]}function _f(t){const e=x.useRef(t);return sl(()=>{e.current=t}),x.useRef((...n)=>(0,e.current)(...n)).current}function _a(...t){const e=x.useRef(void 0),n=x.useCallback(r=>{const i=t.map(a=>{if(a==null)return null;if(typeof a=="function"){const s=a,o=s(r);return typeof o=="function"?o:()=>{s(null)}}return a.current=r,()=>{a.current=null}});return()=>{i.forEach(a=>a?.())}},t);return x.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function Vv(t){try{return t.matches(":focus-visible")}catch{}return!1}const lD={};function s$(t,e){const n=x.useRef(lD);return n.current===lD&&(n.current=t(e)),n}class Hv{static create(){return new Hv}static use(){const e=s$(Hv.create).current,[n,r]=x.useState(!1);return e.shouldMount=n,e.setShouldMount=r,x.useEffect(e.mountEffect,[n]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=Mre(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function Ore(){return Hv.use()}function Mre(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function o$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function B2(t,e){return B2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},B2(t,e)}function l$(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,B2(t,e)}const cD={disabled:!1},Wv=gi.createContext(null);var Ire=function(e){return e.scrollTop},$h="unmounted",ql="exited",Xl="entering",Qu="entered",L2="exiting",lo=(function(t){l$(e,t);function e(r,i){var a;a=t.call(this,r,i)||this;var s=i,o=s&&!s.isMounting?r.enter:r.appear,c;return a.appearStatus=null,r.in?o?(c=ql,a.appearStatus=Xl):c=Qu:r.unmountOnExit||r.mountOnEnter?c=$h:c=ql,a.state={status:c},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var s=i.in;return s&&a.status===$h?{status:ql}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Xl&&s!==Qu&&(a=Xl):(s===Xl||s===Qu)&&(a=L2)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a,s,o;return a=s=o=i,i!=null&&typeof i!="number"&&(a=i.exit,s=i.enter,o=i.appear!==void 0?i.appear:s),{exit:a,enter:s,appear:o}},n.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===Xl){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:py.findDOMNode(this);s&&Ire(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ql&&this.setState({status:$h})},n.performEnter=function(i){var a=this,s=this.props.enter,o=this.context?this.context.isMounting:i,c=this.props.nodeRef?[o]:[py.findDOMNode(this),o],f=c[0],d=c[1],p=this.getTimeouts(),m=o?p.appear:p.enter;if(!i&&!s||cD.disabled){this.safeSetState({status:Qu},function(){a.props.onEntered(f)});return}this.props.onEnter(f,d),this.safeSetState({status:Xl},function(){a.props.onEntering(f,d),a.onTransitionEnd(m,function(){a.safeSetState({status:Qu},function(){a.props.onEntered(f,d)})})})},n.performExit=function(){var i=this,a=this.props.exit,s=this.getTimeouts(),o=this.props.nodeRef?void 0:py.findDOMNode(this);if(!a||cD.disabled){this.safeSetState({status:ql},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:L2},function(){i.props.onExiting(o),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:ql},function(){i.props.onExited(o)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,s=!0;return this.nextCallback=function(o){s&&(s=!1,a.nextCallback=null,i(o))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var s=this.props.nodeRef?this.props.nodeRef.current:py.findDOMNode(this),o=i==null&&!this.props.addEndListener;if(!s||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],f=c[0],d=c[1];this.props.addEndListener(f,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===$h)return null;var a=this.props,s=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var o=o$(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return gi.createElement(Wv.Provider,{value:null},typeof s=="function"?s(i,o):gi.cloneElement(gi.Children.only(s),o))},e})(gi.Component);lo.contextType=Wv;lo.propTypes={};function zu(){}lo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zu,onEntering:zu,onEntered:zu,onExit:zu,onExiting:zu,onExited:zu};lo.UNMOUNTED=$h;lo.EXITED=ql;lo.ENTERING=Xl;lo.ENTERED=Qu;lo.EXITING=L2;function kre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NC(t,e){var n=function(a){return e&&x.isValidElement(a)?e(a):a},r=Object.create(null);return t&&x.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Nre(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var r=Object.create(null),i=[];for(var a in t)a in e?i.length&&(r[a]=i,i=[]):i.push(a);var s,o={};for(var c in e){if(r[c])for(s=0;s<r[c].length;s++){var f=r[c][s];o[r[c][s]]=n(f)}o[c]=n(c)}for(s=0;s<i.length;s++)o[i[s]]=n(i[s]);return o}function ec(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Dre(t,e){return NC(t.children,function(n){return x.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:ec(n,"appear",t),enter:ec(n,"enter",t),exit:ec(n,"exit",t)})})}function Bre(t,e,n){var r=NC(t.children),i=Nre(e,r);return Object.keys(i).forEach(function(a){var s=i[a];if(x.isValidElement(s)){var o=a in e,c=a in r,f=e[a],d=x.isValidElement(f)&&!f.props.in;c&&(!o||d)?i[a]=x.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:ec(s,"exit",t),enter:ec(s,"enter",t)}):!c&&o&&!d?i[a]=x.cloneElement(s,{in:!1}):c&&o&&x.isValidElement(f)&&(i[a]=x.cloneElement(s,{onExited:n.bind(null,s),in:f.props.in,exit:ec(s,"exit",t),enter:ec(s,"enter",t)}))}}),i}var Lre=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},jre={component:"div",childFactory:function(e){return e}},DC=(function(t){l$(e,t);function e(r,i){var a;a=t.call(this,r,i)||this;var s=a.handleExited.bind(kre(a));return a.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,a){var s=a.children,o=a.handleExited,c=a.firstRender;return{children:c?Dre(i,o):Bre(i,s,o),firstRender:!1}},n.handleExited=function(i,a){var s=NC(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(o){var c=jv({},o.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,a=i.component,s=i.childFactory,o=o$(i,["component","childFactory"]),c=this.state.contextValue,f=Lre(this.state.children).map(s);return delete o.appear,delete o.enter,delete o.exit,a===null?gi.createElement(Wv.Provider,{value:c},f):gi.createElement(Wv.Provider,{value:c},gi.createElement(a,o,f))},e})(gi.Component);DC.propTypes={};DC.defaultProps=jre;const Ure=[];function Fre(t){x.useEffect(t,Ure)}class Fb{static create(){return new Fb}currentId=null;start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function nf(){const t=s$(Fb.create).current;return Fre(t.disposeEffect),t}function $re(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:a,rippleSize:s,in:o,onExited:c,timeout:f}=t,[d,p]=x.useState(!1),m=Te(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),y={width:s,height:s,top:-(s/2)+a,left:-(s/2)+i},v=Te(n.child,d&&n.childLeaving,r&&n.childPulsate);return!o&&!d&&p(!0),x.useEffect(()=>{if(!o&&c!=null){const b=setTimeout(c,f);return()=>{clearTimeout(b)}}},[c,o,f]),E.jsx("span",{className:m,style:y,children:E.jsx("span",{className:v})})}const Fi=Ot("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),j2=550,zre=80,Vre=gl`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Hre=gl`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Wre=gl`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,qre=Fe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Xre=Fe($re,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Fi.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Vre};
    animation-duration: ${j2}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Fi.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Fi.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Fi.childLeaving} {
    opacity: 0;
    animation-name: ${Hre};
    animation-duration: ${j2}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Fi.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Wre};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Kre=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:a={},className:s,...o}=r,[c,f]=x.useState([]),d=x.useRef(0),p=x.useRef(null);x.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const m=x.useRef(!1),y=nf(),v=x.useRef(null),b=x.useRef(null),w=x.useCallback(R=>{const{pulsate:P,rippleX:O,rippleY:k,rippleSize:D,cb:L}=R;f($=>[...$,E.jsx(Xre,{classes:{ripple:Te(a.ripple,Fi.ripple),rippleVisible:Te(a.rippleVisible,Fi.rippleVisible),ripplePulsate:Te(a.ripplePulsate,Fi.ripplePulsate),child:Te(a.child,Fi.child),childLeaving:Te(a.childLeaving,Fi.childLeaving),childPulsate:Te(a.childPulsate,Fi.childPulsate)},timeout:j2,pulsate:P,rippleX:O,rippleY:k,rippleSize:D},d.current)]),d.current+=1,p.current=L},[a]),T=x.useCallback((R={},P={},O=()=>{})=>{const{pulsate:k=!1,center:D=i||P.pulsate,fakeElement:L=!1}=P;if(R?.type==="mousedown"&&m.current){m.current=!1;return}R?.type==="touchstart"&&(m.current=!0);const $=L?null:b.current,j=$?$.getBoundingClientRect():{width:0,height:0,left:0,top:0};let I,W,H;if(D||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)I=Math.round(j.width/2),W=Math.round(j.height/2);else{const{clientX:J,clientY:z}=R.touches&&R.touches.length>0?R.touches[0]:R;I=Math.round(J-j.left),W=Math.round(z-j.top)}if(D)H=Math.sqrt((2*j.width**2+j.height**2)/3),H%2===0&&(H+=1);else{const J=Math.max(Math.abs(($?$.clientWidth:0)-I),I)*2+2,z=Math.max(Math.abs(($?$.clientHeight:0)-W),W)*2+2;H=Math.sqrt(J**2+z**2)}R?.touches?v.current===null&&(v.current=()=>{w({pulsate:k,rippleX:I,rippleY:W,rippleSize:H,cb:O})},y.start(zre,()=>{v.current&&(v.current(),v.current=null)})):w({pulsate:k,rippleX:I,rippleY:W,rippleSize:H,cb:O})},[i,w,y]),C=x.useCallback(()=>{T({},{pulsate:!0})},[T]),A=x.useCallback((R,P)=>{if(y.clear(),R?.type==="touchend"&&v.current){v.current(),v.current=null,y.start(0,()=>{A(R,P)});return}v.current=null,f(O=>O.length>0?O.slice(1):O),p.current=P},[y]);return x.useImperativeHandle(n,()=>({pulsate:C,start:T,stop:A}),[C,T,A]),E.jsx(qre,{className:Te(Fi.root,a.root,s),ref:b,...o,children:E.jsx(DC,{component:null,exit:!0,children:c})})});function Yre(t){return Rt("MuiButtonBase",t)}const Gre=Ot("MuiButtonBase",["root","disabled","focusVisible"]),Zre=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=Dt({root:["root",e&&"disabled",n&&"focusVisible"]},Yre,i);return n&&r&&(s.root+=` ${r}`),s},Qre=Fe("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Gre.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),_p=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:a=!1,children:s,className:o,component:c="button",disabled:f=!1,disableRipple:d=!1,disableTouchRipple:p=!1,focusRipple:m=!1,focusVisibleClassName:y,LinkComponent:v="a",onBlur:b,onClick:w,onContextMenu:T,onDragLeave:C,onFocus:A,onFocusVisible:R,onKeyDown:P,onKeyUp:O,onMouseDown:k,onMouseLeave:D,onMouseUp:L,onTouchEnd:$,onTouchMove:j,onTouchStart:I,tabIndex:W=0,TouchRippleProps:H,touchRippleRef:J,type:z,...q}=r,se=x.useRef(null),le=Ore(),_e=_a(le.ref,J),[F,ee]=x.useState(!1);f&&F&&ee(!1),x.useImperativeHandle(i,()=>({focusVisible:()=>{ee(!0),se.current.focus()}}),[]);const ye=le.shouldMount&&!d&&!f;x.useEffect(()=>{F&&m&&!d&&le.pulsate()},[d,m,F,le]);const be=ks(le,"start",k,p),Ae=ks(le,"stop",T,p),we=ks(le,"stop",C,p),Ee=ks(le,"stop",L,p),Xe=ks(le,"stop",ke=>{F&&ke.preventDefault(),D&&D(ke)},p),ue=ks(le,"start",I,p),De=ks(le,"stop",$,p),je=ks(le,"stop",j,p),me=ks(le,"stop",ke=>{Vv(ke.target)||ee(!1),b&&b(ke)},!1),ht=_f(ke=>{se.current||(se.current=ke.currentTarget),Vv(ke.target)&&(ee(!0),R&&R(ke)),A&&A(ke)}),Le=()=>{const ke=se.current;return c&&c!=="button"&&!(ke.tagName==="A"&&ke.href)},pt=_f(ke=>{m&&!ke.repeat&&F&&ke.key===" "&&le.stop(ke,()=>{le.start(ke)}),ke.target===ke.currentTarget&&Le()&&ke.key===" "&&ke.preventDefault(),P&&P(ke),ke.target===ke.currentTarget&&Le()&&ke.key==="Enter"&&!f&&(ke.preventDefault(),w&&w(ke))}),It=_f(ke=>{m&&ke.key===" "&&F&&!ke.defaultPrevented&&le.stop(ke,()=>{le.pulsate(ke)}),O&&O(ke),w&&ke.target===ke.currentTarget&&Le()&&ke.key===" "&&!ke.defaultPrevented&&w(ke)});let jt=c;jt==="button"&&(q.href||q.to)&&(jt=v);const tn={};jt==="button"?(tn.type=z===void 0?"button":z,tn.disabled=f):(!q.href&&!q.to&&(tn.role="button"),f&&(tn["aria-disabled"]=f));const Zt=_a(n,se),nn={...r,centerRipple:a,component:c,disabled:f,disableRipple:d,disableTouchRipple:p,focusRipple:m,tabIndex:W,focusVisible:F},tr=Zre(nn);return E.jsxs(Qre,{as:jt,className:Te(tr.root,o),ownerState:nn,onBlur:me,onClick:w,onContextMenu:Ae,onFocus:ht,onKeyDown:pt,onKeyUp:It,onMouseDown:be,onMouseLeave:Xe,onMouseUp:Ee,onDragLeave:we,onTouchEnd:De,onTouchMove:je,onTouchStart:ue,ref:Zt,tabIndex:f?-1:W,type:z,...tn,...q,children:[s,ye?E.jsx(Kre,{ref:_e,center:a,...H}):null]})});function ks(t,e,n,r=!1){return _f(i=>(n&&n(i),r||t[e](i),!0))}function Jre(t){return Rt("MuiCircularProgress",t)}Ot("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const la=44,U2=gl`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,F2=gl`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,eie=typeof U2!="string"?sd`
        animation: ${U2} 1.4s linear infinite;
      `:null,tie=typeof F2!="string"?sd`
        animation: ${F2} 1.4s ease-in-out infinite;
      `:null,nie=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,a={root:["root",n,`color${xe(r)}`],svg:["svg"],track:["track"],circle:["circle",`circle${xe(n)}`,i&&"circleDisableShrink"]};return Dt(a,Jre,e)},rie=Fe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${xe(n.color)}`]]}})(Vt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:eie||{animation:`${U2} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Sr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),iie=Fe("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),aie=Fe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${xe(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Vt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:tie||{animation:`${F2} 1.4s ease-in-out infinite`}}]}))),sie=Fe("circle",{name:"MuiCircularProgress",slot:"Track"})(Vt(({theme:t})=>({stroke:"currentColor",opacity:(t.vars||t).palette.action.activatedOpacity}))),c$=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiCircularProgress"}),{className:i,color:a="primary",disableShrink:s=!1,enableTrackSlot:o=!1,size:c=40,style:f,thickness:d=3.6,value:p=0,variant:m="indeterminate",...y}=r,v={...r,color:a,disableShrink:s,size:c,thickness:d,value:p,variant:m,enableTrackSlot:o},b=nie(v),w={},T={},C={};if(m==="determinate"){const A=2*Math.PI*((la-d)/2);w.strokeDasharray=A.toFixed(3),C["aria-valuenow"]=Math.round(p),w.strokeDashoffset=`${((100-p)/100*A).toFixed(3)}px`,T.transform="rotate(-90deg)"}return E.jsx(rie,{className:Te(b.root,i),style:{width:c,height:c,...T,...f},ownerState:v,ref:n,role:"progressbar",...C,...y,children:E.jsxs(iie,{className:b.svg,ownerState:v,viewBox:`${la/2} ${la/2} ${la} ${la}`,children:[o?E.jsx(sie,{className:b.track,ownerState:v,cx:la,cy:la,r:(la-d)/2,fill:"none",strokeWidth:d,"aria-hidden":"true"}):null,E.jsx(aie,{className:b.circle,style:w,ownerState:v,cx:la,cy:la,r:(la-d)/2,fill:"none",strokeWidth:d})]})})});function oie(t){return Rt("MuiIconButton",t)}const uD=Ot("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),lie=t=>{const{classes:e,disabled:n,color:r,edge:i,size:a,loading:s}=t,o={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${xe(r)}`,i&&`edge${xe(i)}`,`size${xe(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Dt(o,oie,e)},cie=Fe(_p,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${xe(n.color)}`],n.edge&&e[`edge${xe(n.edge)}`],e[`size${xe(n.size)}`]]}})(Vt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Vt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Sr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Sr()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${uD.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${uD.loading}`]:{color:"transparent"}}))),uie=Fe("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),$2=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:a,className:s,color:o="default",disabled:c=!1,disableFocusRipple:f=!1,size:d="medium",id:p,loading:m=null,loadingIndicator:y,...v}=r,b=Bb(p),w=y??E.jsx(c$,{"aria-labelledby":b,color:"inherit",size:16}),T={...r,edge:i,color:o,disabled:c,disableFocusRipple:f,loading:m,loadingIndicator:w,size:d},C=lie(T);return E.jsxs(cie,{id:m?b:p,className:Te(C.root,s),centerRipple:!0,focusRipple:!f,disabled:c||m,ref:n,...v,ownerState:T,children:[typeof m=="boolean"&&E.jsx("span",{className:C.loadingWrapper,style:{display:"contents"},children:E.jsx(uie,{className:C.loadingIndicator,ownerState:T,children:m&&w})}),a]})});function u$(t){const e=x.useRef({});return x.useEffect(()=>{e.current=t}),e.current}function fie(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:i=!1}=t,a=u$({badgeContent:e,max:r});let s=n;n===!1&&e===0&&!i&&(s=!0);const{badgeContent:o,max:c=r}=s?a:t,f=o&&Number(o)>c?`${c}+`:o;return{badgeContent:o,invisible:s,max:c,displayValue:f}}function die(t){return Rt("MuiBadge",t)}const $o=Ot("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]);function hie(t){return typeof t=="string"}function f$(t,e,n){return t===void 0||hie(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function d$(t,e,n){return typeof t=="function"?t(e,n):t}function pie(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function fD(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function h$(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:a}=t;if(!e){const y=Te(n?.className,a,i?.className,r?.className),v={...n?.style,...i?.style,...r?.style},b={...n,...i,...r};return y.length>0&&(b.className=y),Object.keys(v).length>0&&(b.style=v),{props:b,internalRef:void 0}}const s=pie({...i,...r}),o=fD(r),c=fD(i),f=e(s),d=Te(f?.className,n?.className,a,i?.className,r?.className),p={...f?.style,...n?.style,...i?.style,...r?.style},m={...f,...n,...c,...o};return d.length>0&&(m.className=d),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:f.ref}}function ya(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:a,internalForwardedProps:s,shouldForwardComponentProp:o=!1,...c}=e,{component:f,slots:d={[t]:void 0},slotProps:p={[t]:void 0},...m}=a,y=d[t]||r,v=d$(p[t],i),{props:{component:b,...w},internalRef:T}=h$({className:n,...c,externalForwardedProps:t==="root"?m:void 0,externalSlotProps:v}),C=_a(T,v?.ref,e.ref),A=t==="root"?b||f:b,R=f$(y,{...t==="root"&&!f&&!d[t]&&s,...t!=="root"&&!d[t]&&s,...w,...A&&!o&&{as:A},...A&&o&&{component:A},ref:C},i);return[y,R]}const Dw=10,Bw=4,gie=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:i,variant:a,classes:s={}}=t,o={root:["root"],badge:["badge",a,r&&"invisible",`anchorOrigin${xe(n.vertical)}${xe(n.horizontal)}`,`anchorOrigin${xe(n.vertical)}${xe(n.horizontal)}${xe(i)}`,`overlap${xe(i)}`,e!=="default"&&`color${xe(e)}`]};return Dt(o,die,s)},mie=Fe("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),yie=Fe("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${xe(n.anchorOrigin.vertical)}${xe(n.anchorOrigin.horizontal)}${xe(n.overlap)}`],n.color!=="default"&&e[`color${xe(n.color)}`],n.invisible&&e.invisible]}})(Vt(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Dw*2,lineHeight:1,padding:"0 6px",height:Dw*2,borderRadius:Dw,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(Sr(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Bw,height:Bw*2,minWidth:Bw*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${$o.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${$o.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${$o.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${$o.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${$o.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${$o.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${$o.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${$o.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function dD(t){return{vertical:t?.vertical??"top",horizontal:t?.horizontal??"right"}}const vie=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiBadge"}),{anchorOrigin:i,className:a,classes:s,component:o,components:c={},componentsProps:f={},children:d,overlap:p="rectangular",color:m="default",invisible:y=!1,max:v=99,badgeContent:b,slots:w,slotProps:T,showZero:C=!1,variant:A="standard",...R}=r,{badgeContent:P,invisible:O,max:k,displayValue:D}=fie({max:v,invisible:y,badgeContent:b,showZero:C}),L=u$({anchorOrigin:dD(i),color:m,overlap:p,variant:A,badgeContent:b}),$=O||P==null&&A!=="dot",{color:j=m,overlap:I=p,anchorOrigin:W,variant:H=A}=$?L:r,J=dD(W),z=H!=="dot"?D:void 0,q={...r,badgeContent:P,invisible:$,max:k,displayValue:z,showZero:C,anchorOrigin:J,color:j,overlap:I,variant:H},se=gie(q),le={slots:{root:w?.root??c.Root,badge:w?.badge??c.Badge},slotProps:{root:T?.root??f.root,badge:T?.badge??f.badge}},[_e,F]=ya("root",{elementType:mie,externalForwardedProps:{...le,...R},ownerState:q,className:Te(se.root,a),ref:n,additionalProps:{as:o}}),[ee,ye]=ya("badge",{elementType:yie,externalForwardedProps:le,ownerState:q,className:se.badge});return E.jsxs(_e,{...F,children:[d,E.jsx(ee,{...ye,children:z})]})}),bie=dr(E.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),xie=dr(E.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2m6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5z"}));function _ie(t){return Rt("MuiListItemButton",t)}const wh=Ot("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),wie=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Sie=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:a,divider:s,selected:o}=t,f=Dt({root:["root",r&&"dense",!a&&"gutters",s&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",o&&"selected"]},_ie,n);return{...n,...f}},Tie=Fe(_p,{shouldForwardProp:t=>kC(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:wie})(Vt(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${wh.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${wh.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${wh.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${wh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${wh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),Aie=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:a=!1,component:s="div",children:o,dense:c=!1,disableGutters:f=!1,divider:d=!1,focusVisibleClassName:p,selected:m=!1,className:y,...v}=r,b=x.useContext(xp),w=x.useMemo(()=>({dense:c||b.dense||!1,alignItems:i,disableGutters:f}),[i,b.dense,c,f]),T=x.useRef(null);sl(()=>{a&&T.current&&T.current.focus()},[a]);const C={...r,alignItems:i,dense:w.dense,disableGutters:f,divider:d,selected:m},A=Sie(C),R=_a(T,n);return E.jsx(xp.Provider,{value:w,children:E.jsx(Tie,{ref:R,href:v.href||v.to,component:(v.href||v.to)&&s==="div"?"button":s,focusVisibleClassName:Te(A.focusVisible,p),ownerState:C,className:Te(A.root,y),...v,classes:A,children:o})})});function Eie(t){return Rt("MuiListItemIcon",t)}Ot("MuiListItemIcon",["root","alignItemsFlexStart"]);const Cie=t=>{const{alignItems:e,classes:n}=t;return Dt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Eie,n)},Pie=Fe("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(Vt(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Rie=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiListItemIcon"}),{className:i,...a}=r,s=x.useContext(xp),o={...r,alignItems:s.alignItems},c=Cie(o);return E.jsx(Pie,{className:Te(c.root,i),ownerState:o,ref:n,...a})});function Oie(t){return Rt("MuiListItemText",t)}const vy=Ot("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Mie=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:a}=t;return Dt({root:["root",n&&"inset",a&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Oie,e)},Iie=Fe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${vy.primary}`]:e.primary},{[`& .${vy.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${iD.root}:where(& .${vy.primary})`]:{display:"block"},[`.${iD.root}:where(& .${vy.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),kie=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiListItemText"}),{children:i,className:a,disableTypography:s=!1,inset:o=!1,primary:c,primaryTypographyProps:f,secondary:d,secondaryTypographyProps:p,slots:m={},slotProps:y={},...v}=r,{dense:b}=x.useContext(xp);let w=c??i,T=d;const C={...r,disableTypography:s,inset:o,primary:!!w,secondary:!!T,dense:b},A=Mie(C),R={slots:m,slotProps:{primary:f,secondary:p,...y}},[P,O]=ya("root",{className:Te(A.root,a),elementType:Iie,externalForwardedProps:{...R,...v},ownerState:C,ref:n}),[k,D]=ya("primary",{className:A.primary,elementType:Bt,externalForwardedProps:R,ownerState:C}),[L,$]=ya("secondary",{className:A.secondary,elementType:Bt,externalForwardedProps:R,ownerState:C});return w!=null&&w.type!==Bt&&!s&&(w=E.jsx(k,{variant:b?"body2":"body1",component:D?.variant?void 0:"span",...D,children:w})),T!=null&&T.type!==Bt&&!s&&(T=E.jsx(L,{variant:"body2",color:"textSecondary",...$,children:T})),E.jsxs(P,{...O,children:[w,T]})}),Nie=dr(E.jsx("path",{d:"M19 5v2h-4V5zM9 5v6H5V5zm10 8v6h-4v-6zM9 17v2H5v-2zM21 3h-8v6h8zM11 3H3v10h8zm10 8h-8v10h8zm-10 4H3v6h8z"})),Die=dr(E.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M10 5.47l4 1.4v11.66l-4-1.4zm-5 .99 3-1.01v11.7l-3 1.16zm14 11.08-3 1.01V6.86l3-1.16z"})),Bie=dr(E.jsx("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"})),Lie=dr(E.jsx("path",{d:"M12 12c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m6-1.8C18 6.57 15.35 4 12 4s-6 2.57-6 6.2c0 2.34 1.95 5.44 6 9.14 4.05-3.7 6-6.8 6-9.14M12 2c4.2 0 8 3.22 8 8.2 0 3.32-2.67 7.25-8 11.8-5.33-4.55-8-8.48-8-11.8C4 5.22 7.8 2 12 2"})),jie=dr(E.jsx("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"})),Uie=dr(E.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),p$=dr(E.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"})),Fie=dr([E.jsx("path",{d:"M13 8.57c-.79 0-1.43.64-1.43 1.43s.64 1.43 1.43 1.43 1.43-.64 1.43-1.43-.64-1.43-1.43-1.43"},"0"),E.jsx("path",{d:"M13 3C9.25 3 6.2 5.94 6.02 9.64L4.1 12.2c-.25.33-.01.8.4.8H6v3c0 1.1.9 2 2 2h1v3h7v-4.68c2.36-1.12 4-3.53 4-6.32 0-3.87-3.13-7-7-7m3 7c0 .13-.01.26-.02.39l.83.66c.08.06.1.16.05.25l-.8 1.39c-.05.09-.16.12-.24.09l-.99-.4c-.21.16-.43.29-.67.39L14 13.83c-.01.1-.1.17-.2.17h-1.6c-.1 0-.18-.07-.2-.17l-.15-1.06c-.25-.1-.47-.23-.68-.39l-.99.4c-.09.03-.2 0-.25-.09l-.8-1.39c-.05-.08-.03-.19.05-.25l.84-.66c-.01-.13-.02-.26-.02-.39s.02-.27.04-.39l-.85-.66c-.08-.06-.1-.16-.05-.26l.8-1.38c.05-.09.15-.12.24-.09l1 .4c.2-.15.43-.29.67-.39L12 6.17c.02-.1.1-.17.2-.17h1.6c.1 0 .18.07.2.17l.15 1.06c.24.1.46.23.67.39l1-.4c.09-.03.2 0 .24.09l.8 1.38c.05.09.03.2-.05.26l-.85.66c.03.12.04.25.04.39"},"1")]),g$=dr(E.jsx("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m13.5-9 1.96 2.5H17V9.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"})),$ie=dr(E.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"})),m$=x.createContext({});function zie(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const BC=typeof window<"u",Vie=BC?x.useLayoutEffect:x.useEffect,LC=x.createContext(null);function jC(t,e){t.indexOf(e)===-1&&t.push(e)}function UC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ys=(t,e,n)=>n>e?e:n<t?t:n;let FC=()=>{};const Gs={},y$=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function v$(t){return typeof t=="object"&&t!==null}const b$=t=>/^0[^.\s]+$/u.test(t);function $C(t){let e;return()=>(e===void 0&&(e=t()),e)}const Wi=t=>t,Hie=(t,e)=>n=>e(t(n)),fg=(...t)=>t.reduce(Hie),wp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class zC{constructor(){this.subscriptions=[]}add(e){return jC(this.subscriptions,e),()=>UC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qa=t=>t*1e3,zi=t=>t/1e3;function x$(t,e){return e?t*(1e3/e):0}const _$=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Wie=1e-7,qie=12;function Xie(t,e,n,r,i){let a,s,o=0;do s=e+(n-e)/2,a=_$(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>Wie&&++o<qie);return s}function dg(t,e,n,r){if(t===e&&n===r)return Wi;const i=a=>Xie(a,0,1,t,n);return a=>a===0||a===1?a:_$(i(a),e,r)}const w$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,S$=t=>e=>1-t(1-e),T$=dg(.33,1.53,.69,.99),VC=S$(T$),A$=w$(VC),E$=t=>(t*=2)<1?.5*VC(t):.5*(2-Math.pow(2,-10*(t-1))),HC=t=>1-Math.sin(Math.acos(t)),C$=S$(HC),P$=w$(HC),Kie=dg(.42,0,1,1),Yie=dg(0,0,.58,1),R$=dg(.42,0,.58,1),Gie=t=>Array.isArray(t)&&typeof t[0]!="number",O$=t=>Array.isArray(t)&&typeof t[0]=="number",Zie={linear:Wi,easeIn:Kie,easeInOut:R$,easeOut:Yie,circIn:HC,circInOut:P$,circOut:C$,backIn:VC,backInOut:A$,backOut:T$,anticipate:E$},Qie=t=>typeof t=="string",hD=t=>{if(O$(t)){FC(t.length===4);const[e,n,r,i]=t;return dg(e,n,r,i)}else if(Qie(t))return Zie[t];return t},by=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Jie(t,e){let n=new Set,r=new Set,i=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(d){s.has(d)&&(f.schedule(d),t()),d(o)}const f={schedule:(d,p=!1,m=!1)=>{const v=m&&i?n:r;return p&&s.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),s.delete(d)},process:d=>{if(o=d,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,a&&(a=!1,f.process(d))}};return f}const eae=40;function M$(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=by.reduce((A,R)=>(A[R]=Jie(a),A),{}),{setup:o,read:c,resolveKeyframes:f,preUpdate:d,update:p,preRender:m,render:y,postRender:v}=s,b=()=>{const A=Gs.useManualTiming?i.timestamp:performance.now();n=!1,Gs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(A-i.timestamp,eae),1)),i.timestamp=A,i.isProcessing=!0,o.process(i),c.process(i),f.process(i),d.process(i),p.process(i),m.process(i),y.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},w=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:by.reduce((A,R)=>{const P=s[R];return A[R]=(O,k=!1,D=!1)=>(n||w(),P.schedule(O,k,D)),A},{}),cancel:A=>{for(let R=0;R<by.length;R++)s[by[R]].cancel(A)},state:i,steps:s}}const{schedule:Kt,cancel:ll,state:cr,steps:Lw}=M$(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wi,!0);let pv;function tae(){pv=void 0}const Wr={now:()=>(pv===void 0&&Wr.set(cr.isProcessing||Gs.useManualTiming?cr.timestamp:performance.now()),pv),set:t=>{pv=t,queueMicrotask(tae)}},I$=t=>e=>typeof e=="string"&&e.startsWith(t),WC=I$("--"),nae=I$("var(--"),qC=t=>nae(t)?rae.test(t.split("/*")[0].trim()):!1,rae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ld={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sp={...ld,transform:t=>Ys(0,1,t)},xy={...ld,default:1},Zh=t=>Math.round(t*1e5)/1e5,XC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iae(t){return t==null}const aae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,KC=(t,e)=>n=>!!(typeof n=="string"&&aae.test(n)&&n.startsWith(t)||e&&!iae(n)&&Object.prototype.hasOwnProperty.call(n,e)),k$=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(XC);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},sae=t=>Ys(0,255,t),jw={...ld,transform:t=>Math.round(sae(t))},tc={test:KC("rgb","red"),parse:k$("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+jw.transform(t)+", "+jw.transform(e)+", "+jw.transform(n)+", "+Zh(Sp.transform(r))+")"};function oae(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const z2={test:KC("#"),parse:oae,transform:tc.transform},hg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wo=hg("deg"),Ja=hg("%"),Ue=hg("px"),lae=hg("vh"),cae=hg("vw"),pD={...Ja,parse:t=>Ja.parse(t)/100,transform:t=>Ja.transform(t*100)},rf={test:KC("hsl","hue"),parse:k$("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ja.transform(Zh(e))+", "+Ja.transform(Zh(n))+", "+Zh(Sp.transform(r))+")"},Cn={test:t=>tc.test(t)||z2.test(t)||rf.test(t),parse:t=>tc.test(t)?tc.parse(t):rf.test(t)?rf.parse(t):z2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?tc.transform(t):rf.transform(t),getAnimatableNone:t=>{const e=Cn.parse(t);return e.alpha=0,Cn.transform(e)}},uae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fae(t){return isNaN(t)&&typeof t=="string"&&(t.match(XC)?.length||0)+(t.match(uae)?.length||0)>0}const N$="number",D$="color",dae="var",hae="var(",gD="${}",pae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(pae,c=>(Cn.test(c)?(r.color.push(a),i.push(D$),n.push(Cn.parse(c))):c.startsWith(hae)?(r.var.push(a),i.push(dae),n.push(c)):(r.number.push(a),i.push(N$),n.push(parseFloat(c))),++a,gD)).split(gD);return{values:n,split:o,indexes:r,types:i}}function B$(t){return Tp(t).values}function L$(t){const{split:e,types:n}=Tp(t),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const o=n[s];o===N$?a+=Zh(i[s]):o===D$?a+=Cn.transform(i[s]):a+=i[s]}return a}}const gae=t=>typeof t=="number"?0:Cn.test(t)?Cn.getAnimatableNone(t):t;function mae(t){const e=B$(t);return L$(t)(e.map(gae))}const cl={test:fae,parse:B$,createTransformer:L$,getAnimatableNone:mae};function Uw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yae({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;i=Uw(c,o,t+1/3),a=Uw(c,o,t),s=Uw(c,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function qv(t,e){return n=>n>0?e:t}const Qt=(t,e,n)=>t+(e-t)*n,Fw=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},vae=[z2,tc,rf],bae=t=>vae.find(e=>e.test(t));function mD(t){const e=bae(t);if(!e)return!1;let n=e.parse(t);return e===rf&&(n=yae(n)),n}const yD=(t,e)=>{const n=mD(t),r=mD(e);if(!n||!r)return qv(t,e);const i={...n};return a=>(i.red=Fw(n.red,r.red,a),i.green=Fw(n.green,r.green,a),i.blue=Fw(n.blue,r.blue,a),i.alpha=Qt(n.alpha,r.alpha,a),tc.transform(i))},V2=new Set(["none","hidden"]);function xae(t,e){return V2.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _ae(t,e){return n=>Qt(t,e,n)}function YC(t){return typeof t=="number"?_ae:typeof t=="string"?qC(t)?qv:Cn.test(t)?yD:Tae:Array.isArray(t)?j$:typeof t=="object"?Cn.test(t)?yD:wae:qv}function j$(t,e){const n=[...t],r=n.length,i=t.map((a,s)=>YC(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function wae(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=YC(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function Sae(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],s=t.indexes[a][r[a]],o=t.values[s]??0;n[i]=o,r[a]++}return n}const Tae=(t,e)=>{const n=cl.createTransformer(e),r=Tp(t),i=Tp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?V2.has(t)&&!i.values.length||V2.has(e)&&!r.values.length?xae(t,e):fg(j$(Sae(r,i),i.values),n):qv(t,e)};function U$(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qt(t,e,n):YC(t)(t,e)}const Aae=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Kt.update(e,n),stop:()=>ll(e),now:()=>cr.isProcessing?cr.timestamp:Wr.now()}},F$=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Xv=2e4;function GC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Xv;)e+=n,r=t.next(e);return e>=Xv?1/0:e}function Eae(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(GC(r),Xv);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:zi(i)}}const Cae=5;function $$(t,e,n){const r=Math.max(e-Cae,0);return x$(n-t(r),e-r)}const dn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$w=.001;function Pae({duration:t=dn.duration,bounce:e=dn.bounce,velocity:n=dn.velocity,mass:r=dn.mass}){let i,a,s=1-e;s=Ys(dn.minDamping,dn.maxDamping,s),t=Ys(dn.minDuration,dn.maxDuration,zi(t)),s<1?(i=f=>{const d=f*s,p=d*t,m=d-n,y=H2(f,s),v=Math.exp(-p);return $w-m/y*v},a=f=>{const p=f*s*t,m=p*n+n,y=Math.pow(s,2)*Math.pow(f,2)*t,v=Math.exp(-p),b=H2(Math.pow(f,2),s);return(-i(f)+$w>0?-1:1)*((m-y)*v)/b}):(i=f=>{const d=Math.exp(-f*t),p=(f-n)*t+1;return-$w+d*p},a=f=>{const d=Math.exp(-f*t),p=(n-f)*(t*t);return d*p});const o=5/t,c=Oae(i,a,o);if(t=Qa(t),isNaN(c))return{stiffness:dn.stiffness,damping:dn.damping,duration:t};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:s*2*Math.sqrt(r*f),duration:t}}}const Rae=12;function Oae(t,e,n){let r=n;for(let i=1;i<Rae;i++)r=r-t(r)/e(r);return r}function H2(t,e){return t*Math.sqrt(1-e*e)}const Mae=["duration","bounce"],Iae=["stiffness","damping","mass"];function vD(t,e){return e.some(n=>t[n]!==void 0)}function kae(t){let e={velocity:dn.velocity,stiffness:dn.stiffness,damping:dn.damping,mass:dn.mass,isResolvedFromDuration:!1,...t};if(!vD(t,Iae)&&vD(t,Mae))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Ys(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:dn.mass,stiffness:i,damping:a}}else{const n=Pae(t);e={...e,...n,mass:dn.mass},e.isResolvedFromDuration=!0}return e}function Kv(t=dn.visualDuration,e=dn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:f,mass:d,duration:p,velocity:m,isResolvedFromDuration:y}=kae({...n,velocity:-zi(n.velocity||0)}),v=m||0,b=f/(2*Math.sqrt(c*d)),w=s-a,T=zi(Math.sqrt(c/d)),C=Math.abs(w)<5;r||(r=C?dn.restSpeed.granular:dn.restSpeed.default),i||(i=C?dn.restDelta.granular:dn.restDelta.default);let A;if(b<1){const P=H2(T,b);A=O=>{const k=Math.exp(-b*T*O);return s-k*((v+b*T*w)/P*Math.sin(P*O)+w*Math.cos(P*O))}}else if(b===1)A=P=>s-Math.exp(-T*P)*(w+(v+T*w)*P);else{const P=T*Math.sqrt(b*b-1);A=O=>{const k=Math.exp(-b*T*O),D=Math.min(P*O,300);return s-k*((v+b*T*w)*Math.sinh(D)+P*w*Math.cosh(D))/P}}const R={calculatedDuration:y&&p||null,next:P=>{const O=A(P);if(y)o.done=P>=p;else{let k=P===0?v:0;b<1&&(k=P===0?Qa(v):$$(A,P,O));const D=Math.abs(k)<=r,L=Math.abs(s-O)<=i;o.done=D&&L}return o.value=o.done?s:O,o},toString:()=>{const P=Math.min(GC(R),Xv),O=F$(k=>R.next(P*k).value,P,30);return P+"ms "+O},toTransition:()=>{}};return R}Kv.applyToOptions=t=>{const e=Eae(t,100,Kv);return t.ease=e.ease,t.duration=Qa(e.duration),t.type="keyframes",t};function W2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:c,restDelta:f=.5,restSpeed:d}){const p=t[0],m={done:!1,value:p},y=D=>o!==void 0&&D<o||c!==void 0&&D>c,v=D=>o===void 0?c:c===void 0||Math.abs(o-D)<Math.abs(c-D)?o:c;let b=n*e;const w=p+b,T=s===void 0?w:s(w);T!==w&&(b=T-p);const C=D=>-b*Math.exp(-D/r),A=D=>T+C(D),R=D=>{const L=C(D),$=A(D);m.done=Math.abs(L)<=f,m.value=m.done?T:$};let P,O;const k=D=>{y(m.value)&&(P=D,O=Kv({keyframes:[m.value,v(m.value)],velocity:$$(A,D,m.value),damping:i,stiffness:a,restDelta:f,restSpeed:d}))};return k(0),{calculatedDuration:null,next:D=>{let L=!1;return!O&&P===void 0&&(L=!0,R(D),k(D)),P!==void 0&&D>=P?O.next(D-P):(!L&&R(D),m)}}}function Nae(t,e,n){const r=[],i=n||Gs.mix||U$,a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||Wi:e;o=fg(c,o)}r.push(o)}return r}function Dae(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(FC(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Nae(e,r,i),c=o.length,f=d=>{if(s&&d<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const m=wp(t[p],t[p+1],d);return o[p](m)};return n?d=>f(Ys(t[0],t[a-1],d)):f}function Bae(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=wp(0,e,r);t.push(Qt(n,1,i))}}function Lae(t){const e=[0];return Bae(e,t.length-1),e}function jae(t,e){return t.map(n=>n*e)}function Uae(t,e){return t.map(()=>e||R$).splice(0,t.length-1)}function Qh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Gie(r)?r.map(hD):hD(r),a={done:!1,value:e[0]},s=jae(n&&n.length===e.length?n:Lae(e),t),o=Dae(s,e,{ease:Array.isArray(i)?i:Uae(e,i)});return{calculatedDuration:t,next:c=>(a.value=o(c),a.done=c>=t,a)}}const Fae=t=>t!==null;function ZC(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(Fae),o=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const $ae={decay:W2,inertia:W2,tween:Qh,keyframes:Qh,spring:Kv};function z$(t){typeof t.type=="string"&&(t.type=$ae[t.type])}class QC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const zae=t=>t/100;class JC extends QC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Wr.now()&&this.tick(Wr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;z$(e);const{type:n=Qh,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=e;let{keyframes:o}=e;const c=n||Qh;c!==Qh&&typeof o[0]!="number"&&(this.mixKeyframes=fg(zae,U$(o[0],o[1])),o=[0,100]);const f=c({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=GC(f));const{calculatedDuration:d}=f;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:d,repeat:p,repeatType:m,repeatDelay:y,type:v,onUpdate:b,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-f*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?T<0:T>i;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,R=r;if(p){const D=Math.min(this.currentTime,i)/o;let L=Math.floor(D),$=D%1;!$&&D>=1&&($=1),$===1&&L--,L=Math.min(L,p+1),!!(L%2)&&(m==="reverse"?($=1-$,y&&($-=y/o)):m==="mirror"&&(R=s)),A=Ys(0,1,$)*o}const P=C?{done:!1,value:d[0]}:R.next(A);a&&(P.value=a(P.value));let{done:O}=P;!C&&c!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return k&&v!==W2&&(P.value=ZC(d,this.options,w,this.speed)),b&&b(P.value),k&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return zi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+zi(e)}get time(){return zi(this.currentTime)}set time(e){e=Qa(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Wr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=zi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Aae,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Vae(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const nc=t=>t*180/Math.PI,q2=t=>{const e=nc(Math.atan2(t[1],t[0]));return X2(e)},Hae={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:q2,rotateZ:q2,skewX:t=>nc(Math.atan(t[1])),skewY:t=>nc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},X2=t=>(t=t%360,t<0&&(t+=360),t),bD=q2,xD=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),_D=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Wae={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xD,scaleY:_D,scale:t=>(xD(t)+_D(t))/2,rotateX:t=>X2(nc(Math.atan2(t[6],t[5]))),rotateY:t=>X2(nc(Math.atan2(-t[2],t[0]))),rotateZ:bD,rotate:bD,skewX:t=>nc(Math.atan(t[4])),skewY:t=>nc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function K2(t){return t.includes("scale")?1:0}function Y2(t,e){if(!t||t==="none")return K2(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Wae,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Hae,i=o}if(!i)return K2(e);const a=r[e],s=i[1].split(",").map(Xae);return typeof a=="function"?a(s):s[a]}const qae=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Y2(n,e)};function Xae(t){return parseFloat(t.trim())}const cd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ud=new Set(cd),wD=t=>t===ld||t===Ue,Kae=new Set(["x","y","z"]),Yae=cd.filter(t=>!Kae.has(t));function Gae(t){const e=[];return Yae.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const uc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Y2(e,"x"),y:(t,{transform:e})=>Y2(e,"y")};uc.translateX=uc.x;uc.translateY=uc.y;const fc=new Set;let G2=!1,Z2=!1,Q2=!1;function V$(){if(Z2){const t=Array.from(fc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Gae(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{r.getValue(a)?.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Z2=!1,G2=!1,fc.forEach(t=>t.complete(Q2)),fc.clear()}function H$(){fc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Z2=!0)})}function Zae(){Q2=!0,H$(),V$(),Q2=!1}class e3{constructor(e,n,r,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(fc.add(this),G2||(G2=!0,Kt.read(H$),Kt.resolveKeyframes(V$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const o=r.readValue(n,s);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=s),i&&a===void 0&&i.set(e[0])}Vae(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fc.delete(this)}cancel(){this.state==="scheduled"&&(fc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Qae=t=>t.startsWith("--");function Jae(t,e,n){Qae(e)?t.style.setProperty(e,n):t.style[e]=n}const ese=$C(()=>window.ScrollTimeline!==void 0),tse={};function nse(t,e){const n=$C(t);return()=>tse[e]??n()}const W$=nse(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,SD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zh([0,.65,.55,1]),circOut:zh([.55,0,1,.45]),backIn:zh([.31,.01,.66,-.59]),backOut:zh([.33,1.53,.69,.99])};function q$(t,e){if(t)return typeof t=="function"?W$()?F$(t,e):"ease-out":O$(t)?zh(t):Array.isArray(t)?t.map(n=>q$(n,e)||SD.easeOut):SD[t]}function rse(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:c}={},f=void 0){const d={[e]:n};c&&(d.offset=c);const p=q$(o,i);Array.isArray(p)&&(d.easing=p);const m={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return f&&(m.pseudoElement=f),t.animate(d,m)}function X$(t){return typeof t=="function"&&"applyToOptions"in t}function ise({type:t,...e}){return X$(t)&&W$()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ase extends QC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,FC(typeof e.type!="string");const f=ise(e);this.animation=rse(n,r,i,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=ZC(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):Jae(n,r,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return zi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+zi(e)}get time(){return zi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qa(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ese()?(this.animation.timeline=e,Wi):n(this)}}const K$={anticipate:E$,backInOut:A$,circInOut:P$};function sse(t){return t in K$}function ose(t){typeof t.ease=="string"&&sse(t.ease)&&(t.ease=K$[t.ease])}const TD=10;class lse extends ase{constructor(e){ose(e),z$(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...s}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new JC({...s,autoplay:!1}),c=Qa(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-TD).value,o.sample(c).value,TD),o.stop()}}const AD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cl.test(t)||t==="0")&&!t.startsWith("url("));function cse(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function use(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=AD(i,e),o=AD(a,e);return!s||!o?!1:cse(t)||(n==="spring"||X$(n))&&r}function J2(t){t.duration=0,t.type="keyframes"}const fse=new Set(["opacity","clipPath","filter","transform"]),dse=$C(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hse(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:s}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return dse()&&n&&fse.has(n)&&(n!=="transform"||!f)&&!c&&!r&&i!=="mirror"&&a!==0&&s!=="inertia"}const pse=40;class gse extends QC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:c,motionValue:f,element:d,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Wr.now();const m={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,name:c,motionValue:f,element:d,...p},y=d?.KeyframeResolver||e3;this.keyframeResolver=new y(o,(v,b,w)=>this.onKeyframesResolved(v,b,m,!w),c,f,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:c,isHandoff:f,onUpdate:d}=r;this.resolvedAt=Wr.now(),use(e,a,s,o)||((Gs.instantAnimations||!c)&&d?.(ZC(e,r,n)),e[0]=e[e.length-1],J2(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>pse?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!f&&hse(m)?new lse({...m,element:m.motionValue.owner.current}):new JC(m);y.finished.then(()=>this.notifyFinished()).catch(Wi),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Zae()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const mse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yse(t){const e=mse.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Y$(t,e,n=1){const[r,i]=yse(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return y$(s)?parseFloat(s):s}return qC(i)?Y$(i,e,n+1):i}function t3(t,e){return t?.[e]??t?.default??t}const G$=new Set(["width","height","top","left","right","bottom",...cd]),vse={test:t=>t==="auto",parse:t=>t},Z$=t=>e=>e.test(t),Q$=[ld,Ue,Ja,Wo,cae,lae,vse],ED=t=>Q$.find(Z$(t));function bse(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||b$(t):!0}const xse=new Set(["brightness","contrast","saturate","opacity"]);function _se(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(XC)||[];if(!r)return t;const i=n.replace(r,"");let a=xse.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const wse=/\b([a-z-]*)\(.*?\)/gu,eA={...cl,getAnimatableNone:t=>{const e=t.match(wse);return e?e.map(_se).join(" "):t}},CD={...ld,transform:Math.round},Sse={rotate:Wo,rotateX:Wo,rotateY:Wo,rotateZ:Wo,scale:xy,scaleX:xy,scaleY:xy,scaleZ:xy,skew:Wo,skewX:Wo,skewY:Wo,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:Sp,originX:pD,originY:pD,originZ:Ue},n3={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,backgroundPositionX:Ue,backgroundPositionY:Ue,...Sse,zIndex:CD,fillOpacity:Sp,strokeOpacity:Sp,numOctaves:CD},Tse={...n3,color:Cn,backgroundColor:Cn,outlineColor:Cn,fill:Cn,stroke:Cn,borderColor:Cn,borderTopColor:Cn,borderRightColor:Cn,borderBottomColor:Cn,borderLeftColor:Cn,filter:eA,WebkitFilter:eA},J$=t=>Tse[t];function ez(t,e){let n=J$(t);return n!==eA&&(n=cl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Ase=new Set(["auto","none","0"]);function Ese(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Ase.has(a)&&Tp(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=ez(n,i)}class Cse extends e3{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),qC(f))){const d=Y$(f,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!G$.has(r)||e.length!==2)return;const[i,a]=e,s=ED(i),o=ED(a);if(s!==o)if(wD(s)&&wD(o))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else uc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||bse(e[i]))&&r.push(i);r.length&&Ese(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=uc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=uc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,c])=>{e.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function Pse(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const tz=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Rse(t){return v$(t)&&"offsetHeight"in t}const PD=30,Ose=t=>!isNaN(parseFloat(t));class Mse{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Wr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Wr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ose(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new zC);const r=this.events[e].add(n);return e==="change"?()=>{r(),Kt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Wr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>PD)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,PD);return x$(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rf(t,e){return new Mse(t,e)}const{schedule:r3}=M$(queueMicrotask,!1),ha={x:!1,y:!1};function nz(){return ha.x||ha.y}function Ise(t){return t==="x"||t==="y"?ha[t]?null:(ha[t]=!0,()=>{ha[t]=!1}):ha.x||ha.y?null:(ha.x=ha.y=!0,()=>{ha.x=ha.y=!1})}function rz(t,e){const n=Pse(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function RD(t){return!(t.pointerType==="touch"||nz())}function kse(t,e,n={}){const[r,i,a]=rz(t,n),s=o=>{if(!RD(o))return;const{target:c}=o,f=e(c,o);if(typeof f!="function"||!c)return;const d=p=>{RD(p)&&(f(p),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const iz=(t,e)=>e?t===e?!0:iz(t,e.parentElement):!1,i3=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Nse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Dse(t){return Nse.has(t.tagName)||t.tabIndex!==-1}const gv=new WeakSet;function OD(t){return e=>{e.key==="Enter"&&t(e)}}function zw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Bse=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=OD(()=>{if(gv.has(n))return;zw(n,"down");const i=OD(()=>{zw(n,"up")}),a=()=>zw(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function MD(t){return i3(t)&&!nz()}function Lse(t,e,n={}){const[r,i,a]=rz(t,n),s=o=>{const c=o.currentTarget;if(!MD(o))return;gv.add(c);const f=e(c,o),d=(y,v)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),gv.has(c)&&gv.delete(c),MD(y)&&typeof f=="function"&&f(y,{success:v})},p=y=>{d(y,c===window||c===document||n.useGlobalTarget||iz(c,y.target))},m=y=>{d(y,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),Rse(o)&&(o.addEventListener("focus",f=>Bse(f,i)),!Dse(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function az(t){return v$(t)&&"ownerSVGElement"in t}function jse(t){return az(t)&&t.tagName==="svg"}const Tr=t=>!!(t&&t.getVelocity),Use=[...Q$,Cn,cl],Fse=t=>Use.find(Z$(t)),sz=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $se(t=!0){const e=x.useContext(LC);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=x.useId();x.useEffect(()=>{if(t)return i(a)},[t]);const s=x.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,s]:[!0]}const oz=x.createContext({strict:!1}),ID={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Of={};for(const t in ID)Of[t]={isEnabled:e=>ID[t].some(n=>!!e[n])};function zse(t){for(const e in t)Of[e]={...Of[e],...t[e]}}const Vse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Vse.has(t)}let lz=t=>!Yv(t);function Hse(t){typeof t=="function"&&(lz=e=>e.startsWith("on")?!Yv(e):t(e))}try{Hse(require("@emotion/is-prop-valid").default)}catch{}function Wse(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(lz(i)||n===!0&&Yv(i)||!e&&!Yv(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const $b=x.createContext({});function zb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ap(t){return typeof t=="string"||Array.isArray(t)}const a3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],s3=["initial",...a3];function Vb(t){return zb(t.animate)||s3.some(e=>Ap(t[e]))}function cz(t){return!!(Vb(t)||t.variants)}function qse(t,e){if(Vb(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ap(n)?n:void 0,animate:Ap(r)?r:void 0}}return t.inherit!==!1?e:{}}function Xse(t){const{initial:e,animate:n}=qse(t,x.useContext($b));return x.useMemo(()=>({initial:e,animate:n}),[kD(e),kD(n)])}function kD(t){return Array.isArray(t)?t.join(" "):t}const Ep={};function Kse(t){for(const e in t)Ep[e]=t[e],WC(e)&&(Ep[e].isCSSVariable=!0)}function uz(t,{layout:e,layoutId:n}){return ud.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ep[t]||t==="opacity")}const Yse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gse=cd.length;function Zse(t,e,n){let r="",i=!0;for(let a=0;a<Gse;a++){const s=cd[a],o=t[s];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(s.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const f=tz(o,n3[s]);if(!c){i=!1;const d=Yse[s]||s;r+=`${d}(${f}) `}n&&(e[s]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function o3(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let s=!1,o=!1;for(const c in e){const f=e[c];if(ud.has(c)){s=!0;continue}else if(WC(c)){i[c]=f;continue}else{const d=tz(f,n3[c]);c.startsWith("origin")?(o=!0,a[c]=d):r[c]=d}}if(e.transform||(s||n?r.transform=Zse(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:f="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${f} ${d}`}}const l3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fz(t,e,n){for(const r in e)!Tr(e[r])&&!uz(r,n)&&(t[r]=e[r])}function Qse({transformTemplate:t},e){return x.useMemo(()=>{const n=l3();return o3(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Jse(t,e){const n=t.style||{},r={};return fz(r,n,t),Object.assign(r,Qse(t,e)),r}function eoe(t,e){const n={},r=Jse(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const toe={offset:"stroke-dashoffset",array:"stroke-dasharray"},noe={offset:"strokeDashoffset",array:"strokeDasharray"};function roe(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?toe:noe;t[a.offset]=Ue.transform(-r);const s=Ue.transform(e),o=Ue.transform(n);t[a.array]=`${s} ${o}`}function dz(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},c,f,d){if(o3(t,o,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m}=t;p.transform&&(m.transform=p.transform,delete p.transform),(m.transform||p.transformOrigin)&&(m.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),m.transform&&(m.transformBox=d?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&roe(p,i,a,s,!1)}const hz=()=>({...l3(),attrs:{}}),pz=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ioe(t,e,n,r){const i=x.useMemo(()=>{const a=hz();return dz(a,e,pz(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};fz(a,t.style,t),i.style={...a,...i.style}}return i}const aoe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c3(t){return typeof t!="string"||t.includes("-")?!1:!!(aoe.indexOf(t)>-1||/[A-Z]/u.test(t))}function soe(t,e,n,{latestValues:r},i,a=!1){const o=(c3(t)?ioe:eoe)(e,r,i,t),c=Wse(e,typeof t=="string",a),f=t!==x.Fragment?{...c,...o,ref:n}:{},{children:d}=e,p=x.useMemo(()=>Tr(d)?d.get():d,[d]);return x.createElement(t,{...f,children:p})}function ND(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function u3(t,e,n,r){if(typeof e=="function"){const[i,a]=ND(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=ND(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function mv(t){return Tr(t)?t.get():t}function ooe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:loe(n,r,i,t),renderState:e()}}function loe(t,e,n,r){const i={},a=r(t,{});for(const m in a)i[m]=mv(a[m]);let{initial:s,animate:o}=t;const c=Vb(t),f=cz(t);e&&f&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const p=d?o:s;if(p&&typeof p!="boolean"&&!zb(p)){const m=Array.isArray(p)?p:[p];for(let y=0;y<m.length;y++){const v=u3(t,m[y]);if(v){const{transitionEnd:b,transition:w,...T}=v;for(const C in T){let A=T[C];if(Array.isArray(A)){const R=d?A.length-1:0;A=A[R]}A!==null&&(i[C]=A)}for(const C in b)i[C]=b[C]}}}return i}const gz=t=>(e,n)=>{const r=x.useContext($b),i=x.useContext(LC),a=()=>ooe(t,e,r,i);return n?a():zie(a)};function f3(t,e,n){const{style:r}=t,i={};for(const a in r)(Tr(r[a])||e.style&&Tr(e.style[a])||uz(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const coe=gz({scrapeMotionValuesFromProps:f3,createRenderState:l3});function mz(t,e,n){const r=f3(t,e,n);for(const i in t)if(Tr(t[i])||Tr(e[i])){const a=cd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const uoe=gz({scrapeMotionValuesFromProps:mz,createRenderState:hz}),foe=Symbol.for("motionComponentSymbol");function af(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function doe(t,e,n){return x.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):af(n)&&(n.current=r))},[e])}const d3=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hoe="framerAppearId",yz="data-"+d3(hoe),vz=x.createContext({});function poe(t,e,n,r,i){const{visualElement:a}=x.useContext($b),s=x.useContext(oz),o=x.useContext(LC),c=x.useContext(sz).reducedMotion,f=x.useRef(null);r=r||s.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,p=x.useContext(vz);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&goe(f.current,n,i,p);const m=x.useRef(!1);x.useInsertionEffect(()=>{d&&m.current&&d.update(n,o)});const y=n[yz],v=x.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return Vie(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),x.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),v.current=!1),d.enteringChildren=void 0)}),d}function goe(t,e,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:c,layoutRoot:f,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:bz(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&af(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:f})}function bz(t){if(t)return t.options.allowProjection!==!1?t.projection:bz(t.parent)}function Vw(t,{forwardMotionProps:e=!1}={},n,r){n&&zse(n);const i=c3(t)?uoe:coe;function a(o,c){let f;const d={...x.useContext(sz),...o,layoutId:moe(o)},{isStatic:p}=d,m=Xse(o),y=i(o,p);if(!p&&BC){yoe();const v=voe(d);f=v.MeasureLayout,m.visualElement=poe(t,y,d,r,v.ProjectionNode)}return E.jsxs($b.Provider,{value:m,children:[f&&m.visualElement?E.jsx(f,{visualElement:m.visualElement,...d}):null,soe(t,o,doe(y,m.visualElement,c),y,p,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const s=x.forwardRef(a);return s[foe]=t,s}function moe({layoutId:t}){const e=x.useContext(m$).id;return e&&t!==void 0?e+"-"+t:t}function yoe(t,e){x.useContext(oz).strict}function voe(t){const{drag:e,layout:n}=Of;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function boe(t,e){if(typeof Proxy>"u")return Vw;const n=new Map,r=(a,s)=>Vw(a,s,t,e),i=(a,s)=>r(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?r:(n.has(s)||n.set(s,Vw(s,void 0,t,e)),n.get(s))})}function xz({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function xoe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _oe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Hw(t){return t===void 0||t===1}function tA({scale:t,scaleX:e,scaleY:n}){return!Hw(t)||!Hw(e)||!Hw(n)}function Kl(t){return tA(t)||_z(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _z(t){return DD(t.x)||DD(t.y)}function DD(t){return t&&t!=="0%"}function Gv(t,e,n){const r=t-n,i=e*r;return n+i}function BD(t,e,n,r,i){return i!==void 0&&(t=Gv(t,i,r)),Gv(t,n,r)+e}function nA(t,e=0,n=1,r,i){t.min=BD(t.min,e,n,r,i),t.max=BD(t.max,e,n,r,i)}function wz(t,{x:e,y:n}){nA(t.x,e.translate,e.scale,e.originPoint),nA(t.y,n.translate,n.scale,n.originPoint)}const LD=.999999999999,jD=1.0000000000001;function woe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&of(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,wz(t,s)),r&&Kl(a.latestValues)&&of(t,a.latestValues))}e.x<jD&&e.x>LD&&(e.x=1),e.y<jD&&e.y>LD&&(e.y=1)}function sf(t,e){t.min=t.min+e,t.max=t.max+e}function UD(t,e,n,r,i=.5){const a=Qt(t.min,t.max,i);nA(t,e,n,a,r)}function of(t,e){UD(t.x,e.x,e.scaleX,e.scale,e.originX),UD(t.y,e.y,e.scaleY,e.scale,e.originY)}function Sz(t,e){return xz(_oe(t.getBoundingClientRect(),e))}function Soe(t,e,n){const r=Sz(t,n),{scroll:i}=e;return i&&(sf(r.x,i.offset.x),sf(r.y,i.offset.y)),r}const FD=()=>({translate:0,scale:1,origin:0,originPoint:0}),lf=()=>({x:FD(),y:FD()}),$D=()=>({min:0,max:0}),Nn=()=>({x:$D(),y:$D()}),rA={current:null},Tz={current:!1};function Toe(){if(Tz.current=!0,!!BC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rA.current=t.matches;t.addEventListener("change",e),e()}else rA.current=!1}const Aoe=new WeakMap;function Eoe(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Tr(i))t.addValue(r,i);else if(Tr(a))t.addValue(r,Rf(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,Rf(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const zD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Coe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=e3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Wr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Kt.render(this.render,!1,!0))};const{latestValues:c,renderState:f}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=Vb(n),this.isVariantNode=cz(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const y=p[m];c[m]!==void 0&&Tr(y)&&y.set(c[m])}}mount(e){this.current=e,Aoe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Tz.current||Toe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rA.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ll(this.notifyUpdate),ll(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ud.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Kt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Of){const n=Of[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zD.length;r++){const i=zD[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Eoe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Rf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(y$(r)||b$(r))?r=parseFloat(r):!Fse(r)&&cl.test(n)&&(r=ez(e,n)),this.setBaseTarget(e,Tr(r)?r.get():r)),Tr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=u3(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Tr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new zC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){r3.render(this.render)}}class Az extends Coe{constructor(){super(...arguments),this.KeyframeResolver=Cse}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ez(t,{style:e,vars:n},r,i){const a=t.style;let s;for(s in e)a[s]=e[s];i?.applyProjectionStyles(a,r);for(s in n)a.setProperty(s,n[s])}function Poe(t){return window.getComputedStyle(t)}class Roe extends Az{constructor(){super(...arguments),this.type="html",this.renderInstance=Ez}readValueFromInstance(e,n){if(ud.has(n))return this.projection?.isProjecting?K2(n):qae(e,n);{const r=Poe(e),i=(WC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Sz(e,n)}build(e,n,r){o3(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return f3(e,n,r)}}const Cz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ooe(t,e,n,r){Ez(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Cz.has(i)?i:d3(i),e.attrs[i])}class Moe extends Az{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ud.has(n)){const r=J$(n);return r&&r.default||0}return n=Cz.has(n)?n:d3(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return mz(e,n,r)}build(e,n,r){dz(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Ooe(e,n,r,i)}mount(e){this.isSVGTag=pz(e.tagName),super.mount(e)}}const Ioe=(t,e)=>c3(t)?new Moe(e):new Roe(e,{allowProjection:t!==x.Fragment});function wf(t,e,n){const r=t.getProps();return u3(r,e,n!==void 0?n:r.custom,t)}const iA=t=>Array.isArray(t);function koe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Rf(n))}function Noe(t){return iA(t)?t[t.length-1]||0:t}function Doe(t,e){const n=wf(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=Noe(a[s]);koe(t,s,o)}}function Boe(t){return!!(Tr(t)&&t.add)}function aA(t,e){const n=t.getValue("willChange");if(Boe(n))return n.add(e);if(!n&&Gs.WillChange){const r=new Gs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Pz(t){return t.props[yz]}const Loe=t=>t!==null;function joe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Loe),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const Uoe={type:"spring",stiffness:500,damping:25,restSpeed:10},Foe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$oe={type:"keyframes",duration:.8},zoe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Voe=(t,{keyframes:e})=>e.length>2?$oe:ud.has(t)?t.startsWith("scale")?Foe(e[1]):Uoe:zoe;function Hoe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:c,elapsed:f,...d}){return!!Object.keys(d).length}const h3=(t,e,n,r={},i,a)=>s=>{const o=t3(r,t)||{},c=o.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Qa(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-f,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:i};Hoe(o)||Object.assign(d,Voe(t,d)),d.duration&&(d.duration=Qa(d.duration)),d.repeatDelay&&(d.repeatDelay=Qa(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(J2(d),d.delay===0&&(p=!0)),(Gs.instantAnimations||Gs.skipAnimations)&&(p=!0,J2(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,p&&!a&&e.get()!==void 0){const m=joe(d.keyframes,o);if(m!==void 0){Kt.update(()=>{d.onUpdate(m),d.onComplete()});return}}return o.isSync?new JC(d):new gse(d)};function Woe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Rz(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:s,...o}=e;r&&(a=r);const c=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const d in o){const p=t.getValue(d,t.latestValues[d]??null),m=o[d];if(m===void 0||f&&Woe(f,d))continue;const y={delay:n,...t3(a||{},d)},v=p.get();if(v!==void 0&&!p.isAnimating&&!Array.isArray(m)&&m===v&&!y.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const T=Pz(t);if(T){const C=window.MotionHandoffAnimation(T,d,Kt);C!==null&&(y.startTime=C,b=!0)}}aA(t,d),p.start(h3(d,p,m,t.shouldReduceMotion&&G$.has(d)?{type:!1}:y,t,b));const w=p.animation;w&&c.push(w)}return s&&Promise.all(c).then(()=>{Kt.update(()=>{s&&Doe(t,s)})}),c}function Oz(t,e,n,r=0,i=1){const a=Array.from(t).sort((f,d)=>f.sortNodePosition(d)).indexOf(e),s=t.size,o=(s-1)*r;return typeof n=="function"?n(a,s):i===1?a*r:o-a*r}function sA(t,e,n={}){const r=wf(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(Rz(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:p}=i;return qoe(t,e,c,f,d,p,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,f]=o==="beforeChildren"?[a,s]:[s,a];return c().then(()=>f())}else return Promise.all([a(),s(n.delay)])}function qoe(t,e,n=0,r=0,i=0,a=1,s){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),o.push(sA(c,e,{...s,delay:n+(typeof r=="function"?0:r)+Oz(t.variantChildren,c,r,i,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(o)}function Xoe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>sA(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=sA(t,e,n);else{const i=typeof e=="function"?wf(t,e,n.custom):e;r=Promise.all(Rz(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Mz(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Koe=s3.length;function Iz(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Iz(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Koe;n++){const r=s3[n],i=t.props[r];(Ap(i)||i===!1)&&(e[r]=i)}return e}const Yoe=[...a3].reverse(),Goe=a3.length;function Zoe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Xoe(t,n,r)))}function Qoe(t){let e=Zoe(t),n=VD(),r=!0;const i=c=>(f,d)=>{const p=wf(t,d,c==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:m,transitionEnd:y,...v}=p;f={...f,...v,...y}}return f};function a(c){e=c(t)}function s(c){const{props:f}=t,d=Iz(t.parent)||{},p=[],m=new Set;let y={},v=1/0;for(let w=0;w<Goe;w++){const T=Yoe[w],C=n[T],A=f[T]!==void 0?f[T]:d[T],R=Ap(A),P=T===c?C.isActive:null;P===!1&&(v=w);let O=A===d[T]&&A!==f[T]&&R;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),C.protectedKeys={...y},!C.isActive&&P===null||!A&&!C.prevProp||zb(A)||typeof A=="boolean")continue;const k=Joe(C.prevProp,A);let D=k||T===c&&C.isActive&&!O&&R||w>v&&R,L=!1;const $=Array.isArray(A)?A:[A];let j=$.reduce(i(T),{});P===!1&&(j={});const{prevResolvedValues:I={}}=C,W={...I,...j},H=q=>{D=!0,m.has(q)&&(L=!0,m.delete(q)),C.needsAnimating[q]=!0;const se=t.getValue(q);se&&(se.liveStyle=!1)};for(const q in W){const se=j[q],le=I[q];if(y.hasOwnProperty(q))continue;let _e=!1;iA(se)&&iA(le)?_e=!Mz(se,le):_e=se!==le,_e?se!=null?H(q):m.add(q):se!==void 0&&m.has(q)?H(q):C.protectedKeys[q]=!0}C.prevProp=A,C.prevResolvedValues=j,C.isActive&&(y={...y,...j}),r&&t.blockInitialAnimation&&(D=!1);const J=O&&k;D&&(!J||L)&&p.push(...$.map(q=>{const se={type:T};if(typeof q=="string"&&r&&!J&&t.manuallyAnimateOnMount&&t.parent){const{parent:le}=t,_e=wf(le,q);if(le.enteringChildren&&_e){const{delayChildren:F}=_e.transition||{};se.delay=Oz(le.enteringChildren,t,F)}}return{animation:q,options:se}}))}if(m.size){const w={};if(typeof f.initial!="boolean"){const T=wf(t,Array.isArray(f.initial)?f.initial[0]:f.initial);T&&T.transition&&(w.transition=T.transition)}m.forEach(T=>{const C=t.getBaseTarget(T),A=t.getValue(T);A&&(A.liveStyle=!0),w[T]=C??null}),p.push({animation:w})}let b=!!p.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(p):Promise.resolve()}function o(c,f){if(n[c].isActive===f)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(c,f)),n[c].isActive=f;const d=s(c);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=VD()}}}function Joe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Mz(e,t):!1}function zl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VD(){return{animate:zl(!0),whileInView:zl(),whileHover:zl(),whileTap:zl(),whileDrag:zl(),whileFocus:zl(),exit:zl()}}class ml{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ele extends ml{constructor(e){super(e),e.animationState||(e.animationState=Qoe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let tle=0;class nle extends ml{constructor(){super(...arguments),this.id=tle++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const rle={animation:{Feature:ele},exit:{Feature:nle}};function Cp(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function pg(t){return{point:{x:t.pageX,y:t.pageY}}}const ile=t=>e=>i3(e)&&t(e,pg(e));function Jh(t,e,n,r){return Cp(t,e,ile(n),r)}const kz=1e-4,ale=1-kz,sle=1+kz,Nz=.01,ole=0-Nz,lle=0+Nz;function Mr(t){return t.max-t.min}function cle(t,e,n){return Math.abs(t-e)<=n}function HD(t,e,n,r=.5){t.origin=r,t.originPoint=Qt(e.min,e.max,t.origin),t.scale=Mr(n)/Mr(e),t.translate=Qt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ale&&t.scale<=sle||isNaN(t.scale))&&(t.scale=1),(t.translate>=ole&&t.translate<=lle||isNaN(t.translate))&&(t.translate=0)}function ep(t,e,n,r){HD(t.x,e.x,n.x,r?r.originX:void 0),HD(t.y,e.y,n.y,r?r.originY:void 0)}function WD(t,e,n){t.min=n.min+e.min,t.max=t.min+Mr(e)}function ule(t,e,n){WD(t.x,e.x,n.x),WD(t.y,e.y,n.y)}function qD(t,e,n){t.min=e.min-n.min,t.max=t.min+Mr(e)}function Zv(t,e,n){qD(t.x,e.x,n.x),qD(t.y,e.y,n.y)}function ji(t){return[t("x"),t("y")]}const Dz=({current:t})=>t?t.ownerDocument.defaultView:null,XD=(t,e)=>Math.abs(t-e);function fle(t,e){const n=XD(t.x,e.x),r=XD(t.y,e.y);return Math.sqrt(n**2+r**2)}class Bz{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=qw(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=fle(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!v)return;const{point:b}=m,{timestamp:w}=cr;this.history.push({...b,timestamp:w});const{onStart:T,onMove:C}=this.handlers;y||(T&&T(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ww(y,this.transformPagePoint),Kt.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:v,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=qw(m.type==="pointercancel"?this.lastMoveEventInfo:Ww(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,T),b&&b(m,T)},!i3(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const o=pg(e),c=Ww(o,this.transformPagePoint),{point:f}=c,{timestamp:d}=cr;this.history=[{...f,timestamp:d}];const{onSessionStart:p}=n;p&&p(e,qw(c,this.history)),this.removeListeners=fg(Jh(this.contextWindow,"pointermove",this.handlePointerMove),Jh(this.contextWindow,"pointerup",this.handlePointerUp),Jh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ll(this.updatePoint)}}function Ww(t,e){return e?{point:e(t.point)}:t}function KD(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qw({point:t},e){return{point:t,delta:KD(t,Lz(e)),offset:KD(t,dle(e)),velocity:hle(e,.1)}}function dle(t){return t[0]}function Lz(t){return t[t.length-1]}function hle(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Lz(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Qa(e)));)n--;if(!r)return{x:0,y:0};const a=zi(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ple(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qt(n,t,r.max):Math.min(t,n)),t}function YD(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function gle(t,{top:e,left:n,bottom:r,right:i}){return{x:YD(t.x,n,i),y:YD(t.y,e,r)}}function GD(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function mle(t,e){return{x:GD(t.x,e.x),y:GD(t.y,e.y)}}function yle(t,e){let n=.5;const r=Mr(t),i=Mr(e);return i>r?n=wp(e.min,e.max-r,t.min):r>i&&(n=wp(t.min,t.max-i,e.min)),Ys(0,1,n)}function vle(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const oA=.35;function ble(t=oA){return t===!1?t=0:t===!0&&(t=oA),{x:ZD(t,"left","right"),y:ZD(t,"top","bottom")}}function ZD(t,e,n){return{min:QD(t,e),max:QD(t,n)}}function QD(t,e){return typeof t=="number"?t:t[e]||0}const xle=new WeakMap;class _le{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=p=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pg(p).point)},s=(p,m)=>{const{drag:y,dragPropagation:v,onDragStart:b}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ise(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ji(T=>{let C=this.getAxisMotionValue(T).get()||0;if(Ja.test(C)){const{projection:A}=this.visualElement;if(A&&A.layout){const R=A.layout.layoutBox[T];R&&(C=Mr(R)*(parseFloat(C)/100))}}this.originPoint[T]=C}),b&&Kt.postRender(()=>b(p,m)),aA(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m;const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:b,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:T}=m;if(v&&this.currentDirection===null){this.currentDirection=wle(T),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,T),this.updateAxis("y",m.point,T),this.visualElement.render(),w&&w(p,m)},c=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m,this.stop(p,m),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>ji(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Bz(e,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Dz(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Kt.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!_y(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=ple(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&af(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=gle(r.layoutBox,e):this.constraints=!1,this.elastic=ble(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ji(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=vle(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!af(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Soe(r,i.root,this.visualElement.getTransformPagePoint());let s=mle(i.layout.layoutBox,a);if(n){const o=n(xoe(s));this.hasMutatedConstraints=!!o,o&&(s=xz(o))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},f=ji(d=>{if(!_y(d,n,this.currentDirection))return;let p=c&&c[d]||{};s&&(p={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(d,v)});return Promise.all(f).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return aA(this.visualElement,e),r.start(h3(e,r,0,n,this.visualElement,!1))}stopAnimation(){ji(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ji(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ji(n=>{const{drag:r}=this.getProps();if(!_y(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(e[n]-Qt(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!af(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ji(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const c=o.get();i[s]=yle({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ji(s=>{if(!_y(s,e,null))return;const o=this.getAxisMotionValue(s),{min:c,max:f}=this.constraints[s];o.set(Qt(c,f,i[s]))})}addListeners(){if(!this.visualElement.current)return;xle.set(this.visualElement,this);const e=this.visualElement.current,n=Jh(e,"pointerdown",c=>{const{drag:f,dragListener:d=!0}=this.getProps();f&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();af(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Kt.read(r);const s=Cp(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(ji(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=c[d].translate,p.set(p.get()+c[d].translate))}),this.visualElement.render())}));return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=oA,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function _y(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wle(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Sle extends ml{constructor(e){super(e),this.removeGroupControls=Wi,this.removeListeners=Wi,this.controls=new _le(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wi}unmount(){this.removeGroupControls(),this.removeListeners()}}const JD=t=>(e,n)=>{t&&Kt.postRender(()=>t(e,n))};class Tle extends ml{constructor(){super(...arguments),this.removePointerDownListener=Wi}onPointerDown(e){this.session=new Bz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dz(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:JD(e),onStart:JD(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&Kt.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=Jh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function e4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ue.test(t))t=parseFloat(t);else return t;const n=e4(t,e.target.x),r=e4(t,e.target.y);return`${n}% ${r}%`}},Ale={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=cl.parse(t);if(i.length>5)return r;const a=cl.createTransformer(t),s=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;i[0+s]/=o,i[1+s]/=c;const f=Qt(o,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=f),typeof i[3+s]=="number"&&(i[3+s]/=f),a(i)}};let Xw=!1;class Ele extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;Kse(Cle),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),Xw&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),yv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:s}=r;return s&&(s.isPresent=a,Xw=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Kt.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),r3.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Xw=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jz(t){const[e,n]=$se(),r=x.useContext(m$);return E.jsx(Ele,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(vz),isPresent:e,safeToRemove:n})}const Cle={borderRadius:{...Sh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sh,borderTopRightRadius:Sh,borderBottomLeftRadius:Sh,borderBottomRightRadius:Sh,boxShadow:Ale};function Ple(t,e,n){const r=Tr(t)?t:Rf(t);return r.start(h3("",r,e,n)),r.animation}const Rle=(t,e)=>t.depth-e.depth;class Ole{constructor(){this.children=[],this.isDirty=!1}add(e){jC(this.children,e),this.isDirty=!0}remove(e){UC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Rle),this.isDirty=!1,this.children.forEach(e)}}function Mle(t,e){const n=Wr.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(ll(r),t(a-e))};return Kt.setup(r,!0),()=>ll(r)}const Uz=["TopLeft","TopRight","BottomLeft","BottomRight"],Ile=Uz.length,t4=t=>typeof t=="string"?parseFloat(t):t,n4=t=>typeof t=="number"||Ue.test(t);function kle(t,e,n,r,i,a){i?(t.opacity=Qt(0,n.opacity??1,Nle(r)),t.opacityExit=Qt(e.opacity??1,0,Dle(r))):a&&(t.opacity=Qt(e.opacity??1,n.opacity??1,r));for(let s=0;s<Ile;s++){const o=`border${Uz[s]}Radius`;let c=r4(e,o),f=r4(n,o);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||n4(c)===n4(f)?(t[o]=Math.max(Qt(t4(c),t4(f),r),0),(Ja.test(f)||Ja.test(c))&&(t[o]+="%")):t[o]=f}(e.rotate||n.rotate)&&(t.rotate=Qt(e.rotate||0,n.rotate||0,r))}function r4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Nle=Fz(0,.5,C$),Dle=Fz(.5,.95,Wi);function Fz(t,e,n){return r=>r<t?0:r>e?1:n(wp(t,e,r))}function i4(t,e){t.min=e.min,t.max=e.max}function ca(t,e){i4(t.x,e.x),i4(t.y,e.y)}function a4(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function s4(t,e,n,r,i){return t-=e,t=Gv(t,1/n,r),i!==void 0&&(t=Gv(t,1/i,r)),t}function Ble(t,e=0,n=1,r=.5,i,a=t,s=t){if(Ja.test(e)&&(e=parseFloat(e),e=Qt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=Qt(a.min,a.max,r);t===a&&(o-=e),t.min=s4(t.min,e,n,o,i),t.max=s4(t.max,e,n,o,i)}function o4(t,e,[n,r,i],a,s){Ble(t,e[n],e[r],e[i],e.scale,a,s)}const Lle=["x","scaleX","originX"],jle=["y","scaleY","originY"];function l4(t,e,n,r){o4(t.x,e,Lle,n?n.x:void 0,r?r.x:void 0),o4(t.y,e,jle,n?n.y:void 0,r?r.y:void 0)}function c4(t){return t.translate===0&&t.scale===1}function $z(t){return c4(t.x)&&c4(t.y)}function u4(t,e){return t.min===e.min&&t.max===e.max}function Ule(t,e){return u4(t.x,e.x)&&u4(t.y,e.y)}function f4(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function zz(t,e){return f4(t.x,e.x)&&f4(t.y,e.y)}function d4(t){return Mr(t.x)/Mr(t.y)}function h4(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Fle{constructor(){this.members=[]}add(e){jC(this.members,e),e.scheduleRender()}remove(e){if(UC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $le(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=n?.z||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:d,rotateX:p,rotateY:m,skewX:y,skewY:v}=n;f&&(r=`perspective(${f}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),v&&(r+=`skewY(${v}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const Kw=["","X","Y","Z"],zle=1e3;let Vle=0;function Yw(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Vz(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Pz(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Kt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Vz(r)}function Hz({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e?.()){this.id=Vle++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qle),this.nodes.forEach(Gle),this.nodes.forEach(Zle),this.nodes.forEach(Xle)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ole)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new zC),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const c=this.eventHandlers.get(s);c&&c.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=az(s)&&!jse(s),this.instance=s;const{layoutId:o,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let d,p=0;const m=()=>this.root.updateBlockedByResize=!1;Kt.read(()=>{p=window.innerWidth}),t(s,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,d&&d(),d=Mle(m,250),yv.hasAnimatedSinceResize&&(yv.hasAnimatedSinceResize=!1,this.nodes.forEach(m4)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&f&&(o||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||f.getDefaultTransition()||nce,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=f.getProps(),T=!this.targetLayout||!zz(this.targetLayout,y),C=!p&&m;if(this.options.layoutRoot||this.resumeFrom||C||p&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...t3(v,"layout"),onPlay:b,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(d,C)}else p||m4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ll(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qle),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Vz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(p4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(g4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Yle),this.nodes.forEach(Hle),this.nodes.forEach(Wle)):this.nodes.forEach(g4),this.clearAllSnapshots();const o=Wr.now();cr.delta=Ys(0,1e3/60,o-cr.timestamp),cr.timestamp=o,cr.isProcessing=!0,Lw.update.process(cr),Lw.preRender.process(cr),Lw.render.process(cr),cr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,r3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Kle),this.sharedNodes.forEach(Jle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mr(this.snapshot.measuredBox.x)&&!Mr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!$z(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,d=f!==this.prevTransformTemplateValue;s&&this.instance&&(o||Kl(this.latestValues)||d)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return s&&(c=this.removeTransform(c)),rce(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Nn();const o=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ice))){const{scroll:f}=this.root;f&&(sf(o.x,f.offset.x),sf(o.y,f.offset.y))}return o}removeElementScroll(s){const o=Nn();if(ca(o,s),this.scroll?.wasRoot)return o;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:d,options:p}=f;f!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&ca(o,s),sf(o.x,d.offset.x),sf(o.y,d.offset.y))}return o}applyTransform(s,o=!1){const c=Nn();ca(c,s);for(let f=0;f<this.path.length;f++){const d=this.path[f];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&of(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Kl(d.latestValues)&&of(c,d.latestValues)}return Kl(this.latestValues)&&of(c,this.latestValues),c}removeTransform(s){const o=Nn();ca(o,s);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!Kl(f.latestValues))continue;tA(f.latestValues)&&f.updateSnapshot();const d=Nn(),p=f.measurePageBox();ca(d,p),l4(o,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,d)}return Kl(this.latestValues)&&l4(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!this.layout||!(d||p))return;this.resolvedRelativeTargetAt=cr.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nn(),this.targetWithTransforms=Nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ule(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ca(this.target,this.layout.layoutBox),wz(this.target,this.targetDelta)):ca(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||tA(this.parent.latestValues)||_z(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,o,c){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nn(),this.relativeTargetOrigin=Nn(),Zv(this.relativeTargetOrigin,o,c),ca(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const s=this.getLead(),o=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===cr.timestamp&&(c=!1),c)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;ca(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;woe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Nn());const{target:y}=s;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(a4(this.prevProjectionDelta.x,this.projectionDelta.x),a4(this.prevProjectionDelta.y,this.projectionDelta.y)),ep(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!h4(this.projectionDelta.x,this.prevProjectionDelta.x)||!h4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lf(),this.projectionDelta=lf(),this.projectionDeltaWithTransform=lf()}setAnimationOrigin(s,o=!1){const c=this.snapshot,f=c?c.latestValues:{},d={...this.latestValues},p=lf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=Nn(),y=c?c.source:void 0,v=this.layout?this.layout.source:void 0,b=y!==v,w=this.getStack(),T=!w||w.members.length<=1,C=!!(b&&!T&&this.options.crossfade===!0&&!this.path.some(tce));this.animationProgress=0;let A;this.mixTargetDelta=R=>{const P=R/1e3;y4(p.x,s.x,P),y4(p.y,s.y,P),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zv(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ece(this.relativeTarget,this.relativeTargetOrigin,m,P),A&&Ule(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Nn()),ca(A,this.relativeTarget)),b&&(this.animationValues=d,kle(d,f,this.latestValues,P,C,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ll(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kt.update(()=>{yv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Rf(0)),this.currentAnimation=Ple(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zle),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:c,layout:f,latestValues:d}=s;if(!(!o||!c||!f)){if(this!==s&&this.layout&&f&&Wz(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||Nn();const p=Mr(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+p;const m=Mr(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+m}ca(o,c),of(o,d),ep(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Fle),this.sharedNodes.get(s).add(o);const f=o.options.initialPromotionConfig;o.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const f={};c.z&&Yw("z",s,f,this.animationValues);for(let d=0;d<Kw.length;d++)Yw(`rotate${Kw[d]}`,s,f,this.animationValues),Yw(`skew${Kw[d]}`,s,f,this.animationValues);s.render();for(const d in f)s.setStaticValue(d,f[d]),this.animationValues&&(this.animationValues[d]=f[d]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=mv(o?.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=mv(o?.pointerEvents)||""),this.hasProjected&&!Kl(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const d=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=$le(this.projectionDeltaWithTransform,this.treeScale,d);c&&(p=c(d,p)),s.transform=p;const{x:m,y}=this.projectionDelta;s.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?s.opacity=f===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:s.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in Ep){if(d[v]===void 0)continue;const{correct:b,applyTo:w,isCSSVariable:T}=Ep[v],C=p==="none"?d[v]:b(d[v],f);if(w){const A=w.length;for(let R=0;R<A;R++)s[w[R]]=C}else T?this.options.visualElement.renderState.vars[v]=C:s[v]=C}this.options.layoutId&&(s.pointerEvents=f===this?mv(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(p4),this.root.sharedNodes.clear()}}}function Hle(t){t.updateLayout()}function Wle(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?ji(d=>{const p=a?e.measuredBox[d]:e.layoutBox[d],m=Mr(p);p.min=n[d].min,p.max=p.min+m}):Wz(i,e.layoutBox,n)&&ji(d=>{const p=a?e.measuredBox[d]:e.layoutBox[d],m=Mr(n[d]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const s=lf();ep(s,n,e.layoutBox);const o=lf();a?ep(o,t.applyTransform(r,!0),e.measuredBox):ep(o,n,e.layoutBox);const c=!$z(s);let f=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const y=Nn();Zv(y,e.layoutBox,p.layoutBox);const v=Nn();Zv(v,n,m.layoutBox),zz(y,v)||(f=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:o,layoutDelta:s,hasLayoutChanged:c,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function qle(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Xle(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Kle(t){t.clearSnapshot()}function p4(t){t.clearMeasurements()}function g4(t){t.isLayoutDirty=!1}function Yle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function m4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Gle(t){t.resolveTargetDelta()}function Zle(t){t.calcProjection()}function Qle(t){t.resetSkewAndRotation()}function Jle(t){t.removeLeadSnapshot()}function y4(t,e,n){t.translate=Qt(e.translate,0,n),t.scale=Qt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function v4(t,e,n,r){t.min=Qt(e.min,n.min,r),t.max=Qt(e.max,n.max,r)}function ece(t,e,n,r){v4(t.x,e.x,n.x,r),v4(t.y,e.y,n.y,r)}function tce(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nce={duration:.45,ease:[.4,0,.1,1]},b4=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),x4=b4("applewebkit/")&&!b4("chrome/")?Math.round:Wi;function _4(t){t.min=x4(t.min),t.max=x4(t.max)}function rce(t){_4(t.x),_4(t.y)}function Wz(t,e,n){return t==="position"||t==="preserve-aspect"&&!cle(d4(e),d4(n),.2)}function ice(t){return t!==t.root&&t.scroll?.wasRoot}const ace=Hz({attachResizeListener:(t,e)=>Cp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gw={current:void 0},qz=Hz({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Gw.current){const t=new ace({});t.mount(window),t.setOptions({layoutScroll:!0}),Gw.current=t}return Gw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sce={pan:{Feature:Tle},drag:{Feature:Sle,ProjectionNode:qz,MeasureLayout:jz}};function w4(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Kt.postRender(()=>a(e,pg(e)))}class oce extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=kse(e,(n,r)=>(w4(this.node,r,"Start"),i=>w4(this.node,i,"End"))))}unmount(){}}class lce extends ml{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fg(Cp(this.node.current,"focus",()=>this.onFocus()),Cp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function S4(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Kt.postRender(()=>a(e,pg(e)))}class cce extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=Lse(e,(n,r)=>(S4(this.node,r,"Start"),(i,{success:a})=>S4(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lA=new WeakMap,Zw=new WeakMap,uce=t=>{const e=lA.get(t.target);e&&e(t)},fce=t=>{t.forEach(uce)};function dce({root:t,...e}){const n=t||document;Zw.has(n)||Zw.set(n,{});const r=Zw.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(fce,{root:t,...e})),r[i]}function hce(t,e,n){const r=dce(e);return lA.set(t,n),r.observe(t),()=>{lA.delete(t),r.unobserve(t)}}const pce={some:0,all:1};class gce extends ml{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:pce[i]},o=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),m=f?d:p;m&&m(c)};return hce(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mce(e,n))&&this.startObserver()}unmount(){}}function mce({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yce={inView:{Feature:gce},tap:{Feature:cce},focus:{Feature:lce},hover:{Feature:oce}},vce={layout:{ProjectionNode:qz,MeasureLayout:jz}},bce={...rle,...yce,...sce,...vce},xce=boe(bce,Ioe),_ce=jb({palette:{mode:"dark",primary:{main:"#6366f1"},secondary:{main:"#10b981"},background:{default:"#050507",paper:"#0a0b10"},text:{primary:"#ffffff",secondary:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.05)"},typography:{fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',h1:{fontWeight:600,letterSpacing:"-0.025em"},h2:{fontWeight:600,letterSpacing:"-0.025em"},h3:{fontWeight:600,letterSpacing:"-0.025em"},h4:{fontWeight:600,letterSpacing:"-0.025em"},h6:{fontWeight:500,letterSpacing:"0.01em"},button:{textTransform:"none",fontWeight:500}},shape:{borderRadius:6},components:{MuiPaper:{styleOverrides:{root:{backgroundImage:"none",backgroundColor:"#18181b",border:"1px solid rgba(255, 255, 255, 0.08)",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"rgba(9, 9, 11, 0.8)",backdropFilter:"blur(12px)",borderBottom:"1px solid rgba(255, 255, 255, 0.08)",boxShadow:"none"}}},MuiDrawer:{styleOverrides:{paper:{backgroundColor:"#09090b",borderRight:"1px solid rgba(255, 255, 255, 0.08)"}}}}}),Xz=260,wce=Fe(Hr)(({theme:t,open:e})=>({flexGrow:1,height:"100vh",overflow:"auto",paddingTop:64,paddingLeft:e?Xz:72,transition:t.transitions.create("padding",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),backgroundColor:t.palette.background.default,backgroundImage:`
        radial-gradient(at 0% 0%, rgba(59, 130, 246, 0.15) 0px, transparent 50%),
        radial-gradient(at 100% 0%, rgba(16, 185, 129, 0.1) 0px, transparent 50%),
        radial-gradient(at 100% 100%, rgba(59, 130, 246, 0.1) 0px, transparent 50%),
        radial-gradient(at 0% 100%, rgba(16, 185, 129, 0.1) 0px, transparent 50%)
    `,backgroundAttachment:"fixed",backgroundSize:"100% 100%"})),Sce=({item:t,selected:e,onClick:n,open:r})=>E.jsxs(Aie,{onClick:n,sx:{minHeight:44,justifyContent:r?"initial":"center",px:2.5,my:.5,mx:1.5,borderRadius:"12px",backgroundColor:e?"rgba(99, 102, 241, 0.15)":"transparent",color:e?"#818cf8":"#a1a1aa",border:e?"1px solid rgba(99, 102, 241, 0.3)":"1px solid transparent",boxShadow:e?"0 0 15px rgba(99, 102, 241, 0.1)":"none","&:hover":{backgroundColor:e?"rgba(99, 102, 241, 0.25)":"rgba(255, 255, 255, 0.03)",color:"#ffffff"},transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:[E.jsx(Rie,{sx:{minWidth:0,mr:r?2:"auto",justifyContent:"center",color:"inherit"},children:t.icon}),r&&E.jsx(kie,{primary:t.text,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:e?600:400}})]});function Tce({children:t}){const[e,n]=x.useState(!0),r=d8(),i=pl(),a=()=>{n(!e)},s=[{text:"Mission Control",icon:E.jsx(Nie,{}),path:"/"},{text:"Map Explorer",icon:E.jsx(Die,{}),path:"/map"},{text:"Route Explorer",icon:E.jsx(Bie,{}),path:"/routes"},{text:"Station Intel",icon:E.jsx(Lie,{}),path:"/stations"},{text:"Neural Demand Lab",icon:E.jsx(Fie,{}),path:"/prediction"},{text:"Deep Analytics",icon:E.jsx($ie,{}),path:"/advanced"},{text:"Fleet Command",icon:E.jsx(g$,{}),path:"/rebalancing"},{text:"Social Equity",icon:E.jsx(p$,{}),path:"/equity"}];return E.jsx(Kne,{theme:_ce,children:E.jsxs(Hr,{sx:{display:"flex"},children:[E.jsx(tre,{}),E.jsx(dre,{position:"fixed",sx:{zIndex:o=>o.zIndex.drawer+1},children:E.jsxs(mre,{sx:{minHeight:64},children:[E.jsx($2,{color:"inherit","aria-label":"toggle drawer",onClick:a,edge:"start",sx:{mr:2},children:e?E.jsx(Uie,{}):E.jsx(bie,{})}),E.jsxs(Bt,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:"flex",alignItems:"center",gap:1},children:[E.jsx(Hr,{component:"span",sx:{fontWeight:700,letterSpacing:"-0.5px"},children:"CITI BIKE"}),E.jsx(Hr,{component:"span",sx:{color:"text.secondary",fontWeight:400,fontSize:"0.9em"},children:"ANALYTICS"})]}),E.jsx($2,{color:"inherit",children:E.jsx(vie,{badgeContent:4,color:"primary",variant:"dot",children:E.jsx(xie,{})})})]})}),E.jsxs(Hr,{component:"nav",sx:{width:e?Xz:72,flexShrink:0,position:"fixed",height:"100%",borderRight:"1px solid rgba(255, 255, 255, 0.05)",backgroundColor:"rgba(5, 5, 7, 0.8)",backdropFilter:"blur(20px)",transition:"width 0.2s ease-in-out",zIndex:1200,pt:8},children:[e&&E.jsx(Hr,{sx:{px:3,mb:4,mt:2},children:E.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[E.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-500/20",children:E.jsx(jie,{sx:{color:"white",fontSize:18}})}),E.jsxs("div",{children:[E.jsx(Bt,{variant:"caption",sx:{color:"text.secondary",letterSpacing:"0.1em",fontSize:"0.65rem",display:"block",mb:-.5},children:"NYC"}),E.jsx(Bt,{variant:"h6",sx:{fontWeight:700,color:"white",lineHeight:1.2},children:"Citi Bike AI"})]})]})}),E.jsx(xre,{sx:{px:2},children:s.map(o=>E.jsx(Sce,{item:o,selected:i.pathname===o.path,onClick:()=>r(o.path),open:e},o.text))})]}),E.jsx(wce,{open:e,children:E.jsx(Hr,{sx:{mt:4,mb:4,width:"100%",px:0},children:E.jsx(xce.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},style:{width:"100%"},children:t})})})]})})}const Ace=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ece=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),T4=t=>{const e=Ece(t);return e.charAt(0).toUpperCase()+e.slice(1)},Kz=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Cce=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Pce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Rce=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},c)=>x.createElement("svg",{ref:c,...Pce,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Kz("lucide",i),...!a&&!Cce(o)&&{"aria-hidden":"true"},...o},[...s.map(([f,d])=>x.createElement(f,d)),...Array.isArray(a)?a:[a]]));const Mt=(t,e)=>{const n=x.forwardRef(({className:r,...i},a)=>x.createElement(Rce,{ref:a,iconNode:e,className:Kz(`lucide-${Ace(T4(t))}`,`lucide-${t}`,r),...i}));return n.displayName=T4(t),n};const Oce=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],gg=Mt("activity",Oce);const Mce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Yz=Mt("arrow-right",Mce);const Ice=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cA=Mt("calendar",Ice);const kce=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qw=Mt("chevron-down",kce);const Nce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Dce=Mt("circle-alert",Nce);const Bce=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],A4=Mt("clock",Bce);const Lce=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],jce=Mt("cloud-rain",Lce);const Uce=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Fce=Mt("cpu",Uce);const $ce=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],zce=Mt("droplets",$ce);const Vce=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],p3=Mt("funnel",Vce);const Hce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Wce=Mt("globe",Hce);const qce=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],Xce=Mt("grip-horizontal",qce);const Kce=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],Yce=Mt("hexagon",Kce);const Gce=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Zce=Mt("layers",Gce);const Qce=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],E4=Mt("map-pin",Qce);const Jce=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],eue=Mt("map",Jce);const tue=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Gz=Mt("navigation",tue);const nue=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],rue=Mt("radio",nue);const iue=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aue=Mt("refresh-cw",iue);const sue=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],oue=Mt("route",sue);const lue=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cue=Mt("search",lue);const uue=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Jw=Mt("shield-alert",uue);const fue=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],due=Mt("sun",fue);const hue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],pue=Mt("target",hue);const gue=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],C4=Mt("thermometer",gue);const mue=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],yue=Mt("trending-up",mue);const vue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uA=Mt("users",vue);const bue=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qv=Mt("zap",bue),P4=({value:t,onChange:e,className:n=""})=>{const r=t?new Date(t):new Date,i=(c,f)=>{const d=new Date(r);c==="year"&&d.setFullYear(parseInt(f)),c==="month"&&d.setMonth(parseInt(f)),c==="day"&&d.setDate(parseInt(f));const p=d.getFullYear(),m=String(d.getMonth()+1).padStart(2,"0"),y=String(d.getDate()).padStart(2,"0");e(`${p}-${m}-${y}`)},a=Array.from({length:14},(c,f)=>2013+f).reverse(),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=Array.from({length:31},(c,f)=>f+1);return E.jsxs("div",{className:`grid grid-cols-3 gap-2 ${n}`,children:[E.jsxs("div",{className:"relative group",children:[E.jsx("select",{value:r.getFullYear(),onChange:c=>i("year",c.target.value),className:"w-full bg-[#0a0b14] border border-white/10 rounded-lg px-2 py-2 text-xs text-white focus:outline-none focus:border-indigo-500/50 appearance-none cursor-pointer hover:bg-white/5 transition-colors",children:a.map(c=>E.jsx("option",{value:c,children:c},c))}),E.jsx(Qw,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-white/30 pointer-events-none"})]}),E.jsxs("div",{className:"relative group",children:[E.jsx("select",{value:r.getMonth(),onChange:c=>i("month",c.target.value),className:"w-full bg-[#0a0b14] border border-white/10 rounded-lg px-2 py-2 text-xs text-white focus:outline-none focus:border-indigo-500/50 appearance-none cursor-pointer hover:bg-white/5 transition-colors",children:s.map((c,f)=>E.jsx("option",{value:f,children:c},f))}),E.jsx(Qw,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-white/30 pointer-events-none"})]}),E.jsxs("div",{className:"relative group",children:[E.jsx("select",{value:r.getDate(),onChange:c=>i("day",c.target.value),className:"w-full bg-[#0a0b14] border border-white/10 rounded-lg px-2 py-2 text-xs text-white focus:outline-none focus:border-indigo-500/50 appearance-none cursor-pointer hover:bg-white/5 transition-colors",children:o.map(c=>E.jsx("option",{value:c,children:c},c))}),E.jsx(Qw,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-white/30 pointer-events-none"})]})]})};class Pp extends gi.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Chart rendering error:",e,n)}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?E.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[200px] bg-secondary/10 rounded-lg p-6",children:[E.jsx(Dce,{className:"w-12 h-12 text-destructive mb-3"}),E.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Chart Error"}),E.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Unable to render this chart. The data may be invalid or missing."}),E.jsxs("button",{onClick:this.handleReset,className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[E.jsx(aue,{className:"w-4 h-4"}),"Try Again"]})]}):this.props.children}}var xue=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function g3(t){if(typeof t!="string")return!1;var e=xue;return e.includes(t)}var _ue=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wue=new Set(_ue);function Zz(t){return typeof t!="string"?!1:wue.has(t)}function Qz(t){return typeof t=="string"&&t.startsWith("data-")}function xi(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Zz(n)||Qz(n))&&(e[n]=t[n]);return e}function mg(t){if(t==null)return null;if(x.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return xi(e)}return typeof t=="object"&&!Array.isArray(t)?xi(t):null}function Ar(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Zz(n)||Qz(n)||g3(n))&&(e[n]=t[n]);return e}function Sue(t){return t==null?null:x.isValidElement(t)?Ar(t.props):typeof t=="object"&&!Array.isArray(t)?Ar(t):null}var Tue=["children","width","height","viewBox","className","style","title","desc"];function fA(){return fA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fA.apply(null,arguments)}function Aue(t,e){if(t==null)return{};var n,r,i=Eue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Eue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var m3=x.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:c,desc:f}=t,d=Aue(t,Tue),p=a||{width:r,height:i,x:0,y:0},m=Te("recharts-surface",s);return x.createElement("svg",fA({},Ar(d),{className:m,width:r,height:i,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),x.createElement("title",null,c),x.createElement("desc",null,f),n)}),Cue=["children","className"];function dA(){return dA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dA.apply(null,arguments)}function Pue(t,e){if(t==null)return{};var n,r,i=Rue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Er=x.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Pue(t,Cue),a=Te("recharts-layer",r);return x.createElement("g",dA({className:a},Ar(i),{ref:e}),n)}),Jz=x.createContext(null),Oue=()=>x.useContext(Jz);function Lt(t){return function(){return t}}const eV=Math.cos,Jv=Math.sin,Ca=Math.sqrt,e0=Math.PI,Hb=2*e0,hA=Math.PI,pA=2*hA,Yl=1e-6,Mue=pA-Yl;function tV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Iue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return tV;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class kue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?tV:Iue(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=r-e,f=i-n,d=s-e,p=o-n,m=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Yl)if(!(Math.abs(p*c-f*d)>Yl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,v=i-o,b=c*c+f*f,w=y*y+v*v,T=Math.sqrt(b),C=Math.sqrt(m),A=a*Math.tan((hA-Math.acos((b+m-w)/(2*T*C)))/2),R=A/C,P=A/T;Math.abs(R-1)>Yl&&this._append`L${e+R*d},${n+R*p}`,this._append`A${a},${a},0,0,${+(p*y>d*v)},${this._x1=e+P*c},${this._y1=n+P*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),c=r*Math.sin(i),f=e+o,d=n+c,p=1^s,m=s?i-a:a-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>Yl||Math.abs(this._y1-d)>Yl)&&this._append`L${f},${d}`,r&&(m<0&&(m=m%pA+pA),m>Mue?this._append`A${r},${r},0,1,${p},${e-o},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=d}`:m>Yl&&this._append`A${r},${r},0,${+(m>=hA)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function y3(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new kue(e)}function v3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function nV(t){this._context=t}nV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Wb(t){return new nV(t)}function rV(t){return t[0]}function iV(t){return t[1]}function aV(t,e){var n=Lt(!0),r=null,i=Wb,a=null,s=y3(o);t=typeof t=="function"?t:t===void 0?rV:Lt(t),e=typeof e=="function"?e:e===void 0?iV:Lt(e);function o(c){var f,d=(c=v3(c)).length,p,m=!1,y;for(r==null&&(a=i(y=s())),f=0;f<=d;++f)!(f<d&&n(p=c[f],f,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(p,f,c),+e(p,f,c));if(y)return a=null,y+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:Lt(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:Lt(+c),o):e},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Lt(!!c),o):n},o.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),o):i},o.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),o):r},o}function wy(t,e,n){var r=null,i=Lt(!0),a=null,s=Wb,o=null,c=y3(f);t=typeof t=="function"?t:t===void 0?rV:Lt(+t),e=typeof e=="function"?e:Lt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?iV:Lt(+n);function f(p){var m,y,v,b=(p=v3(p)).length,w,T=!1,C,A=new Array(b),R=new Array(b);for(a==null&&(o=s(C=c())),m=0;m<=b;++m){if(!(m<b&&i(w=p[m],m,p))===T)if(T=!T)y=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=m-1;v>=y;--v)o.point(A[v],R[v]);o.lineEnd(),o.areaEnd()}T&&(A[m]=+t(w,m,p),R[m]=+e(w,m,p),o.point(r?+r(w,m,p):A[m],n?+n(w,m,p):R[m]))}if(C)return o=null,C+""||null}function d(){return aV().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Lt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Lt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Lt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Lt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Lt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Lt(+p),f):n},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(n)},f.lineX1=function(){return d().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Lt(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(o=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=o=null:o=s(a=p),f):a},f}class sV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Nue(t){return new sV(t,!0)}function Due(t){return new sV(t,!1)}const b3={draw(t,e){const n=Ca(e/e0);t.moveTo(n,0),t.arc(0,0,n,0,Hb)}},Bue={draw(t,e){const n=Ca(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},oV=Ca(1/3),Lue=oV*2,jue={draw(t,e){const n=Ca(e/Lue),r=n*oV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Uue={draw(t,e){const n=Ca(e),r=-n/2;t.rect(r,r,n,n)}},Fue=.8908130915292852,lV=Jv(e0/10)/Jv(7*e0/10),$ue=Jv(Hb/10)*lV,zue=-eV(Hb/10)*lV,Vue={draw(t,e){const n=Ca(e*Fue),r=$ue*n,i=zue*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Hb*a/5,o=eV(s),c=Jv(s);t.lineTo(c*n,-o*n),t.lineTo(o*r-c*i,c*r+o*i)}t.closePath()}},eS=Ca(3),Hue={draw(t,e){const n=-Ca(e/(eS*3));t.moveTo(0,n*2),t.lineTo(-eS*n,-n),t.lineTo(eS*n,-n),t.closePath()}},Di=-.5,Bi=Ca(3)/2,gA=1/Ca(12),Wue=(gA/2+1)*3,que={draw(t,e){const n=Ca(e/Wue),r=n/2,i=n*gA,a=r,s=n*gA+n,o=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,c),t.lineTo(Di*r-Bi*i,Bi*r+Di*i),t.lineTo(Di*a-Bi*s,Bi*a+Di*s),t.lineTo(Di*o-Bi*c,Bi*o+Di*c),t.lineTo(Di*r+Bi*i,Di*i-Bi*r),t.lineTo(Di*a+Bi*s,Di*s-Bi*a),t.lineTo(Di*o+Bi*c,Di*c-Bi*o),t.closePath()}};function Xue(t,e){let n=null,r=y3(i);t=typeof t=="function"?t:Lt(t||b3),e=typeof e=="function"?e:Lt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Lt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Lt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function t0(){}function n0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function cV(t){this._context=t}cV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:n0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:n0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kue(t){return new cV(t)}function uV(t){this._context=t}uV.prototype={areaStart:t0,areaEnd:t0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:n0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yue(t){return new uV(t)}function fV(t){this._context=t}fV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:n0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gue(t){return new fV(t)}function dV(t){this._context=t}dV.prototype={areaStart:t0,areaEnd:t0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Zue(t){return new dV(t)}function R4(t){return t<0?-1:1}function O4(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(R4(a)+R4(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function M4(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function tS(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function r0(t){this._context=t}r0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tS(this,this._t0,M4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,tS(this,M4(this,n=O4(this,t,e)),n);break;default:tS(this,this._t0,n=O4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function hV(t){this._context=new pV(t)}(hV.prototype=Object.create(r0.prototype)).point=function(t,e){r0.prototype.point.call(this,e,t)};function pV(t){this._context=t}pV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Que(t){return new r0(t)}function Jue(t){return new hV(t)}function gV(t){this._context=t}gV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=I4(t),i=I4(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function I4(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function efe(t){return new gV(t)}function qb(t,e){this._context=t,this._t=e}qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function tfe(t){return new qb(t,.5)}function nfe(t){return new qb(t,0)}function rfe(t){return new qb(t,1)}function Mf(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function mA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ife(t,e){return t[e]}function afe(t){const e=[];return e.key=t,e}function sfe(){var t=Lt([]),e=mA,n=Mf,r=ife;function i(a){var s=Array.from(t.apply(this,arguments),afe),o,c=s.length,f=-1,d;for(const p of a)for(o=0,++f;o<c;++o)(s[o][f]=[0,+r(p,s[o].key,f,a)]).data=p;for(o=0,d=v3(e(s));o<c;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Lt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Lt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?mA:typeof a=="function"?a:Lt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Mf,i):n},i}function ofe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Mf(t,e)}}function lfe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Mf(t,e)}}function cfe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,c=0,f=0;o<s;++o){for(var d=t[e[o]],p=d[r][1]||0,m=d[r-1][1]||0,y=(p-m)/2,v=0;v<o;++v){var b=t[e[v]],w=b[r][1]||0,T=b[r-1][1]||0;y+=w-T}c+=p,f+=y*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Mf(t,e)}}var nS={},rS={},k4;function ufe(){return k4||(k4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(rS)),rS}var iS={},N4;function mV(){return N4||(N4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(iS)),iS}var aS={},D4;function x3(){return D4||(D4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(aS)),aS}var sS={},oS={},B4;function ffe(){return B4||(B4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(oS)),oS}var L4;function _3(){return L4||(L4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ffe(),n=x3();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,c="",f="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const p=i[o];f?p==="\\"&&o+1<s?(o++,c+=i[o]):p===f?f="":c+=p:d?p==='"'||p==="'"?f=p:p==="]"?(d=!1,a.push(c),c=""):c+=p:p==="["?(d=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,o++}return c&&a.push(c),a}t.toPath=r})(sS)),sS}var j4;function w3(){return j4||(j4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ufe(),n=mV(),r=x3(),i=_3();function a(o,c,f){if(o==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const d=o[c];return d===void 0?n.isDeepKey(c)?a(o,i.toPath(c),f):f:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=o[c];return d===void 0?f:d}default:{if(Array.isArray(c))return s(o,c,f);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const d=o[c];return d===void 0?f:d}}}function s(o,c,f){if(c.length===0)return f;let d=o;for(let p=0;p<c.length;p++){if(d==null||e.isUnsafeProperty(c[p]))return f;d=d[c[p]]}return d===void 0?f:d}t.get=a})(nS)),nS}var lS,U4;function dfe(){return U4||(U4=1,lS=w3().get),lS}var hfe=dfe();const If=Aa(hfe);var qr=t=>t===0?0:t>0?1:-1,Gi=t=>typeof t=="number"&&t!=+t,Zs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ce=t=>(typeof t=="number"||t instanceof Number)&&!Gi(t),ns=t=>Ce(t)||typeof t=="string",pfe=0,Rp=t=>{var e=++pfe;return"".concat(t||"").concat(e)},wa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&typeof e!="string")return r;var a;if(Zs(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Gi(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},yV=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Et(t,e,n){return Ce(t)&&Ce(e)?t+n*(e-t):e}function vV(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):If(r,e))===n)}var zt=t=>t===null||typeof t>"u",yg=t=>zt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function gfe(t){return t!=null}function vg(){}var mfe=["type","size","sizeType"];function yA(){return yA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yA.apply(null,arguments)}function F4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(r){yfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yfe(t,e,n){return(e=vfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vfe(t){var e=bfe(t,"string");return typeof e=="symbol"?e:e+""}function bfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xfe(t,e){if(t==null)return{};var n,r,i=_fe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _fe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bV={symbolCircle:b3,symbolCross:Bue,symbolDiamond:jue,symbolSquare:Uue,symbolStar:Vue,symbolTriangle:Hue,symbolWye:que},wfe=Math.PI/180,Sfe=t=>{var e="symbol".concat(yg(t));return bV[e]||b3},Tfe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*wfe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Afe=(t,e)=>{bV["symbol".concat(yg(t))]=e},S3=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=xfe(t,mfe),a=$4($4({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var m=Sfe(s),y=Xue().type(m).size(Tfe(n,r,s)),v=y();if(v!==null)return v},{className:c,cx:f,cy:d}=a,p=Ar(a);return Ce(f)&&Ce(d)&&Ce(n)?x.createElement("path",yA({},p,{className:Te("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(d,")"),d:o()})):null};S3.registerSymbol=Afe;var xV=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,T3=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{g3(i)&&(r[i]=(a=>n[i](n,a)))}),r},Efe=(t,e,n)=>r=>(t(e,n,r),null),Xb=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];g3(i)&&typeof a=="function"&&(r||(r={}),r[i]=Efe(a,e,n))}),r};function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){Pfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pfe(t,e,n){return(e=Rfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rfe(t){var e=Ofe(t,"string");return typeof e=="symbol"?e:e+""}function Ofe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fn(t,e){var n=Cfe({},t),r=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function i0(){return i0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i0.apply(null,arguments)}function V4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(n),!0).forEach(function(r){Ife(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ife(t,e,n){return(e=kfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kfe(t){var e=Nfe(t,"string");return typeof e=="symbol"?e:e+""}function Nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ui=32,Dfe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Bfe(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Ui/2,a=Ui/6,s=Ui/3,o=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline"){var f;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(f=e.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:Ui,y2:i,className:"recharts-legend-icon"})}if(c==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ui,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return x.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ui/8,"h").concat(Ui,"v").concat(Ui*3/4,"h").concat(-Ui,"z"),className:"recharts-legend-icon"});if(x.isValidElement(e.legendIcon)){var d=Mfe({},e);return delete d.legendIcon,x.cloneElement(e.legendIcon,d)}return x.createElement(S3,{fill:o,cx:i,cy:i,size:Ui,sizeType:"diameter",type:c})}function Lfe(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=t,o={x:0,y:0,width:Ui,height:Ui},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,p)=>{var m=d.formatter||i,y=Te({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var v=d.inactive?a:d.color,b=m?m(d.value,d,p):d.value;return x.createElement("li",i0({className:y,style:c,key:"legend-item-".concat(p)},Xb(t,d,p)),x.createElement(m3,{width:n,height:n,viewBox:o,style:f,"aria-label":"".concat(b," legend icon")},x.createElement(Bfe,{data:d,iconType:s,inactiveColor:a})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},b))})}var jfe=t=>{var e=Fn(t,Dfe),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},x.createElement(Lfe,i0({},e,{payload:n})))},cS={},uS={},H4;function Ufe(){return H4||(H4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(uS)),uS}var fS={},W4;function _V(){return W4||(W4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(fS)),fS}var dS={},hS={},pS={},q4;function Ffe(){return q4||(q4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(pS)),pS}var X4;function A3(){return X4||(X4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ffe();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(hS)),hS}var gS={},K4;function $fe(){return K4||(K4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(gS)),gS}var Y4;function zfe(){return Y4||(Y4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A3(),n=$fe();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(dS)),dS}var mS={},yS={},G4;function Vfe(){return G4||(G4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w3();function n(r){return function(i){return e.get(i,r)}}t.property=n})(yS)),yS}var vS={},bS={},xS={},_S={},Z4;function wV(){return Z4||(Z4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(_S)),_S}var wS={},Q4;function SV(){return Q4||(Q4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(wS)),wS}var SS={},J4;function TV(){return J4||(J4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(SS)),SS}var eB;function Hfe(){return eB||(eB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wV(),n=SV(),r=TV();function i(d,p,m){return typeof m!="function"?i(d,p,()=>{}):a(d,p,function y(v,b,w,T,C,A){const R=m(v,b,w,T,C,A);return R!==void 0?!!R:a(v,b,y,A)},new Map)}function a(d,p,m,y){if(p===d)return!0;switch(typeof p){case"object":return s(d,p,m,y);case"function":return Object.keys(p).length>0?a(d,{...p},m,y):r.eq(d,p);default:return e.isObject(d)?typeof p=="string"?p==="":!0:r.eq(d,p)}}function s(d,p,m,y){if(p==null)return!0;if(Array.isArray(p))return c(d,p,m,y);if(p instanceof Map)return o(d,p,m,y);if(p instanceof Set)return f(d,p,m,y);const v=Object.keys(p);if(d==null)return v.length===0;if(v.length===0)return!0;if(y?.has(p))return y.get(p)===d;y?.set(p,d);try{for(let b=0;b<v.length;b++){const w=v[b];if(!n.isPrimitive(d)&&!(w in d)||p[w]===void 0&&d[w]!==void 0||p[w]===null&&d[w]!==null||!m(d[w],p[w],w,d,p,y))return!1}return!0}finally{y?.delete(p)}}function o(d,p,m,y){if(p.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,b]of p.entries()){const w=d.get(v);if(m(w,b,v,d,p,y)===!1)return!1}return!0}function c(d,p,m,y){if(p.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let b=0;b<p.length;b++){const w=p[b];let T=!1;for(let C=0;C<d.length;C++){if(v.has(C))continue;const A=d[C];let R=!1;if(m(A,w,b,d,p,y)&&(R=!0),R){v.add(C),T=!0;break}}if(!T)return!1}return!0}function f(d,p,m,y){return p.size===0?!0:d instanceof Set?c([...d],[...p],m,y):!1}t.isMatchWith=i,t.isSetMatch=f})(xS)),xS}var tB;function AV(){return tB||(tB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hfe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(bS)),bS}var TS={},AS={},ES={},nB;function Wfe(){return nB||(nB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(ES)),ES}var CS={},rB;function EV(){return rB||(rB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(CS)),CS}var PS={},iB;function CV(){return iB||(iB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",f="[object Set]",d="[object Array]",p="[object Function]",m="[object ArrayBuffer]",y="[object Object]",v="[object Error]",b="[object DataView]",w="[object Uint8Array]",T="[object Uint8ClampedArray]",C="[object Uint16Array]",A="[object Uint32Array]",R="[object BigUint64Array]",P="[object Int8Array]",O="[object Int16Array]",k="[object Int32Array]",D="[object BigInt64Array]",L="[object Float32Array]",$="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=m,t.arrayTag=d,t.bigInt64ArrayTag=D,t.bigUint64ArrayTag=R,t.booleanTag=i,t.dataViewTag=b,t.dateTag=o,t.errorTag=v,t.float32ArrayTag=L,t.float64ArrayTag=$,t.functionTag=p,t.int16ArrayTag=O,t.int32ArrayTag=k,t.int8ArrayTag=P,t.mapTag=c,t.numberTag=r,t.objectTag=y,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=C,t.uint32ArrayTag=A,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=T})(PS)),PS}var RS={},aB;function qfe(){return aB||(aB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(RS)),RS}var sB;function PV(){return sB||(sB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wfe(),n=EV(),r=CV(),i=SV(),a=qfe();function s(d,p){return o(d,void 0,d,new Map,p)}function o(d,p,m,y=new Map,v=void 0){const b=v?.(d,p,m,y);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(y.has(d))return y.get(d);if(Array.isArray(d)){const w=new Array(d.length);y.set(d,w);for(let T=0;T<d.length;T++)w[T]=o(d[T],T,m,y,v);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;y.set(d,w);for(const[T,C]of d)w.set(T,o(C,T,m,y,v));return w}if(d instanceof Set){const w=new Set;y.set(d,w);for(const T of d)w.add(o(T,void 0,m,y,v));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);y.set(d,w);for(let T=0;T<d.length;T++)w[T]=o(d[T],T,m,y,v);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return y.set(d,w),c(w,d,m,y,v),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return y.set(d,w),c(w,d,m,y,v),w}if(typeof Blob<"u"&&d instanceof Blob){const w=new Blob([d],{type:d.type});return y.set(d,w),c(w,d,m,y,v),w}if(d instanceof Error){const w=new d.constructor;return y.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,m,y,v),w}if(d instanceof Boolean){const w=new Boolean(d.valueOf());return y.set(d,w),c(w,d,m,y,v),w}if(d instanceof Number){const w=new Number(d.valueOf());return y.set(d,w),c(w,d,m,y,v),w}if(d instanceof String){const w=new String(d.valueOf());return y.set(d,w),c(w,d,m,y,v),w}if(typeof d=="object"&&f(d)){const w=Object.create(Object.getPrototypeOf(d));return y.set(d,w),c(w,d,m,y,v),w}return d}function c(d,p,m=d,y,v){const b=[...Object.keys(p),...e.getSymbols(p)];for(let w=0;w<b.length;w++){const T=b[w],C=Object.getOwnPropertyDescriptor(d,T);(C==null||C.writable)&&(d[T]=o(p[T],T,m,y,v))}}function f(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=c})(AS)),AS}var oB;function Xfe(){return oB||(oB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PV();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(TS)),TS}var lB;function Kfe(){return lB||(lB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AV(),n=Xfe();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(vS)),vS}var OS={},MS={},IS={},cB;function Yfe(){return cB||(cB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PV(),n=CV();function r(i,a){return e.cloneDeepWith(i,(s,o,c,f)=>{const d=a?.(s,o,c,f);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(IS)),IS}var uB;function Gfe(){return uB||(uB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yfe();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(MS)),MS}var kS={},NS={},fB;function RV(){return fB||(fB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(NS)),NS}var DS={},dB;function Zfe(){return dB||(dB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EV();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(DS)),DS}var hB;function Qfe(){return hB||(hB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mV(),n=RV(),r=Zfe(),i=_3();function a(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&e.isDeepKey(o)&&s?.[o]==null?c=i.toPath(o):c=[o],c.length===0)return!1;let f=s;for(let d=0;d<c.length;d++){const p=c[d];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(kS)),kS}var pB;function Jfe(){return pB||(pB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AV(),n=x3(),r=Gfe(),i=w3(),a=Qfe();function s(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return c=r.cloneDeep(c),function(f){const d=i.get(f,o);return d===void 0?a.has(f,o):c===void 0?d===void 0:e.isMatch(d,c)}}t.matchesProperty=s})(OS)),OS}var gB;function ede(){return gB||(gB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_V(),n=Vfe(),r=Kfe(),i=Jfe();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(mS)),mS}var mB;function tde(){return mB||(mB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ufe(),n=_V(),r=zfe(),i=ede();function a(s,o=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}t.uniqBy=a})(cS)),cS}var BS,yB;function nde(){return yB||(yB=1,BS=tde().uniqBy),BS}var rde=nde();const vB=Aa(rde);function OV(t,e,n){return e===!0?vB(t,n):typeof e=="function"?vB(t,e):t}var LS={exports:{}},jS={},US={exports:{}},FS={};var bB;function ide(){if(bB)return FS;bB=1;var t=nd();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function o(p,m){var y=m(),v=r({inst:{value:y,getSnapshot:m}}),b=v[0].inst,w=v[1];return a(function(){b.value=y,b.getSnapshot=m,c(b)&&w({inst:b})},[p,y,m]),i(function(){return c(b)&&w({inst:b}),p(function(){c(b)&&w({inst:b})})},[p]),s(y),y}function c(p){var m=p.getSnapshot;p=p.value;try{var y=m();return!n(p,y)}catch{return!0}}function f(p,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return FS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,FS}var xB;function ade(){return xB||(xB=1,US.exports=ide()),US.exports}var _B;function sde(){if(_B)return jS;_B=1;var t=nd(),e=ade();function n(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,o=t.useMemo,c=t.useDebugValue;return jS.useSyncExternalStoreWithSelector=function(f,d,p,m,y){var v=a(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=o(function(){function T(O){if(!C){if(C=!0,A=O,O=m(O),y!==void 0&&b.hasValue){var k=b.value;if(y(k,O))return R=k}return R=O}if(k=R,r(A,O))return k;var D=m(O);return y!==void 0&&y(k,D)?(A=O,k):(A=O,R=D)}var C=!1,A,R,P=p===void 0?null:p;return[function(){return T(d())},P===null?void 0:function(){return T(P())}]},[d,p,m,y]);var w=i(f,v[0],v[1]);return s(function(){b.hasValue=!0,b.value=w},[w]),c(w),w},jS}var wB;function ode(){return wB||(wB=1,LS.exports=sde()),LS.exports}var lde=ode(),E3=x.createContext(null),cde=t=>t,en=()=>{var t=x.useContext(E3);return t?t.store.dispatch:cde},vv=()=>{},ude=()=>vv,fde=(t,e)=>t===e;function Me(t){var e=x.useContext(E3);return lde.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:ude,e?e.store.getState:vv,e?e.store.getState:vv,e?t:vv,fde)}function dde(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function hde(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function pde(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var SB=t=>Array.isArray(t)?t:[t];function gde(t){const e=Array.isArray(t[0])?t[0]:t;return pde(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function mde(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var yde=class{constructor(t){this.value=t}deref(){return this.value}},vde=typeof WeakRef<"u"?WeakRef:yde,bde=0,TB=1;function Sy(){return{s:bde,v:void 0,o:null,p:null}}function MV(t,e={}){let n=Sy();const{resultEqualityCheck:r}=e;let i,a=0;function s(){let o=n;const{length:c}=arguments;for(let p=0,m=c;p<m;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const b=v.get(y);b===void 0?(o=Sy(),v.set(y,o)):o=b}else{let v=o.p;v===null&&(o.p=v=new Map);const b=v.get(y);b===void 0?(o=Sy(),v.set(y,o)):o=b}}const f=o;let d;if(o.s===TB)d=o.v;else if(d=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new vde(d):d}return f.s=TB,f.v=d,d}return s.clearCache=()=>{n=Sy(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function xde(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,o,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),dde(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const d={...n,...c},{memoize:p,memoizeOptions:m=[],argsMemoize:y=MV,argsMemoizeOptions:v=[]}=d,b=SB(m),w=SB(v),T=gde(i),C=p(function(){return a++,f.apply(null,arguments)},...b),A=y(function(){s++;const P=mde(T,arguments);return o=C.apply(null,P),o},...w);return Object.assign(A,{resultFunc:f,memoizedResultFunc:C,dependencies:T,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var ae=xde(MV),_de=Object.assign((t,e=ae)=>{hde(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,o,c)=>(s[n[c]]=o,s),{}))},{withTypes:()=>_de}),$S={},zS={},VS={},AB;function wde(){return AB||(AB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),o=e(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=n})(VS)),VS}var HS={},WS={},EB;function IV(){return EB||(EB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(WS)),WS}var CB;function Sde(){return CB||(CB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IV(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(HS)),HS}var PB;function Tde(){return PB||(PB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wde(),n=Sde(),r=_3();function i(a,s,o,c){if(a==null)return[];o=c?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(y=>String(y));const f=(y,v)=>{let b=y;for(let w=0;w<v.length&&b!=null;++w)b=b[v[w]];return b},d=(y,v)=>v==null||y==null?v:typeof y=="object"&&"key"in y?Object.hasOwn(v,y.key)?v[y.key]:f(v,y.path):typeof y=="function"?y(v):Array.isArray(y)?f(v,y):typeof v=="object"?v[y]:v,p=s.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(v=>d(v,y))})).slice().sort((y,v)=>{for(let b=0;b<p.length;b++){const w=e.compareValues(y.criteria[b],v.criteria[b],o[b]);if(w!==0)return w}return 0}).map(y=>y.original)}t.orderBy=i})(zS)),zS}var qS={},RB;function Ade(){return RB||(RB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(o,c)=>{for(let f=0;f<o.length;f++){const d=o[f];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(n,0),i}t.flatten=e})(qS)),qS}var XS={},OB;function kV(){return OB||(OB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RV(),n=A3(),r=wV(),i=TV();function a(s,o,c){return r.isObject(c)&&(typeof o=="number"&&n.isArrayLike(c)&&e.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.eq(c[o],s):!1}t.isIterateeCall=a})(XS)),XS}var MB;function Ede(){return MB||(MB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tde(),n=Ade(),r=kV();function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})($S)),$S}var KS,IB;function Cde(){return IB||(IB=1,KS=Ede().sortBy),KS}var Pde=Cde();const Kb=Aa(Pde);var NV=t=>t.legend.settings,Rde=t=>t.legend.size,Ode=t=>t.legend.payload,Mde=ae([Ode,NV],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Kb(r,n):r});function Ide(){return Me(Mde)}var Ty=1;function DV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>Ty||Math.abs(s.left-e.left)>Ty||Math.abs(s.top-e.top)>Ty||Math.abs(s.width-e.width)>Ty)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function lr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kde=typeof Symbol=="function"&&Symbol.observable||"@@observable",kB=kde,YS=()=>Math.random().toString(36).substring(7).split("").join("."),Nde={INIT:`@@redux/INIT${YS()}`,REPLACE:`@@redux/REPLACE${YS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${YS()}`},a0=Nde;function C3(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function BV(t,e,n){if(typeof t!="function")throw new Error(lr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(lr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(lr(1));return n(BV)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,c=!1;function f(){s===a&&(s=new Map,a.forEach((w,T)=>{s.set(T,w)}))}function d(){if(c)throw new Error(lr(3));return i}function p(w){if(typeof w!="function")throw new Error(lr(4));if(c)throw new Error(lr(5));let T=!0;f();const C=o++;return s.set(C,w),function(){if(T){if(c)throw new Error(lr(6));T=!1,f(),s.delete(C),a=null}}}function m(w){if(!C3(w))throw new Error(lr(7));if(typeof w.type>"u")throw new Error(lr(8));if(typeof w.type!="string")throw new Error(lr(17));if(c)throw new Error(lr(9));try{c=!0,i=r(i,w)}finally{c=!1}return(a=s).forEach(C=>{C()}),w}function y(w){if(typeof w!="function")throw new Error(lr(10));r=w,m({type:a0.REPLACE})}function v(){const w=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(lr(11));function C(){const R=T;R.next&&R.next(d())}return C(),{unsubscribe:w(C)}},[kB](){return this}}}return m({type:a0.INIT}),{dispatch:m,subscribe:p,getState:d,replaceReducer:y,[kB]:v}}function Dde(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:a0.INIT})>"u")throw new Error(lr(12));if(typeof n(void 0,{type:a0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(lr(13))})}function LV(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{Dde(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let c=!1;const f={};for(let d=0;d<r.length;d++){const p=r[d],m=n[p],y=s[p],v=m(y,o);if(typeof v>"u")throw o&&o.type,new Error(lr(14));f[p]=v,c=c||v!==y}return c=c||r.length!==Object.keys(s).length,c?f:s}}function s0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Bde(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(lr(15))};const s={getState:i.getState,dispatch:(c,...f)=>a(c,...f)},o=t.map(c=>c(s));return a=s0(...o)(i.dispatch),{...i,dispatch:a}}}function jV(t){return C3(t)&&"type"in t&&typeof t.type=="string"}var UV=Symbol.for("immer-nothing"),NB=Symbol.for("immer-draftable"),Nr=Symbol.for("immer-state");function pa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var mi=Object,kf=mi.getPrototypeOf,o0="constructor",Yb="prototype",vA="configurable",l0="enumerable",bv="writable",Op="value",Qs=t=>!!t&&!!t[Nr];function Sa(t){return t?FV(t)||Gb(t)||!!t[NB]||!!t[o0]?.[NB]||Zb(t)||Qb(t):!1}var Lde=mi[Yb][o0].toString(),DB=new WeakMap;function FV(t){if(!t||!P3(t))return!1;const e=kf(t);if(e===null||e===mi[Yb])return!0;const n=mi.hasOwnProperty.call(e,o0)&&e[o0];if(n===Object)return!0;if(!Ju(n))return!1;let r=DB.get(n);return r===void 0&&(r=Function.toString.call(n),DB.set(n,r)),r===Lde}function bg(t,e,n=!0){xg(t)===0?(n?Reflect.ownKeys(t):mi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function xg(t){const e=t[Nr];return e?e.type_:Gb(t)?1:Zb(t)?2:Qb(t)?3:0}var BB=(t,e,n=xg(t))=>n===2?t.has(e):mi[Yb].hasOwnProperty.call(t,e),bA=(t,e,n=xg(t))=>n===2?t.get(e):t[e],c0=(t,e,n,r=xg(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function jde(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Gb=Array.isArray,Zb=t=>t instanceof Map,Qb=t=>t instanceof Set,P3=t=>typeof t=="object",Ju=t=>typeof t=="function",GS=t=>typeof t=="boolean",Bs=t=>t.copy_||t.base_,R3=t=>t.modified_?t.copy_:t.base_;function xA(t,e){if(Zb(t))return new Map(t);if(Qb(t))return new Set(t);if(Gb(t))return Array[Yb].slice.call(t);const n=FV(t);if(e===!0||e==="class_only"&&!n){const r=mi.getOwnPropertyDescriptors(t);delete r[Nr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[bv]===!1&&(o[bv]=!0,o[vA]=!0),(o.get||o.set)&&(r[s]={[vA]:!0,[bv]:!0,[l0]:o[l0],[Op]:t[s]})}return mi.create(kf(t),r)}else{const r=kf(t);if(r!==null&&n)return{...t};const i=mi.create(r);return mi.assign(i,t)}}function O3(t,e=!1){return Jb(t)||Qs(t)||!Sa(t)||(xg(t)>1&&mi.defineProperties(t,{set:Ay,add:Ay,clear:Ay,delete:Ay}),mi.freeze(t),e&&bg(t,(n,r)=>{O3(r,!0)},!1)),t}function Ude(){pa(2)}var Ay={[Op]:Ude};function Jb(t){return t===null||!P3(t)?!0:mi.isFrozen(t)}var u0="MapSet",_A="Patches",$V={};function Nf(t){const e=$V[t];return e||pa(0,t),e}var Fde=t=>!!$V[t],Mp,zV=()=>Mp,$de=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Fde(u0)?Nf(u0):void 0});function LB(t,e){e&&(t.patchPlugin_=Nf(_A),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function wA(t){SA(t),t.drafts_.forEach(zde),t.drafts_=null}function SA(t){t===Mp&&(Mp=t.parent_)}var jB=t=>Mp=$de(Mp,t);function zde(t){const e=t[Nr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function UB(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Nr].modified_&&(wA(e),pa(4)),Sa(t)&&(t=FB(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Nr].base_,t,e)}else t=FB(e,n);return Vde(e,t,!0),wA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==UV?t:void 0}function FB(t,e){if(Jb(e))return e;const n=e[Nr];if(!n)return M3(e,t.handledSet_,t);if(!ex(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);WV(n,t)}return n.copy_}function Vde(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&O3(e,n)}function VV(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var ex=(t,e)=>t.scope_===e,Hde=[];function HV(t,e,n,r){const i=Bs(t),a=t.type_;if(r!==void 0&&bA(i,r,a)===e){c0(i,r,n,a);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;bg(i,(c,f)=>{if(Qs(f)){const d=o.get(f)||[];d.push(c),o.set(f,d)}})}const s=t.draftLocations_.get(e)??Hde;for(const o of s)c0(i,o,n,a)}function Wde(t,e,n){t.callbacks_.push(function(i){const a=e;if(!a||!ex(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=R3(a);HV(t,a.draft_??a,s,n),WV(a,i)})}function WV(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}VV(t)}}function qde(t,e,n){const{scope_:r}=t;if(Qs(n)){const i=n[Nr];ex(i,r)&&i.callbacks_.push(function(){xv(t);const s=R3(i);HV(t,n,s,e)})}else Sa(n)&&t.callbacks_.push(function(){const a=Bs(t);bA(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&M3(bA(t.copy_,e,t.type_),r.handledSet_,r)})}function M3(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Qs(t)||e.has(t)||!Sa(t)||Jb(t)||(e.add(t),bg(t,(r,i)=>{if(Qs(i)){const a=i[Nr];if(ex(a,n)){const s=R3(a);c0(t,r,s,t.type_),VV(a)}}else Sa(i)&&M3(i,e,n)})),t}function Xde(t,e){const n=Gb(t),r={type_:n?1:0,scope_:e?e.scope_:zV(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=I3;n&&(i=[r],a=Ip);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var I3={get(t,e){if(e===Nr)return t;const n=Bs(t);if(!BB(n,e,t.type_))return Kde(t,n,e);const r=n[e];if(t.finalized_||!Sa(r))return r;if(r===ZS(t.base_,e)){xv(t);const i=t.type_===1?+e:e,a=AA(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in Bs(t)},ownKeys(t){return Reflect.ownKeys(Bs(t))},set(t,e,n){const r=qV(Bs(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=ZS(Bs(t),e),a=i?.[Nr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(jde(n,i)&&(n!==void 0||BB(t.base_,e,t.type_)))return!0;xv(t),TA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),qde(t,e,n)),!0},deleteProperty(t,e){return xv(t),ZS(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),TA(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Bs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[bv]:!0,[vA]:t.type_!==1||e!=="length",[l0]:r[l0],[Op]:n[e]}},defineProperty(){pa(11)},getPrototypeOf(t){return kf(t.base_)},setPrototypeOf(){pa(12)}},Ip={};bg(I3,(t,e)=>{Ip[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Ip.deleteProperty=function(t,e){return Ip.set.call(this,t,e,void 0)};Ip.set=function(t,e,n){return I3.set.call(this,t[0],e,n,t[0])};function ZS(t,e){const n=t[Nr];return(n?Bs(n):t)[e]}function Kde(t,e,n){const r=qV(e,n);return r?Op in r?r[Op]:r.get?.call(t.draft_):void 0}function qV(t,e){if(!(e in t))return;let n=kf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=kf(n)}}function TA(t){t.modified_||(t.modified_=!0,t.parent_&&TA(t.parent_))}function xv(t){t.copy_||(t.assigned_=new Map,t.copy_=xA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Yde=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ju(n)&&!Ju(r)){const s=r;r=n;const o=this;return function(f=s,...d){return o.produce(f,p=>r.call(this,p,...d))}}Ju(r)||pa(6),i!==void 0&&!Ju(i)&&pa(7);let a;if(Sa(n)){const s=jB(this),o=AA(s,n,void 0);let c=!0;try{a=r(o),c=!1}finally{c?wA(s):SA(s)}return LB(s,i),UB(a,s)}else if(!n||!P3(n)){if(a=r(n),a===void 0&&(a=n),a===UV&&(a=void 0),this.autoFreeze_&&O3(a,!0),i){const s=[],o=[];Nf(_A).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else pa(1,n)},this.produceWithPatches=(n,r)=>{if(Ju(n))return(o,...c)=>this.produceWithPatches(o,f=>n(f,...c));let i,a;return[this.produce(n,r,(o,c)=>{i=o,a=c}),i,a]},GS(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),GS(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),GS(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Sa(e)||pa(8),Qs(e)&&(e=ba(e));const n=jB(this),r=AA(n,e,void 0);return r[Nr].isManual_=!0,SA(n),r}finishDraft(e,n){const r=e&&e[Nr];(!r||!r.isManual_)&&pa(9);const{scope_:i}=r;return LB(i,n),UB(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Nf(_A).applyPatches_;return Qs(e)?i(e,n):this.produce(e,a=>i(a,n))}};function AA(t,e,n,r){const[i,a]=Zb(e)?Nf(u0).proxyMap_(e,n):Qb(e)?Nf(u0).proxySet_(e,n):Xde(e,n);return(n?.scope_??zV()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Wde(n,a,r):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=c;a.modified_&&f&&f.generatePatches_(a,[],c)}),i}function ba(t){return Qs(t)||pa(10,t),XV(t)}function XV(t){if(!Sa(t)||Jb(t))return t;const e=t[Nr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=xA(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=xA(t,!0);return bg(n,(i,a)=>{c0(n,i,XV(a))},r),e&&(e.finalized_=!1),n}var Gde=new Yde,KV=Gde.produce;function YV(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Zde=YV(),Qde=YV,Jde=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?s0:s0.apply(null,arguments)};function Zi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(bi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>jV(r)&&r.type===t,n}var GV=class Vh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Vh.prototype)}static get[Symbol.species](){return Vh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Vh(...e[0].concat(this)):new Vh(...e.concat(this))}};function $B(t){return Sa(t)?KV(t,()=>{}):t}function Ey(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function ehe(t){return typeof t=="boolean"}var the=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new GV;return n&&(ehe(n)?s.push(Zde):s.push(Qde(n.extraArgument))),s},ZV="RTK_autoBatch",Xt=()=>t=>({payload:t,meta:{[ZV]:!0}}),zB=t=>e=>{setTimeout(e,t)},QV=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zB(10):t.type==="callback"?t.queueNotification:zB(t.timeout),f=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),m=r.subscribe(p);return o.add(d),()=>{m(),o.delete(d)}},dispatch(d){try{return i=!d?.meta?.[ZV],a=!i,a&&(s||(s=!0,c(f))),r.dispatch(d)}finally{i=!0}}})},nhe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new GV(t);return r&&i.push(QV(typeof r=="object"?r:void 0)),i};function rhe(t){const e=the(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(C3(n))o=LV(n);else throw new Error(bi(1));let c;typeof r=="function"?c=r(e):c=e();let f=s0;i&&(f=Jde({trace:!1,...typeof i=="object"&&i}));const d=Bde(...c),p=nhe(d);let m=typeof s=="function"?s(p):p();const y=f(...m);return BV(o,a,y)}function JV(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(bi(28));if(o in e)throw new Error(bi(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function ihe(t){return typeof t=="function"}function ahe(t,e){let[n,r,i]=JV(e),a;if(ihe(t))a=()=>$B(t());else{const o=$B(t);a=()=>o}function s(o=a(),c){let f=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return f.filter(d=>!!d).length===0&&(f=[i]),f.reduce((d,p)=>{if(p)if(Qs(d)){const y=p(d,c);return y===void 0?d:y}else{if(Sa(d))return KV(d,m=>p(m,c));{const m=p(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},o)}return s.getInitialState=a,s}var she="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ohe=(t=21)=>{let e="",n=t;for(;n--;)e+=she[Math.random()*64|0];return e},lhe=Symbol.for("rtk-slice-createasyncthunk");function che(t,e){return`${t}/${e}`}function uhe({creators:t}={}){const e=t?.asyncThunk?.[lhe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(bi(11));const s=(typeof r.reducers=="function"?r.reducers(dhe()):r.reducers)||{},o=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(A,R){const P=typeof A=="string"?A:A.type;if(!P)throw new Error(bi(12));if(P in c.sliceCaseReducersByType)throw new Error(bi(13));return c.sliceCaseReducersByType[P]=R,f},addMatcher(A,R){return c.sliceMatchers.push({matcher:A,reducer:R}),f},exposeAction(A,R){return c.actionCreators[A]=R,f},exposeCaseReducer(A,R){return c.sliceCaseReducersByName[A]=R,f}};o.forEach(A=>{const R=s[A],P={reducerName:A,type:che(i,A),createNotation:typeof r.reducers=="function"};phe(R)?mhe(P,R,f,e):hhe(P,R,f)});function d(){const[A={},R=[],P=void 0]=typeof r.extraReducers=="function"?JV(r.extraReducers):[r.extraReducers],O={...A,...c.sliceCaseReducersByType};return ahe(r.initialState,k=>{for(let D in O)k.addCase(D,O[D]);for(let D of c.sliceMatchers)k.addMatcher(D.matcher,D.reducer);for(let D of R)k.addMatcher(D.matcher,D.reducer);P&&k.addDefaultCase(P)})}const p=A=>A,m=new Map,y=new WeakMap;let v;function b(A,R){return v||(v=d()),v(A,R)}function w(){return v||(v=d()),v.getInitialState()}function T(A,R=!1){function P(k){let D=k[A];return typeof D>"u"&&R&&(D=Ey(y,P,w)),D}function O(k=p){const D=Ey(m,R,()=>new WeakMap);return Ey(D,k,()=>{const L={};for(const[$,j]of Object.entries(r.selectors??{}))L[$]=fhe(j,k,()=>Ey(y,k,w),R);return L})}return{reducerPath:A,getSelectors:O,get selectors(){return O(P)},selectSlice:P}}const C={name:i,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:w,...T(a),injectInto(A,{reducerPath:R,...P}={}){const O=R??a;return A.inject({reducerPath:O,reducer:b},P),{...C,...T(O,!0)}}};return C}}function fhe(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var Jr=uhe();function dhe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function hhe({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!ghe(r))throw new Error(bi(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Zi(t,s):Zi(t))}function phe(t){return t._reducerDefinitionType==="asyncThunk"}function ghe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function mhe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(bi(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:f,options:d}=n,p=i(t,a,d);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),o&&r.addCase(p.pending,o),c&&r.addCase(p.rejected,c),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:s||Cy,pending:o||Cy,rejected:c||Cy,settled:f||Cy})}function Cy(){}var yhe="task",e9="listener",t9="completed",k3="cancelled",vhe=`task-${k3}`,bhe=`task-${t9}`,EA=`${e9}-${k3}`,xhe=`${e9}-${t9}`,tx=class{constructor(t){this.code=t,this.message=`${yhe} ${k3} (reason: ${t})`}name="TaskAbortError";message},N3=(t,e)=>{if(typeof t!="function")throw new TypeError(bi(32))},f0=()=>{},n9=(t,e=f0)=>(t.catch(e),t),r9=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),dc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},hc=t=>{if(t.aborted){const{reason:e}=t;throw new tx(e)}};function i9(t,e){let n=f0;return new Promise((r,i)=>{const a=()=>i(new tx(t.reason));if(t.aborted){a();return}n=r9(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=f0})}var _he=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof tx?"cancelled":"rejected",error:n}}finally{e?.()}},d0=t=>e=>n9(i9(t,e).then(n=>(hc(t),n))),a9=t=>{const e=d0(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Sf}=Object,VB={},nx="listenerMiddleware",whe=(t,e)=>{const n=r=>r9(t,()=>dc(r,t.reason));return(r,i)=>{N3(r);const a=new AbortController;n(a);const s=_he(async()=>{hc(t),hc(a.signal);const o=await r({pause:d0(a.signal),delay:a9(a.signal),signal:a.signal});return hc(a.signal),o},()=>dc(a,bhe));return i?.autoJoin&&e.push(s.catch(f0)),{result:d0(t)(s),cancel(){dc(a,vhe)}}}},She=(t,e)=>{const n=async(r,i)=>{hc(e);let a=()=>{};const o=[new Promise((c,f)=>{let d=t({predicate:r,effect:(p,m)=>{m.unsubscribe(),c([p,m.getState(),m.getOriginalState()])}});a=()=>{d(),f()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await i9(e,Promise.race(o));return hc(e),c}finally{a()}};return(r,i)=>n9(n(r,i))},s9=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Zi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(bi(21));return N3(a),{predicate:i,type:e,effect:a}},o9=Sf(t=>{const{type:e,predicate:n,effect:r}=s9(t);return{id:ohe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(bi(22))}}},{withTypes:()=>o9}),HB=(t,e)=>{const{type:n,effect:r,predicate:i}=s9(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},CA=t=>{t.pending.forEach(e=>{dc(e,EA)})},The=(t,e)=>()=>{for(const n of e.keys())CA(n);t.clear()},WB=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},l9=Sf(Zi(`${nx}/add`),{withTypes:()=>l9}),Ahe=Zi(`${nx}/removeAll`),c9=Sf(Zi(`${nx}/remove`),{withTypes:()=>c9}),Ehe=(...t)=>{console.error(`${nx}/error`,...t)},_g=(t={})=>{const e=new Map,n=new Map,r=y=>{const v=n.get(y)??0;n.set(y,v+1)},i=y=>{const v=n.get(y)??1;v===1?n.delete(y):n.set(y,v-1)},{extra:a,onError:s=Ehe}=t;N3(s);const o=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),v=>{y.unsubscribe(),v?.cancelActive&&CA(y)}),c=y=>{const v=HB(e,y)??o9(y);return o(v)};Sf(c,{withTypes:()=>c});const f=y=>{const v=HB(e,y);return v&&(v.unsubscribe(),y.cancelActive&&CA(v)),!!v};Sf(f,{withTypes:()=>f});const d=async(y,v,b,w)=>{const T=new AbortController,C=She(c,T.signal),A=[];try{y.pending.add(T),r(y),await Promise.resolve(y.effect(v,Sf({},b,{getOriginalState:w,condition:(R,P)=>C(R,P).then(Boolean),take:C,delay:a9(T.signal),pause:d0(T.signal),extra:a,signal:T.signal,fork:whe(T.signal,A),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((R,P,O)=>{R!==T&&(dc(R,EA),O.delete(R))})},cancel:()=>{dc(T,EA),y.pending.delete(T)},throwIfCancelled:()=>{hc(T.signal)}})))}catch(R){R instanceof tx||WB(s,R,{raisedBy:"effect"})}finally{await Promise.all(A),dc(T,xhe),i(y),y.pending.delete(T)}},p=The(e,n);return{middleware:y=>v=>b=>{if(!jV(b))return v(b);if(l9.match(b))return c(b.payload);if(Ahe.match(b)){p();return}if(c9.match(b))return f(b.payload);let w=y.getState();const T=()=>{if(w===VB)throw new Error(bi(23));return w};let C;try{if(C=v(b),e.size>0){const A=y.getState(),R=Array.from(e.values());for(const P of R){let O=!1;try{O=P.predicate(b,A,w)}catch(k){O=!1,WB(s,k,{raisedBy:"predicate"})}O&&d(P,b,y,T)}}}finally{w=VB}return C},startListening:c,stopListening:f,clearListeners:p}};function bi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Che={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},u9=Jr({name:"chartLayout",initialState:Che,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Phe,setLayout:Rhe,setChartSize:Ohe,setScale:Mhe}=u9.actions,Ihe=u9.reducer;function f9(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function qB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qB(Object(n),!0).forEach(function(r){khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function khe(t,e,n){return(e=Nhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nhe(t){var e=Dhe(t,"string");return typeof e=="symbol"?e:e+""}function Dhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vn(t,e,n){return zt(t)||zt(e)?n:ns(e)?If(t,e,n):typeof e=="function"?e(t):n}var Bhe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Ce(t[a]))return cf(cf({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Ce(t[s]))return cf(cf({},t),{},{[s]:t[s]+(i||0)})}return t},us=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",d9=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(n),s},h9=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:f,tickCount:d,ticks:p,niceTicks:m,axisType:y}=t;if(!s)return null;var v=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,b=i==="category"&&s.bandwidth?s.bandwidth()/v:0;if(b=y==="angleAxis"&&a&&a.length>=2?qr(a[0]-a[1])*2*b:b,p||m){var w=(p||m||[]).map((T,C)=>{var A=r?r.indexOf(T):T;return{coordinate:s(A)+b,value:T,offset:b,index:C}});return w.filter(T=>!Gi(T.coordinate))}return c&&f?f.map((T,C)=>({coordinate:s(T)+b,value:T,index:C,offset:b})):s.ticks&&d!=null?s.ticks(d).map((T,C)=>({coordinate:s(T)+b,value:T,offset:b,index:C})):s.domain().map((T,C)=>({coordinate:s(T)+b,value:r?r[T]:T,index:C,offset:b}))},XB=1e-4,Lhe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-XB,a=Math.max(r[0],r[1])+XB,s=t(e[0]),o=t(e[n-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[n-1]])}},jhe=(t,e)=>{if(!e||e.length!==2||!Ce(e[0])||!Ce(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ce(t[0])||t[0]<n)&&(i[0]=n),(!Ce(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Uhe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var o=Gi(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1])}},Fhe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=Gi(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},$he={sign:Uhe,expand:ofe,none:Mf,silhouette:lfe,wiggle:cfe,positive:Fhe},zhe=(t,e,n)=>{var r=$he[n],i=sfe().keys(e).value((a,s)=>Number(vn(a,s,0))).order(mA).offset(r);return i(t)};function p9(t){return t==null?void 0:String(t)}function h0(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!zt(i[e.dataKey])){var o=vV(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=vn(i,zt(s)?e.dataKey:s);return zt(c)?null:e.scale(c)}var KB=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var o=vn(a,e.dataKey,e.scale.domain()[s]);return zt(o)?null:e.scale(o)-i/2+r},Vhe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Hhe=t=>{var e=t.flat(2).filter(Ce);return[Math.min(...e),Math.max(...e)]},Whe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],qhe=(t,e,n)=>{if(t!=null)return Whe(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,o=s.reduce((c,f)=>{var d=f9(f,e,n),p=Hhe(d);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},YB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ul=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Kb(e,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var c=i[s],f=i[s-1];a=Math.min((c.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function ZB(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return cf(cf({},e),{},{dataKey:n,payload:r,value:i,name:a})}function fd(t,e){if(t)return String(t);if(typeof e=="string")return e}var Xhe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Khe=(t,e)=>e==="centric"?t.angle:t.radius,co=t=>t.layout.width,uo=t=>t.layout.height,Yhe=t=>t.layout.scale,g9=t=>t.layout.margin,rx=ae(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),ix=ae(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Ghe="data-recharts-item-index",Zhe="data-recharts-item-data-key",wg=60;function QB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(n),!0).forEach(function(r){Qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qhe(t,e,n){return(e=Jhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jhe(t){var e=epe(t,"string");return typeof e=="symbol"?e:e+""}function epe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tpe=t=>t.brush.height;function npe(t){var e=ix(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:wg;return n+i}return n},0)}function rpe(t){var e=ix(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:wg;return n+i}return n},0)}function ipe(t){var e=rx(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function ape(t){var e=rx(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Qn=ae([co,uo,g9,tpe,npe,rpe,ipe,ape,NV,Rde],(t,e,n,r,i,a,s,o,c,f)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+o},m=Py(Py({},p),d),y=m.bottom;m.bottom+=r,m=Bhe(m,c,f);var v=t-m.left-m.right,b=e-m.top-m.bottom;return Py(Py({brushBottom:y},m),{},{width:Math.max(v,0),height:Math.max(b,0)})}),spe=ae(Qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),D3=ae(co,uo,(t,e)=>({x:0,y:0,width:t,height:e})),ope=x.createContext(null),Jn=()=>x.useContext(ope)!=null,ax=t=>t.brush,sx=ae([ax,Qn,g9],(t,e,n)=>({height:t.height,x:Ce(t.x)?t.x:e.left,y:Ce(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ce(t.width)?t.width:e.width})),QS={},JS={},eT={},JB;function lpe(){return JB||(JB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,o=null;const c=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},p=()=>{f&&d(),b()};let m=null;const y=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,p()},r)},v=()=>{m!==null&&(clearTimeout(m),m=null)},b=()=>{v(),s=void 0,o=null},w=()=>{d()},T=function(...C){if(i?.aborted)return;s=this,o=C;const A=m==null;y(),c&&A&&d()};return T.schedule=y,T.cancel=b,T.flush=w,i?.addEventListener("abort",b,{once:!0}),T}t.debounce=e})(eT)),eT}var eL;function cpe(){return eL||(eL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lpe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:c}=a,f=Array(2);s&&(f[0]="leading"),o&&(f[1]="trailing");let d,p=null;const m=e.debounce(function(...b){d=r.apply(this,b),p=null},i,{edges:f}),y=function(...b){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(d=r.apply(this,b),p=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,b),d)},v=()=>(m.flush(),d);return y.cancel=m.cancel,y.flush=v,y}t.debounce=n})(JS)),JS}var tL;function upe(){return tL||(tL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cpe();function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:o})}t.throttle=n})(QS)),QS}var tT,nL;function fpe(){return nL||(nL=1,tT=upe().throttle),tT}var dpe=fpe();const hpe=Aa(dpe);var p0=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},m9=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=Zs(r)?t:Number(r),c=Zs(i)?e:Number(i);return a&&a>0&&(o?c=o/a:c&&(o=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},ppe={width:0,height:0,overflow:"visible"},gpe={width:0,overflowX:"visible"},mpe={height:0,overflowY:"visible"},ype={},vpe=t=>{var{width:e,height:n}=t,r=Zs(e),i=Zs(n);return r&&i?ppe:r?gpe:i?mpe:ype};function bpe(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Ht(t){return Number.isFinite(t)}function rs(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function PA(){return PA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PA.apply(null,arguments)}function rL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(n),!0).forEach(function(r){xpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xpe(t,e,n){return(e=_pe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _pe(t){var e=wpe(t,"string");return typeof e=="symbol"?e:e+""}function wpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y9=x.createContext({width:-1,height:-1});function Spe(t){return rs(t.width)&&rs(t.height)}function v9(t){var{children:e,width:n,height:r}=t,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return Spe(i)?x.createElement(y9.Provider,{value:i},e):null}var B3=()=>x.useContext(y9),Tpe=x.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:c,children:f,debounce:d=0,id:p,className:m,onResize:y,style:v={}}=t,b=x.useRef(null),w=x.useRef();w.current=y,x.useImperativeHandle(e,()=>b.current);var[T,C]=x.useState({containerWidth:r.width,containerHeight:r.height}),A=x.useCallback((D,L)=>{C($=>{var j=Math.round(D),I=Math.round(L);return $.containerWidth===j&&$.containerHeight===I?$:{containerWidth:j,containerHeight:I}})},[]);x.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return vg;var D=I=>{var W,{width:H,height:J}=I[0].contentRect;A(H,J),(W=w.current)===null||W===void 0||W.call(w,H,J)};d>0&&(D=hpe(D,d,{trailing:!0,leading:!1}));var L=new ResizeObserver(D),{width:$,height:j}=b.current.getBoundingClientRect();return A($,j),L.observe(b.current),()=>{L.disconnect()}},[A,d]);var{containerWidth:R,containerHeight:P}=T;p0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:k}=m9(R,P,{width:i,height:a,aspect:n,maxHeight:c});return p0(O!=null&&O>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,k,i,a,s,o,n),x.createElement("div",{id:p?"".concat(p):void 0,className:Te("recharts-responsive-container",m),style:iL(iL({},v),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:c}),ref:b},x.createElement("div",{style:vpe({width:i,height:a})},x.createElement(v9,{width:O,height:k},f)))}),kp=x.forwardRef((t,e)=>{var n=B3();if(rs(n.width)&&rs(n.height))return t.children;var{width:r,height:i}=bpe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=m9(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ce(a)&&Ce(s)?x.createElement(v9,{width:a,height:s},t.children):x.createElement(Tpe,PA({},t,{width:r,height:i,ref:e}))});function b9(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var ox=()=>{var t,e=Jn(),n=Me(spe),r=Me(sx),i=(t=Me(ax))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Ape={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},x9=()=>{var t;return(t=Me(Qn))!==null&&t!==void 0?t:Ape},L3=()=>Me(co),j3=()=>Me(uo),Epe=()=>Me(t=>t.layout.margin),tt=t=>t.layout.layoutType,$c=()=>Me(tt),Cpe=()=>{var t=$c();if(t==="horizontal"||t==="vertical")return t},Ppe=()=>{var t=$c();return t!==void 0},lx=t=>{var e=en(),n=Jn(),{width:r,height:i}=t,a=B3(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),x.useEffect(()=>{!n&&rs(s)&&rs(o)&&e(Ohe({width:s,height:o}))},[e,n,s,o]),null},_9=Symbol.for("immer-nothing"),aL=Symbol.for("immer-draftable"),_i=Symbol.for("immer-state");function ga(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Np=Object.getPrototypeOf;function Df(t){return!!t&&!!t[_i]}function Ec(t){return t?w9(t)||Array.isArray(t)||!!t[aL]||!!t.constructor?.[aL]||Sg(t)||ux(t):!1}var Rpe=Object.prototype.constructor.toString(),sL=new WeakMap;function w9(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=sL.get(n);return r===void 0&&(r=Function.toString.call(n),sL.set(n,r)),r===Rpe}function g0(t,e,n=!0){cx(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function cx(t){const e=t[_i];return e?e.type_:Array.isArray(t)?1:Sg(t)?2:ux(t)?3:0}function RA(t,e){return cx(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function S9(t,e,n){const r=cx(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Ope(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Sg(t){return t instanceof Map}function ux(t){return t instanceof Set}function Gl(t){return t.copy_||t.base_}function OA(t,e){if(Sg(t))return new Map(t);if(ux(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=w9(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[_i];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Np(t),r)}else{const r=Np(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function U3(t,e=!1){return fx(t)||Df(t)||!Ec(t)||(cx(t)>1&&Object.defineProperties(t,{set:Ry,add:Ry,clear:Ry,delete:Ry}),Object.freeze(t),e&&Object.values(t).forEach(n=>U3(n,!0))),t}function Mpe(){ga(2)}var Ry={value:Mpe};function fx(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Ipe={};function Cc(t){const e=Ipe[t];return e||ga(0,t),e}var Dp;function T9(){return Dp}function kpe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oL(t,e){e&&(Cc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function MA(t){IA(t),t.drafts_.forEach(Npe),t.drafts_=null}function IA(t){t===Dp&&(Dp=t.parent_)}function lL(t){return Dp=kpe(Dp,t)}function Npe(t){const e=t[_i];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function cL(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[_i].modified_&&(MA(e),ga(4)),Ec(t)&&(t=m0(e,t),e.parent_||y0(e,t)),e.patches_&&Cc("Patches").generateReplacementPatches_(n[_i].base_,t,e.patches_,e.inversePatches_)):t=m0(e,n,[]),MA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==_9?t:void 0}function m0(t,e,n){if(fx(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[_i];if(!i)return g0(e,(a,s)=>uL(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return y0(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),g0(s,(c,f)=>uL(t,i,a,c,f,n,o),r),y0(t,a,!1),n&&t.patches_&&Cc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function uL(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=fx(i);if(!(o&&!s)){if(Df(i)){const c=a&&e&&e.type_!==3&&!RA(e.assigned_,r)?a.concat(r):void 0,f=m0(t,i,c);if(S9(n,r,f),Df(f))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Ec(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;m0(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Sg(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&y0(t,i)}}}function y0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&U3(e,n)}function Dpe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:T9(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=F3;n&&(i=[r],a=Bp);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var F3={get(t,e){if(e===_i)return t;const n=Gl(t);if(!RA(n,e))return Bpe(t,n,e);const r=n[e];return t.finalized_||!Ec(r)?r:r===nT(t.base_,e)?(rT(t),t.copy_[e]=NA(r,t)):r},has(t,e){return e in Gl(t)},ownKeys(t){return Reflect.ownKeys(Gl(t))},set(t,e,n){const r=A9(Gl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=nT(Gl(t),e),a=i?.[_i];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Ope(n,i)&&(n!==void 0||RA(t.base_,e)))return!0;rT(t),kA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return nT(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,rT(t),kA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Gl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ga(11)},getPrototypeOf(t){return Np(t.base_)},setPrototypeOf(){ga(12)}},Bp={};g0(F3,(t,e)=>{Bp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Bp.deleteProperty=function(t,e){return Bp.set.call(this,t,e,void 0)};Bp.set=function(t,e,n){return F3.set.call(this,t[0],e,n,t[0])};function nT(t,e){const n=t[_i];return(n?Gl(n):t)[e]}function Bpe(t,e,n){const r=A9(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function A9(t,e){if(!(e in t))return;let n=Np(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Np(n)}}function kA(t){t.modified_||(t.modified_=!0,t.parent_&&kA(t.parent_))}function rT(t){t.copy_||(t.copy_=OA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Lpe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(c=a,...f){return s.produce(c,d=>n.call(this,d,...f))}}typeof n!="function"&&ga(6),r!==void 0&&typeof r!="function"&&ga(7);let i;if(Ec(e)){const a=lL(this),s=NA(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?MA(a):IA(a)}return oL(a,r),cL(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===_9&&(i=void 0),this.autoFreeze_&&U3(i,!0),r){const a=[],s=[];Cc("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else ga(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,c=>e(c,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ec(t)||ga(8),Df(t)&&(t=jpe(t));const e=lL(this),n=NA(t,void 0);return n[_i].isManual_=!0,IA(e),n}finishDraft(t,e){const n=t&&t[_i];(!n||!n.isManual_)&&ga(9);const{scope_:r}=n;return oL(r,e),cL(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Cc("Patches").applyPatches_;return Df(t)?r(t,e):this.produce(t,i=>r(i,e))}};function NA(t,e){const n=Sg(t)?Cc("MapSet").proxyMap_(t,e):ux(t)?Cc("MapSet").proxySet_(t,e):Dpe(t,e);return(e?e.scope_:T9()).drafts_.push(n),n}function jpe(t){return Df(t)||ga(10,t),E9(t)}function E9(t){if(!Ec(t)||fx(t))return t;const e=t[_i];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=OA(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=OA(t,!0);return g0(n,(i,a)=>{S9(n,i,E9(a))},r),e&&(e.finalized_=!1),n}var Upe=new Lpe;Upe.produce;var Fpe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},C9=Jr({name:"legend",initialState:Fpe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Xt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ba(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Xt()},removeLegendPayload:{reducer(t,e){var n=ba(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Xt()}}}),{setLegendSize:fL,setLegendSettings:$pe,addLegendPayload:zpe,replaceLegendPayload:Vpe,removeLegendPayload:Hpe}=C9.actions,Wpe=C9.reducer,qpe=["contextPayload"];function DA(){return DA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DA.apply(null,arguments)}function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(n),!0).forEach(function(r){Xpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xpe(t,e,n){return(e=Kpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kpe(t){var e=Ype(t,"string");return typeof e=="symbol"?e:e+""}function Ype(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gpe(t,e){if(t==null)return{};var n,r,i=Zpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qpe(t){return t.value}function Jpe(t){var{contextPayload:e}=t,n=Gpe(t,qpe),r=OV(e,t.payloadUniqBy,Qpe),i=Bf(Bf({},n),{},{payload:r});return x.isValidElement(t.content)?x.cloneElement(t.content,i):typeof t.content=="function"?x.createElement(t.content,i):x.createElement(jfe,i)}function ege(t,e,n,r,i,a){var{layout:s,align:o,verticalAlign:c}=e,f,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&s==="vertical"?f={left:((r||0)-a.width)/2}:f=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Bf(Bf({},f),d)}function tge(t){var e=en();return x.useEffect(()=>{e($pe(t))},[e,t]),null}function nge(t){var e=en();return x.useEffect(()=>(e(fL(t)),()=>{e(fL({width:0,height:0}))}),[e,t]),null}function rge(t,e,n,r){return t==="vertical"&&Ce(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var ige={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function P9(t){var e=Fn(t,ige),n=Ide(),r=Oue(),i=Epe(),{width:a,height:s,wrapperStyle:o,portal:c}=e,[f,d]=DV([n]),p=L3(),m=j3();if(p==null||m==null)return null;var y=p-(i?.left||0)-(i?.right||0),v=rge(e.layout,s,a,y),b=c?o:Bf(Bf({position:"absolute",width:v?.width||a||"auto",height:v?.height||s||"auto"},ege(o,e,i,p,m,f)),o),w=c??r;if(w==null||n==null)return null;var T=x.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:d},x.createElement(tge,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!c&&x.createElement(nge,{width:f.width,height:f.height}),x.createElement(Jpe,DA({},e,v,{margin:i,chartWidth:p,chartHeight:m,contextPayload:n})));return Fc.createPortal(T,w)}P9.displayName="Legend";function BA(){return BA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BA.apply(null,arguments)}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(n),!0).forEach(function(r){age(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function age(t,e,n){return(e=sge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sge(t){var e=oge(t,"string");return typeof e=="symbol"?e:e+""}function oge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lge(t){return Array.isArray(t)&&ns(t[0])&&ns(t[1])?t.join(" ~ "):t}var cge=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:f,label:d,labelFormatter:p,accessibilityLayer:m=!1}=t,y=()=>{if(a&&a.length){var P={padding:0,margin:0},O=(o?Kb(a,o):a).map((k,D)=>{if(k.type==="none")return null;var L=k.formatter||s||lge,{value:$,name:j}=k,I=$,W=j;if(L){var H=L($,j,k,D,a);if(Array.isArray(H))[I,W]=H;else if(H!=null)I=H;else return null}var J=iT({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:J},ns(W)?x.createElement("span",{className:"recharts-tooltip-item-name"},W):null,ns(W)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},I),x.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:P},O)}return null},v=iT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),b=iT({margin:0},i),w=!zt(d),T=w?d:"",C=Te("recharts-default-tooltip",c),A=Te("recharts-tooltip-label",f);w&&p&&a!==void 0&&a!==null&&(T=p(d,a));var R=m?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",BA({className:C,style:v},R),x.createElement("p",{className:A,style:b},x.isValidElement(T)?T:"".concat(T)),y())},Th="recharts-tooltip-wrapper",uge={visibility:"hidden"};function fge(t){var{coordinate:e,translateX:n,translateY:r}=t;return Te(Th,{["".concat(Th,"-right")]:Ce(n)&&e&&Ce(e.x)&&n>=e.x,["".concat(Th,"-left")]:Ce(n)&&e&&Ce(e.x)&&n<e.x,["".concat(Th,"-bottom")]:Ce(r)&&e&&Ce(e.y)&&r>=e.y,["".concat(Th,"-top")]:Ce(r)&&e&&Ce(e.y)&&r<e.y})}function pL(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:f}=t;if(a&&Ce(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),p=n[r]+i;if(e[r])return s[r]?d:p;var m=c[r];if(m==null)return 0;if(s[r]){var y=d,v=m;return y<v?Math.max(p,m):Math.max(d,m)}if(f==null)return 0;var b=p+o,w=m+f;return b>w?Math.max(d,m):Math.max(p,m)}function dge(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function hge(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:c}=t,f,d,p;return s.height>0&&s.width>0&&n?(d=pL({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=pL({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=dge({translateX:d,translateY:p,useTranslate3d:o})):f=uge,{cssProperties:f,cssClasses:fge({translateX:d,translateY:p,coordinate:n})}}function gL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(n),!0).forEach(function(r){LA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LA(t,e,n){return(e=pge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pge(t){var e=gge(t,"string");return typeof e=="symbol"?e:e+""}function gge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mge extends x.PureComponent{constructor(){super(...arguments),LA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),LA(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:c,offset:f,position:d,reverseDirection:p,useTranslate3d:m,viewBox:y,wrapperStyle:v,lastBoundingBox:b,innerRef:w,hasPortalFromProps:T}=this.props,{cssClasses:C,cssProperties:A}=hge({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:d,reverseDirection:p,tooltipBox:{height:b.height,width:b.width},useTranslate3d:m,viewBox:y}),R=T?{}:Oy(Oy({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=Oy(Oy({},R),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},v);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:P,ref:w},a)}}var R9=()=>{var t;return(t=Me(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jA.apply(null,arguments)}function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){yge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yge(t,e,n){return(e=vge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vge(t){var e=bge(t,"string");return typeof e=="symbol"?e:e+""}function bge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vL={curveBasisClosed:Yue,curveBasisOpen:Gue,curveBasis:Kue,curveBumpX:Nue,curveBumpY:Due,curveLinearClosed:Zue,curveLinear:Wb,curveMonotoneX:Que,curveMonotoneY:Jue,curveNatural:efe,curveStep:tfe,curveStepAfter:rfe,curveStepBefore:nfe},v0=t=>Ht(t.x)&&Ht(t.y),bL=t=>t.base!=null&&v0(t.base)&&v0(t),Ah=t=>t.x,Eh=t=>t.y,xge=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(yg(t));return(n==="curveMonotone"||n==="curveBump")&&e?vL["".concat(n).concat(e==="vertical"?"Y":"X")]:vL[n]||Wb},_ge=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=xge(e,i),o=a?n.filter(v0):n,c;if(Array.isArray(r)){var f=n.map((y,v)=>yL(yL({},y),{},{base:r[v]}));i==="vertical"?c=wy().y(Eh).x1(Ah).x0(y=>y.base.x):c=wy().x(Ah).y1(Eh).y0(y=>y.base.y);var d=c.defined(bL).curve(s),p=a?f.filter(bL):f;return d(p)}i==="vertical"&&Ce(r)?c=wy().y(Eh).x1(Ah).x0(r):Ce(r)?c=wy().x(Ah).y1(Eh).y0(r):c=aV().x(Ah).y(Eh);var m=c.defined(v0).curve(s);return m(o)},tp=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?_ge(t):r;return x.createElement("path",jA({},xi(t),T3(t),{className:Te("recharts-curve",e),d:a===null?void 0:a,ref:i}))},wge=["x","y","top","left","width","height","className"];function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA.apply(null,arguments)}function xL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(n),!0).forEach(function(r){Tge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tge(t,e,n){return(e=Age(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Age(t){var e=Ege(t,"string");return typeof e=="symbol"?e:e+""}function Ege(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cge(t,e){if(t==null)return{};var n,r,i=Pge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rge=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Oge=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=t,c=Cge(t,wge),f=Sge({x:e,y:n,top:r,left:i,width:a,height:s},c);return!Ce(e)||!Ce(n)||!Ce(a)||!Ce(s)||!Ce(r)||!Ce(i)?null:x.createElement("path",UA({},Ar(f),{className:Te("recharts-cross",o),d:Rge(e,n,a,s,r,i)}))};function Mge(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function _L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(n),!0).forEach(function(r){Ige(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ige(t,e,n){return(e=kge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kge(t){var e=Nge(t,"string");return typeof e=="symbol"?e:e+""}function Nge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dge=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),O9=(t,e,n)=>t.map(r=>"".concat(Dge(r)," ").concat(e,"ms ").concat(n)).join(","),Bge=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Lp=(t,e)=>Object.keys(e).reduce((n,r)=>wL(wL({},n),{},{[r]:t(r,e[r])}),{});function SL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(n),!0).forEach(function(r){Lge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lge(t,e,n){return(e=jge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jge(t){var e=Uge(t,"string");return typeof e=="symbol"?e:e+""}function Uge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b0=(t,e,n)=>t+(e-t)*n,FA=t=>{var{from:e,to:n}=t;return e!==n},M9=(t,e,n)=>{var r=Lp((i,a)=>{if(FA(a)){var[s,o]=t(a.from,a.to,a.velocity);return Ln(Ln({},a),{},{from:s,velocity:o})}return a},e);return n<1?Lp((i,a)=>FA(a)?Ln(Ln({},a),{},{velocity:b0(a.velocity,r[i].velocity,n),from:b0(a.from,r[i].from,n)}):a,e):M9(t,r,n-1)};function Fge(t,e,n,r,i,a){var s,o=r.reduce((m,y)=>Ln(Ln({},m),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),c=()=>Lp((m,y)=>y.from,o),f=()=>!Object.values(o).filter(FA).length,d=null,p=m=>{s||(s=m);var y=m-s,v=y/n.dt;o=M9(n,o,v),i(Ln(Ln(Ln({},t),e),c())),s=m,f()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{var m;(m=d)===null||m===void 0||m()})}function $ge(t,e,n,r,i,a,s){var o=null,c=i.reduce((p,m)=>Ln(Ln({},p),{},{[m]:[t[m],e[m]]}),{}),f,d=p=>{f||(f=p);var m=(p-f)/r,y=Lp((b,w)=>b0(...w,n(m)),c);if(a(Ln(Ln(Ln({},t),e),y)),m<1)o=s.setTimeout(d);else{var v=Lp((b,w)=>b0(...w,n(1)),c);a(Ln(Ln(Ln({},t),e),v))}};return()=>(o=s.setTimeout(d),()=>{var p;(p=o)===null||p===void 0||p()})}const zge=(t,e,n,r,i,a)=>{var s=Bge(t,e);return n==null?()=>(i(Ln(Ln({},t),e)),()=>{}):n.isStepper===!0?Fge(t,e,n,s,i,a):$ge(t,e,n,r,s,i,a)};var x0=1e-4,I9=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],k9=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),TL=(t,e)=>n=>{var r=I9(t,e);return k9(r,n)},Vge=(t,e)=>n=>{var r=I9(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return k9(i,n)},Hge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},Wge=(t,e,n,r)=>{var i=TL(t,n),a=TL(e,r),s=Vge(t,n),o=f=>f>1?1:f<0?0:f,c=f=>{for(var d=f>1?1:f,p=d,m=0;m<8;++m){var y=i(p)-d,v=s(p);if(Math.abs(y-d)<x0||v<x0)return a(p);p=o(p-y/v)}return a(p)};return c.isStepper=!1,c},AL=function(){return Wge(...Hge(...arguments))},qge=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,o,c)=>{var f=-(s-o)*n,d=c*r,p=c+(f-d)*i/1e3,m=c*i/1e3+s;return Math.abs(m-o)<x0&&Math.abs(p)<x0?[o,0]:[m,p]};return a.isStepper=!0,a.dt=i,a},Xge=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AL(t);case"spring":return qge();default:if(t.split("(")[0]==="cubic-bezier")return AL(t)}return typeof t=="function"?t:null};function Kge(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...f]=o;if(typeof c=="number"){i=t.setTimeout(a.bind(null,f),c);return}a(c),i=t.setTimeout(a.bind(null,f));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class Yge{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Gge(){return Kge(new Yge)}var Zge=x.createContext(Gge);function Qge(t,e){var n=x.useContext(Zge);return x.useMemo(()=>e??n(t),[t,e,n])}var Jge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),dd={devToolsEnabled:!1,isSsr:Jge()},eme={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},EL={t:0},aT={t:1};function Tg(t){var e=Fn(t,eme),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:c,children:f}=e,d=n==="auto"?!dd.isSsr:n,p=Qge(e.animationId,e.animationManager),[m,y]=x.useState(d?EL:aT),v=x.useRef(null);return x.useEffect(()=>{d||y(aT)},[d]),x.useEffect(()=>{if(!d||!r)return vg;var b=zge(EL,aT,Xge(a),i,y,p.getTimeoutController()),w=()=>{v.current=b()};return p.start([c,s,w,i,o]),()=>{p.stop(),v.current&&v.current(),o()}},[d,r,i,a,s,c,o,p]),f(m.t)}function Ag(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(Rp(e)),r=x.useRef(t);return r.current!==t&&(n.current=Rp(e),r.current=t),n.current}var tme=["radius"],nme=["radius"];function CL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(n),!0).forEach(function(r){rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rme(t,e,n){return(e=ime(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ime(t){var e=ame(t,"string");return typeof e=="symbol"?e:e+""}function ame(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_0.apply(null,arguments)}function RL(t,e){if(t==null)return{};var n,r,i=sme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var OL=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,o=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,m=4;p<m;p++)d[p]=i[p]>a?a:i[p];f="M".concat(t,",").concat(e+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+o*d[0],",").concat(e)),f+="L ".concat(t+n-o*d[1],",").concat(e),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+s*d[1])),f+="L ".concat(t+n,",").concat(e+r-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-o*d[2],",").concat(e+r)),f+="L ".concat(t+o*d[3],",").concat(e+r),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-s*d[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);f="M ".concat(t,",").concat(e+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+o*y,",").concat(e,`
            L `).concat(t+n-o*y,",").concat(e,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n,",").concat(e+s*y,`
            L `).concat(t+n,",").concat(e+r-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n-o*y,",").concat(e+r,`
            L `).concat(t+o*y,",").concat(e+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t,",").concat(e+r-s*y," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},ML={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},N9=t=>{var e=Fn(t,ML),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var q=n.current.getTotalLength();q&&i(q)}catch{}},[]);var{x:a,y:s,width:o,height:c,radius:f,className:d}=e,{animationEasing:p,animationDuration:m,animationBegin:y,isAnimationActive:v,isUpdateAnimationActive:b}=e,w=x.useRef(o),T=x.useRef(c),C=x.useRef(a),A=x.useRef(s),R=x.useMemo(()=>({x:a,y:s,width:o,height:c,radius:f}),[a,s,o,c,f]),P=Ag(R,"rectangle-");if(a!==+a||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var O=Te("recharts-rectangle",d);if(!b){var k=Ar(e),{radius:D}=k,L=RL(k,tme);return x.createElement("path",_0({},L,{radius:typeof f=="number"?f:void 0,className:O,d:OL(a,s,o,c,f)}))}var $=w.current,j=T.current,I=C.current,W=A.current,H="0px ".concat(r===-1?1:r,"px"),J="".concat(r,"px 0px"),z=O9(["strokeDasharray"],m,typeof p=="string"?p:ML.animationEasing);return x.createElement(Tg,{animationId:P,key:P,canBegin:r>0,duration:m,easing:p,isActive:b,begin:y},q=>{var se=Et($,o,q),le=Et(j,c,q),_e=Et(I,a,q),F=Et(W,s,q);n.current&&(w.current=se,T.current=le,C.current=_e,A.current=F);var ee;v?q>0?ee={transition:z,strokeDasharray:J}:ee={strokeDasharray:H}:ee={strokeDasharray:J};var ye=Ar(e),{radius:be}=ye,Ae=RL(ye,nme);return x.createElement("path",_0({},Ae,{radius:typeof f=="number"?f:void 0,className:O,d:OL(_e,F,se,le,f),ref:n,style:PL(PL({},ee),e.style)}))})};function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){ome(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ome(t,e,n){return(e=lme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lme(t){var e=cme(t,"string");return typeof e=="symbol"?e:e+""}function cme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w0=Math.PI/180,ume=t=>t*180/Math.PI,fr=(t,e,n,r)=>({x:t+Math.cos(-w0*r)*n,y:e+Math.sin(-w0*r)*n}),fme=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},dme=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},hme=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=dme({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,c=Math.acos(o);return r>a&&(c=2*Math.PI-c),{radius:s,angle:ume(c),angleInRadian:c}},pme=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},gme=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},mme=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=hme({x:n,y:r},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:c,endAngle:f}=pme(e),d=a,p;if(c<=f){for(;d>f;)d-=360;for(;d<c;)d+=360;p=d>=c&&d<=f}else{for(;d>c;)d-=360;for(;d<f;)d+=360;p=d>=f&&d<=c}return p?kL(kL({},e),{},{radius:i,angle:gme(d,e)}):null};function D9(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=fr(e,n,r,i),o=fr(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$A.apply(null,arguments)}var yme=(t,e)=>{var n=qr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},My=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:c}=t,f=o*(s?1:-1)+r,d=Math.asin(o/f)/w0,p=c?i:i+a*d,m=fr(e,n,f,p),y=fr(e,n,r,p),v=c?i-a*d:i,b=fr(e,n,f*Math.cos(d*w0),v);return{center:m,circleTangency:y,lineTangency:b,theta:d}},B9=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,o=yme(a,s),c=a+o,f=fr(e,n,i,a),d=fr(e,n,i,c),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var m=fr(e,n,r,a),y=fr(e,n,r,c);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},vme=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:f}=t,d=qr(f-c),{circleTangency:p,lineTangency:m,theta:y}=My({cx:e,cy:n,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:v,lineTangency:b,theta:w}=My({cx:e,cy:n,radius:i,angle:f,sign:-d,cornerRadius:a,cornerIsExternal:o}),T=o?Math.abs(c-f):Math.abs(c-f)-y-w;if(T<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):B9({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var C="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:R,theta:P}=My({cx:e,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:O,lineTangency:k,theta:D}=My({cx:e,cy:n,radius:r,angle:f,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),L=o?Math.abs(c-f):Math.abs(c-f)-P-D;if(L<0&&a===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(L>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,"Z")}else C+="L".concat(e,",").concat(n,"Z");return C},bme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},L9=t=>{var e=Fn(t,bme),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:f,endAngle:d,className:p}=e;if(a<i||f===d)return null;var m=Te("recharts-sector",p),y=a-i,v=wa(s,y,0,!0),b;return v>0&&Math.abs(f-d)<360?b=vme({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,y/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:f,endAngle:d}):b=B9({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:d}),x.createElement("path",$A({},Ar(e),{className:m,d:b}))};function xme(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(xV(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,c=fr(r,i,a,o),f=fr(r,i,s,o);return[{x:c.x,y:c.y},{x:f.x,y:f.y}]}return D9(e)}}var sT={},oT={},lT={},NL;function _me(){return NL||(NL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IV();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(lT)),lT}var DL;function wme(){return DL||(DL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_me();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(oT)),oT}var BL;function Sme(){return BL||(BL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kV(),n=wme();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(o);for(let f=0;f<o;f++)c[f]=i,i+=s;return c}t.range=r})(sT)),sT}var cT,LL;function Tme(){return LL||(LL=1,cT=Sme().range),cT}var Ame=Tme();const j9=Aa(Ame);function nl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Eme(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $3(t){let e,n,r;t.length!==2?(e=nl,n=(o,c)=>nl(t(o),c),r=(o,c)=>t(o)-c):(e=t===nl||t===Eme?t:Cme,n=t,r=t);function i(o,c,f=0,d=o.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;n(o[p],c)<0?f=p+1:d=p}while(f<d)}return f}function a(o,c,f=0,d=o.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;n(o[p],c)<=0?f=p+1:d=p}while(f<d)}return f}function s(o,c,f=0,d=o.length){const p=i(o,c,f,d-1);return p>f&&r(o[p-1],c)>-r(o[p],c)?p-1:p}return{left:i,center:s,right:a}}function Cme(){return 0}function U9(t){return t===null?NaN:+t}function*Pme(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Rme=$3(nl),Eg=Rme.right;$3(U9).center;class jL extends Map{constructor(e,n=Ime){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(UL(this,e))}has(e){return super.has(UL(this,e))}set(e,n){return super.set(Ome(this,e),n)}delete(e){return super.delete(Mme(this,e))}}function UL({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ome({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Mme({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ime(t){return t!==null&&typeof t=="object"?t.valueOf():t}function kme(t=nl){if(t===nl)return F9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function F9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Nme=Math.sqrt(50),Dme=Math.sqrt(10),Bme=Math.sqrt(2);function S0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Nme?10:a>=Dme?5:a>=Bme?2:1;let o,c,f;return i<0?(f=Math.pow(10,-i)/s,o=Math.round(t*f),c=Math.round(e*f),o/f<t&&++o,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,o=Math.round(t/f),c=Math.round(e/f),o*f<t&&++o,c*f>e&&--c),c<o&&.5<=n&&n<2?S0(t,e,n*2):[o,c,f]}function zA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?S0(e,t,n):S0(t,e,n);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(r)if(s<0)for(let f=0;f<o;++f)c[f]=(a-f)/-s;else for(let f=0;f<o;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<o;++f)c[f]=(i+f)/-s;else for(let f=0;f<o;++f)c[f]=(i+f)*s;return c}function VA(t,e,n){return e=+e,t=+t,n=+n,S0(t,e,n)[2]}function HA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?VA(e,t,n):VA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function FL(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function $L(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function $9(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?F9:kme(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,d=Math.log(c),p=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*p*(c-p)/c)*(f-c/2<0?-1:1),y=Math.max(n,Math.floor(e-f*p/c+m)),v=Math.min(r,Math.floor(e+(c-f)*p/c+m));$9(t,e,y,v,i)}const a=t[e];let s=n,o=r;for(Ch(t,n,e),i(t[r],a)>0&&Ch(t,n,r);s<o;){for(Ch(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Ch(t,n,o):(++o,Ch(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Ch(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Lme(t,e,n){if(t=Float64Array.from(Pme(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return $L(t);if(e>=1)return FL(t);var r,i=(r-1)*e,a=Math.floor(i),s=FL($9(t,a).subarray(0,a+1)),o=$L(t.subarray(a+1));return s+(o-s)*(i-a)}}function jme(t,e,n=U9){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function Ume(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ra(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const WA=Symbol("implicit");function z3(){var t=new jL,e=[],n=[],r=WA;function i(a){let s=t.get(a);if(s===void 0){if(r!==WA)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new jL;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return z3(e,n).unknown(r)},ra.apply(i,arguments),i}function V3(){var t=z3().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,c=0,f=0,d=.5;delete t.unknown;function p(){var m=e().length,y=i<r,v=y?i:r,b=y?r:i;a=(b-v)/Math.max(1,m-c+f*2),o&&(a=Math.floor(a)),v+=(b-v-a*(m-c))*d,s=a*(1-c),o&&(v=Math.round(v),s=Math.round(s));var w=Ume(m).map(function(T){return v+a*T});return n(y?w.reverse():w)}return t.domain=function(m){return arguments.length?(e(m),p()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,o=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(m){return arguments.length?(o=!!m,p()):o},t.padding=function(m){return arguments.length?(c=Math.min(1,f=+m),p()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),p()):c},t.paddingOuter=function(m){return arguments.length?(f=+m,p()):f},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),p()):d},t.copy=function(){return V3(e(),[r,i]).round(o).paddingInner(c).paddingOuter(f).align(d)},ra.apply(p(),arguments)}function z9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return z9(e())},t}function Fme(){return z9(V3.apply(null,arguments).paddingInner(1))}function H3(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function V9(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Cg(){}var jp=.7,T0=1/jp,Tf="\\s*([+-]?\\d+)\\s*",Up="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",es="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$me=/^#([0-9a-f]{3,8})$/,zme=new RegExp(`^rgb\\(${Tf},${Tf},${Tf}\\)$`),Vme=new RegExp(`^rgb\\(${es},${es},${es}\\)$`),Hme=new RegExp(`^rgba\\(${Tf},${Tf},${Tf},${Up}\\)$`),Wme=new RegExp(`^rgba\\(${es},${es},${es},${Up}\\)$`),qme=new RegExp(`^hsl\\(${Up},${es},${es}\\)$`),Xme=new RegExp(`^hsla\\(${Up},${es},${es},${Up}\\)$`),zL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H3(Cg,Fp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:VL,formatHex:VL,formatHex8:Kme,formatHsl:Yme,formatRgb:HL,toString:HL});function VL(){return this.rgb().formatHex()}function Kme(){return this.rgb().formatHex8()}function Yme(){return H9(this).formatHsl()}function HL(){return this.rgb().formatRgb()}function Fp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$me.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WL(e):n===3?new Xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Iy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Iy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zme.exec(t))?new Xr(e[1],e[2],e[3],1):(e=Vme.exec(t))?new Xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hme.exec(t))?Iy(e[1],e[2],e[3],e[4]):(e=Wme.exec(t))?Iy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qme.exec(t))?KL(e[1],e[2]/100,e[3]/100,1):(e=Xme.exec(t))?KL(e[1],e[2]/100,e[3]/100,e[4]):zL.hasOwnProperty(t)?WL(zL[t]):t==="transparent"?new Xr(NaN,NaN,NaN,0):null}function WL(t){return new Xr(t>>16&255,t>>8&255,t&255,1)}function Iy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xr(t,e,n,r)}function Gme(t){return t instanceof Cg||(t=Fp(t)),t?(t=t.rgb(),new Xr(t.r,t.g,t.b,t.opacity)):new Xr}function qA(t,e,n,r){return arguments.length===1?Gme(t):new Xr(t,e,n,r??1)}function Xr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}H3(Xr,qA,V9(Cg,{brighter(t){return t=t==null?T0:Math.pow(T0,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jp:Math.pow(jp,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xr(pc(this.r),pc(this.g),pc(this.b),A0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qL,formatHex:qL,formatHex8:Zme,formatRgb:XL,toString:XL}));function qL(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}`}function Zme(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}${rc((isNaN(this.opacity)?1:this.opacity)*255)}`}function XL(){const t=A0(this.opacity);return`${t===1?"rgb(":"rgba("}${pc(this.r)}, ${pc(this.g)}, ${pc(this.b)}${t===1?")":`, ${t})`}`}function A0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rc(t){return t=pc(t),(t<16?"0":"")+t.toString(16)}function KL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ma(t,e,n,r)}function H9(t){if(t instanceof ma)return new ma(t.h,t.s,t.l,t.opacity);if(t instanceof Cg||(t=Fp(t)),!t)return new ma;if(t instanceof ma)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,c=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new ma(s,o,c,t.opacity)}function Qme(t,e,n,r){return arguments.length===1?H9(t):new ma(t,e,n,r??1)}function ma(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}H3(ma,Qme,V9(Cg,{brighter(t){return t=t==null?T0:Math.pow(T0,t),new ma(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jp:Math.pow(jp,t),new ma(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xr(uT(t>=240?t-240:t+120,i,r),uT(t,i,r),uT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ma(YL(this.h),ky(this.s),ky(this.l),A0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=A0(this.opacity);return`${t===1?"hsl(":"hsla("}${YL(this.h)}, ${ky(this.s)*100}%, ${ky(this.l)*100}%${t===1?")":`, ${t})`}`}}));function YL(t){return t=(t||0)%360,t<0?t+360:t}function ky(t){return Math.max(0,Math.min(1,t||0))}function uT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const W3=t=>()=>t;function Jme(t,e){return function(n){return t+n*e}}function eye(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function tye(t){return(t=+t)==1?W9:function(e,n){return n-e?eye(e,n,t):W3(isNaN(e)?n:e)}}function W9(t,e){var n=e-t;return n?Jme(t,n):W3(isNaN(t)?e:t)}const GL=(function t(e){var n=tye(e);function r(i,a){var s=n((i=qA(i)).r,(a=qA(a)).r),o=n(i.g,a.g),c=n(i.b,a.b),f=W9(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=f(d),i+""}}return r.gamma=t,r})(1);function nye(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function rye(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function iye(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=hd(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function aye(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function E0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function sye(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=hd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var XA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fT=new RegExp(XA.source,"g");function oye(t){return function(){return t}}function lye(t){return function(e){return t(e)+""}}function cye(t,e){var n=XA.lastIndex=fT.lastIndex=0,r,i,a,s=-1,o=[],c=[];for(t=t+"",e=e+"";(r=XA.exec(t))&&(i=fT.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:E0(r,i)})),n=fT.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?lye(c[0].x):oye(e):(e=c.length,function(f){for(var d=0,p;d<e;++d)o[(p=c[d]).i]=p.x(f);return o.join("")})}function hd(t,e){var n=typeof e,r;return e==null||n==="boolean"?W3(e):(n==="number"?E0:n==="string"?(r=Fp(e))?(e=r,GL):cye:e instanceof Fp?GL:e instanceof Date?aye:rye(e)?nye:Array.isArray(e)?iye:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sye:E0)(t,e)}function q3(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function uye(t,e){e===void 0&&(e=t,t=hd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function fye(t){return function(){return t}}function C0(t){return+t}var ZL=[0,1];function Ir(t){return t}function KA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:fye(isNaN(e)?NaN:.5)}function dye(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function hye(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=KA(i,r),a=n(s,a)):(r=KA(r,i),a=n(a,s)),function(o){return a(r(o))}}function pye(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=KA(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var c=Eg(t,o,1,r)-1;return a[c](i[c](o))}}function Pg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dx(){var t=ZL,e=ZL,n=hd,r,i,a,s=Ir,o,c,f;function d(){var m=Math.min(t.length,e.length);return s!==Ir&&(s=dye(t[0],t[m-1])),o=m>2?pye:hye,c=f=null,p}function p(m){return m==null||isNaN(m=+m)?a:(c||(c=o(t.map(r),e,n)))(r(s(m)))}return p.invert=function(m){return s(i((f||(f=o(e,t.map(r),E0)))(m)))},p.domain=function(m){return arguments.length?(t=Array.from(m,C0),d()):t.slice()},p.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},p.rangeRound=function(m){return e=Array.from(m),n=q3,d()},p.clamp=function(m){return arguments.length?(s=m?!0:Ir,d()):s!==Ir},p.interpolate=function(m){return arguments.length?(n=m,d()):n},p.unknown=function(m){return arguments.length?(a=m,p):a},function(m,y){return r=m,i=y,d()}}function X3(){return dx()(Ir,Ir)}function gye(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function P0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Lf(t){return t=P0(Math.abs(t)),t?t[1]:NaN}function mye(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),a.push(n.substring(i-=o,i+o)),!((c+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function yye(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var vye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $p(t){if(!(e=vye.exec(t)))throw new Error("invalid format: "+t);var e;return new K3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$p.prototype=K3.prototype;function K3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}K3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bye(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var q9;function xye(t,e){var n=P0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(q9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+P0(t,Math.max(0,e+a-1))[0]}function QL(t,e){var n=P0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const JL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:gye,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>QL(t*100,e),r:QL,s:xye,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function e5(t){return t}var t5=Array.prototype.map,n5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _ye(t){var e=t.grouping===void 0||t.thousands===void 0?e5:mye(t5.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?e5:yye(t5.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=$p(p);var m=p.fill,y=p.align,v=p.sign,b=p.symbol,w=p.zero,T=p.width,C=p.comma,A=p.precision,R=p.trim,P=p.type;P==="n"?(C=!0,P="g"):JL[P]||(A===void 0&&(A=12),R=!0,P="g"),(w||m==="0"&&y==="=")&&(w=!0,m="0",y="=");var O=b==="$"?n:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",k=b==="$"?r:/[%p]/.test(P)?s:"",D=JL[P],L=/[defgprs%]/.test(P);A=A===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function $(j){var I=O,W=k,H,J,z;if(P==="c")W=D(j)+W,j="";else{j=+j;var q=j<0||1/j<0;if(j=isNaN(j)?c:D(Math.abs(j),A),R&&(j=bye(j)),q&&+j==0&&v!=="+"&&(q=!1),I=(q?v==="("?v:o:v==="-"||v==="("?"":v)+I,W=(P==="s"?n5[8+q9/3]:"")+W+(q&&v==="("?")":""),L){for(H=-1,J=j.length;++H<J;)if(z=j.charCodeAt(H),48>z||z>57){W=(z===46?i+j.slice(H+1):j.slice(H))+W,j=j.slice(0,H);break}}}C&&!w&&(j=e(j,1/0));var se=I.length+j.length+W.length,le=se<T?new Array(T-se+1).join(m):"";switch(C&&w&&(j=e(le+j,le.length?T-W.length:1/0),le=""),y){case"<":j=I+j+W+le;break;case"=":j=I+le+j+W;break;case"^":j=le.slice(0,se=le.length>>1)+I+j+W+le.slice(se);break;default:j=le+I+j+W;break}return a(j)}return $.toString=function(){return p+""},$}function d(p,m){var y=f((p=$p(p),p.type="f",p)),v=Math.max(-8,Math.min(8,Math.floor(Lf(m)/3)))*3,b=Math.pow(10,-v),w=n5[8+v/3];return function(T){return y(b*T)+w}}return{format:f,formatPrefix:d}}var Ny,Y3,X9;wye({thousands:",",grouping:[3],currency:["$",""]});function wye(t){return Ny=_ye(t),Y3=Ny.format,X9=Ny.formatPrefix,Ny}function Sye(t){return Math.max(0,-Lf(Math.abs(t)))}function Tye(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lf(e)/3)))*3-Lf(Math.abs(t)))}function Aye(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Lf(e)-Lf(t))+1}function K9(t,e,n,r){var i=HA(t,e,n),a;switch(r=$p(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Tye(i,s))&&(r.precision=a),X9(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Aye(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Sye(i))&&(r.precision=a-(r.type==="%")*2);break}}return Y3(r)}function yl(t){var e=t.domain;return t.ticks=function(n){var r=e();return zA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return K9(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],c,f,d=10;for(o<s&&(f=s,s=o,o=f,f=i,i=a,a=f);d-- >0;){if(f=VA(s,o,n),f===c)return r[i]=s,r[a]=o,e(r);if(f>0)s=Math.floor(s/f)*f,o=Math.ceil(o/f)*f;else if(f<0)s=Math.ceil(s*f)/f,o=Math.floor(o*f)/f;else break;c=f}return t},t}function Y9(){var t=X3();return t.copy=function(){return Pg(t,Y9())},ra.apply(t,arguments),yl(t)}function G9(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,C0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return G9(t).unknown(e)},t=arguments.length?Array.from(t,C0):[0,1],yl(n)}function Z9(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function r5(t){return Math.log(t)}function i5(t){return Math.exp(t)}function Eye(t){return-Math.log(-t)}function Cye(t){return-Math.exp(-t)}function Pye(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Rye(t){return t===10?Pye:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Oye(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function a5(t){return(e,n)=>-t(-e,n)}function G3(t){const e=t(r5,i5),n=e.domain;let r=10,i,a;function s(){return i=Oye(r),a=Rye(r),n()[0]<0?(i=a5(i),a=a5(a),t(Eye,Cye)):t(r5,i5),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const c=n();let f=c[0],d=c[c.length-1];const p=d<f;p&&([f,d]=[d,f]);let m=i(f),y=i(d),v,b;const w=o==null?10:+o;let T=[];if(!(r%1)&&y-m<w){if(m=Math.floor(m),y=Math.ceil(y),f>0){for(;m<=y;++m)for(v=1;v<r;++v)if(b=m<0?v/a(-m):v*a(m),!(b<f)){if(b>d)break;T.push(b)}}else for(;m<=y;++m)for(v=r-1;v>=1;--v)if(b=m>0?v/a(-m):v*a(m),!(b<f)){if(b>d)break;T.push(b)}T.length*2<w&&(T=zA(f,d,w))}else T=zA(m,y,Math.min(y-m,w)).map(a);return p?T.reverse():T},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=$p(c)).precision==null&&(c.trim=!0),c=Y3(c)),o===1/0)return c;const f=Math.max(1,r*o/e.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=f?c(d):""}},e.nice=()=>n(Z9(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function Q9(){const t=G3(dx()).domain([1,10]);return t.copy=()=>Pg(t,Q9()).base(t.base()),ra.apply(t,arguments),t}function s5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function o5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Z3(t){var e=1,n=t(s5(e),o5(e));return n.constant=function(r){return arguments.length?t(s5(e=+r),o5(e)):e},yl(n)}function J9(){var t=Z3(dx());return t.copy=function(){return Pg(t,J9()).constant(t.constant())},ra.apply(t,arguments)}function l5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Mye(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Iye(t){return t<0?-t*t:t*t}function Q3(t){var e=t(Ir,Ir),n=1;function r(){return n===1?t(Ir,Ir):n===.5?t(Mye,Iye):t(l5(n),l5(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},yl(e)}function J3(){var t=Q3(dx());return t.copy=function(){return Pg(t,J3()).exponent(t.exponent())},ra.apply(t,arguments),t}function kye(){return J3.apply(null,arguments).exponent(.5)}function c5(t){return Math.sign(t)*t*t}function Nye(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function eH(){var t=X3(),e=[0,1],n=!1,r;function i(a){var s=Nye(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(c5(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,C0)).map(c5)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eH(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ra.apply(i,arguments),yl(i)}function tH(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=jme(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Eg(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(nl),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return tH().domain(t).range(e).unknown(r)},ra.apply(a,arguments)}function nH(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Eg(r,c,0,n)]:a}function o(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return nH().domain([t,e]).range(i).unknown(a)},ra.apply(yl(s),arguments)}function rH(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Eg(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return rH().domain(t).range(e).unknown(n)},ra.apply(i,arguments)}const dT=new Date,hT=new Date;function $n(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let f;do c.push(f=new Date(+a)),e(a,o),t(a);while(f<a&&a<s);return c},i.filter=a=>$n(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(dT.setTime(+a),hT.setTime(+s),t(dT),t(hT),Math.floor(n(dT,hT))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const R0=$n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);R0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$n(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):R0);R0.range;const zs=1e3,Vi=zs*60,Vs=Vi*60,Js=Vs*24,eP=Js*7,u5=Js*30,pT=Js*365,ic=$n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*zs)},(t,e)=>(e-t)/zs,t=>t.getUTCSeconds());ic.range;const tP=$n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zs)},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getMinutes());tP.range;const nP=$n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getUTCMinutes());nP.range;const rP=$n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zs-t.getMinutes()*Vi)},(t,e)=>{t.setTime(+t+e*Vs)},(t,e)=>(e-t)/Vs,t=>t.getHours());rP.range;const iP=$n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Vs)},(t,e)=>(e-t)/Vs,t=>t.getUTCHours());iP.range;const Rg=$n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vi)/Js,t=>t.getDate()-1);Rg.range;const hx=$n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Js,t=>t.getUTCDate()-1);hx.range;const iH=$n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Js,t=>Math.floor(t/Js));iH.range;function zc(t){return $n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Vi)/eP)}const px=zc(0),O0=zc(1),Dye=zc(2),Bye=zc(3),jf=zc(4),Lye=zc(5),jye=zc(6);px.range;O0.range;Dye.range;Bye.range;jf.range;Lye.range;jye.range;function Vc(t){return $n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/eP)}const gx=Vc(0),M0=Vc(1),Uye=Vc(2),Fye=Vc(3),Uf=Vc(4),$ye=Vc(5),zye=Vc(6);gx.range;M0.range;Uye.range;Fye.range;Uf.range;$ye.range;zye.range;const aP=$n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());aP.range;const sP=$n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());sP.range;const eo=$n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());eo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});eo.range;const to=$n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());to.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});to.range;function aH(t,e,n,r,i,a){const s=[[ic,1,zs],[ic,5,5*zs],[ic,15,15*zs],[ic,30,30*zs],[a,1,Vi],[a,5,5*Vi],[a,15,15*Vi],[a,30,30*Vi],[i,1,Vs],[i,3,3*Vs],[i,6,6*Vs],[i,12,12*Vs],[r,1,Js],[r,2,2*Js],[n,1,eP],[e,1,u5],[e,3,3*u5],[t,1,pT]];function o(f,d,p){const m=d<f;m&&([f,d]=[d,f]);const y=p&&typeof p.range=="function"?p:c(f,d,p),v=y?y.range(f,+d+1):[];return m?v.reverse():v}function c(f,d,p){const m=Math.abs(d-f)/p,y=$3(([,,w])=>w).right(s,m);if(y===s.length)return t.every(HA(f/pT,d/pT,p));if(y===0)return R0.every(Math.max(HA(f,d,p),1));const[v,b]=s[m/s[y-1][2]<s[y][2]/m?y-1:y];return v.every(b)}return[o,c]}const[Vye,Hye]=aH(to,sP,gx,iH,iP,nP),[Wye,qye]=aH(eo,aP,px,Rg,rP,tP);function gT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function mT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ph(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Xye(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,c=t.shortMonths,f=Rh(i),d=Oh(i),p=Rh(a),m=Oh(a),y=Rh(s),v=Oh(s),b=Rh(o),w=Oh(o),T=Rh(c),C=Oh(c),A={a:q,A:se,b:le,B:_e,c:null,d:m5,e:m5,f:mve,g:Eve,G:Pve,H:hve,I:pve,j:gve,L:sH,m:yve,M:vve,p:F,q:ee,Q:b5,s:x5,S:bve,u:xve,U:_ve,V:wve,w:Sve,W:Tve,x:null,X:null,y:Ave,Y:Cve,Z:Rve,"%":v5},R={a:ye,A:be,b:Ae,B:we,c:null,d:y5,e:y5,f:kve,g:Vve,G:Wve,H:Ove,I:Mve,j:Ive,L:lH,m:Nve,M:Dve,p:Ee,q:Xe,Q:b5,s:x5,S:Bve,u:Lve,U:jve,V:Uve,w:Fve,W:$ve,x:null,X:null,y:zve,Y:Hve,Z:qve,"%":v5},P={a:$,A:j,b:I,B:W,c:H,d:p5,e:p5,f:cve,g:h5,G:d5,H:g5,I:g5,j:ave,L:lve,m:ive,M:sve,p:L,q:rve,Q:fve,s:dve,S:ove,u:Qye,U:Jye,V:eve,w:Zye,W:tve,x:J,X:z,y:h5,Y:d5,Z:nve,"%":uve};A.x=O(n,A),A.X=O(r,A),A.c=O(e,A),R.x=O(n,R),R.X=O(r,R),R.c=O(e,R);function O(ue,De){return function(je){var me=[],ht=-1,Le=0,pt=ue.length,It,jt,tn;for(je instanceof Date||(je=new Date(+je));++ht<pt;)ue.charCodeAt(ht)===37&&(me.push(ue.slice(Le,ht)),(jt=f5[It=ue.charAt(++ht)])!=null?It=ue.charAt(++ht):jt=It==="e"?" ":"0",(tn=De[It])&&(It=tn(je,jt)),me.push(It),Le=ht+1);return me.push(ue.slice(Le,ht)),me.join("")}}function k(ue,De){return function(je){var me=Ph(1900,void 0,1),ht=D(me,ue,je+="",0),Le,pt;if(ht!=je.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(De&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Le=mT(Ph(me.y,0,1)),pt=Le.getUTCDay(),Le=pt>4||pt===0?M0.ceil(Le):M0(Le),Le=hx.offset(Le,(me.V-1)*7),me.y=Le.getUTCFullYear(),me.m=Le.getUTCMonth(),me.d=Le.getUTCDate()+(me.w+6)%7):(Le=gT(Ph(me.y,0,1)),pt=Le.getDay(),Le=pt>4||pt===0?O0.ceil(Le):O0(Le),Le=Rg.offset(Le,(me.V-1)*7),me.y=Le.getFullYear(),me.m=Le.getMonth(),me.d=Le.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),pt="Z"in me?mT(Ph(me.y,0,1)).getUTCDay():gT(Ph(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(pt+5)%7:me.w+me.U*7-(pt+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,mT(me)):gT(me)}}function D(ue,De,je,me){for(var ht=0,Le=De.length,pt=je.length,It,jt;ht<Le;){if(me>=pt)return-1;if(It=De.charCodeAt(ht++),It===37){if(It=De.charAt(ht++),jt=P[It in f5?De.charAt(ht++):It],!jt||(me=jt(ue,je,me))<0)return-1}else if(It!=je.charCodeAt(me++))return-1}return me}function L(ue,De,je){var me=f.exec(De.slice(je));return me?(ue.p=d.get(me[0].toLowerCase()),je+me[0].length):-1}function $(ue,De,je){var me=y.exec(De.slice(je));return me?(ue.w=v.get(me[0].toLowerCase()),je+me[0].length):-1}function j(ue,De,je){var me=p.exec(De.slice(je));return me?(ue.w=m.get(me[0].toLowerCase()),je+me[0].length):-1}function I(ue,De,je){var me=T.exec(De.slice(je));return me?(ue.m=C.get(me[0].toLowerCase()),je+me[0].length):-1}function W(ue,De,je){var me=b.exec(De.slice(je));return me?(ue.m=w.get(me[0].toLowerCase()),je+me[0].length):-1}function H(ue,De,je){return D(ue,e,De,je)}function J(ue,De,je){return D(ue,n,De,je)}function z(ue,De,je){return D(ue,r,De,je)}function q(ue){return s[ue.getDay()]}function se(ue){return a[ue.getDay()]}function le(ue){return c[ue.getMonth()]}function _e(ue){return o[ue.getMonth()]}function F(ue){return i[+(ue.getHours()>=12)]}function ee(ue){return 1+~~(ue.getMonth()/3)}function ye(ue){return s[ue.getUTCDay()]}function be(ue){return a[ue.getUTCDay()]}function Ae(ue){return c[ue.getUTCMonth()]}function we(ue){return o[ue.getUTCMonth()]}function Ee(ue){return i[+(ue.getUTCHours()>=12)]}function Xe(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var De=O(ue+="",A);return De.toString=function(){return ue},De},parse:function(ue){var De=k(ue+="",!1);return De.toString=function(){return ue},De},utcFormat:function(ue){var De=O(ue+="",R);return De.toString=function(){return ue},De},utcParse:function(ue){var De=k(ue+="",!0);return De.toString=function(){return ue},De}}}var f5={"-":"",_:" ",0:"0"},er=/^\s*\d+/,Kye=/^%/,Yye=/[\\^$*+?|[\]().{}]/g;function it(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Gye(t){return t.replace(Yye,"\\$&")}function Rh(t){return new RegExp("^(?:"+t.map(Gye).join("|")+")","i")}function Oh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Zye(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Qye(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Jye(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function eve(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function tve(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function d5(t,e,n){var r=er.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function h5(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nve(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rve(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ive(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function p5(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ave(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function g5(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sve(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ove(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function lve(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function cve(t,e,n){var r=er.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uve(t,e,n){var r=Kye.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function fve(t,e,n){var r=er.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function dve(t,e,n){var r=er.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function m5(t,e){return it(t.getDate(),e,2)}function hve(t,e){return it(t.getHours(),e,2)}function pve(t,e){return it(t.getHours()%12||12,e,2)}function gve(t,e){return it(1+Rg.count(eo(t),t),e,3)}function sH(t,e){return it(t.getMilliseconds(),e,3)}function mve(t,e){return sH(t,e)+"000"}function yve(t,e){return it(t.getMonth()+1,e,2)}function vve(t,e){return it(t.getMinutes(),e,2)}function bve(t,e){return it(t.getSeconds(),e,2)}function xve(t){var e=t.getDay();return e===0?7:e}function _ve(t,e){return it(px.count(eo(t)-1,t),e,2)}function oH(t){var e=t.getDay();return e>=4||e===0?jf(t):jf.ceil(t)}function wve(t,e){return t=oH(t),it(jf.count(eo(t),t)+(eo(t).getDay()===4),e,2)}function Sve(t){return t.getDay()}function Tve(t,e){return it(O0.count(eo(t)-1,t),e,2)}function Ave(t,e){return it(t.getFullYear()%100,e,2)}function Eve(t,e){return t=oH(t),it(t.getFullYear()%100,e,2)}function Cve(t,e){return it(t.getFullYear()%1e4,e,4)}function Pve(t,e){var n=t.getDay();return t=n>=4||n===0?jf(t):jf.ceil(t),it(t.getFullYear()%1e4,e,4)}function Rve(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+it(e/60|0,"0",2)+it(e%60,"0",2)}function y5(t,e){return it(t.getUTCDate(),e,2)}function Ove(t,e){return it(t.getUTCHours(),e,2)}function Mve(t,e){return it(t.getUTCHours()%12||12,e,2)}function Ive(t,e){return it(1+hx.count(to(t),t),e,3)}function lH(t,e){return it(t.getUTCMilliseconds(),e,3)}function kve(t,e){return lH(t,e)+"000"}function Nve(t,e){return it(t.getUTCMonth()+1,e,2)}function Dve(t,e){return it(t.getUTCMinutes(),e,2)}function Bve(t,e){return it(t.getUTCSeconds(),e,2)}function Lve(t){var e=t.getUTCDay();return e===0?7:e}function jve(t,e){return it(gx.count(to(t)-1,t),e,2)}function cH(t){var e=t.getUTCDay();return e>=4||e===0?Uf(t):Uf.ceil(t)}function Uve(t,e){return t=cH(t),it(Uf.count(to(t),t)+(to(t).getUTCDay()===4),e,2)}function Fve(t){return t.getUTCDay()}function $ve(t,e){return it(M0.count(to(t)-1,t),e,2)}function zve(t,e){return it(t.getUTCFullYear()%100,e,2)}function Vve(t,e){return t=cH(t),it(t.getUTCFullYear()%100,e,2)}function Hve(t,e){return it(t.getUTCFullYear()%1e4,e,4)}function Wve(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Uf(t):Uf.ceil(t),it(t.getUTCFullYear()%1e4,e,4)}function qve(){return"+0000"}function v5(){return"%"}function b5(t){return+t}function x5(t){return Math.floor(+t/1e3)}var Vu,uH,fH;Xve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xve(t){return Vu=Xye(t),uH=Vu.format,Vu.parse,fH=Vu.utcFormat,Vu.utcParse,Vu}function Kve(t){return new Date(t)}function Yve(t){return t instanceof Date?+t:+new Date(+t)}function oP(t,e,n,r,i,a,s,o,c,f){var d=X3(),p=d.invert,m=d.domain,y=f(".%L"),v=f(":%S"),b=f("%I:%M"),w=f("%I %p"),T=f("%a %d"),C=f("%b %d"),A=f("%B"),R=f("%Y");function P(O){return(c(O)<O?y:o(O)<O?v:s(O)<O?b:a(O)<O?w:r(O)<O?i(O)<O?T:C:n(O)<O?A:R)(O)}return d.invert=function(O){return new Date(p(O))},d.domain=function(O){return arguments.length?m(Array.from(O,Yve)):m().map(Kve)},d.ticks=function(O){var k=m();return t(k[0],k[k.length-1],O??10)},d.tickFormat=function(O,k){return k==null?P:f(k)},d.nice=function(O){var k=m();return(!O||typeof O.range!="function")&&(O=e(k[0],k[k.length-1],O??10)),O?m(Z9(k,O)):d},d.copy=function(){return Pg(d,oP(t,e,n,r,i,a,s,o,c,f))},d}function Gve(){return ra.apply(oP(Wye,qye,eo,aP,px,Rg,rP,tP,ic,uH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Zve(){return ra.apply(oP(Vye,Hye,to,sP,gx,hx,iP,nP,ic,fH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mx(){var t=0,e=1,n,r,i,a,s=Ir,o=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-n)*i,o?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(o=!!p,f):o},f.interpolator=function(p){return arguments.length?(s=p,f):s};function d(p){return function(m){var y,v;return arguments.length?([y,v]=m,s=p(y,v),f):[s(0),s(1)]}}return f.range=d(hd),f.rangeRound=d(q3),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function vl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function dH(){var t=yl(mx()(Ir));return t.copy=function(){return vl(t,dH())},fo.apply(t,arguments)}function hH(){var t=G3(mx()).domain([1,10]);return t.copy=function(){return vl(t,hH()).base(t.base())},fo.apply(t,arguments)}function pH(){var t=Z3(mx());return t.copy=function(){return vl(t,pH()).constant(t.constant())},fo.apply(t,arguments)}function lP(){var t=Q3(mx());return t.copy=function(){return vl(t,lP()).exponent(t.exponent())},fo.apply(t,arguments)}function Qve(){return lP.apply(null,arguments).exponent(.5)}function gH(){var t=[],e=Ir;function n(r){if(r!=null&&!isNaN(r=+r))return e((Eg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(nl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Lme(t,a/r))},n.copy=function(){return gH(e).domain(t)},fo.apply(n,arguments)}function yx(){var t=0,e=.5,n=1,r=1,i,a,s,o,c,f=Ir,d,p=!1,m;function y(b){return isNaN(b=+b)?m:(b=.5+((b=+d(b))-a)*(r*b<r*a?o:c),f(p?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,n]=b,i=d(t=+t),a=d(e=+e),s=d(n=+n),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(b){return arguments.length?(p=!!b,y):p},y.interpolator=function(b){return arguments.length?(f=b,y):f};function v(b){return function(w){var T,C,A;return arguments.length?([T,C,A]=w,f=uye(b,[T,C,A]),y):[f(0),f(.5),f(1)]}}return y.range=v(hd),y.rangeRound=v(q3),y.unknown=function(b){return arguments.length?(m=b,y):m},function(b){return d=b,i=b(t),a=b(e),s=b(n),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,y}}function mH(){var t=yl(yx()(Ir));return t.copy=function(){return vl(t,mH())},fo.apply(t,arguments)}function yH(){var t=G3(yx()).domain([.1,1,10]);return t.copy=function(){return vl(t,yH()).base(t.base())},fo.apply(t,arguments)}function vH(){var t=Z3(yx());return t.copy=function(){return vl(t,vH()).constant(t.constant())},fo.apply(t,arguments)}function cP(){var t=Q3(yx());return t.copy=function(){return vl(t,cP()).exponent(t.exponent())},fo.apply(t,arguments)}function Jve(){return cP.apply(null,arguments).exponent(.5)}const Hh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:V3,scaleDiverging:mH,scaleDivergingLog:yH,scaleDivergingPow:cP,scaleDivergingSqrt:Jve,scaleDivergingSymlog:vH,scaleIdentity:G9,scaleImplicit:WA,scaleLinear:Y9,scaleLog:Q9,scaleOrdinal:z3,scalePoint:Fme,scalePow:J3,scaleQuantile:tH,scaleQuantize:nH,scaleRadial:eH,scaleSequential:dH,scaleSequentialLog:hH,scaleSequentialPow:lP,scaleSequentialQuantile:gH,scaleSequentialSqrt:Qve,scaleSequentialSymlog:pH,scaleSqrt:kye,scaleSymlog:J9,scaleThreshold:rH,scaleTime:Gve,scaleUtc:Zve,tickFormat:K9},Symbol.toStringTag,{value:"Module"}));var bl=t=>t.chartData,e0e=ae([bl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Og=(t,e,n,r)=>r?e0e(t):bl(t);function fl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ht(e)&&Ht(n))return!0}return!1}function _5(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function bH(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Ht(n))i=n;else if(typeof n=="function")return;if(Ht(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(fl(s))return s}}function t0e(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(fl(r))return _5(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Ce(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e?.[0]))}catch{}else if(typeof i=="string"&&YB.test(i)){var c=YB.exec(i);if(c==null||e==null)s=void 0;else{var f=+c[1];s=e[0]-f}}else s=e?.[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(Ce(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e?.[1]))}catch{}else if(typeof a=="string"&&GB.test(a)){var d=GB.exec(a);if(d==null||e==null)o=void 0;else{var p=+d[1];o=e[1]+p}}else o=e?.[1];var m=[s,o];if(fl(m))return e==null?m:_5(m,e,n)}}}var pd=1e9,n0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fP,Yt=!0,Qi="[DecimalError] ",gc=Qi+"Invalid argument: ",uP=Qi+"Exponent out of range: ",gd=Math.floor,Zl=Math.pow,r0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pi,Zn=1e7,$t=7,xH=9007199254740991,I0=gd(xH/$t),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*$t;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return Ws(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return Nt(Ws(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return Mn(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(pi))throw Error(Qi+"NaN");if(n.s<1)throw Error(Qi+(n.s?"NaN":"-Infinity"));return n.eq(pi)?new r(0):(Yt=!1,e=Ws(zp(n,a),zp(t,a),a),Yt=!0,Nt(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SH(e,t):_H(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Qi+"NaN");return n.s?(Yt=!1,e=Ws(n,t,0,1).times(t),Yt=!0,n.minus(e)):Nt(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return wH(this)};Pe.naturalLogarithm=Pe.ln=function(){return zp(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_H(e,t):SH(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(gc+t);if(e=Mn(i)+1,r=i.d.length-1,n=r*$t+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Qi+"NaN")}for(t=Mn(o),Yt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ka(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=gd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Ws(o,a,s+2)).times(.5),Ka(a.d).slice(0,s)===(e=Ka(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Nt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Yt=!0,Nt(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,i,a,s,o,c,f,d=this,p=d.constructor,m=d.d,y=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,c=m.length,f=y.length,c<f&&(a=m,m=y,y=a,s=c,c=f,f=s),a=[],s=c+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)o=a[i]+y[r]*m[i-r-1]+e,a[i--]=o%Zn|0,e=o/Zn|0;a[i]=(a[i]+e)%Zn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Yt?Nt(t,p.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(is(t,0,pd),e===void 0?e=r.rounding:is(e,0,8),Nt(n,t+Mn(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Pc(r,!0):(is(t,0,pd),e===void 0?e=i.rounding:is(e,0,8),r=Nt(new i(r),t+1,e),n=Pc(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Pc(i):(is(t,0,pd),e===void 0?e=a.rounding:is(e,0,8),r=Nt(new a(i),t+Mn(i)+1,e),n=Pc(r.abs(),!1,t+Mn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return Nt(new e(t),Mn(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,i,a,s,o=this,c=o.constructor,f=12,d=+(t=new c(t));if(!t.s)return new c(pi);if(o=new c(o),!o.s){if(t.s<1)throw Error(Qi+"Infinity");return o}if(o.eq(pi))return o;if(r=c.precision,t.eq(pi))return Nt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=d<0?-d:d)<=xH){for(i=new c(pi),e=Math.ceil(r/$t+4),Yt=!1;n%2&&(i=i.times(o),S5(i.d,e)),n=gd(n/2),n!==0;)o=o.times(o),S5(o.d,e);return Yt=!0,t.s<0?new c(pi).div(i):Nt(i,r)}}else if(a<0)throw Error(Qi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Yt=!1,i=t.times(zp(o,r+f)),Yt=!0,i=wH(i),i.s=a,i};Pe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Mn(i),r=Pc(i,n<=a.toExpNeg||n>=a.toExpPos)):(is(t,1,pd),e===void 0?e=a.rounding:is(e,0,8),i=Nt(new a(i),t,e),n=Mn(i),r=Pc(i,t<=n||n<=a.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(is(t,1,pd),e===void 0?e=r.rounding:is(e,0,8)),Nt(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Mn(t),n=t.constructor;return Pc(t,e<=n.toExpNeg||e>=n.toExpPos)};function _H(t,e){var n,r,i,a,s,o,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Yt?Nt(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,o=f.length):(r=f,i=s,o=c.length),s=Math.ceil(p/$t),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=c.length,a=f.length,o-a<0&&(a=o,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/Zn|0,c[a]%=Zn;for(n&&(c.unshift(n),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,Yt?Nt(e,p):e}function is(t,e,n){if(t!==~~t||t<e||t>n)throw Error(gc+t)}function Ka(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=$t-r.length,n&&(a+=qo(n)),a+=r;s=t[e],r=s+"",n=$t-r.length,n&&(a+=qo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ws=(function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Zn|0,s=a/Zn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(r[o]!=i[o]){c=r[o]>i[o]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Zn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,c,f,d,p,m,y,v,b,w,T,C,A,R,P,O,k,D,L=r.constructor,$=r.s==i.s?1:-1,j=r.d,I=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(Qi+"Division by zero");for(c=r.e-i.e,k=I.length,P=j.length,y=new L($),v=y.d=[],f=0;I[f]==(j[f]||0);)++f;if(I[f]>(j[f]||0)&&--c,a==null?C=a=L.precision:s?C=a+(Mn(r)-Mn(i))+1:C=a,C<0)return new L(0);if(C=C/$t+2|0,f=0,k==1)for(d=0,I=I[0],C++;(f<P||d)&&C--;f++)A=d*Zn+(j[f]||0),v[f]=A/I|0,d=A%I|0;else{for(d=Zn/(I[0]+1)|0,d>1&&(I=t(I,d),j=t(j,d),k=I.length,P=j.length),R=k,b=j.slice(0,k),w=b.length;w<k;)b[w++]=0;D=I.slice(),D.unshift(0),O=I[0],I[1]>=Zn/2&&++O;do d=0,o=e(I,b,k,w),o<0?(T=b[0],k!=w&&(T=T*Zn+(b[1]||0)),d=T/O|0,d>1?(d>=Zn&&(d=Zn-1),p=t(I,d),m=p.length,w=b.length,o=e(p,b,m,w),o==1&&(d--,n(p,k<m?D:I,m))):(d==0&&(o=d=1),p=I.slice()),m=p.length,m<w&&p.unshift(0),n(b,p,w),o==-1&&(w=b.length,o=e(I,b,k,w),o<1&&(d++,n(b,k<w?D:I,w))),w=b.length):o===0&&(d++,b=[0]),v[f++]=d,o&&b[0]?b[w++]=j[R]||0:(b=[j[R]],w=1);while((R++<P||b[0]!==void 0)&&C--)}return v[0]||v.shift(),y.e=c,Nt(y,s?a+Mn(y)+1:a)}})();function wH(t,e){var n,r,i,a,s,o,c=0,f=0,d=t.constructor,p=d.precision;if(Mn(t)>16)throw Error(uP+Mn(t));if(!t.s)return new d(pi);for(Yt=!1,o=p,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(Zl(2,f))/Math.LN10*2+5|0,o+=r,n=i=a=new d(pi),d.precision=o;;){if(i=Nt(i.times(t),o),n=n.times(++c),s=a.plus(Ws(i,n,o)),Ka(s.d).slice(0,o)===Ka(a.d).slice(0,o)){for(;f--;)a=Nt(a.times(a),o);return d.precision=p,e==null?(Yt=!0,Nt(a,p)):a}a=s}}function Mn(t){for(var e=t.e*$t,n=t.d[0];n>=10;n/=10)e++;return e}function yT(t,e,n){if(e>t.LN10.sd())throw Yt=!0,n&&(t.precision=n),Error(Qi+"LN10 precision limit exceeded");return Nt(new t(t.LN10),e)}function qo(t){for(var e="";t--;)e+="0";return e}function zp(t,e){var n,r,i,a,s,o,c,f,d,p=1,m=10,y=t,v=y.d,b=y.constructor,w=b.precision;if(y.s<1)throw Error(Qi+(y.s?"NaN":"-Infinity"));if(y.eq(pi))return new b(0);if(e==null?(Yt=!1,f=w):f=e,y.eq(10))return e==null&&(Yt=!0),yT(b,f);if(f+=m,b.precision=f,n=Ka(v),r=n.charAt(0),a=Mn(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Ka(y.d),r=n.charAt(0),p++;a=Mn(y),r>1?(y=new b("0."+n),a++):y=new b(r+"."+n.slice(1))}else return c=yT(b,f+2,w).times(a+""),y=zp(new b(r+"."+n.slice(1)),f-m).plus(c),b.precision=w,e==null?(Yt=!0,Nt(y,w)):y;for(o=s=y=Ws(y.minus(pi),y.plus(pi),f),d=Nt(y.times(y),f),i=3;;){if(s=Nt(s.times(d),f),c=o.plus(Ws(s,new b(i),f)),Ka(c.d).slice(0,f)===Ka(o.d).slice(0,f))return o=o.times(2),a!==0&&(o=o.plus(yT(b,f+2,w).times(a+""))),o=Ws(o,new b(p),f),b.precision=w,e==null?(Yt=!0,Nt(o,w)):o;o=c,i+=2}}function w5(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=gd(n/$t),t.d=[],r=(n+1)%$t,n<0&&(r+=$t),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=$t;r<i;)t.d.push(+e.slice(r,r+=$t));e=e.slice(r),r=$t-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Yt&&(t.e>I0||t.e<-I0))throw Error(uP+n)}else t.s=0,t.e=0,t.d=[0];return t}function Nt(t,e,n){var r,i,a,s,o,c,f,d,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=$t,i=e,f=p[d=0];else{if(d=Math.ceil((r+1)/$t),a=p.length,d>=a)return t;for(f=a=p[d],s=1;a>=10;a/=10)s++;r%=$t,i=r-$t+s}if(n!==void 0&&(a=Zl(10,s-i-1),o=f/a%10|0,c=e<0||p[d+1]!==void 0||f%a,c=n<4?(o||c)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||c||n==6&&(r>0?i>0?f/Zl(10,s-i):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=Mn(t),p.length=1,e=e-a-1,p[0]=Zl(10,($t-e%$t)%$t),t.e=gd(-e/$t)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=d,a=1,d--):(p.length=d+1,a=Zl(10,$t-r),p[d]=i>0?(f/Zl(10,s-i)%Zl(10,i)|0)*a:0),c)for(;;)if(d==0){(p[0]+=a)==Zn&&(p[0]=1,++t.e);break}else{if(p[d]+=a,p[d]!=Zn)break;p[d--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Yt&&(t.e>I0||t.e<-I0))throw Error(uP+Mn(t));return t}function SH(t,e){var n,r,i,a,s,o,c,f,d,p,m=t.constructor,y=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Yt?Nt(e,y):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(d=s<0,d?(n=c,s=-s,o=p.length):(n=p,r=f,o=c.length),i=Math.max(Math.ceil(y/$t),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,o=p.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}s=0}for(d&&(n=c,c=p,p=n,e.s=-e.s),o=c.length,i=p.length-o;i>0;--i)c[o++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=Zn-1;--c[a],c[i]+=Zn}c[i]-=p[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Yt?Nt(e,y):e):new m(0)}function Pc(t,e,n){var r,i=Mn(t),a=Ka(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+qo(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+qo(-i-1)+a,n&&(r=n-s)>0&&(a+=qo(r))):i>=s?(a+=qo(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+qo(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=qo(r))),t.s<0?"-"+a:a}function S5(t,e){if(t.length>e)return t.length=e,!0}function TH(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(gc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return w5(s,a.toString())}else if(typeof a!="string")throw Error(gc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,r0e.test(a))w5(s,a);else throw Error(gc+a)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=TH,i.config=i.set=i0e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function i0e(t){if(!t||typeof t!="object")throw Error(Qi+"Object expected");var e,n,r,i=["precision",1,pd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(gd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(gc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gc+n+": "+r);return this}var fP=TH(n0e);pi=new fP(1);const bt=fP;var a0e=t=>t,AH={},EH=t=>t===AH,T5=t=>function e(){return arguments.length===0||arguments.length===1&&EH(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},CH=(t,e)=>t===1?e:T5(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==AH).length;return a>=t?e(...r):CH(t-a,T5(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var f=r.map(d=>EH(d)?o.shift():d);return e(...f,...o)}))}),s0e=t=>CH(t.length,t),YA=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},o0e=s0e((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),l0e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return a0e;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,c)=>c(o),a(...arguments))}},GA=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function PH(t){var e;return t===0?e=1:e=Math.floor(new bt(t).abs().log(10).toNumber())+1,e}function RH(t,e,n){for(var r=new bt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var OH=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},MH=(t,e,n)=>{if(t.lte(0))return new bt(0);var r=PH(t.toNumber()),i=new bt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new bt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=o.mul(i);return e?new bt(c.toNumber()):new bt(Math.ceil(c.toNumber()))},c0e=(t,e,n)=>{var r=new bt(1),i=new bt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new bt(10).pow(PH(t)-1),i=new bt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new bt(Math.floor(t)))}else t===0?i=new bt(Math.floor((e-1)/2)):n||(i=new bt(Math.floor(t)));var s=Math.floor((e-1)/2),o=l0e(o0e(c=>i.add(new bt(c-s).mul(r)).toNumber()),YA);return o(0,e)},IH=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new bt(0),tickMin:new bt(0),tickMax:new bt(0)};var s=MH(new bt(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new bt(0):(o=new bt(e).add(n).div(2),o=o.sub(new bt(o).mod(s)));var c=Math.ceil(o.sub(e).div(s).toNumber()),f=Math.ceil(new bt(n).sub(o).div(s).toNumber()),d=c+f+1;return d>r?IH(e,n,r,i,a+1):(d<r&&(f=n>0?f+(r-d):f,c=n>0?c:c+(r-d)),{step:s,tickMin:o.sub(new bt(c).mul(s)),tickMax:o.add(new bt(f).mul(s))})},u0e=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,c]=OH([n,r]);if(o===-1/0||c===1/0){var f=c===1/0?[o,...YA(0,i-1).map(()=>1/0)]:[...YA(0,i-1).map(()=>-1/0),c];return n>r?GA(f):f}if(o===c)return c0e(o,i,a);var{step:d,tickMin:p,tickMax:m}=IH(o,c,s,a,0),y=RH(p,m.add(new bt(.1).mul(d)),d);return n>r?GA(y):y},f0e=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=OH([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var c=Math.max(n,2),f=MH(new bt(o).sub(s).div(c-1),a,0),d=[...RH(new bt(s),new bt(o),f),o];return a===!1&&(d=d.map(p=>Math.round(p))),r>i?GA(d):d},kH=t=>t.rootProps.maxBarSize,d0e=t=>t.rootProps.barGap,NH=t=>t.rootProps.barCategoryGap,h0e=t=>t.rootProps.barSize,vx=t=>t.rootProps.stackOffset,DH=t=>t.rootProps.reverseStackOrder,dP=t=>t.options.chartName,hP=t=>t.rootProps.syncId,BH=t=>t.rootProps.syncMethod,pP=t=>t.options.eventEmitter,p0e=t=>t.rootProps.baseValue,Un={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Us={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ui={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},bx=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},g0e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Us.angleAxisId,includeHidden:!1,name:void 0,reversed:Us.reversed,scale:Us.scale,tick:Us.tick,tickCount:void 0,ticks:void 0,type:Us.type,unit:void 0},m0e={allowDataOverflow:ui.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ui.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ui.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ui.scale,tick:ui.tick,tickCount:ui.tickCount,ticks:void 0,type:ui.type,unit:void 0},y0e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Us.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Us.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Us.scale,tick:Us.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},v0e={allowDataOverflow:ui.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ui.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ui.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ui.scale,tick:ui.tick,tickCount:ui.tickCount,ticks:void 0,type:"category",unit:void 0},gP=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?y0e:g0e,mP=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?v0e:m0e,xx=t=>t.polarOptions,yP=ae([co,uo,Qn],fme),LH=ae([xx,yP],(t,e)=>{if(t!=null)return wa(t.innerRadius,e,0)}),jH=ae([xx,yP],(t,e)=>{if(t!=null)return wa(t.outerRadius,e,e*.8)}),b0e=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},UH=ae([xx],b0e);ae([gP,UH],bx);var FH=ae([yP,LH,jH],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ae([mP,FH],bx);var $H=ae([tt,xx,LH,jH,co,uo],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:o,startAngle:c,endAngle:f}=e;return{cx:wa(s,i,i/2),cy:wa(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),zn=(t,e)=>e,_x=(t,e,n)=>n;function wx(t){return t?.id}function zH(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(o=>{var c,f=(c=o.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var d=wx(o);f.forEach((p,m)=>{var y=a==null||i?m:String(vn(p,a,null)),v=vn(p,o.dataKey,0),b;s.has(y)?b=s.get(y):b={},Object.assign(b,{[d]:v}),s.set(y,b)})}}),Array.from(s.values())}function Sx(t){return t.stackId!=null&&t.dataKey!=null}var Tx=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Ax(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function x0e(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Vn=t=>{var e=tt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},md=t=>t.tooltip.settings.axisId;function A5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A5(Object(n),!0).forEach(function(r){_0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _0e(t,e,n){return(e=w0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w0e(t){var e=S0e(t,"string");return typeof e=="symbol"?e:e+""}function S0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZA=[0,"auto"],Yn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},VH=(t,e)=>t.cartesianAxis.xAxis[e],ho=(t,e)=>{var n=VH(t,e);return n??Yn},Gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ZA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:wg},HH=(t,e)=>t.cartesianAxis.yAxis[e],po=(t,e)=>{var n=HH(t,e);return n??Gn},T0e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},vP=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??T0e},Dr=(t,e,n)=>{switch(e){case"xAxis":return ho(t,n);case"yAxis":return po(t,n);case"zAxis":return vP(t,n);case"angleAxis":return gP(t,n);case"radiusAxis":return mP(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},A0e=(t,e,n)=>{switch(e){case"xAxis":return ho(t,n);case"yAxis":return po(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Mg=(t,e,n)=>{switch(e){case"xAxis":return ho(t,n);case"yAxis":return po(t,n);case"angleAxis":return gP(t,n);case"radiusAxis":return mP(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},WH=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function qH(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Ig=t=>t.graphicalItems.cartesianItems,E0e=ae([zn,_x],qH),XH=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),kg=ae([Ig,Dr,E0e],XH,{memoizeOptions:{resultEqualityCheck:Ax}}),KH=ae([kg],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Sx)),YH=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),C0e=ae([kg],YH),GH=t=>t.map(e=>e.data).filter(Boolean).flat(1),P0e=ae([kg],GH,{memoizeOptions:{resultEqualityCheck:Ax}}),ZH=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},bP=ae([P0e,Og],ZH),QH=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:vn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:vn(i,r)}))):t.map(r=>({value:r})),Ex=ae([bP,Dr,kg],QH);function JH(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function _v(t){if(ns(t)||t instanceof Date){var e=Number(t);if(Ht(e))return e}}function E5(t){if(Array.isArray(t)){var e=[_v(t[0]),_v(t[1])];return fl(e)?e:void 0}var n=_v(t);if(n!=null)return[n,n]}function no(t){return t.map(_v).filter(gfe)}function R0e(t,e,n){return!n||typeof e!="number"||Gi(e)?[]:n.length?no(n.flatMap(r=>{var i=vn(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Ht(a)||!Ht(s)))return[e-a,e+s]})):[]}var Hn=t=>{var e=Vn(t),n=md(t);return Mg(t,e,n)},Ng=ae([Hn],t=>t?.dataKey),O0e=ae([KH,Og,Hn],zH),eW=(t,e,n,r)=>{var i={},a=e.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,c]=s,f=r?[...c].reverse():c,d=f.map(wx);return[o,{stackedData:zhe(t,d,n),graphicalItems:f}]}))},Vp=ae([O0e,KH,vx,DH],eW),tW=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=qhe(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},M0e=ae([Dr],t=>t.allowDataOverflow),xP=t=>{var e;if(t==null||!("domain"in t))return ZA;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=no(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:ZA},nW=ae([Dr],xP),rW=ae([nW,M0e],bH),I0e=ae([Vp,bl,zn,rW],tW,{memoizeOptions:{resultEqualityCheck:Tx}}),_P=t=>t.errorBars,k0e=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>JH(n,r)),N0=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},iW=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(o=>{n.forEach(c=>{var f,d,p=(f=r[c.id])===null||f===void 0?void 0:f.filter(T=>JH(i,T)),m=vn(o,(d=e.dataKey)!==null&&d!==void 0?d:c.dataKey),y=R0e(o,m,p);if(y.length>=2){var v=Math.min(...y),b=Math.max(...y);(a==null||v<a)&&(a=v),(s==null||b>s)&&(s=b)}var w=E5(m);w!=null&&(a=a==null?w[0]:Math.min(a,w[0]),s=s==null?w[1]:Math.max(s,w[1]))})}),e?.dataKey!=null&&t.forEach(o=>{var c=E5(vn(o,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),Ht(a)&&Ht(s))return[a,s]},N0e=ae([bP,Dr,C0e,_P,zn],iW,{memoizeOptions:{resultEqualityCheck:Tx}});function D0e(t){var{value:e}=t;if(ns(e)||e instanceof Date)return e}var B0e=(t,e,n)=>{var r=t.map(D0e).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&yV(r))?j9(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},aW=t=>t.referenceElements.dots,yd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),L0e=ae([aW,zn,_x],yd),sW=t=>t.referenceElements.areas,j0e=ae([sW,zn,_x],yd),oW=t=>t.referenceElements.lines,U0e=ae([oW,zn,_x],yd),lW=(t,e)=>{var n=no(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},F0e=ae(L0e,zn,lW),cW=(t,e)=>{var n=no(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},$0e=ae([j0e,zn],cW);function z0e(t){var e;if(t.x!=null)return no([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:no(n)}function V0e(t){var e;if(t.y!=null)return no([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:no(n)}var uW=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?z0e(r):V0e(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},H0e=ae([U0e,zn],uW),W0e=ae(F0e,H0e,$0e,(t,e,n)=>N0(t,n,e)),fW=(t,e,n,r,i,a,s,o)=>{if(n!=null)return n;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",f=c?N0(r,a,i):N0(a,i);return t0e(e,f,t.allowDataOverflow)},q0e=ae([Dr,nW,rW,I0e,N0e,W0e,tt,zn],fW,{memoizeOptions:{resultEqualityCheck:Tx}}),X0e=[0,1],dW=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:c}=t,f=us(e,a);if(f&&o==null){var d;return j9(0,(d=n?.length)!==null&&d!==void 0?d:0)}return c==="category"?B0e(r,t,f):i==="expand"?X0e:s}},wP=ae([Dr,tt,bP,Ex,vx,zn,q0e],dW),hW=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(yg(a));return o in Hh?o:"point"}}},Dg=ae([Dr,tt,WH,dP,zn],hW);function K0e(t){if(t!=null){if(t in Hh)return Hh[t]();var e="scale".concat(yg(t));if(e in Hh)return Hh[e]()}}function SP(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=K0e(e);if(i!=null){var a=i.domain(n).range(r);return Lhe(a),a}}}var pW=(t,e,n)=>{var r=xP(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&fl(t))return u0e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&fl(t))return f0e(t,e.tickCount,e.allowDecimals)}},TP=ae([wP,Mg,Dg],pW),gW=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&fl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},Y0e=ae([Dr,wP,TP,zn],gW),G0e=ae(Ex,Dr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(no(t.map(o=>o.value))).sort((o,c)=>o-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),mW=ae(G0e,tt,NH,Qn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Ht(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=wa(n,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),Z0e=(t,e)=>{var n=ho(t,e);return n==null||typeof n.padding!="string"?0:mW(t,"xAxis",e,n.padding)},Q0e=(t,e)=>{var n=po(t,e);return n==null||typeof n.padding!="string"?0:mW(t,"yAxis",e,n.padding)},J0e=ae(ho,Z0e,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),ebe=ae(po,Q0e,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),tbe=ae([Qn,J0e,sx,ax,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),nbe=ae([Qn,tt,ebe,sx,ax,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Bg=(t,e,n,r)=>{var i;switch(e){case"xAxis":return tbe(t,n,r);case"yAxis":return nbe(t,n,r);case"zAxis":return(i=vP(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return UH(t);case"radiusAxis":return FH(t,n);default:return}},yW=ae([Dr,Bg],bx),vd=ae([Dr,Dg,Y0e,yW],SP);ae([kg,_P,zn],k0e);function vW(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Cx=(t,e)=>e,Px=(t,e,n)=>n,rbe=ae(rx,Cx,Px,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(vW)),ibe=ae(ix,Cx,Px,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(vW)),bW=(t,e)=>({width:t.width,height:e.height}),abe=(t,e)=>{var n=typeof e.width=="number"?e.width:wg;return{width:n,height:t.height}},xW=ae(Qn,ho,bW),sbe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},obe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},lbe=ae(uo,Qn,rbe,Cx,Px,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var c=bW(e,o);s==null&&(s=sbe(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(f)*c.height,s+=(f?-1:1)*c.height}),a}),cbe=ae(co,Qn,ibe,Cx,Px,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var c=abe(e,o);s==null&&(s=obe(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(f)*c.width,s+=(f?-1:1)*c.width}),a}),ube=(t,e)=>{var n=ho(t,e);if(n!=null)return lbe(t,n.orientation,n.mirror)},fbe=ae([Qn,ho,ube,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),dbe=(t,e)=>{var n=po(t,e);if(n!=null)return cbe(t,n.orientation,n.mirror)},hbe=ae([Qn,po,dbe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),_W=ae(Qn,po,(t,e)=>{var n=typeof e.width=="number"?e.width:wg;return{width:n,height:t.height}}),C5=(t,e,n)=>{switch(e){case"xAxis":return xW(t,n).width;case"yAxis":return _W(t,n).height;default:return}},wW=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=us(t,r),c=e.map(f=>f.value);if(s&&o&&a==="category"&&i&&yV(c))return c}},AP=ae([tt,Ex,Dr,zn],wW),SW=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=us(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},EP=ae([tt,Ex,Mg,zn],SW),P5=ae([tt,A0e,Dg,vd,AP,EP,Bg,TP,zn],(t,e,n,r,i,a,s,o,c)=>{if(e!=null){var f=us(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:o,range:s,realScaleType:n,scale:r}}}),pbe=(t,e,n,r,i,a,s,o,c)=>{if(!(e==null||r==null)){var f=us(t,c),{type:d,ticks:p,tickCount:m}=e,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=d==="category"&&r.bandwidth?r.bandwidth()/y:0;v=c==="angleAxis"&&a!=null&&a.length>=2?qr(a[0]-a[1])*2*v:v;var b=p||i;if(b){var w=b.map((T,C)=>{var A=s?s.indexOf(T):T;return{index:C,coordinate:r(A)+v,value:T,offset:v}});return w.filter(T=>Ht(T.coordinate))}return f&&o?o.map((T,C)=>({coordinate:r(T)+v,value:T,index:C,offset:v})).filter(T=>Ht(T.coordinate)):r.ticks?r.ticks(m).map(T=>({coordinate:r(T)+v,value:T,offset:v})):r.domain().map((T,C)=>({coordinate:r(T)+v,value:s?s[T]:T,index:C,offset:v}))}},TW=ae([tt,Mg,Dg,vd,TP,Bg,AP,EP,zn],pbe),gbe=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=us(t,s),{tickCount:c}=e,f=0;return f=s==="angleAxis"&&r?.length>=2?qr(r[0]-r[1])*2*f:f,o&&a?a.map((d,p)=>({coordinate:n(d)+f,value:d,index:p,offset:f})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+f,value:d,offset:f})):n.domain().map((d,p)=>({coordinate:n(d)+f,value:i?i[d]:d,index:p,offset:f}))}},as=ae([tt,Mg,vd,Bg,AP,EP,zn],gbe),ss=ae(Dr,vd,(t,e)=>{if(!(t==null||e==null))return k0(k0({},t),{},{scale:e})}),mbe=ae([Dr,Dg,wP,yW],SP);ae((t,e,n)=>vP(t,n),mbe,(t,e)=>{if(!(t==null||e==null))return k0(k0({},t),{},{scale:e})});var ybe=ae([tt,rx,ix],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),AW=t=>t.options.defaultTooltipEventType,EW=t=>t.options.validateTooltipEventTypes;function CW(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function CP(t,e){var n=AW(t),r=EW(t);return CW(e,n,r)}function vbe(t){return Me(e=>CP(e,t))}var PW=(t,e)=>{var n,r=Number(e);if(!(Gi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},bbe=t=>t.tooltip.settings,Yo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},xbe={itemInteraction:{click:Yo,hover:Yo},axisInteraction:{click:Yo,hover:Yo},keyboardInteraction:Yo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},RW=Jr({name:"tooltip",initialState:xbe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Xt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ba(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Xt()},removeTooltipEntrySettings:{reducer(t,e){var n=ba(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Xt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:_be,replaceTooltipEntrySettings:wbe,removeTooltipEntrySettings:Sbe,setTooltipSettingsState:Tbe,setActiveMouseOverItemIndex:OW,mouseLeaveItem:Abe,mouseLeaveChart:MW,setActiveClickItemIndex:Ebe,setMouseOverAxisIndex:IW,setMouseClickAxisIndex:Cbe,setSyncInteraction:QA,setKeyboardInteraction:JA}=RW.actions,Pbe=RW.reducer;function R5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R5(Object(n),!0).forEach(function(r){Rbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rbe(t,e,n){return(e=Obe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Obe(t){var e=Mbe(t,"string");return typeof e=="symbol"?e:e+""}function Mbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ibe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function kbe(t){return t.index!=null}var kW=(t,e,n,r)=>{if(e==null)return Yo;var i=Ibe(t,e,n);if(i==null)return Yo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(kbe(i)){if(a)return Dy(Dy({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Dy(Dy({},Yo),{},{coordinate:i.coordinate})};function Nbe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Dbe(t,e){var n=Nbe(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function Bbe(t,e,n){if(n==null||e==null)return!0;var r=vn(t,e);return r==null||!fl(n)?!0:Dbe(r,n)}var PP=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!Ht(a))return i;var s=0,o=1/0;e.length>0&&(o=e.length-1);var c=Math.max(s,Math.min(a,o)),f=e[c];return f==null||Bbe(f,n,r)?String(c):null},NW=(t,e,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var c=s[0],f=c==null?void 0:o(c.positions,a);if(f!=null)return f;var d=i?.[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},DW=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Lg=t=>t.options.tooltipPayloadSearcher,bd=t=>t.tooltip;function O5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O5(Object(n),!0).forEach(function(r){Lbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lbe(t,e,n){return(e=jbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jbe(t){var e=Ube(t,"string");return typeof e=="symbol"?e:e+""}function Ube(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fbe(t,e){return t??e}var BW=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:c,dataStartIndex:f,dataEndIndex:d}=n,p=[];return t.reduce((m,y)=>{var v,{dataDefinedOnItem:b,settings:w}=y,T=Fbe(b,o),C=Array.isArray(T)?f9(T,f,d):T,A=(v=w?.dataKey)!==null&&v!==void 0?v:r,R=w?.nameKey,P;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&s==="axis"?P=vV(C,r,i):P=a(C,e,c,R),Array.isArray(P))P.forEach(k=>{var D=M5(M5({},w),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});m.push(ZB({tooltipEntrySettings:D,dataKey:k.dataKey,payload:k.payload,value:vn(k.payload,k.dataKey),name:k.name}))});else{var O;m.push(ZB({tooltipEntrySettings:w,dataKey:A,payload:P,value:vn(P,A),name:(O=vn(P,R))!==null&&O!==void 0?O:w?.name}))}return m},p)}},RP=ae([Hn,tt,WH,dP,Vn],hW),$be=ae([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),zbe=ae([Vn,md],qH),jg=ae([$be,Hn,zbe],XH,{memoizeOptions:{resultEqualityCheck:Ax}}),Vbe=ae([jg],t=>t.filter(Sx)),Hbe=ae([jg],GH,{memoizeOptions:{resultEqualityCheck:Ax}}),xd=ae([Hbe,bl],ZH),Wbe=ae([Vbe,bl,Hn],zH),OP=ae([xd,Hn,jg],QH),LW=ae([Hn],xP),qbe=ae([Hn],t=>t.allowDataOverflow),jW=ae([LW,qbe],bH),Xbe=ae([jg],t=>t.filter(Sx)),Kbe=ae([Wbe,Xbe,vx,DH],eW),Ybe=ae([Kbe,bl,Vn,jW],tW),Gbe=ae([jg],YH),Zbe=ae([xd,Hn,Gbe,_P,Vn],iW,{memoizeOptions:{resultEqualityCheck:Tx}}),Qbe=ae([aW,Vn,md],yd),Jbe=ae([Qbe,Vn],lW),exe=ae([sW,Vn,md],yd),txe=ae([exe,Vn],cW),nxe=ae([oW,Vn,md],yd),rxe=ae([nxe,Vn],uW),ixe=ae([Jbe,rxe,txe],N0),axe=ae([Hn,LW,jW,Ybe,Zbe,ixe,tt,Vn],fW),Ug=ae([Hn,tt,xd,OP,vx,Vn,axe],dW),sxe=ae([Ug,Hn,RP],pW),oxe=ae([Hn,Ug,sxe,Vn],gW),UW=t=>{var e=Vn(t),n=md(t),r=!1;return Bg(t,e,n,r)},FW=ae([Hn,UW],bx),$W=ae([Hn,RP,oxe,FW],SP),lxe=ae([tt,OP,Hn,Vn],wW),cxe=ae([tt,OP,Hn,Vn],SW),uxe=(t,e,n,r,i,a,s,o)=>{if(e){var{type:c}=e,f=us(t,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return p=o==="angleAxis"&&i!=null&&i?.length>=2?qr(i[0]-i[1])*2*p:p,f&&s?s.map((m,y)=>({coordinate:r(m)+p,value:m,index:y,offset:p})):r.domain().map((m,y)=>({coordinate:r(m)+p,value:a?a[m]:m,index:y,offset:p}))}}},go=ae([tt,Hn,RP,$W,UW,lxe,cxe,Vn],uxe),MP=ae([AW,EW,bbe],(t,e,n)=>CW(n.shared,t,e)),zW=t=>t.tooltip.settings.trigger,IP=t=>t.tooltip.settings.defaultIndex,Fg=ae([bd,MP,zW,IP],kW),Rc=ae([Fg,xd,Ng,Ug],PP),VW=ae([go,Rc],PW),HW=ae([Fg],t=>{if(t)return t.dataKey});ae([Fg],t=>{if(t)return t.graphicalItemId});var WW=ae([bd,MP,zW,IP],DW),fxe=ae([co,uo,tt,Qn,go,IP,WW,Lg],NW),dxe=ae([Fg,fxe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),hxe=ae([Fg],t=>t.active),pxe=ae([WW,Rc,bl,Ng,VW,Lg,MP],BW),gxe=ae([pxe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function I5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(n),!0).forEach(function(r){mxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mxe(t,e,n){return(e=yxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yxe(t){var e=vxe(t,"string");return typeof e=="symbol"?e:e+""}function vxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bxe=()=>Me(Hn),xxe=()=>{var t=bxe(),e=Me(go),n=Me($W);return ul(!t||!n?void 0:k5(k5({},t),{},{scale:n}),e)};function N5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N5(Object(n),!0).forEach(function(r){_xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _xe(t,e,n){return(e=wxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wxe(t){var e=Sxe(t,"string");return typeof e=="symbol"?e:e+""}function Sxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Txe=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Axe=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return Hu(Hu(Hu({},r),fr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:c}=r;return Hu(Hu(Hu({},r),fr(r.cx,r.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Exe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var qW=(t,e,n,r,i)=>{var a,s=-1,o=(a=e?.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<o;c++){var f=c>0?n[c-1].coordinate:n[o-1].coordinate,d=n[c].coordinate,p=c>=o-1?n[0].coordinate:n[c+1].coordinate,m=void 0;if(qr(d-f)!==qr(p-d)){var y=[];if(qr(p-d)===qr(i[1]-i[0])){m=p;var v=d+i[1]-i[0];y[0]=Math.min(v,(v+f)/2),y[1]=Math.max(v,(v+f)/2)}else{m=f;var b=p+i[1]-i[0];y[0]=Math.min(d,(b+d)/2),y[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(t>w[0]&&t<=w[1]||t>=y[0]&&t<=y[1]){({index:s}=n[c]);break}}else{var T=Math.min(f,p),C=Math.max(f,p);if(t>(T+d)/2&&t<=(C+d)/2){({index:s}=n[c]);break}}}else if(e){for(var A=0;A<o;A++)if(A===0&&t<=(e[A].coordinate+e[A+1].coordinate)/2||A>0&&A<o-1&&t>(e[A].coordinate+e[A-1].coordinate)/2&&t<=(e[A].coordinate+e[A+1].coordinate)/2||A===o-1&&t>(e[A].coordinate+e[A-1].coordinate)/2){({index:s}=e[A]);break}}return s},XW=()=>Me(dP),kP=(t,e)=>e,KW=(t,e,n)=>n,NP=(t,e,n,r)=>r,Cxe=ae(go,t=>Kb(t,e=>e.coordinate)),DP=ae([bd,kP,KW,NP],kW),BP=ae([DP,xd,Ng,Ug],PP),Pxe=(t,e,n)=>{if(e!=null){var r=bd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},YW=ae([bd,kP,KW,NP],DW),D0=ae([co,uo,tt,Qn,go,NP,YW,Lg],NW),Rxe=ae([DP,D0],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),GW=ae([go,BP],PW),Oxe=ae([YW,BP,bl,Ng,GW,Lg,kP],BW),Mxe=ae([DP,BP],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Ixe=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&Exe(t,s)){var o=Xhe(t,e),c=qW(o,a,i,n,r),f=Txe(e,i,c,t);return{activeIndex:String(c),activeCoordinate:f}}},kxe=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var o=mme(t,n);if(o){var c=Khe(o,e),f=qW(c,s,a,r,i),d=Axe(e,a,f,o);return{activeIndex:String(f),activeCoordinate:d}}}},Nxe=(t,e,n,r,i,a,s,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?Ixe(t,e,r,i,a,s,o):kxe(t,e,n,r,i,a,s)},Dxe=ae(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Bxe=ae(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Un)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:x0e}});function D5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(n),!0).forEach(function(r){Lxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lxe(t,e,n){return(e=jxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jxe(t){var e=Uxe(t,"string");return typeof e=="symbol"?e:e+""}function Uxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fxe={},$xe={zIndexMap:Object.values(Un).reduce((t,e)=>B5(B5({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Fxe)},zxe=new Set(Object.values(Un));function Vxe(t){return zxe.has(t)}var ZW=Jr({name:"zIndex",initialState:$xe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Xt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Vxe(n)&&delete t.zIndexMap[n])},prepare:Xt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Xt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Xt()}}}),{registerZIndexPortal:Hxe,unregisterZIndexPortal:Wxe,registerZIndexPortalId:qxe,unregisterZIndexPortalId:Xxe}=ZW.actions,Kxe=ZW.reducer;function Si(t){var{zIndex:e,children:n}=t,r=Ppe(),i=r&&e!==void 0&&e!==0,a=Jn(),s=en();x.useLayoutEffect(()=>i?(s(Hxe({zIndex:e})),()=>{s(Wxe({zIndex:e}))}):vg,[s,e,i]);var o=Me(f=>Dxe(f,e,a));if(!i)return n;if(!o)return null;var c=document.getElementById(o);return c?Fc.createPortal(n,c):null}function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(null,arguments)}function L5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function By(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L5(Object(n),!0).forEach(function(r){Yxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yxe(t,e,n){return(e=Gxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gxe(t){var e=Zxe(t,"string");return typeof e=="symbol"?e:e+""}function Zxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qxe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return x.isValidElement(e)?x.cloneElement(e,r):x.createElement(n,r)}function Jxe(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:f,chartName:d}=t,p=n,m=r,y=i;if(!c||!p||d!=="ScatterChart"&&f!=="axis")return null;var v,b,w;if(d==="ScatterChart")v=p,b=Oge,w=Un.cursorLine;else if(d==="BarChart")v=Mge(o,p,a,s),b=N9,w=Un.cursorRectangle;else if(o==="radial"&&xV(p)){var{cx:T,cy:C,radius:A,startAngle:R,endAngle:P}=D9(p);v={cx:T,cy:C,startAngle:R,endAngle:P,innerRadius:A,outerRadius:A},b=L9,w=Un.cursorLine}else v={points:xme(o,p,a)},b=tp,w=Un.cursorLine;var O=typeof c=="object"&&"className"in c?c.className:void 0,k=By(By(By(By({stroke:"#ccc",pointerEvents:"none"},a),v),mg(c)),{},{payload:m,payloadIndex:y,className:Te("recharts-tooltip-cursor",O)});return x.createElement(Si,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:w},x.createElement(Qxe,{cursor:c,cursorComp:b,cursorProps:k}))}function e_e(t){var e=xxe(),n=x9(),r=$c(),i=XW();return e==null||n==null||r==null||i==null?null:x.createElement(Jxe,eE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var QW=x.createContext(null),t_e=()=>x.useContext(QW),vT={exports:{}},j5;function n_e(){return j5||(j5=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,d){this.fn=c,this.context=f,this.once=d||!1}function a(c,f,d,p,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,p||c,m),v=n?n+f:f;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],y]:c._events[v].push(y):(c._events[v]=y,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},o.prototype.listeners=function(f){var d=n?n+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,y=p.length,v=new Array(y);m<y;m++)v[m]=p[m].fn;return v},o.prototype.listenerCount=function(f){var d=n?n+f:f,p=this._events[d];return p?p.fn?1:p.length:0},o.prototype.emit=function(f,d,p,m,y,v){var b=n?n+f:f;if(!this._events[b])return!1;var w=this._events[b],T=arguments.length,C,A;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),T){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,p),!0;case 4:return w.fn.call(w.context,d,p,m),!0;case 5:return w.fn.call(w.context,d,p,m,y),!0;case 6:return w.fn.call(w.context,d,p,m,y,v),!0}for(A=1,C=new Array(T-1);A<T;A++)C[A-1]=arguments[A];w.fn.apply(w.context,C)}else{var R=w.length,P;for(A=0;A<R;A++)switch(w[A].once&&this.removeListener(f,w[A].fn,void 0,!0),T){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,d);break;case 3:w[A].fn.call(w[A].context,d,p);break;case 4:w[A].fn.call(w[A].context,d,p,m);break;default:if(!C)for(P=1,C=new Array(T-1);P<T;P++)C[P-1]=arguments[P];w[A].fn.apply(w[A].context,C)}}return!0},o.prototype.on=function(f,d,p){return a(this,f,d,p,!1)},o.prototype.once=function(f,d,p){return a(this,f,d,p,!0)},o.prototype.removeListener=function(f,d,p,m){var y=n?n+f:f;if(!this._events[y])return this;if(!d)return s(this,y),this;var v=this._events[y];if(v.fn)v.fn===d&&(!m||v.once)&&(!p||v.context===p)&&s(this,y);else{for(var b=0,w=[],T=v.length;b<T;b++)(v[b].fn!==d||m&&!v[b].once||p&&v[b].context!==p)&&w.push(v[b]);w.length?this._events[y]=w.length===1?w[0]:w:s(this,y)}return this},o.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(vT)),vT.exports}var r_e=n_e();const i_e=Aa(r_e);var Hp=new i_e,tE="recharts.syncEvent.tooltip",U5="recharts.syncEvent.brush";function Rx(t,e){if(e){var n=Number.parseInt(e,10);if(!Gi(n))return t?.[n]}}var a_e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},JW=Jr({name:"options",initialState:a_e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),s_e=JW.reducer,{createEventEmitter:o_e}=JW.actions;function l_e(t){return t.tooltip.syncInteraction}var c_e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},e7=Jr({name:"chartData",initialState:c_e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:F5,setDataStartEndIndexes:u_e,setComputedData:f8e}=e7.actions,f_e=e7.reducer,d_e=["x","y"];function $5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$5(Object(n),!0).forEach(function(r){h_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h_e(t,e,n){return(e=p_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p_e(t){var e=g_e(t,"string");return typeof e=="symbol"?e:e+""}function g_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m_e(t,e){if(t==null)return{};var n,r,i=y_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function y_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function v_e(){var t=Me(hP),e=Me(pP),n=en(),r=Me(BH),i=Me(go),a=$c(),s=ox(),o=Me(c=>c.rootProps.className);x.useEffect(()=>{if(t==null)return vg;var c=(f,d,p)=>{if(e!==p&&t===f){if(r==="index"){var m;if(s&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var y=d.payload.coordinate,{x:v,y:b}=y,w=m_e(y,d_e),{x:T,y:C,width:A,height:R}=d.payload.sourceViewBox,P=Wu(Wu({},w),{},{x:s.x+(A?(v-T)/A:0)*s.width,y:s.y+(R?(b-C)/R:0)*s.height});n(Wu(Wu({},d),{},{payload:Wu(Wu({},d.payload),{},{coordinate:P})}))}else n(d);return}if(i!=null){var O;if(typeof r=="function"){var k={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},D=r(i,k);O=i[D]}else r==="value"&&(O=i.find(z=>String(z.value)===d.payload.label));var{coordinate:L}=d.payload;if(O==null||d.payload.active===!1||L==null||s==null){n(QA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:$,y:j}=L,I=Math.min($,s.x+s.width),W=Math.min(j,s.y+s.height),H={x:a==="horizontal"?O.coordinate:I,y:a==="horizontal"?W:O.coordinate},J=QA({active:d.payload.active,coordinate:H,dataKey:d.payload.dataKey,index:String(O.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(J)}}};return Hp.on(tE,c),()=>{Hp.off(tE,c)}},[o,n,e,t,r,i,a,s])}function b_e(){var t=Me(hP),e=Me(pP),n=en();x.useEffect(()=>{if(t==null)return vg;var r=(i,a,s)=>{e!==s&&t===i&&n(u_e(a))};return Hp.on(U5,r),()=>{Hp.off(U5,r)}},[n,e,t])}function x_e(){var t=en();x.useEffect(()=>{t(o_e())},[t]),v_e(),b_e()}function __e(t,e,n,r,i,a){var s=Me(y=>Pxe(y,t,e)),o=Me(pP),c=Me(hP),f=Me(BH),d=Me(l_e),p=d?.active,m=ox();x.useEffect(()=>{if(!p&&c!=null&&o!=null){var y=QA({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});Hp.emit(tE,c,y,o)}},[p,n,s,i,r,o,c,f,a,m])}function z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z5(Object(n),!0).forEach(function(r){w_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w_e(t,e,n){return(e=S_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S_e(t){var e=T_e(t,"string");return typeof e=="symbol"?e:e+""}function T_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A_e(t){return t.dataKey}function E_e(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(cge,e)}var H5=[],C_e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Wp(t){var e,n,r=Fn(t,C_e),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:c,filterNull:f,isAnimationActive:d,offset:p,payloadUniqBy:m,position:y,reverseDirection:v,useTranslate3d:b,wrapperStyle:w,cursor:T,shared:C,trigger:A,defaultIndex:R,portal:P,axisId:O}=r,k=en(),D=typeof R=="number"?String(R):R;x.useEffect(()=>{k(Tbe({shared:C,trigger:A,axisId:O,active:i,defaultIndex:D}))},[k,C,A,O,i,D]);var L=ox(),$=R9(),j=vbe(C),{activeIndex:I,isActive:W}=(e=Me(Ee=>Mxe(Ee,j,A,D)))!==null&&e!==void 0?e:{},H=Me(Ee=>Oxe(Ee,j,A,D)),J=Me(Ee=>GW(Ee,j,A,D)),z=Me(Ee=>Rxe(Ee,j,A,D)),q=H,se=t_e(),le=(n=i??W)!==null&&n!==void 0?n:!1,[_e,F]=DV([q,le]),ee=j==="axis"?J:void 0;__e(j,A,z,ee,I,le);var ye=P??se;if(ye==null||L==null||j==null)return null;var be=q??H5;le||(be=H5),f&&be.length&&(be=OV(be.filter(Ee=>Ee.value!=null&&(Ee.hide!==!0||r.includeHidden)),m,A_e));var Ae=be.length>0,we=x.createElement(mge,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:le,coordinate:z,hasPayload:Ae,offset:p,position:y,reverseDirection:v,useTranslate3d:b,viewBox:L,wrapperStyle:w,lastBoundingBox:_e,innerRef:F,hasPortalFromProps:!!P},E_e(c,V5(V5({},r),{},{payload:be,label:ee,active:le,activeIndex:I,coordinate:z,accessibilityLayer:$})));return x.createElement(x.Fragment,null,Fc.createPortal(we,ye),le&&x.createElement(e_e,{cursor:T,tooltipEventType:j,coordinate:z,payload:be,index:I}))}var t7=t=>null;t7.displayName="Cell";function P_e(t,e,n){return(e=R_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R_e(t){var e=O_e(t,"string");return typeof e=="symbol"?e:e+""}function O_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class M_e{constructor(e){P_e(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function W5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(n),!0).forEach(function(r){k_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k_e(t,e,n){return(e=N_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N_e(t){var e=D_e(t,"string");return typeof e=="symbol"?e:e+""}function D_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B_e={cacheSize:2e3,enableCache:!0},n7=I_e({},B_e),q5=new M_e(n7.cacheSize),L_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},X5="recharts_measurement_span";function j_e(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var K5=(t,e)=>{try{var n=document.getElementById(X5);n||(n=document.createElement("span"),n.setAttribute("id",X5),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,L_e,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},np=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||dd.isSsr)return{width:0,height:0};if(!n7.enableCache)return K5(e,n);var r=j_e(e,n),i=q5.get(r);if(i)return i;var a=K5(e,n);return q5.set(r,a),a},Y5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,F_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,r7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$_e=Object.keys(r7),uf="NaN";function z_e(t,e){return t*r7[e]}class Vr{static parse(e){var n,[,r,i]=(n=F_e.exec(e))!==null&&n!==void 0?n:[];return new Vr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Gi(e)&&(this.unit=""),n!==""&&!U_e.test(n)&&(this.num=NaN,this.unit=""),$_e.includes(n)&&(this.num=z_e(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Gi(this.num)}}function i7(t){if(t.includes(uf))return uf;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=Y5.exec(e))!==null&&n!==void 0?n:[],s=Vr.parse(r??""),o=Vr.parse(a??""),c=i==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return uf;e=e.replace(Y5,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,d,p,m]=(f=G5.exec(e))!==null&&f!==void 0?f:[],y=Vr.parse(d??""),v=Vr.parse(m??""),b=p==="+"?y.add(v):y.subtract(v);if(b.isNaN())return uf;e=e.replace(G5,b.toString())}return e}var Z5=/\(([^()]*)\)/;function V_e(t){for(var e=t,n;(n=Z5.exec(e))!=null;){var[,r]=n;e=e.replace(Z5,i7(r))}return e}function H_e(t){var e=t.replace(/\s+/g,"");return e=V_e(e),e=i7(e),e}function W_e(t){try{return H_e(t)}catch{return uf}}function bT(t){var e=W_e(t.slice(5,-1));return e===uf?"":e}var q_e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],X_e=["dx","dy","angle","className","breakAll"];function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(null,arguments)}function Q5(t,e){if(t==null)return{};var n,r,i=K_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function K_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var a7=/[ \f\n\r\t\v\u2028\u2029]+/,s7=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];zt(e)||(n?i=e.toString().split(""):i=e.toString().split(a7));var a=i.map(o=>({word:o,width:np(o,r).width})),s=n?0:np("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Y_e(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var o7=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:o}=a,c=i[i.length-1];if(c&&o!=null&&(e==null||r||c.width+o+n<Number(e)))c.words.push(s),c.width+=o+n;else{var f={words:[s],width:o};i.push(f)}return i},[]),l7=t=>t.reduce((e,n)=>e.width>n.width?e:n),G_e="",J5=(t,e,n,r,i,a,s,o)=>{var c=t.slice(0,e),f=s7({breakAll:n,style:r,children:c+G_e});if(!f)return[!1,[]];var d=o7(f.wordsWithComputedWidth,a,s,o),p=d.length>i||l7(d).width>Number(a);return[p,d]},Z_e=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:c}=t,f=Ce(a),d=String(s),p=o7(e,r,n,i);if(!f||i)return p;var m=p.length>a||l7(p).width>Number(r);if(!m)return p;for(var y=0,v=d.length-1,b=0,w;y<=v&&b<=d.length-1;){var T=Math.floor((y+v)/2),C=T-1,[A,R]=J5(d,C,c,o,a,r,n,i),[P]=J5(d,T,c,o,a,r,n,i);if(!A&&!P&&(y=T+1),A&&P&&(v=T-1),!A&&P){w=R;break}b++}return w||p},e6=t=>{var e=zt(t)?[]:t.toString().split(a7);return[{words:e,width:void 0}]},Q_e=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!dd.isSsr){var o,c,f=s7({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:d,spaceWidth:p}=f;o=d,c=p}else return e6(r);return Z_e({breakAll:a,children:r,maxLines:s,style:i},o,c,e,!!n)}return e6(r)},c7="#808080",J_e={angle:0,breakAll:!1,capHeight:"0.71em",fill:c7,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},LP=x.forwardRef((t,e)=>{var n=Fn(t,J_e),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:c,textAnchor:f,verticalAnchor:d}=n,p=Q5(n,q_e),m=x.useMemo(()=>Q_e({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:y,dy:v,angle:b,className:w,breakAll:T}=p,C=Q5(p,X_e);if(!ns(r)||!ns(i)||m.length===0)return null;var A=Number(r)+(Ce(y)?y:0),R=Number(i)+(Ce(v)?v:0);if(!Ht(A)||!Ht(R))return null;var P;switch(d){case"start":P=bT("calc(".concat(s,")"));break;case"middle":P=bT("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:P=bT("calc(".concat(m.length-1," * -").concat(a,")"));break}var O=[];if(c){var k=m[0].width,{width:D}=p;O.push("scale(".concat(Ce(D)&&Ce(k)?D/k:1,")"))}return b&&O.push("rotate(".concat(b,", ").concat(A,", ").concat(R,")")),O.length&&(C.transform=O.join(" ")),x.createElement("text",nE({},Ar(C),{ref:e,x:A,y:R,className:Te("recharts-text",w),textAnchor:f,fill:o.includes("url")?c7:o}),m.map((L,$)=>{var j=L.words.join(T?"":" ");return x.createElement("tspan",{x:A,dy:$===0?P:a,key:"".concat(j,"-").concat($)},j)}))});LP.displayName="Text";var e1e=["labelRef"];function t1e(t,e){if(t==null)return{};var n,r,i=n1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function n1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function t6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(n),!0).forEach(function(r){r1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r1e(t,e,n){return(e=i1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i1e(t){var e=a1e(t,"string");return typeof e=="symbol"?e:e+""}function a1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fs.apply(null,arguments)}var u7=x.createContext(null),s1e=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=t,c=x.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return x.createElement(u7.Provider,{value:c},o)},f7=()=>{var t=x.useContext(u7),e=ox();return t||b9(e)},o1e=x.createContext(null),l1e=()=>{var t=x.useContext(o1e),e=Me($H);return t||e},c1e=t=>{var{value:e,formatter:n}=t,r=zt(t.children)?e:t.children;return typeof n=="function"?n(r):r},jP=t=>t!=null&&typeof t=="function",u1e=(t,e)=>{var n=qr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},f1e=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:o,cy:c,innerRadius:f,outerRadius:d,startAngle:p,endAngle:m,clockWise:y}=i,v=(f+d)/2,b=u1e(p,m),w=b>=0?1:-1,T,C;switch(e){case"insideStart":T=p+w*a,C=y;break;case"insideEnd":T=m-w*a,C=!y;break;case"end":T=m+w*a,C=y;break;default:throw new Error("Unsupported position ".concat(e))}C=b<=0?C:!C;var A=fr(o,c,v,T),R=fr(o,c,v,T+(C?1:-1)*359),P="M".concat(A.x,",").concat(A.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(R.x,",").concat(R.y),O=zt(t.id)?Rp("recharts-radial-line-"):t.id;return x.createElement("text",Fs({},r,{dominantBaseline:"central",className:Te("recharts-radial-bar-label",s)}),x.createElement("defs",null,x.createElement("path",{id:O,d:P})),x.createElement("textPath",{xlinkHref:"#".concat(O)},n))},d1e=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=t,f=(o+c)/2;if(n==="outside"){var{x:d,y:p}=fr(r,i,s+e,f);return{x:d,y:p,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+s)/2,{x:y,y:v}=fr(r,i,m,f);return{x:y,y:v,textAnchor:"middle",verticalAnchor:"middle"}},rE=t=>"cx"in t&&Ce(t.cx),h1e=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!rE(n)&&(a=n);var{x:s,y:o,upperWidth:c,lowerWidth:f,height:d}=e,p=s,m=s+(c-f)/2,y=(p+m)/2,v=(c+f)/2,b=p+c/2,w=d>=0?1:-1,T=w*r,C=w>0?"end":"start",A=w>0?"start":"end",R=c>=0?1:-1,P=R*r,O=R>0?"end":"start",k=R>0?"start":"end";if(i==="top"){var D={x:p+c/2,y:o-T,textAnchor:"middle",verticalAnchor:C};return yn(yn({},D),a?{height:Math.max(o-a.y,0),width:c}:{})}if(i==="bottom"){var L={x:m+f/2,y:o+d+T,textAnchor:"middle",verticalAnchor:A};return yn(yn({},L),a?{height:Math.max(a.y+a.height-(o+d),0),width:f}:{})}if(i==="left"){var $={x:y-P,y:o+d/2,textAnchor:O,verticalAnchor:"middle"};return yn(yn({},$),a?{width:Math.max($.x-a.x,0),height:d}:{})}if(i==="right"){var j={x:y+v+P,y:o+d/2,textAnchor:k,verticalAnchor:"middle"};return yn(yn({},j),a?{width:Math.max(a.x+a.width-j.x,0),height:d}:{})}var I=a?{width:v,height:d}:{};return i==="insideLeft"?yn({x:y+P,y:o+d/2,textAnchor:k,verticalAnchor:"middle"},I):i==="insideRight"?yn({x:y+v-P,y:o+d/2,textAnchor:O,verticalAnchor:"middle"},I):i==="insideTop"?yn({x:p+c/2,y:o+T,textAnchor:"middle",verticalAnchor:A},I):i==="insideBottom"?yn({x:m+f/2,y:o+d-T,textAnchor:"middle",verticalAnchor:C},I):i==="insideTopLeft"?yn({x:p+P,y:o+T,textAnchor:k,verticalAnchor:A},I):i==="insideTopRight"?yn({x:p+c-P,y:o+T,textAnchor:O,verticalAnchor:A},I):i==="insideBottomLeft"?yn({x:m+P,y:o+d-T,textAnchor:k,verticalAnchor:C},I):i==="insideBottomRight"?yn({x:m+f-P,y:o+d-T,textAnchor:O,verticalAnchor:C},I):i&&typeof i=="object"&&(Ce(i.x)||Zs(i.x))&&(Ce(i.y)||Zs(i.y))?yn({x:s+wa(i.x,v),y:o+wa(i.y,d),textAnchor:"end",verticalAnchor:"end"},I):yn({x:b,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},I)},p1e={angle:0,offset:5,zIndex:Un.label,position:"middle",textBreakAll:!1};function Xo(t){var e=Fn(t,p1e),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:c,labelRef:f}=e,d=l1e(),p=f7(),m=r==="center"?p:d??p,y,v,b;if(n==null?y=m:rE(n)?y=n:y=b9(n),!y||zt(i)&&zt(a)&&!x.isValidElement(s)&&typeof s!="function")return null;var w=yn(yn({},e),{},{viewBox:y});if(x.isValidElement(s)){var{labelRef:T}=w,C=t1e(w,e1e);return x.cloneElement(s,C)}if(typeof s=="function"){if(v=x.createElement(s,w),x.isValidElement(v))return v}else v=c1e(e);var A=Ar(e);if(rE(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return f1e(e,r,v,A,y);b=d1e(y,e.offset,e.position)}else b=h1e(e,y);return x.createElement(Si,{zIndex:e.zIndex},x.createElement(LP,Fs({ref:f,className:Te("recharts-label",o)},A,b,{textAnchor:Y_e(A.textAnchor)?A.textAnchor:b.textAnchor,breakAll:c}),v))}Xo.displayName="Label";var g1e=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?x.createElement(Xo,Fs({key:"label-implicit"},r)):ns(t)?x.createElement(Xo,Fs({key:"label-implicit",value:t},r)):x.isValidElement(t)?t.type===Xo?x.cloneElement(t,yn({key:"label-implicit"},r)):x.createElement(Xo,Fs({key:"label-implicit",content:t},r)):jP(t)?x.createElement(Xo,Fs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?x.createElement(Xo,Fs({},t,{key:"label-implicit"},r)):null};function m1e(t){var{label:e,labelRef:n}=t,r=f7();return g1e(e,r,n)||null}var xT={},_T={},n6;function y1e(){return n6||(n6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(_T)),_T}var wT={},r6;function v1e(){return r6||(r6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(wT)),wT}var i6;function b1e(){return i6||(i6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y1e(),n=v1e(),r=A3();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(xT)),xT}var ST,a6;function x1e(){return a6||(a6=1,ST=b1e().last),ST}var _1e=x1e();const w1e=Aa(_1e);var S1e=["valueAccessor"],T1e=["dataKey","clockWise","id","textBreakAll","zIndex"];function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(null,arguments)}function s6(t,e){if(t==null)return{};var n,r,i=A1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function A1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var E1e=t=>Array.isArray(t.value)?w1e(t.value):t.value,d7=x.createContext(void 0),UP=d7.Provider,h7=x.createContext(void 0);h7.Provider;function C1e(){return x.useContext(d7)}function P1e(){return x.useContext(h7)}function wv(t){var{valueAccessor:e=E1e}=t,n=s6(t,S1e),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,c=s6(n,T1e),f=C1e(),d=P1e(),p=f||d;return!p||!p.length?null:x.createElement(Si,{zIndex:o??Un.label},x.createElement(Er,{className:"recharts-label-list"},p.map((m,y)=>{var v,b=zt(r)?e(m,y):vn(m&&m.payload,r),w=zt(a)?{}:{id:"".concat(a,"-").concat(y)};return x.createElement(Xo,B0({key:"label-".concat(y)},Ar(m),c,w,{fill:(v=n.fill)!==null&&v!==void 0?v:m.fill,parentViewBox:m.parentViewBox,value:b,textBreakAll:s,viewBox:m.viewBox,index:y,zIndex:0}))})))}wv.displayName="LabelList";function FP(t){var{label:e}=t;return e?e===!0?x.createElement(wv,{key:"labelList-implicit"}):x.isValidElement(e)||jP(e)?x.createElement(wv,{key:"labelList-implicit",content:e}):typeof e=="object"?x.createElement(wv,B0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(null,arguments)}var p7=t=>{var{cx:e,cy:n,r,className:i}=t,a=Te("recharts-dot",i);return Ce(e)&&Ce(n)&&Ce(r)?x.createElement("circle",iE({},xi(t),T3(t),{className:a,cx:e,cy:n,r})):null},R1e={radiusAxis:{},angleAxis:{}},g7=Jr({name:"polarAxis",initialState:R1e,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:d8e,removeRadiusAxis:h8e,addAngleAxis:p8e,removeAngleAxis:g8e}=g7.actions,O1e=g7.reducer,o6=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",l6=null,TT=null,m7=t=>{if(t===l6&&Array.isArray(TT))return TT;var e=[];return x.Children.forEach(t,n=>{zt(n)||(bC.isFragment(n)?e=e.concat(m7(n.props.children)):e.push(n))}),TT=e,l6=t,e};function M1e(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>o6(i)):r=[o6(e)],m7(t).forEach(i=>{var a=If(i,"type.displayName")||If(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var $P=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,AT={},c6;function I1e(){return c6||(c6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(AT)),AT}var ET,u6;function k1e(){return u6||(u6=1,ET=I1e().isPlainObject),ET}var N1e=k1e();const D1e=Aa(N1e);function f6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f6(Object(n),!0).forEach(function(r){B1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B1e(t,e,n){return(e=L1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L1e(t){var e=j1e(t,"string");return typeof e=="symbol"?e:e+""}function j1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L0.apply(null,arguments)}var h6=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},U1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},F1e=t=>{var e=Fn(t,U1e),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=e,{animationEasing:c,animationDuration:f,animationBegin:d,isUpdateAnimationActive:p}=e,m=x.useRef(null),[y,v]=x.useState(-1),b=x.useRef(i),w=x.useRef(a),T=x.useRef(s),C=x.useRef(n),A=x.useRef(r),R=Ag(t,"trapezoid-");if(x.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var H=m.current.getTotalLength();H&&v(H)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var P=Te("recharts-trapezoid",o);if(!p)return x.createElement("g",null,x.createElement("path",L0({},Ar(e),{className:P,d:h6(n,r,i,a,s)})));var O=b.current,k=w.current,D=T.current,L=C.current,$=A.current,j="0px ".concat(y===-1?1:y,"px"),I="".concat(y,"px 0px"),W=O9(["strokeDasharray"],f,c);return x.createElement(Tg,{animationId:R,key:R,canBegin:y>0,duration:f,easing:c,isActive:p,begin:d},H=>{var J=Et(O,i,H),z=Et(k,a,H),q=Et(D,s,H),se=Et(L,n,H),le=Et($,r,H);m.current&&(b.current=J,w.current=z,T.current=q,C.current=se,A.current=le);var _e=H>0?{transition:W,strokeDasharray:I}:{strokeDasharray:j};return x.createElement("path",L0({},Ar(e),{className:P,d:h6(se,le,J,z,q),ref:m,style:d6(d6({},_e),e.style)}))})},$1e=["option","shapeType","propTransformer","activeClassName"];function z1e(t,e){if(t==null)return{};var n,r,i=V1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function V1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function p6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(n),!0).forEach(function(r){H1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H1e(t,e,n){return(e=W1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W1e(t){var e=q1e(t,"string");return typeof e=="symbol"?e:e+""}function q1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X1e(t,e){return j0(j0({},e),t)}function K1e(t,e){return t==="symbols"}function g6(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return x.createElement(N9,n);case"trapezoid":return x.createElement(F1e,n);case"sector":return x.createElement(L9,n);case"symbols":if(K1e(e))return x.createElement(S3,n);break;case"curve":return x.createElement(tp,n);default:return null}}function Y1e(t){return x.isValidElement(t)?t.props:t}function y7(t){var{option:e,shapeType:n,propTransformer:r=X1e,activeClassName:i="recharts-active-shape"}=t,a=z1e(t,$1e),s;if(x.isValidElement(e))s=x.cloneElement(e,j0(j0({},a),Y1e(e)));else if(typeof e=="function")s=e(a,a.index);else if(D1e(e)&&typeof e!="boolean"){var o=r(e,a);s=x.createElement(g6,{shapeType:n,elementProps:o})}else{var c=a;s=x.createElement(g6,{shapeType:n,elementProps:c})}return a.isActive?x.createElement(Er,{className:i},s):s}var v7=(t,e,n)=>{var r=en();return(i,a)=>s=>{t?.(i,a,s),r(OW({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},b7=t=>{var e=en();return(n,r)=>i=>{t?.(n,r,i),e(Abe())}},x7=(t,e,n)=>{var r=en();return(i,a)=>s=>{t?.(i,a,s),r(Ebe({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function zP(t){var{tooltipEntrySettings:e}=t,n=en(),r=Jn(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(_be(e)):i.current!==e&&n(wbe({prev:i.current,next:e})),i.current=e)},[e,n,r]),x.useLayoutEffect(()=>()=>{i.current&&(n(Sbe(i.current)),i.current=null)},[n]),null}function VP(t){var{legendPayload:e}=t,n=en(),r=Jn(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(zpe(e)):i.current!==e&&n(Vpe({prev:i.current,next:e})),i.current=e)},[n,r,e]),x.useLayoutEffect(()=>()=>{i.current&&(n(Hpe(i.current)),i.current=null)},[n]),null}var CT,G1e=()=>{var[t]=x.useState(()=>Rp("uid-"));return t},Z1e=(CT=Bv.useId)!==null&&CT!==void 0?CT:G1e;function _7(t,e){var n=Z1e();return e||(t?"".concat(t,"-").concat(n):n)}var Q1e=x.createContext(void 0),HP=t=>{var{id:e,type:n,children:r}=t,i=_7("recharts-".concat(n),e);return x.createElement(Q1e.Provider,{value:i},r(i))},J1e={cartesianItems:[],polarItems:[]},w7=Jr({name:"graphicalItems",initialState:J1e,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Xt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ba(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Xt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ba(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Xt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Xt()},removePolarGraphicalItem:{reducer(t,e){var n=ba(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Xt()}}}),{addCartesianGraphicalItem:ewe,replaceCartesianGraphicalItem:twe,removeCartesianGraphicalItem:nwe,addPolarGraphicalItem:m8e,removePolarGraphicalItem:y8e}=w7.actions,rwe=w7.reducer,iwe=t=>{var e=en(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?e(ewe(t)):n.current!==t&&e(twe({prev:n.current,next:t})),n.current=t},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(e(nwe(n.current)),n.current=null)},[e]),null},WP=x.memo(iwe),awe=["points"];function m6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m6(Object(n),!0).forEach(function(r){swe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function swe(t,e,n){return(e=owe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function owe(t){var e=lwe(t,"string");return typeof e=="symbol"?e:e+""}function lwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U0.apply(null,arguments)}function cwe(t,e){if(t==null)return{};var n,r,i=uwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fwe(t){var{option:e,dotProps:n,className:r}=t;if(x.isValidElement(e))return x.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Te(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,o=cwe(a,awe);return x.createElement(p7,U0({},o,{className:i}))}function dwe(t,e){return t==null?!1:e?!0:t.length===1}function S7(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:c,zIndex:f=Un.scatter}=t;if(!dwe(e,n))return null;var d=$P(n),p=Sue(n),m=e.map((v,b)=>{var w,T,C=PT(PT(PT({r:3},s),p),{},{index:b,cx:(w=v.x)!==null&&w!==void 0?w:void 0,cy:(T=v.y)!==null&&T!==void 0?T:void 0,dataKey:a,value:v.value,payload:v.payload,points:e});return x.createElement(fwe,{key:"dot-".concat(b),option:n,dotProps:C,className:i})}),y={};return o&&c!=null&&(y.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),x.createElement(Si,{zIndex:f},x.createElement(Er,U0({className:r},y),m))}function y6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(n),!0).forEach(function(r){hwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hwe(t,e,n){return(e=pwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pwe(t){var e=gwe(t,"string");return typeof e=="symbol"?e:e+""}function gwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mwe={xAxis:{},yAxis:{},zAxis:{}},T7=Jr({name:"cartesianAxis",initialState:mwe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Xt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Xt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Xt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Xt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Xt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Xt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Xt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Xt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Xt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=v6(v6({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:ywe,replaceXAxis:vwe,removeXAxis:bwe,addYAxis:xwe,replaceYAxis:_we,removeYAxis:wwe,addZAxis:v8e,replaceZAxis:b8e,removeZAxis:x8e,updateYAxisWidth:Swe}=T7.actions,Twe=T7.reducer,Awe=ae([Qn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Ewe=ae([Awe,co,uo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Ox=()=>Me(Ewe),Cwe=()=>Me(gxe);function b6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b6(Object(n),!0).forEach(function(r){Pwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pwe(t,e,n){return(e=Rwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rwe(t){var e=Owe(t,"string");return typeof e=="symbol"?e:e+""}function Owe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mwe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=RT(RT(RT({},o),mg(i)),T3(i)),f;return x.isValidElement(i)?f=x.cloneElement(i,c):typeof i=="function"?f=i(c):f=x.createElement(p7,c),x.createElement(Er,{className:"recharts-active-dot",clipPath:s},f)};function aE(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=Un.activeDot}=t,o=Me(Rc),c=Cwe();if(e==null||c==null)return null;var f=e.find(d=>c.includes(d.payload));return zt(f)?null:x.createElement(Si,{zIndex:s},x.createElement(Mwe,{point:f,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Iwe="Invariant failed";function kwe(t,e){throw new Error(Iwe)}var Nwe=["x","y"];function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sE.apply(null,arguments)}function x6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(n),!0).forEach(function(r){Dwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dwe(t,e,n){return(e=Bwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bwe(t){var e=Lwe(t,"string");return typeof e=="symbol"?e:e+""}function Lwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jwe(t,e){if(t==null)return{};var n,r,i=Uwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Uwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fwe(t,e){var{x:n,y:r}=t,i=jwe(t,Nwe),a="".concat(n),s=parseInt(a,10),o="".concat(r),c=parseInt(o,10),f="".concat(e.height||i.height),d=parseInt(f,10),p="".concat(e.width||i.width),m=parseInt(p,10);return Mh(Mh(Mh(Mh(Mh({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:m,name:e.name,radius:e.radius})}function F0(t){return x.createElement(y7,sE({shapeType:"rectangle",propTransformer:Fwe,activeClassName:"recharts-active-bar"},t))}var $we=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ce(e))return e;var a=Ce(r)||zt(r);return a?e(r,i):(a||kwe(),n)}},zwe={},A7=Jr({name:"errorBars",initialState:zwe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:_8e,replaceErrorBar:w8e,removeErrorBar:S8e}=A7.actions,Vwe=A7.reducer,Hwe=["children"];function Wwe(t,e){if(t==null)return{};var n,r,i=qwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xwe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Kwe=x.createContext(Xwe);function E7(t){var{children:e}=t,n=Wwe(t,Hwe);return x.createElement(Kwe.Provider,{value:n},e)}function Mx(t,e){var n,r,i=Me(f=>ho(f,t)),a=Me(f=>po(f,e)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Yn.allowDataOverflow,o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Gn.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function qP(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Ox(),{needClipX:a,needClipY:s,needClip:o}=Mx(e,n);if(!o||!i)return null;var{x:c,y:f,width:d,height:p}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?c:c-d/2,y:s?f:f-p/2,width:a?d:d*2,height:s?p:p*2}))}function Ywe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Ht(t.zIndex)?t.zIndex:e}var OT={exports:{}},MT={};var _6;function Gwe(){if(_6)return MT;_6=1;var t=nd();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,o=t.useDebugValue;return MT.useSyncExternalStoreWithSelector=function(c,f,d,p,m){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=s(function(){function w(P){if(!T){if(T=!0,C=P,P=p(P),m!==void 0&&v.hasValue){var O=v.value;if(m(O,P))return A=O}return A=P}if(O=A,n(C,P))return O;var k=p(P);return m!==void 0&&m(O,k)?(C=P,O):(C=P,A=k)}var T=!1,C,A,R=d===void 0?null:d;return[function(){return w(f())},R===null?void 0:function(){return w(R())}]},[f,d,p,m]);var b=r(c,y[0],y[1]);return a(function(){v.hasValue=!0,v.value=b},[b]),o(b),b},MT}var w6;function Zwe(){return w6||(w6=1,OT.exports=Gwe()),OT.exports}Zwe();function Qwe(t){t()}function Jwe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Qwe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var S6={notify(){},get:()=>[]};function eSe(t,e){let n,r=S6,i=0,a=!1;function s(b){d();const w=r.subscribe(b);let T=!1;return()=>{T||(T=!0,w(),p())}}function o(){r.notify()}function c(){v.onStateChange&&v.onStateChange()}function f(){return a}function d(){i++,n||(n=t.subscribe(c),r=Jwe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=S6)}function m(){a||(a=!0,d())}function y(){a&&(a=!1,p())}const v={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:f,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return v}var tSe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nSe=tSe(),rSe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",iSe=rSe(),aSe=()=>nSe||iSe?x.useLayoutEffect:x.useEffect,sSe=aSe();function T6(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function oSe(t,e){if(T6(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!T6(t[n[i]],e[n[i]]))return!1;return!0}var lSe=Symbol.for("react-redux-context"),cSe=typeof globalThis<"u"?globalThis:{};function uSe(){if(!x.createContext)return{};const t=cSe[lSe]??=new Map;let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var fSe=uSe();function dSe(t){const{children:e,context:n,serverState:r,store:i}=t,a=x.useMemo(()=>{const c=eSe(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=x.useMemo(()=>i.getState(),[i]);sSe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const o=n||fSe;return x.createElement(o.Provider,{value:a},e)}var hSe=dSe,pSe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function gSe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function $g(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(pSe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!oSe(t[r],e[r]))return!1}else if(!gSe(t[r],e[r]))return!1;return!0}var mSe=["onMouseEnter","onMouseLeave","onClick"],ySe=["value","background","tooltipPosition"],vSe=["id"],bSe=["onMouseEnter","onClick","onMouseLeave"];function ro(){return ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ro.apply(null,arguments)}function A6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(n),!0).forEach(function(r){xSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xSe(t,e,n){return(e=_Se(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Se(t){var e=wSe(t,"string");return typeof e=="symbol"?e:e+""}function wSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $0(t,e){if(t==null)return{};var n,r,i=SSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var TSe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:fd(n,e),payload:t}]},ASe=x.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o,tooltipType:c}=t,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:fd(a,e),hide:s,type:c,color:i,unit:o}};return x.createElement(zP,{tooltipEntrySettings:f})});function ESe(t){var e=Me(Rc),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:o,onClick:c}=a,f=$0(a,mSe),d=v7(s,r),p=b7(o),m=x7(c,r);if(!i||n==null)return null;var y=mg(i);return x.createElement(Si,{zIndex:Ywe(i,Un.barBackground)},n.map((v,b)=>{var{value:w,background:T,tooltipPosition:C}=v,A=$0(v,ySe);if(!T)return null;var R=d(v,b),P=p(v,b),O=m(v,b),k=Or(Or(Or(Or(Or({option:i,isActive:String(b)===e},A),{},{fill:"#eee"},T),y),Xb(f,v,b)),{},{onMouseEnter:R,onMouseLeave:P,onClick:O,dataKey:r,index:b,className:"recharts-bar-background-rectangle"});return x.createElement(F0,ro({key:"background-bar-".concat(b)},k))}))}function CSe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Or(Or({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return x.createElement(UP,{value:e?i:void 0},n)}function PSe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,o=Me(Rc),c=Me(HW),f=n&&String(a)===o&&(c==null||s===c),d=f?n:e;return f?x.createElement(Si,{zIndex:Un.activeBar},x.createElement(F0,ro({},r,{name:String(r.name)},i,{isActive:f,option:d,index:a,dataKey:s}))):x.createElement(F0,ro({},r,{name:String(r.name)},i,{isActive:f,option:d,index:a,dataKey:s}))}function RSe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return x.createElement(F0,ro({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function OSe(t){var e,{data:n,props:r}=t,i=(e=xi(r))!==null&&e!==void 0?e:{},{id:a}=i,s=$0(i,vSe),{shape:o,dataKey:c,activeBar:f}=r,{onMouseEnter:d,onClick:p,onMouseLeave:m}=r,y=$0(r,bSe),v=v7(d,c),b=b7(m),w=x7(p,c);return n?x.createElement(x.Fragment,null,n.map((T,C)=>x.createElement(Er,ro({key:"rectangle-".concat(T?.x,"-").concat(T?.y,"-").concat(T?.value,"-").concat(C),className:"recharts-bar-rectangle"},Xb(y,T,C),{onMouseEnter:v(T,C),onMouseLeave:b(T,C),onClick:w(T,C)}),f?x.createElement(PSe,{shape:o,activeBar:f,baseProps:s,entry:T,index:C,dataKey:c}):x.createElement(RSe,{shape:o,baseProps:s,entry:T,index:C,dataKey:c})))):null}function MSe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:f,onAnimationStart:d}=e,p=n.current,m=Ag(e,"recharts-bar-"),[y,v]=x.useState(!1),b=!y,w=x.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),T=x.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return x.createElement(CSe,{showLabels:b,rects:r},x.createElement(Tg,{animationId:m,begin:s,duration:o,isActive:a,easing:c,onAnimationEnd:w,onAnimationStart:T,key:m},C=>{var A=C===1?r:r?.map((R,P)=>{var O=p&&p[P];if(O)return Or(Or({},R),{},{x:Et(O.x,R.x,C),y:Et(O.y,R.y,C),width:Et(O.width,R.width,C),height:Et(O.height,R.height,C)});if(i==="horizontal"){var k=Et(0,R.height,C),D=Et(R.stackedBarStart,R.y,C);return Or(Or({},R),{},{y:D,height:k})}var L=Et(0,R.width,C),$=Et(R.stackedBarStart,R.x,C);return Or(Or({},R),{},{width:L,x:$})});return C>0&&(n.current=A??null),A==null?null:x.createElement(Er,null,x.createElement(OSe,{props:e,data:A}))}),x.createElement(FP,{label:e.label}),e.children)}function ISe(t){var e=x.useRef(null);return x.createElement(MSe,{previousRectanglesRef:e,props:t})}var C7=0,kSe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:vn(t,e)}};class NSe extends x.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:o,background:c,id:f}=this.props;if(e||n==null)return null;var d=Te("recharts-bar",i),p=f;return x.createElement(Er,{className:d,id:f},o&&x.createElement("defs",null,x.createElement(qP,{clipPathId:p,xAxisId:a,yAxisId:s})),x.createElement(Er,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(p,")"):void 0},x.createElement(ESe,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),x.createElement(ISe,this.props)))}}var DSe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:C7,xAxisId:0,yAxisId:0,zIndex:Un.bar};function BSe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:f,isAnimationActive:d}=t,{needClip:p}=Mx(e,n),m=$c(),y=Jn(),v=M1e(t.children,t7),b=Me(C=>uTe(C,e,n,y,t.id,v));if(m!=="vertical"&&m!=="horizontal")return null;var w,T=b?.[0];return T==null||T.height==null||T.width==null?w=0:w=m==="vertical"?T.height/2:T.width/2,x.createElement(E7,{xAxisId:e,yAxisId:n,data:b,dataPointFormatter:kSe,errorBarOffset:w},x.createElement(NSe,ro({},t,{layout:m,needClip:p,data:b,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:f,isAnimationActive:d})))}function LSe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:f,stackedData:d,displayedData:p,offset:m,cells:y,parentViewBox:v,dataStartIndex:b}=t,w=e==="horizontal"?o:s,T=d?w.scale.domain():null,C=Vhe({numericAxis:w}),A=w.scale(C);return p.map((R,P)=>{var O,k,D,L,$,j;d?O=jhe(d[P+b],T):(O=vn(R,n),Array.isArray(O)||(O=[C,O]));var I=$we(r,C7)(O[1],P);if(e==="horizontal"){var W,[H,J]=[o.scale(O[0]),o.scale(O[1])];k=KB({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:R,index:P}),D=(W=J??H)!==null&&W!==void 0?W:void 0,L=i.size;var z=H-J;if($=Gi(z)?0:z,j={x:k,y:m.top,width:L,height:m.height},Math.abs(I)>0&&Math.abs($)<Math.abs(I)){var q=qr($||I)*(Math.abs(I)-Math.abs($));D-=q,$+=q}}else{var[se,le]=[s.scale(O[0]),s.scale(O[1])];if(k=se,D=KB({axis:o,ticks:f,bandSize:a,offset:i.offset,entry:R,index:P}),L=le-se,$=i.size,j={x:m.left,y:D,width:m.width,height:$},Math.abs(I)>0&&Math.abs(L)<Math.abs(I)){var _e=qr(L||I)*(Math.abs(I)-Math.abs(L));L+=_e}}if(k==null||D==null||L==null||$==null)return null;var F=Or(Or({},R),{},{stackedBarStart:A,x:k,y:D,width:L,height:$,value:d?O:O[1],payload:R,background:j,tooltipPosition:{x:k+L/2,y:D+$/2},parentViewBox:v},y&&y[P]&&y[P].props);return F}).filter(Boolean)}function jSe(t){var e=Fn(t,DSe),n=Jn();return x.createElement(HP,{id:e.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(VP,{legendPayload:TSe(e)}),x.createElement(ASe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),x.createElement(WP,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:p9(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),x.createElement(Si,{zIndex:e.zIndex},x.createElement(BSe,ro({},e,{id:r})))))}var XP=x.memo(jSe,$g);XP.displayName="Bar";function E6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(n),!0).forEach(function(r){USe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function USe(t,e,n){return(e=FSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FSe(t){var e=$Se(t,"string");return typeof e=="symbol"?e:e+""}function $Se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zSe=(t,e)=>e,VSe=(t,e,n)=>n,HSe=(t,e,n,r)=>r,WSe=(t,e,n,r,i)=>i,zg=ae([Ig,WSe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),qSe=ae([zg],t=>t?.maxBarSize),XSe=(t,e,n,r,i,a)=>a,C6=(t,e,n)=>{var r=n??t;if(!zt(r))return wa(r,e,0)},KSe=ae([tt,Ig,zSe,VSe,HSe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),YSe=(t,e,n,r)=>{var i=tt(t);return i==="horizontal"?Vp(t,"yAxis",n,r):Vp(t,"xAxis",e,r)},GSe=(t,e,n)=>{var r=tt(t);return r==="horizontal"?C5(t,"xAxis",e):C5(t,"yAxis",n)},ZSe=(t,e,n)=>{var r={},i=t.filter(Sx),a=t.filter(f=>f.stackId==null),s=i.reduce((f,d)=>(f[d.stackId]||(f[d.stackId]=[]),f[d.stackId].push(d),f),r),o=Object.entries(s).map(f=>{var[d,p]=f,m=p.map(v=>v.dataKey),y=C6(e,n,p[0].barSize);return{stackId:d,dataKeys:m,barSize:y}}),c=a.map(f=>{var d=[f.dataKey].filter(m=>m!=null),p=C6(e,n,f.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...o,...c]},QSe=ae([KSe,h0e,GSe],ZSe),JSe=(t,e,n,r,i)=>{var a,s,o=zg(t,e,n,r,i);if(o!=null){var c=tt(t),f=kH(t),{maxBarSize:d}=o,p=zt(d)?f:d,m,y;return c==="horizontal"?(m=ss(t,"xAxis",e,r),y=as(t,"xAxis",e,r)):(m=ss(t,"yAxis",n,r),y=as(t,"yAxis",n,r)),(a=(s=ul(m,y,!0))!==null&&s!==void 0?s:p)!==null&&a!==void 0?a:0}},P7=(t,e,n,r)=>{var i=tt(t),a,s;return i==="horizontal"?(a=ss(t,"xAxis",e,r),s=as(t,"xAxis",e,r)):(a=ss(t,"yAxis",n,r),s=as(t,"yAxis",n,r)),ul(a,s)};function eTe(t,e,n,r,i){var a=r.length;if(!(a<1)){var s=wa(t,n,0,!0),o,c=[];if(Ht(r[0].barSize)){var f=!1,d=n/a,p=r.reduce((T,C)=>T+(C.barSize||0),0);p+=(a-1)*s,p>=n&&(p-=(a-1)*s,s=0),p>=n&&d>0&&(f=!0,d*=.9,p=a*d);var m=(n-p)/2>>0,y={offset:m-s,size:0};o=r.reduce((T,C)=>{var A,R={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:y.offset+y.size+s,size:f?d:(A=C.barSize)!==null&&A!==void 0?A:0}},P=[...T,R];return y=P[P.length-1].position,P},c)}else{var v=wa(e,n,0,!0);n-2*v-(a-1)*s<=0&&(s=0);var b=(n-2*v-(a-1)*s)/a;b>1&&(b>>=0);var w=Ht(i)?Math.min(b,i):b;o=r.reduce((T,C,A)=>[...T,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:v+(b+s)*A+(b-w)/2,size:w}}],c)}return o}}var tTe=(t,e,n,r,i,a,s)=>{var o=zt(s)?e:s,c=eTe(n,r,i!==a?i:a,t,o);return i!==a&&c!=null&&(c=c.map(f=>Ly(Ly({},f),{},{position:Ly(Ly({},f.position),{},{offset:f.position.offset-i/2})}))),c},nTe=ae([QSe,kH,d0e,NH,JSe,P7,qSe],tTe),rTe=(t,e,n,r)=>ss(t,"xAxis",e,r),iTe=(t,e,n,r)=>ss(t,"yAxis",n,r),aTe=(t,e,n,r)=>as(t,"xAxis",e,r),sTe=(t,e,n,r)=>as(t,"yAxis",n,r),oTe=ae([nTe,zg],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),lTe=(t,e)=>{var n=wx(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},cTe=ae([YSe,zg],lTe),uTe=ae([Qn,D3,rTe,iTe,aTe,sTe,oTe,tt,Og,P7,cTe,zg,XSe],(t,e,n,r,i,a,s,o,c,f,d,p,m)=>{var{chartData:y,dataStartIndex:v,dataEndIndex:b}=c;if(!(p==null||s==null||e==null||o!=="horizontal"&&o!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:w}=p,T;if(w!=null&&w.length>0?T=w:T=y?.slice(v,b+1),T!=null)return LSe({layout:o,barSettings:p,pos:s,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:T,offset:t,cells:m,dataStartIndex:v})}}),fTe=t=>{var{chartData:e}=t,n=en(),r=Jn();return x.useEffect(()=>r?()=>{}:(n(F5(e)),()=>{n(F5(void 0))}),[e,n,r]),null},P6={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},R7=Jr({name:"brush",initialState:P6,reducers:{setBrushSettings(t,e){return e.payload==null?P6:e.payload}}}),{setBrushSettings:T8e}=R7.actions,dTe=R7.reducer;function hTe(t,e,n){return(e=pTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pTe(t){var e=gTe(t,"string");return typeof e=="symbol"?e:e+""}function gTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class KP{static create(e){return new KP(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}hTe(KP,"EPS",1e-4);function mTe(t){return(t%180+180)%180}var yTe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=mTe(i),s=a*Math.PI/180,o=Math.atan(r/n),c=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},vTe={dots:[],areas:[],lines:[]},O7=Jr({name:"referenceElements",initialState:vTe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ba(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ba(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ba(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:A8e,removeDot:E8e,addArea:C8e,removeArea:P8e,addLine:R8e,removeLine:O8e}=O7.actions,bTe=O7.reducer,xTe=x.createContext(void 0),_Te=t=>{var{children:e}=t,[n]=x.useState("".concat(Rp("recharts"),"-clip")),r=Ox();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return x.createElement(xTe.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function M7(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function wTe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return yTe(r,n)}function STe(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function z0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function TTe(t,e){return M7(t,e+1)}function ATe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=e,c=0,f=1,d=s,p=function(){var v=r?.[c];if(v===void 0)return{v:M7(r,f)};var b=c,w,T=()=>(w===void 0&&(w=n(v,b)),w),C=v.coordinate,A=c===0||z0(t,C,T,d,o);A||(c=0,d=s,f+=1),A&&(d=C+t*(T()/2+i),c+=f)},m;f<=a.length;)if(m=p(),m)return m.v;return[]}function R6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(n),!0).forEach(function(r){ETe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ETe(t,e,n){return(e=CTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CTe(t){var e=PTe(t,"string");return typeof e=="symbol"?e:e+""}function PTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RTe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=e,{end:c}=e,f=function(m){var y=a[m],v,b=()=>(v===void 0&&(v=n(y,m)),v);if(m===s-1){var w=t*(y.coordinate+t*b()/2-c);a[m]=y=vr(vr({},y),{},{tickCoord:w>0?y.coordinate-w*t:y.coordinate})}else a[m]=y=vr(vr({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var T=z0(t,y.tickCoord,b,o,c);T&&(c=y.tickCoord-t*(b()/2+i),a[m]=vr(vr({},y),{},{isShow:!0}))}},d=s-1;d>=0;d--)f(d);return a}function OTe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:c,end:f}=e;if(a){var d=r[o-1],p=n(d,o-1),m=t*(d.coordinate+t*p/2-f);if(s[o-1]=d=vr(vr({},d),{},{tickCoord:m>0?d.coordinate-m*t:d.coordinate}),d.tickCoord!=null){var y=z0(t,d.tickCoord,()=>p,c,f);y&&(f=d.tickCoord-t*(p/2+i),s[o-1]=vr(vr({},d),{},{isShow:!0}))}}for(var v=a?o-1:o,b=function(C){var A=s[C],R,P=()=>(R===void 0&&(R=n(A,C)),R);if(C===0){var O=t*(A.coordinate-t*P()/2-c);s[C]=A=vr(vr({},A),{},{tickCoord:O<0?A.coordinate-O*t:A.coordinate})}else s[C]=A=vr(vr({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var k=z0(t,A.tickCoord,P,c,f);k&&(c=A.tickCoord+t*(P()/2+i),s[C]=vr(vr({},A),{},{isShow:!0}))}},w=0;w<v;w++)b(w);return s}function YP(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:c,tickFormatter:f,unit:d,angle:p}=t;if(!i||!i.length||!r)return[];if(Ce(c)||dd.isSsr){var m;return(m=TTe(i,Ce(c)?c:0))!==null&&m!==void 0?m:[]}var y=[],v=o==="top"||o==="bottom"?"width":"height",b=d&&v==="width"?np(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=(A,R)=>{var P=typeof f=="function"?f(A.value,R):A.value;return v==="width"?wTe(np(P,{fontSize:e,letterSpacing:n}),b,p):np(P,{fontSize:e,letterSpacing:n})[v]},T=i.length>=2?qr(i[1].coordinate-i[0].coordinate):1,C=STe(a,T,v);return c==="equidistantPreserveStart"?ATe(T,C,w,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=OTe(T,C,w,i,s,c==="preserveStartEnd"):y=RTe(T,C,w,i,s),y.filter(A=>A.isShow))}var MTe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>s&&(s=p.width)}});var o=n?n.getBoundingClientRect().width:0,c=i+a,f=s+c+o+(n?r:0);return Math.round(f)}return 0},ITe=["axisLine","width","height","className","hide","ticks","axisType"];function kTe(t,e){if(t==null)return{};var n,r,i=NTe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function NTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc.apply(null,arguments)}function O6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O6(Object(n),!0).forEach(function(r){DTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DTe(t,e,n){return(e=BTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BTe(t){var e=LTe(t,"string");return typeof e=="symbol"?e:e+""}function LTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Un.axis};function jTe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:c}=t;if(!o)return null;var f=Pn(Pn(Pn({},c),xi(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);f=Pn(Pn({},f),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);f=Pn(Pn({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return x.createElement("line",Oc({},f,{className:Te("recharts-cartesian-axis-line",If(o,"className"))}))}function UTe(t,e,n,r,i,a,s,o,c){var f,d,p,m,y,v,b=o?-1:1,w=t.tickSize||s,T=Ce(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=d=t.coordinate,m=n+ +!o*i,p=m-b*w,v=p-b*c,y=T;break;case"left":p=m=t.coordinate,d=e+ +!o*r,f=d-b*w,y=f-b*c,v=T;break;case"right":p=m=t.coordinate,d=e+ +o*r,f=d+b*w,y=f+b*c,v=T;break;default:f=d=t.coordinate,m=n+ +o*i,p=m+b*w,v=p+b*c,y=T;break}return{line:{x1:f,y1:p,x2:d,y2:m},tick:{x:y,y:v}}}function FTe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function $Te(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function zTe(t){var{option:e,tickProps:n,value:r}=t,i,a=Te(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,Pn(Pn({},n),{},{className:a}));else if(typeof e=="function")i=e(Pn(Pn({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Te(s,e?.className)),i=x.createElement(LP,Oc({},n,{className:s}),r)}return i}var VTe=x.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:c,tickTextProps:f,orientation:d,mirror:p,x:m,y,width:v,height:b,tickSize:w,tickMargin:T,fontSize:C,letterSpacing:A,getTicksConfig:R,events:P,axisType:O}=t,k=YP(Pn(Pn({},R),{},{ticks:n}),C,A),D=FTe(d,p),L=$Te(d,p),$=xi(R),j=mg(r),I={};typeof i=="object"&&(I=i);var W=Pn(Pn({},$),{},{fill:"none"},I),H=k.map(q=>Pn({entry:q},UTe(q,m,y,v,b,d,w,p,T))),J=H.map(q=>{var{entry:se,line:le}=q;return x.createElement(Er,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},i&&x.createElement("line",Oc({},W,le,{className:Te("recharts-cartesian-axis-tick-line",If(i,"className"))})))}),z=H.map((q,se)=>{var{entry:le,tick:_e}=q,F=Pn(Pn(Pn(Pn({textAnchor:D,verticalAnchor:L},$),{},{stroke:"none",fill:a},j),_e),{},{index:se,payload:le,visibleTicksCount:k.length,tickFormatter:s,padding:c},f);return x.createElement(Er,Oc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},Xb(P,le,se)),r&&x.createElement(zTe,{option:r,tickProps:F,value:"".concat(typeof s=="function"?s(le.value,se):le.value).concat(o||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},z.length>0&&x.createElement(Si,{zIndex:Un.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:e},z)),J.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},J))}),HTe=x.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:c}=t,f=kTe(t,ITe),[d,p]=x.useState(""),[m,y]=x.useState(""),v=x.useRef(null);x.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return MTe({ticks:v.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=x.useCallback(w=>{if(w){var T=w.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=T;var C=T[0];if(C){var A=window.getComputedStyle(C),R=A.fontSize,P=A.letterSpacing;(R!==d||P!==m)&&(p(R),y(P))}}},[d,m]);return s||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(Si,{zIndex:t.zIndex},x.createElement(Er,{className:Te("recharts-cartesian-axis",a)},x.createElement(jTe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:xi(t)}),x.createElement(VTe,{ref:b,axisType:c,events:f,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),x.createElement(s1e,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},x.createElement(m1e,{label:t.label,labelRef:t.labelRef}),t.children)))}),GP=x.forwardRef((t,e)=>{var n=Fn(t,qs);return x.createElement(HTe,Oc({},n,{ref:e}))});GP.displayName="CartesianAxis";var WTe=["x1","y1","x2","y2","key"],qTe=["offset"],XTe=["xAxisId","yAxisId"],KTe=["xAxisId","yAxisId"];function M6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(n),!0).forEach(function(r){YTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YTe(t,e,n){return(e=GTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GTe(t){var e=ZTe(t,"string");return typeof e=="symbol"?e:e+""}function ZTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(null,arguments)}function V0(t,e){if(t==null)return{};var n,r,i=QTe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function QTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var JTe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=t;return x.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function I7(t){var{option:e,lineItemProps:n}=t,r;if(x.isValidElement(e))r=x.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:o,y2:c,key:f}=n,d=V0(n,WTe),p=(i=xi(d))!==null&&i!==void 0?i:{},{offset:m}=p,y=V0(p,qTe);r=x.createElement("line",ac({},y,{x1:a,y1:s,x2:o,y2:c,fill:"none",key:f}))}return r}function e2e(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=V0(t,XTe),c=i.map((f,d)=>{var p=xr(xr({},o),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(d),index:d});return x.createElement(I7,{key:"line-".concat(d),option:r,lineItemProps:p})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function t2e(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=V0(t,KTe),c=i.map((f,d)=>{var p=xr(xr({},o),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(d),index:d});return x.createElement(I7,{option:r,lineItemProps:p,key:"line-".concat(d)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function n2e(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:c=!0}=t;if(!c||!e||!e.length||o==null)return null;var f=o.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==f[0]&&f.unshift(0);var d=f.map((p,m)=>{var y=!f[m+1],v=y?i+s-p:f[m+1]-p;if(v<=0)return null;var b=m%e.length;return x.createElement("rect",{key:"react-".concat(m),y:p,x:r,height:v,width:a,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function r2e(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==f[0]&&f.unshift(0);var d=f.map((p,m)=>{var y=!f[m+1],v=y?i+s-p:f[m+1]-p;if(v<=0)return null;var b=m%n.length;return x.createElement("rect",{key:"react-".concat(m),x:p,y:a,width:v,height:o,stroke:"none",fill:n[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var i2e=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return d9(YP(xr(xr(xr({},qs),n),{},{ticks:h9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},a2e=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return d9(YP(xr(xr(xr({},qs),n),{},{ticks:h9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},s2e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Un.grid};function Ff(t){var e=L3(),n=j3(),r=x9(),i=xr(xr({},Fn(t,s2e)),{},{x:Ce(t.x)?t.x:r.left,y:Ce(t.y)?t.y:r.top,width:Ce(t.width)?t.width:r.width,height:Ce(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:c,width:f,height:d,syncWithTicks:p,horizontalValues:m,verticalValues:y}=i,v=Jn(),b=Me(L=>P5(L,"xAxis",a,v)),w=Me(L=>P5(L,"yAxis",s,v));if(!rs(f)||!rs(d)||!Ce(o)||!Ce(c))return null;var T=i.verticalCoordinatesGenerator||i2e,C=i.horizontalCoordinatesGenerator||a2e,{horizontalPoints:A,verticalPoints:R}=i;if((!A||!A.length)&&typeof C=="function"){var P=m&&m.length,O=C({yAxis:w?xr(xr({},w),{},{ticks:P?m:w.ticks}):void 0,width:e??f,height:n??d,offset:r},P?!0:p);p0(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(A=O)}if((!R||!R.length)&&typeof T=="function"){var k=y&&y.length,D=T({xAxis:b?xr(xr({},b),{},{ticks:k?y:b.ticks}):void 0,width:e??f,height:n??d,offset:r},k?!0:p);p0(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(R=D)}return x.createElement(Si,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(JTe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(n2e,ac({},i,{horizontalPoints:A})),x.createElement(r2e,ac({},i,{verticalPoints:R})),x.createElement(e2e,ac({},i,{offset:r,horizontalPoints:A,xAxis:b,yAxis:w})),x.createElement(t2e,ac({},i,{offset:r,verticalPoints:R,xAxis:b,yAxis:w}))))}Ff.displayName="CartesianGrid";var k7=(t,e,n,r)=>ss(t,"xAxis",e,r),N7=(t,e,n,r)=>as(t,"xAxis",e,r),D7=(t,e,n,r)=>ss(t,"yAxis",n,r),B7=(t,e,n,r)=>as(t,"yAxis",n,r),o2e=ae([tt,k7,D7,N7,B7],(t,e,n,r,i)=>us(t,"xAxis")?ul(e,r,!1):ul(n,i,!1)),l2e=(t,e,n,r,i)=>i;function c2e(t){return t.type==="line"}var u2e=ae([Ig,l2e],(t,e)=>t.filter(c2e).find(n=>n.id===e)),f2e=ae([tt,k7,D7,N7,B7,u2e,o2e,Og],(t,e,n,r,i,a,s,o)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:d}=o;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:m}=a,y;if(m!=null&&m.length>0?y=m:y=c?.slice(f,d+1),y!=null)return M2e({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:s,displayedData:y})}});function L7(t){var e=mg(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var d2e=["id"],h2e=["type","layout","connectNulls","needClip","shape"],p2e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function qp(){return qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qp.apply(null,arguments)}function I6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I6(Object(n),!0).forEach(function(r){g2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g2e(t,e,n){return(e=m2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m2e(t){var e=y2e(t,"string");return typeof e=="symbol"?e:e+""}function y2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZP(t,e){if(t==null)return{};var n,r,i=v2e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function v2e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var b2e=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:fd(n,e),payload:t}]},x2e=x.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:c,tooltipType:f}=t,d={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:fd(s,e),hide:o,type:f,color:r,unit:c}};return x.createElement(zP,{tooltipEntrySettings:d})}),j7=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function _2e(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var w2e=(t,e,n)=>{var r=n.reduce((p,m)=>p+m);if(!r)return j7(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,o=[],c=0,f=0;c<n.length;f+=n[c],++c)if(f+n[c]>a){o=[...n.slice(0,c),a-f];break}var d=o.length%2===0?[0,s]:[s];return[..._2e(n,i),...o,...d].map(p=>"".concat(p,"px")).join(", ")};function S2e(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,c=ZP(r,d2e),f=xi(c);return x.createElement(S7,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:f,needClip:s,clipPathId:e})}function T2e(t){var{showLabels:e,children:n,points:r}=t,i=x.useMemo(()=>r?.map(a=>{var s,o,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Va(Va({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(UP,{value:e?i:void 0},n)}function k6(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:o,connectNulls:c,needClip:f,shape:d}=a,p=ZP(a,h2e),m=Va(Va({},Ar(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:o,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,r?.length>1&&x.createElement(y7,qp({shapeType:"curve",option:d},m,{pathRef:n})),x.createElement(S2e,{points:r,clipPathId:e,props:a}))}function A2e(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function E2e(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:o,isAnimationActive:c,animationBegin:f,animationDuration:d,animationEasing:p,animateNewValues:m,width:y,height:v,onAnimationEnd:b,onAnimationStart:w}=n,T=i.current,C=Ag(s,"recharts-line-"),A=x.useRef(C),[R,P]=x.useState(!1),O=!R,k=x.useCallback(()=>{typeof b=="function"&&b(),P(!1)},[b]),D=x.useCallback(()=>{typeof w=="function"&&w(),P(!0)},[w]),L=A2e(r.current),$=x.useRef(0);A.current!==C&&($.current=a.current,A.current=C);var j=$.current;return x.createElement(T2e,{points:s,showLabels:O},n.children,x.createElement(Tg,{animationId:C,begin:f,duration:d,isActive:c,easing:p,onAnimationEnd:k,onAnimationStart:D,key:C},I=>{var W=Et(j,L+j,I),H=Math.min(W,L),J;if(c)if(o){var z="".concat(o).split(/[,\s]+/gim).map(le=>parseFloat(le));J=w2e(H,L,z)}else J=j7(L,H);else J=o==null?void 0:String(o);if(I>0&&L>0&&(i.current=s,a.current=Math.max(a.current,H)),T){var q=T.length/s.length,se=I===1?s:s.map((le,_e)=>{var F=Math.floor(_e*q);if(T[F]){var ee=T[F];return Va(Va({},le),{},{x:Et(ee.x,le.x,I),y:Et(ee.y,le.y,I)})}return m?Va(Va({},le),{},{x:Et(y*2,le.x,I),y:Et(v/2,le.y,I)}):Va(Va({},le),{},{x:le.x,y:le.y})});return i.current=se,x.createElement(k6,{props:n,points:se,clipPathId:e,pathRef:r,strokeDasharray:J})}return x.createElement(k6,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:J})}),x.createElement(FP,{label:n.label}))}function C2e(t){var{clipPathId:e,props:n}=t,r=x.useRef(null),i=x.useRef(0),a=x.useRef(null);return x.createElement(E2e,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var P2e=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:vn(t.payload,e)}};class R2e extends x.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:c,width:f,height:d,id:p,needClip:m,zIndex:y}=this.props;if(e)return null;var v=Te("recharts-line",i),b=p,{r:w,strokeWidth:T}=L7(n),C=$P(n),A=w*2+T,R=m?"url(#clipPath-".concat(C?"":"dots-").concat(b,")"):void 0;return x.createElement(Si,{zIndex:y},x.createElement(Er,{className:v},m&&x.createElement("defs",null,x.createElement(qP,{clipPathId:b,xAxisId:a,yAxisId:s}),!C&&x.createElement("clipPath",{id:"clipPath-dots-".concat(b)},x.createElement("rect",{x:c-A/2,y:o-A/2,width:f+A,height:d+A}))),x.createElement(E7,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:P2e,errorBarOffset:0},x.createElement(C2e,{props:this.props,clipPathId:b}))),x.createElement(aE,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:R}))}}var U7={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Un.line,type:"linear"};function O2e(t){var e=Fn(t,U7),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:c,hide:f,isAnimationActive:d,label:p,legendType:m,xAxisId:y,yAxisId:v,id:b}=e,w=ZP(e,p2e),{needClip:T}=Mx(y,v),C=Ox(),A=$c(),R=Jn(),P=Me($=>f2e($,y,v,R,b));if(A!=="horizontal"&&A!=="vertical"||P==null||C==null)return null;var{height:O,width:k,x:D,y:L}=C;return x.createElement(R2e,qp({},w,{id:b,connectNulls:o,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:f,label:p,legendType:m,xAxisId:y,yAxisId:v,points:P,layout:A,height:O,width:k,left:D,top:L,needClip:T}))}function M2e(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:c}=t;return c.map((f,d)=>{var p=vn(f,s);if(e==="horizontal"){var m=h0({axis:n,ticks:i,bandSize:o,entry:f,index:d}),y=zt(p)?null:r.scale(p);return{x:m,y,value:p,payload:f}}var v=zt(p)?null:n.scale(p),b=h0({axis:r,ticks:a,bandSize:o,entry:f,index:d});return v==null||b==null?null:{x:v,y:b,value:p,payload:f}}).filter(Boolean)}function I2e(t){var e=Fn(t,U7),n=Jn();return x.createElement(HP,{id:e.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(VP,{legendPayload:b2e(e)}),x.createElement(x2e,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),x.createElement(WP,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),x.createElement(O2e,qp({},e,{id:r}))))}var Xp=x.memo(I2e,$g);Xp.displayName="Line";var F7=(t,e,n,r)=>ss(t,"xAxis",e,r),$7=(t,e,n,r)=>as(t,"xAxis",e,r),z7=(t,e,n,r)=>ss(t,"yAxis",n,r),V7=(t,e,n,r)=>as(t,"yAxis",n,r),k2e=ae([tt,F7,z7,$7,V7],(t,e,n,r,i)=>us(t,"xAxis")?ul(e,r,!1):ul(n,i,!1)),N2e=(t,e,n,r,i)=>i,H7=ae([Ig,N2e],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),D2e=(t,e,n,r,i)=>{var a,s=H7(t,e,n,r,i);if(s!=null){var o=tt(t),c=us(o,"xAxis"),f;if(c?f=Vp(t,"yAxis",n,r):f=Vp(t,"xAxis",e,r),f!=null){var{stackId:d}=s,p=wx(s);if(!(d==null||p==null)){var m=(a=f[d])===null||a===void 0?void 0:a.stackedData;return m?.find(y=>y.key===p)}}}},B2e=ae([tt,F7,z7,$7,V7,D2e,Og,k2e,H7,p0e],(t,e,n,r,i,a,s,o,c,f)=>{var{chartData:d,dataStartIndex:p,dataEndIndex:m}=s;if(!(c==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:y}=c,v;if(y&&y.length>0?v=y:v=d?.slice(p,m+1),v!=null)return tAe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:c,stackedData:a,displayedData:v,chartBaseValue:f,bandSize:o})}}),L2e=["id"],j2e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(null,arguments)}function W7(t,e){if(t==null)return{};var n,r,i=U2e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function U2e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function N6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N6(Object(n),!0).forEach(function(r){F2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F2e(t,e,n){return(e=$2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $2e(t){var e=z2e(t,"string");return typeof e=="symbol"?e:e+""}function z2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H0(t,e){return t&&t!=="none"?t:e}var V2e=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:H0(r,i),value:fd(n,e),payload:t}]},H2e=x.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:c,tooltipType:f}=t,d={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:fd(s,e),hide:o,type:f,color:H0(r,a),unit:c}};return x.createElement(zP,{tooltipEntrySettings:d})});function W2e(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:s}=r,o=xi(r);return x.createElement(S7,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:e})}function q2e(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var s,o,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ff(ff({},c),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return x.createElement(UP,{value:e?i:void 0},n)}function D6(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:s,type:o,stroke:c,connectNulls:f,isRange:d}=a,{id:p}=a,m=W7(a,L2e),y=xi(m),v=Ar(m);return x.createElement(x.Fragment,null,e?.length>1&&x.createElement(Er,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},x.createElement(tp,mc({},v,{id:p,points:e,connectNulls:f,type:o,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),c!=="none"&&x.createElement(tp,mc({},y,{className:"recharts-area-curve",layout:s,type:o,connectNulls:f,fill:"none",points:e})),c!=="none"&&d&&x.createElement(tp,mc({},y,{className:"recharts-area-curve",layout:s,type:o,connectNulls:f,fill:"none",points:n}))),x.createElement(W2e,{points:e,props:m,clipPathId:i}))}function X2e(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,s=r[r.length-1].y;if(!Ht(a)||!Ht(s))return null;var o=e*Math.abs(a-s),c=Math.max(...r.map(f=>f.x||0));return Ce(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(f=>f.x||0),c)),Ce(c)?x.createElement("rect",{x:0,y:a<s?a:a-o,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function K2e(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,s=r[r.length-1].x;if(!Ht(a)||!Ht(s))return null;var o=e*Math.abs(a-s),c=Math.max(...r.map(f=>f.y||0));return Ce(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(f=>f.y||0),c)),Ce(c)?x.createElement("rect",{x:a<s?a:a-o,y:0,width:o,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}function Y2e(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?x.createElement(X2e,{alpha:e,points:r,baseLine:i,strokeWidth:a}):x.createElement(K2e,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function G2e(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:o,isAnimationActive:c,animationBegin:f,animationDuration:d,animationEasing:p,onAnimationStart:m,onAnimationEnd:y}=r,v=x.useMemo(()=>({points:s,baseLine:o}),[s,o]),b=Ag(v,"recharts-area-"),w=Cpe(),[T,C]=x.useState(!1),A=!T,R=x.useCallback(()=>{typeof y=="function"&&y(),C(!1)},[y]),P=x.useCallback(()=>{typeof m=="function"&&m(),C(!0)},[m]);if(w==null)return null;var O=i.current,k=a.current;return x.createElement(q2e,{showLabels:A,points:s},r.children,x.createElement(Tg,{animationId:b,begin:f,duration:d,isActive:c,easing:p,onAnimationEnd:R,onAnimationStart:P,key:b},D=>{if(O){var L=O.length/s.length,$=D===1?s:s.map((I,W)=>{var H=Math.floor(W*L);if(O[H]){var J=O[H];return ff(ff({},I),{},{x:Et(J.x,I.x,D),y:Et(J.y,I.y,D)})}return I}),j;return Ce(o)?j=Et(k,o,D):zt(o)||Gi(o)?j=Et(k,0,D):j=o.map((I,W)=>{var H=Math.floor(W*L);if(Array.isArray(k)&&k[H]){var J=k[H];return ff(ff({},I),{},{x:Et(J.x,I.x,D),y:Et(J.y,I.y,D)})}return I}),D>0&&(i.current=$,a.current=j),x.createElement(D6,{points:$,baseLine:j,needClip:e,clipPathId:n,props:r})}return D>0&&(i.current=s,a.current=o),x.createElement(Er,null,c&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(n)},x.createElement(Y2e,{alpha:D,points:s,baseLine:o,layout:w,strokeWidth:r.strokeWidth}))),x.createElement(Er,{clipPath:"url(#animationClipPath-".concat(n,")")},x.createElement(D6,{points:s,baseLine:o,needClip:e,clipPathId:n,props:r})))}),x.createElement(FP,{label:r.label}))}function Z2e(t){var{needClip:e,clipPathId:n,props:r}=t,i=x.useRef(null),a=x.useRef();return x.createElement(G2e,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Q2e extends x.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:c,yAxisId:f,width:d,height:p,id:m,baseLine:y,zIndex:v}=this.props;if(e)return null;var b=Te("recharts-area",i),w=m,{r:T,strokeWidth:C}=L7(n),A=$P(n),R=T*2+C,P=o?"url(#clipPath-".concat(A?"":"dots-").concat(w,")"):void 0;return x.createElement(Si,{zIndex:v},x.createElement(Er,{className:b},o&&x.createElement("defs",null,x.createElement(qP,{clipPathId:w,xAxisId:c,yAxisId:f}),!A&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:s-R/2,y:a-R/2,width:d+R,height:p+R}))),x.createElement(Z2e,{needClip:o,clipPathId:w,props:this.props})),x.createElement(aE,{points:r,mainColor:H0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(y)&&x.createElement(aE,{points:y,mainColor:H0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var q7={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Un.area};function J2e(t){var e,n=Fn(t,q7),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:c,fill:f,fillOpacity:d,hide:p,isAnimationActive:m,legendType:y,stroke:v,xAxisId:b,yAxisId:w}=n,T=W7(n,j2e),C=$c(),A=XW(),{needClip:R}=Mx(b,w),P=Jn(),{points:O,isRange:k,baseLine:D}=(e=Me(H=>B2e(H,b,w,P,t.id)))!==null&&e!==void 0?e:{},L=Ox();if(C!=="horizontal"&&C!=="vertical"||L==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:$,width:j,x:I,y:W}=L;return!O||!O.length?null:x.createElement(Q2e,mc({},T,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:D,connectNulls:o,dot:c,fill:f,fillOpacity:d,height:$,hide:p,layout:C,isAnimationActive:m==="auto"?!dd.isSsr:m,isRange:k,legendType:y,needClip:R,points:O,stroke:v,width:j,left:I,top:W,xAxisId:b,yAxisId:w}))}var eAe=(t,e,n,r,i)=>{var a=n??e;if(Ce(a))return a;var s=t==="horizontal"?i:r,o=s.scale.domain();if(s.type==="number"){var c=Math.max(o[0],o[1]),f=Math.min(o[0],o[1]);return a==="dataMin"?f:a==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function tAe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:c,displayedData:f,dataStartIndex:d,xAxisTicks:p,yAxisTicks:m,bandSize:y}=t,v=i&&i.length,b=eAe(a,s,n,o,c),w=a==="horizontal",T=!1,C=f.map((R,P)=>{var O;v?O=i[d+P]:(O=vn(R,r),Array.isArray(O)?T=!0:O=[b,O]);var k=O[1]==null||v&&!e&&vn(R,r)==null;return w?{x:h0({axis:o,ticks:p,bandSize:y,entry:R,index:P}),y:k?null:c.scale(O[1]),value:O,payload:R}:{x:k?null:o.scale(O[1]),y:h0({axis:c,ticks:m,bandSize:y,entry:R,index:P}),value:O,payload:R}}),A;return v||T?A=C.map(R=>{var P=Array.isArray(R.value)?R.value[0]:null;return w?{x:R.x,y:P!=null&&R.y!=null?c.scale(P):null,payload:R.payload}:{x:P!=null?o.scale(P):null,y:R.y,payload:R.payload}}):A=w?c.scale(b):o.scale(b),{points:C,baseLine:A,isRange:T}}function nAe(t){var e=Fn(t,q7),n=Jn();return x.createElement(HP,{id:e.id,type:"area"},r=>x.createElement(x.Fragment,null,x.createElement(VP,{legendPayload:V2e(e)}),x.createElement(H2e,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),x.createElement(WP,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:p9(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),x.createElement(J2e,mc({},e,{id:r}))))}var df=x.memo(nAe,$g);df.displayName="Area";var rAe=["domain","range"],iAe=["domain","range"];function B6(t,e){if(t==null)return{};var n,r,i=aAe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aAe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function L6(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function X7(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=B6(t,rAe),{domain:a,range:s}=e,o=B6(e,iAe);return!L6(n,a)||!L6(r,s)?!1:$g(i,o)}var sAe=["dangerouslySetInnerHTML","ticks"],oAe=["id"];function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(null,arguments)}function j6(t,e){if(t==null)return{};var n,r,i=lAe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lAe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cAe(t){var e=en(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?e(ywe(t)):n.current!==t&&e(vwe({prev:n.current,next:t})),n.current=t},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(e(bwe(n.current)),n.current=null)},[e]),null}var uAe=t=>{var{xAxisId:e,className:n}=t,r=Me(D3),i=Jn(),a="xAxis",s=Me(w=>vd(w,a,e,i)),o=Me(w=>TW(w,a,e,i)),c=Me(w=>xW(w,e)),f=Me(w=>fbe(w,e)),d=Me(w=>VH(w,e));if(c==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:p,ticks:m}=t,y=j6(t,sAe),{id:v}=d,b=j6(d,oAe);return x.createElement(GP,oE({},y,b,{scale:s,x:f.x,y:f.y,width:c.width,height:c.height,className:Te("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},fAe={allowDataOverflow:Yn.allowDataOverflow,allowDecimals:Yn.allowDecimals,allowDuplicatedCategory:Yn.allowDuplicatedCategory,angle:Yn.angle,axisLine:qs.axisLine,height:Yn.height,hide:!1,includeHidden:Yn.includeHidden,interval:Yn.interval,minTickGap:Yn.minTickGap,mirror:Yn.mirror,orientation:Yn.orientation,padding:Yn.padding,reversed:Yn.reversed,scale:Yn.scale,tick:Yn.tick,tickCount:Yn.tickCount,tickLine:qs.tickLine,tickSize:qs.tickSize,type:Yn.type,xAxisId:0},dAe=t=>{var e=Fn(t,fAe);return x.createElement(x.Fragment,null,x.createElement(cAe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),x.createElement(uAe,e))},$f=x.memo(dAe,X7);$f.displayName="XAxis";var hAe=["dangerouslySetInnerHTML","ticks"],pAe=["id"];function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(null,arguments)}function U6(t,e){if(t==null)return{};var n,r,i=gAe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gAe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mAe(t){var e=en(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?e(xwe(t)):n.current!==t&&e(_we({prev:n.current,next:t})),n.current=t},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(e(wwe(n.current)),n.current=null)},[e]),null}var yAe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=x.useRef(null),s=x.useRef(null),o=Me(D3),c=Jn(),f=en(),d="yAxis",p=Me(P=>vd(P,d,e,c)),m=Me(P=>_W(P,e)),y=Me(P=>hbe(P,e)),v=Me(P=>TW(P,d,e,c)),b=Me(P=>HH(P,e));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!m||jP(i)||x.isValidElement(i)||b==null)){var P=a.current;if(P){var O=P.getCalculatedWidth();Math.round(m.width)!==Math.round(O)&&f(Swe({id:e,width:O}))}}},[v,m,f,i,e,r,b]),m==null||y==null||b==null)return null;var{dangerouslySetInnerHTML:w,ticks:T}=t,C=U6(t,hAe),{id:A}=b,R=U6(b,pAe);return x.createElement(GP,lE({},C,R,{ref:a,labelRef:s,scale:p,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Te("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:v,axisType:d}))},vAe={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:Gn.allowDecimals,allowDuplicatedCategory:Gn.allowDuplicatedCategory,angle:Gn.angle,axisLine:qs.axisLine,hide:!1,includeHidden:Gn.includeHidden,interval:Gn.interval,minTickGap:Gn.minTickGap,mirror:Gn.mirror,orientation:Gn.orientation,padding:Gn.padding,reversed:Gn.reversed,scale:Gn.scale,tick:Gn.tick,tickCount:Gn.tickCount,tickLine:qs.tickLine,tickSize:qs.tickSize,type:Gn.type,width:Gn.width,yAxisId:0},bAe=t=>{var e=Fn(t,vAe);return x.createElement(x.Fragment,null,x.createElement(mAe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),x.createElement(yAe,e))},yc=x.memo(bAe,X7);yc.displayName="YAxis";var xAe=(t,e)=>e,QP=ae([xAe,tt,$H,Vn,FW,go,Cxe,Qn],Nxe),JP=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},K7=Zi("mouseClick"),Y7=_g();Y7.startListening({actionCreator:K7,effect:(t,e)=>{var n=t.payload,r=QP(e.getState(),JP(n));r?.activeIndex!=null&&e.dispatch(Cbe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var cE=Zi("mouseMove"),G7=_g(),jy=null;G7.startListening({actionCreator:cE,effect:(t,e)=>{var n=t.payload;jy!==null&&cancelAnimationFrame(jy);var r=JP(n);jy=requestAnimationFrame(()=>{var i=e.getState(),a=CP(i,i.tooltip.settings.shared);if(a==="axis"){var s=QP(i,r);s?.activeIndex!=null?e.dispatch(IW({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(MW())}jy=null})}});var F6={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Z7=Jr({name:"rootProps",initialState:F6,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:F6.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),_Ae=Z7.reducer,{updateOptions:wAe}=Z7.actions,Q7=Jr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:M8e}=Q7.actions,SAe=Q7.reducer,J7=Zi("keyDown"),eq=Zi("focus"),eR=_g();eR.startListening({actionCreator:J7,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=PP(i,xd(n),Ng(n),Ug(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var c=go(n);if(a==="Enter"){var f=D0(n,"axis","hover",String(i.index));e.dispatch(JA({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var d=ybe(n),p=d==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,y=o+m*p;if(!(c==null||y>=c.length||y<0)){var v=D0(n,"axis","hover",String(y));e.dispatch(JA({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}}});eR.startListening({actionCreator:eq,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=D0(n,"axis","hover",String(a));e.dispatch(JA({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Li=Zi("externalEvent"),tq=_g(),IT=new Map;tq.startListening({actionCreator:Li,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=IT.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=e.getState(),c={activeCoordinate:dxe(o),activeDataKey:HW(o),activeIndex:Rc(o),activeLabel:VW(o),activeTooltipIndex:Rc(o),isTooltipActive:hxe(o)};n(c,r)}finally{IT.delete(i)}});IT.set(i,s)}}});var TAe=ae([bd],t=>t.tooltipItemPayloads),AAe=ae([TAe,Lg,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),nq=Zi("touchMove"),rq=_g();rq.startListening({actionCreator:nq,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=CP(r,r.tooltip.settings.shared);if(i==="axis"){var a=QP(r,JP({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(IW({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(Ghe),d=(s=c.getAttribute(Zhe))!==null&&s!==void 0?s:void 0,p=AAe(e.getState(),f,d);e.dispatch(OW({activeDataKey:d,activeIndex:f,activeCoordinate:p}))}}}});var EAe=LV({brush:dTe,cartesianAxis:Twe,chartData:f_e,errorBars:Vwe,graphicalItems:rwe,layout:Ihe,legend:Wpe,options:s_e,polarAxis:O1e,polarOptions:SAe,referenceElements:bTe,rootProps:_Ae,tooltip:Pbe,zIndex:Kxe}),CAe=function(e){return rhe({reducer:EAe,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Y7.middleware,G7.middleware,eR.middleware,tq.middleware,rq.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(QV({type:"raf"}))},devTools:dd.devToolsEnabled})};function PAe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Jn(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=CAe(e));var s=E3;return x.createElement(hSe,{context:s,store:a.current},n)}function RAe(t){var{layout:e,margin:n}=t,r=en(),i=Jn();return x.useEffect(()=>{i||(r(Rhe(e)),r(Phe(n)))},[r,i,e,n]),null}var OAe=x.memo(RAe,$g);function MAe(t){var e=en();return x.useEffect(()=>{e(wAe(t))},[e,t]),null}function $6(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=_7("".concat(r).concat(e)),a=en();return x.useLayoutEffect(()=>(a(qxe({zIndex:e,elementId:i,isPanorama:n})),()=>{a(Xxe({zIndex:e,isPanorama:n}))}),[a,e,i,n]),x.createElement("g",{tabIndex:-1,id:i})}function z6(t){var{children:e,isPanorama:n}=t,r=Me(Bxe);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return x.createElement(x.Fragment,null,i.map(s=>x.createElement($6,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>x.createElement($6,{key:s,zIndex:s,isPanorama:n})))}var IAe=["children"];function kAe(t,e){if(t==null)return{};var n,r,i=NAe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function NAe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W0.apply(null,arguments)}var DAe={width:"100%",height:"100%",display:"block"},BAe=x.forwardRef((t,e)=>{var n=L3(),r=j3(),i=R9();if(!rs(n)||!rs(r))return null;var{children:a,otherAttributes:s,title:o,desc:c}=t,f,d;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),x.createElement(m3,W0({},s,{title:o,desc:c,role:d,tabIndex:f,width:n,height:r,style:DAe,ref:e}),a)}),LAe=t=>{var{children:e}=t,n=Me(sx);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return x.createElement(m3,{width:r,height:i,x:s,y:a},e)},V6=x.forwardRef((t,e)=>{var{children:n}=t,r=kAe(t,IAe),i=Jn();return i?x.createElement(LAe,null,x.createElement(z6,{isPanorama:!0},n)):x.createElement(BAe,W0({ref:e},r),x.createElement(z6,{isPanorama:!1},n))});function jAe(){var t=en(),[e,n]=x.useState(null),r=Me(Yhe);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Ht(a)&&a!==r&&t(Mhe(a))}},[e,t,r]),n}function H6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UAe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(n),!0).forEach(function(r){FAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FAe(t,e,n){return(e=$Ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ae(t){var e=zAe(t,"string");return typeof e=="symbol"?e:e+""}function zAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(null,arguments)}var VAe=()=>(x_e(),null);function q0(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var HAe=x.forwardRef((t,e)=>{var n,r,i=x.useRef(null),[a,s]=x.useState({containerWidth:q0((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:q0((r=t.style)===null||r===void 0?void 0:r.height)}),o=x.useCallback((f,d)=>{s(p=>{var m=Math.round(f),y=Math.round(d);return p.containerWidth===m&&p.containerHeight===y?p:{containerWidth:m,containerHeight:y}})},[]),c=x.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:d,height:p}=f.getBoundingClientRect();o(d,p);var m=v=>{var{width:b,height:w}=v[0].contentRect;o(b,w)},y=new ResizeObserver(m);y.observe(f),i.current=y}},[e,o]);return x.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[o]),x.createElement(x.Fragment,null,x.createElement(lx,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Mc({ref:c},t)))}),WAe=x.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=x.useState({containerWidth:q0(n),containerHeight:q0(r)}),s=x.useCallback((c,f)=>{a(d=>{var p=Math.round(c),m=Math.round(f);return d.containerWidth===p&&d.containerHeight===m?d:{containerWidth:p,containerHeight:m}})},[]),o=x.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:f,height:d}=c.getBoundingClientRect();s(f,d)}},[e,s]);return x.createElement(x.Fragment,null,x.createElement(lx,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Mc({ref:o},t)))}),qAe=x.forwardRef((t,e)=>{var{width:n,height:r}=t;return x.createElement(x.Fragment,null,x.createElement(lx,{width:n,height:r}),x.createElement("div",Mc({ref:e},t)))}),XAe=x.forwardRef((t,e)=>{var{width:n,height:r}=t;return Zs(n)||Zs(r)?x.createElement(WAe,Mc({},t,{ref:e})):x.createElement(qAe,Mc({},t,{ref:e}))});function KAe(t){return t===!0?HAe:XAe}var YAe=x.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:f,onMouseLeave:d,onMouseMove:p,onMouseUp:m,onTouchEnd:y,onTouchMove:v,onTouchStart:b,style:w,width:T,responsive:C,dispatchTouchEvents:A=!0}=t,R=x.useRef(null),P=en(),[O,k]=x.useState(null),[D,L]=x.useState(null),$=jAe(),j=B3(),I=j?.width>0?j.width:T,W=j?.height>0?j.height:i,H=x.useCallback(ue=>{$(ue),typeof e=="function"&&e(ue),k(ue),L(ue),ue!=null&&(R.current=ue)},[$,e,k,L]),J=x.useCallback(ue=>{P(K7(ue)),P(Li({handler:a,reactEvent:ue}))},[P,a]),z=x.useCallback(ue=>{P(cE(ue)),P(Li({handler:f,reactEvent:ue}))},[P,f]),q=x.useCallback(ue=>{P(MW()),P(Li({handler:d,reactEvent:ue}))},[P,d]),se=x.useCallback(ue=>{P(cE(ue)),P(Li({handler:p,reactEvent:ue}))},[P,p]),le=x.useCallback(()=>{P(eq())},[P]),_e=x.useCallback(ue=>{P(J7(ue.key))},[P]),F=x.useCallback(ue=>{P(Li({handler:s,reactEvent:ue}))},[P,s]),ee=x.useCallback(ue=>{P(Li({handler:o,reactEvent:ue}))},[P,o]),ye=x.useCallback(ue=>{P(Li({handler:c,reactEvent:ue}))},[P,c]),be=x.useCallback(ue=>{P(Li({handler:m,reactEvent:ue}))},[P,m]),Ae=x.useCallback(ue=>{P(Li({handler:b,reactEvent:ue}))},[P,b]),we=x.useCallback(ue=>{A&&P(nq(ue)),P(Li({handler:v,reactEvent:ue}))},[P,A,v]),Ee=x.useCallback(ue=>{P(Li({handler:y,reactEvent:ue}))},[P,y]),Xe=KAe(C);return x.createElement(QW.Provider,{value:O},x.createElement(Jz.Provider,{value:D},x.createElement(Xe,{width:I??w?.width,height:W??w?.height,className:Te("recharts-wrapper",r),style:UAe({position:"relative",cursor:"default",width:I,height:W},w),onClick:J,onContextMenu:F,onDoubleClick:ee,onFocus:le,onKeyDown:_e,onMouseDown:ye,onMouseEnter:z,onMouseLeave:q,onMouseMove:se,onMouseUp:be,onTouchEnd:Ee,onTouchMove:we,onTouchStart:Ae,ref:H},x.createElement(VAe,null),n)))}),GAe=["width","height","responsive","children","className","style","compact","title","desc"];function ZAe(t,e){if(t==null)return{};var n,r,i=QAe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function QAe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var JAe=x.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:c,title:f,desc:d}=t,p=ZAe(t,GAe),m=xi(p);return c?x.createElement(x.Fragment,null,x.createElement(lx,{width:n,height:r}),x.createElement(V6,{otherAttributes:m,title:f,desc:d},a)):x.createElement(YAe,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(V6,{otherAttributes:m,title:f,desc:d,ref:e},x.createElement(_Te,null,a)))});function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uE.apply(null,arguments)}var eEe={top:5,right:5,bottom:5,left:5},tEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:eEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ix=x.forwardRef(function(e,n){var r,i=Fn(e.categoricalChartProps,tEe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:f}=e,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return x.createElement(PAe,{preloadedState:{options:d},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},x.createElement(fTe,{chartData:f.data}),x.createElement(OAe,{layout:i.layout,margin:i.margin}),x.createElement(MAe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(JAe,uE({},i,{ref:n})))}),nEe=["axis"],rEe=x.forwardRef((t,e)=>x.createElement(Ix,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nEe,tooltipPayloadSearcher:Rx,categoricalChartProps:t,ref:e})),iEe=["axis","item"],aEe=x.forwardRef((t,e)=>x.createElement(Ix,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iEe,tooltipPayloadSearcher:Rx,categoricalChartProps:t,ref:e})),sEe=["axis"],iq=x.forwardRef((t,e)=>x.createElement(Ix,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sEe,tooltipPayloadSearcher:Rx,categoricalChartProps:t,ref:e})),oEe=["axis"],lEe=x.forwardRef((t,e)=>x.createElement(Ix,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:oEe,tooltipPayloadSearcher:Rx,categoricalChartProps:t,ref:e}));function aq(t,e){return function(){return t.apply(e,arguments)}}const{toString:cEe}=Object.prototype,{getPrototypeOf:tR}=Object,{iterator:kx,toStringTag:sq}=Symbol,Nx=(t=>e=>{const n=cEe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pa=t=>(t=t.toLowerCase(),e=>Nx(e)===t),Dx=t=>e=>typeof e===t,{isArray:_d}=Array,zf=Dx("undefined");function Vg(t){return t!==null&&!zf(t)&&t.constructor!==null&&!zf(t.constructor)&&Kr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const oq=Pa("ArrayBuffer");function uEe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&oq(t.buffer),e}const fEe=Dx("string"),Kr=Dx("function"),lq=Dx("number"),Hg=t=>t!==null&&typeof t=="object",dEe=t=>t===!0||t===!1,Sv=t=>{if(Nx(t)!=="object")return!1;const e=tR(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(sq in t)&&!(kx in t)},hEe=t=>{if(!Hg(t)||Vg(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},pEe=Pa("Date"),gEe=Pa("File"),mEe=Pa("Blob"),yEe=Pa("FileList"),vEe=t=>Hg(t)&&Kr(t.pipe),bEe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Kr(t.append)&&((e=Nx(t))==="formdata"||e==="object"&&Kr(t.toString)&&t.toString()==="[object FormData]"))},xEe=Pa("URLSearchParams"),[_Ee,wEe,SEe,TEe]=["ReadableStream","Request","Response","Headers"].map(Pa),AEe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wg(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),_d(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Vg(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length;let o;for(r=0;r<s;r++)o=a[r],e.call(null,t[o],o,t)}}function cq(t,e){if(Vg(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const sc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uq=t=>!zf(t)&&t!==sc;function fE(){const{caseless:t,skipUndefined:e}=uq(this)&&this||{},n={},r=(i,a)=>{const s=t&&cq(n,a)||a;Sv(n[s])&&Sv(i)?n[s]=fE(n[s],i):Sv(i)?n[s]=fE({},i):_d(i)?n[s]=i.slice():(!e||!zf(i))&&(n[s]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Wg(arguments[i],r);return n}const EEe=(t,e,n,{allOwnKeys:r}={})=>(Wg(e,(i,a)=>{n&&Kr(i)?t[a]=aq(i,n):t[a]=i},{allOwnKeys:r}),t),CEe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),PEe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},REe=(t,e,n,r)=>{let i,a,s;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)s=i[a],(!r||r(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=n!==!1&&tR(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},OEe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},MEe=t=>{if(!t)return null;if(_d(t))return t;let e=t.length;if(!lq(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},IEe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&tR(Uint8Array)),kEe=(t,e)=>{const r=(t&&t[kx]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},NEe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},DEe=Pa("HTMLFormElement"),BEe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),W6=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),LEe=Pa("RegExp"),fq=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Wg(n,(i,a)=>{let s;(s=e(i,a,t))!==!1&&(r[a]=s||i)}),Object.defineProperties(t,r)},jEe=t=>{fq(t,(e,n)=>{if(Kr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Kr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},UEe=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return _d(t)?r(t):r(String(t).split(e)),n},FEe=()=>{},$Ee=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function zEe(t){return!!(t&&Kr(t.append)&&t[sq]==="FormData"&&t[kx])}const VEe=t=>{const e=new Array(10),n=(r,i)=>{if(Hg(r)){if(e.indexOf(r)>=0)return;if(Vg(r))return r;if(!("toJSON"in r)){e[i]=r;const a=_d(r)?[]:{};return Wg(r,(s,o)=>{const c=n(s,i+1);!zf(c)&&(a[o]=c)}),e[i]=void 0,a}}return r};return n(t,0)},HEe=Pa("AsyncFunction"),WEe=t=>t&&(Hg(t)||Kr(t))&&Kr(t.then)&&Kr(t.catch),dq=((t,e)=>t?setImmediate:e?((n,r)=>(sc.addEventListener("message",({source:i,data:a})=>{i===sc&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),sc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Kr(sc.postMessage)),qEe=typeof queueMicrotask<"u"?queueMicrotask.bind(sc):typeof process<"u"&&process.nextTick||dq,XEe=t=>t!=null&&Kr(t[kx]),oe={isArray:_d,isArrayBuffer:oq,isBuffer:Vg,isFormData:bEe,isArrayBufferView:uEe,isString:fEe,isNumber:lq,isBoolean:dEe,isObject:Hg,isPlainObject:Sv,isEmptyObject:hEe,isReadableStream:_Ee,isRequest:wEe,isResponse:SEe,isHeaders:TEe,isUndefined:zf,isDate:pEe,isFile:gEe,isBlob:mEe,isRegExp:LEe,isFunction:Kr,isStream:vEe,isURLSearchParams:xEe,isTypedArray:IEe,isFileList:yEe,forEach:Wg,merge:fE,extend:EEe,trim:AEe,stripBOM:CEe,inherits:PEe,toFlatObject:REe,kindOf:Nx,kindOfTest:Pa,endsWith:OEe,toArray:MEe,forEachEntry:kEe,matchAll:NEe,isHTMLForm:DEe,hasOwnProperty:W6,hasOwnProp:W6,reduceDescriptors:fq,freezeMethods:jEe,toObjectSet:UEe,toCamelCase:BEe,noop:FEe,toFiniteNumber:$Ee,findKey:cq,global:sc,isContextDefined:uq,isSpecCompliantForm:zEe,toJSONObject:VEe,isAsyncFn:HEe,isThenable:WEe,setImmediate:dq,asap:qEe,isIterable:XEe};function We(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const hq=We.prototype,pq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{pq[t]={value:t}});Object.defineProperties(We,pq);Object.defineProperty(hq,"isAxiosError",{value:!0});We.from=(t,e,n,r,i,a)=>{const s=Object.create(hq);oe.toFlatObject(t,s,function(d){return d!==Error.prototype},f=>f!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return We.call(s,o,c,n,r,i),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",a&&Object.assign(s,a),s};const KEe=null;function dE(t){return oe.isPlainObject(t)||oe.isArray(t)}function gq(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function q6(t,e,n){return t?t.concat(e).map(function(i,a){return i=gq(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function YEe(t){return oe.isArray(t)&&!t.some(dE)}const GEe=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Bx(t,e,n){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!oe.isUndefined(w[b])});const r=n.metaTokens,i=n.visitor||d,a=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function f(v){if(v===null)return"";if(oe.isDate(v))return v.toISOString();if(oe.isBoolean(v))return v.toString();if(!c&&oe.isBlob(v))throw new We("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(v)||oe.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,b,w){let T=v;if(v&&!w&&typeof v=="object"){if(oe.endsWith(b,"{}"))b=r?b:b.slice(0,-2),v=JSON.stringify(v);else if(oe.isArray(v)&&YEe(v)||(oe.isFileList(v)||oe.endsWith(b,"[]"))&&(T=oe.toArray(v)))return b=gq(b),T.forEach(function(A,R){!(oe.isUndefined(A)||A===null)&&e.append(s===!0?q6([b],R,a):s===null?b:b+"[]",f(A))}),!1}return dE(v)?!0:(e.append(q6(w,b,a),f(v)),!1)}const p=[],m=Object.assign(GEe,{defaultVisitor:d,convertValue:f,isVisitable:dE});function y(v,b){if(!oe.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+b.join("."));p.push(v),oe.forEach(v,function(T,C){(!(oe.isUndefined(T)||T===null)&&i.call(e,T,oe.isString(C)?C.trim():C,b,m))===!0&&y(T,b?b.concat(C):[C])}),p.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return y(t),e}function X6(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function nR(t,e){this._pairs=[],t&&Bx(t,this,e)}const mq=nR.prototype;mq.append=function(e,n){this._pairs.push([e,n])};mq.toString=function(e){const n=e?function(r){return e.call(this,r,X6)}:X6;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function ZEe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function yq(t,e,n){if(!e)return t;const r=n&&n.encode||ZEe;oe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=oe.isURLSearchParams(e)?e.toString():new nR(e,n).toString(r),a){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class K6{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const vq={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QEe=typeof URLSearchParams<"u"?URLSearchParams:nR,JEe=typeof FormData<"u"?FormData:null,eCe=typeof Blob<"u"?Blob:null,tCe={isBrowser:!0,classes:{URLSearchParams:QEe,FormData:JEe,Blob:eCe},protocols:["http","https","file","blob","url","data"]},rR=typeof window<"u"&&typeof document<"u",hE=typeof navigator=="object"&&navigator||void 0,nCe=rR&&(!hE||["ReactNative","NativeScript","NS"].indexOf(hE.product)<0),rCe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iCe=rR&&window.location.href||"http://localhost",aCe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rR,hasStandardBrowserEnv:nCe,hasStandardBrowserWebWorkerEnv:rCe,navigator:hE,origin:iCe},Symbol.toStringTag,{value:"Module"})),wr={...aCe,...tCe};function sCe(t,e){return Bx(t,new wr.classes.URLSearchParams,{visitor:function(n,r,i,a){return wr.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function oCe(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function lCe(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function bq(t){function e(n,r,i,a){let s=n[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),c=a>=n.length;return s=!s&&oe.isArray(i)?i.length:s,c?(oe.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!o):((!i[s]||!oe.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],a)&&oe.isArray(i[s])&&(i[s]=lCe(i[s])),!o)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const n={};return oe.forEachEntry(t,(r,i)=>{e(oCe(r),i,n,0)}),n}return null}function cCe(t,e,n){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const qg={transitional:vq,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=oe.isObject(e);if(a&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(bq(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return sCe(e,this.formSerializer).toString();if((o=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Bx(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),cCe(e)):e}],transformResponse:[function(e){const n=this.transitional||qg.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(s)throw o.name==="SyntaxError"?We.from(o,We.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wr.classes.FormData,Blob:wr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{qg.headers[t]={}});const uCe=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fCe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&uCe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Y6=Symbol("internals");function Ih(t){return t&&String(t).trim().toLowerCase()}function Tv(t){return t===!1||t==null?t:oe.isArray(t)?t.map(Tv):String(t)}function dCe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const hCe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function kT(t,e,n,r,i){if(oe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function pCe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function gCe(t,e){const n=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,s){return this[r].call(this,e,i,a,s)},configurable:!0})})}let Yr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(o,c,f){const d=Ih(c);if(!d)throw new Error("header name must be a non-empty string");const p=oe.findKey(i,d);(!p||i[p]===void 0||f===!0||f===void 0&&i[p]!==!1)&&(i[p||c]=Tv(o))}const s=(o,c)=>oe.forEach(o,(f,d)=>a(f,d,c));if(oe.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(oe.isString(e)&&(e=e.trim())&&!hCe(e))s(fCe(e),n);else if(oe.isObject(e)&&oe.isIterable(e)){let o={},c,f;for(const d of e){if(!oe.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[f=d[0]]=(c=o[f])?oe.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}s(o,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=Ih(e),e){const r=oe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return dCe(i);if(oe.isFunction(n))return n.call(this,i,r);if(oe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ih(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||kT(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(s){if(s=Ih(s),s){const o=oe.findKey(r,s);o&&(!n||kT(r,r[o],o,n))&&(delete r[o],i=!0)}}return oe.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||kT(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return oe.forEach(this,(i,a)=>{const s=oe.findKey(r,a);if(s){n[s]=Tv(i),delete n[a];return}const o=e?pCe(a):String(a).trim();o!==a&&delete n[a],n[o]=Tv(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Y6]=this[Y6]={accessors:{}}).accessors,i=this.prototype;function a(s){const o=Ih(s);r[o]||(gCe(i,s),r[o]=!0)}return oe.isArray(e)?e.forEach(a):a(e),this}};Yr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Yr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});oe.freezeMethods(Yr);function NT(t,e){const n=this||qg,r=e||n,i=Yr.from(r.headers);let a=r.data;return oe.forEach(t,function(o){a=o.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function xq(t){return!!(t&&t.__CANCEL__)}function wd(t,e,n){We.call(this,t??"canceled",We.ERR_CANCELED,e,n),this.name="CanceledError"}oe.inherits(wd,We,{__CANCEL__:!0});function _q(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new We("Request failed with status code "+n.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mCe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function yCe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,s;return e=e!==void 0?e:1e3,function(c){const f=Date.now(),d=r[a];s||(s=f),n[i]=c,r[i]=f;let p=a,m=0;for(;p!==i;)m+=n[p++],p=p%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),f-s<e)return;const y=d&&f-d;return y?Math.round(m*1e3/y):void 0}}function vCe(t,e){let n=0,r=1e3/e,i,a;const s=(f,d=Date.now())=>{n=d,i=null,a&&(clearTimeout(a),a=null),t(...f)};return[(...f)=>{const d=Date.now(),p=d-n;p>=r?s(f,d):(i=f,a||(a=setTimeout(()=>{a=null,s(i)},r-p)))},()=>i&&s(i)]}const X0=(t,e,n=3)=>{let r=0;const i=yCe(50,250);return vCe(a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,c=s-r,f=i(c),d=s<=o;r=s;const p={loaded:s,total:o,progress:o?s/o:void 0,bytes:c,rate:f||void 0,estimated:f&&o&&d?(o-s)/f:void 0,event:a,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(p)},n)},G6=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Z6=t=>(...e)=>oe.asap(()=>t(...e)),bCe=wr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,wr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(wr.origin),wr.navigator&&/(msie|trident)/i.test(wr.navigator.userAgent)):()=>!0,xCe=wr.hasStandardBrowserEnv?{write(t,e,n,r,i,a,s){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];oe.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),oe.isString(r)&&o.push(`path=${r}`),oe.isString(i)&&o.push(`domain=${i}`),a===!0&&o.push("secure"),oe.isString(s)&&o.push(`SameSite=${s}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function _Ce(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wCe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wq(t,e,n){let r=!_Ce(e);return t&&(r||n==!1)?wCe(t,e):e}const Q6=t=>t instanceof Yr?{...t}:t;function Ic(t,e){e=e||{};const n={};function r(f,d,p,m){return oe.isPlainObject(f)&&oe.isPlainObject(d)?oe.merge.call({caseless:m},f,d):oe.isPlainObject(d)?oe.merge({},d):oe.isArray(d)?d.slice():d}function i(f,d,p,m){if(oe.isUndefined(d)){if(!oe.isUndefined(f))return r(void 0,f,p,m)}else return r(f,d,p,m)}function a(f,d){if(!oe.isUndefined(d))return r(void 0,d)}function s(f,d){if(oe.isUndefined(d)){if(!oe.isUndefined(f))return r(void 0,f)}else return r(void 0,d)}function o(f,d,p){if(p in e)return r(f,d);if(p in t)return r(void 0,f)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(f,d,p)=>i(Q6(f),Q6(d),p,!0)};return oe.forEach(Object.keys({...t,...e}),function(d){const p=c[d]||i,m=p(t[d],e[d],d);oe.isUndefined(m)&&p!==o||(n[d]=m)}),n}const Sq=t=>{const e=Ic({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:o}=e;if(e.headers=s=Yr.from(s),e.url=yq(wq(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),oe.isFormData(n)){if(wr.hasStandardBrowserEnv||wr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(oe.isFunction(n.getHeaders)){const c=n.getHeaders(),f=["content-type","content-length"];Object.entries(c).forEach(([d,p])=>{f.includes(d.toLowerCase())&&s.set(d,p)})}}if(wr.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&bCe(e.url))){const c=i&&a&&xCe.read(a);c&&s.set(i,c)}return e},SCe=typeof XMLHttpRequest<"u",TCe=SCe&&function(t){return new Promise(function(n,r){const i=Sq(t);let a=i.data;const s=Yr.from(i.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:f}=i,d,p,m,y,v;function b(){y&&y(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function T(){if(!w)return;const A=Yr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),P={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:A,config:t,request:w};_q(function(k){n(k),b()},function(k){r(k),b()},P),w=null}"onloadend"in w?w.onloadend=T:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(T)},w.onabort=function(){w&&(r(new We("Request aborted",We.ECONNABORTED,t,w)),w=null)},w.onerror=function(R){const P=R&&R.message?R.message:"Network Error",O=new We(P,We.ERR_NETWORK,t,w);O.event=R||null,r(O),w=null},w.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const P=i.transitional||vq;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),r(new We(R,P.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,t,w)),w=null},a===void 0&&s.setContentType(null),"setRequestHeader"in w&&oe.forEach(s.toJSON(),function(R,P){w.setRequestHeader(P,R)}),oe.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),o&&o!=="json"&&(w.responseType=i.responseType),f&&([m,v]=X0(f,!0),w.addEventListener("progress",m)),c&&w.upload&&([p,y]=X0(c),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(d=A=>{w&&(r(!A||A.type?new wd(null,t,w):A),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const C=mCe(i.url);if(C&&wr.protocols.indexOf(C)===-1){r(new We("Unsupported protocol "+C+":",We.ERR_BAD_REQUEST,t));return}w.send(a||null)})},ACe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(f){if(!i){i=!0,o();const d=f instanceof Error?f:this.reason;r.abort(d instanceof We?d:new wd(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{s=null,a(new We(`timeout ${e} of ms exceeded`,We.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),t=null)};t.forEach(f=>f.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>oe.asap(o),c}},ECe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},CCe=async function*(t,e){for await(const n of PCe(t))yield*ECe(n,e)},PCe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},J6=(t,e,n,r)=>{const i=CCe(t,e);let a=0,s,o=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:f,value:d}=await i.next();if(f){o(),c.close();return}let p=d.byteLength;if(n){let m=a+=p;n(m)}c.enqueue(new Uint8Array(d))}catch(f){throw o(f),f}},cancel(c){return o(c),i.return()}},{highWaterMark:2})},ej=64*1024,{isFunction:Uy}=oe,RCe=(({Request:t,Response:e})=>({Request:t,Response:e}))(oe.global),{ReadableStream:tj,TextEncoder:nj}=oe.global,rj=(t,...e)=>{try{return!!t(...e)}catch{return!1}},OCe=t=>{t=oe.merge.call({skipUndefined:!0},RCe,t);const{fetch:e,Request:n,Response:r}=t,i=e?Uy(e):typeof fetch=="function",a=Uy(n),s=Uy(r);if(!i)return!1;const o=i&&Uy(tj),c=i&&(typeof nj=="function"?(v=>b=>v.encode(b))(new nj):async v=>new Uint8Array(await new n(v).arrayBuffer())),f=a&&o&&rj(()=>{let v=!1;const b=new n(wr.origin,{body:new tj,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!b}),d=s&&o&&rj(()=>oe.isReadableStream(new r("").body)),p={stream:d&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!p[v]&&(p[v]=(b,w)=>{let T=b&&b[v];if(T)return T.call(b);throw new We(`Response type '${v}' is not supported`,We.ERR_NOT_SUPPORT,w)})});const m=async v=>{if(v==null)return 0;if(oe.isBlob(v))return v.size;if(oe.isSpecCompliantForm(v))return(await new n(wr.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(v)||oe.isArrayBuffer(v))return v.byteLength;if(oe.isURLSearchParams(v)&&(v=v+""),oe.isString(v))return(await c(v)).byteLength},y=async(v,b)=>{const w=oe.toFiniteNumber(v.getContentLength());return w??m(b)};return async v=>{let{url:b,method:w,data:T,signal:C,cancelToken:A,timeout:R,onDownloadProgress:P,onUploadProgress:O,responseType:k,headers:D,withCredentials:L="same-origin",fetchOptions:$}=Sq(v),j=e||fetch;k=k?(k+"").toLowerCase():"text";let I=ACe([C,A&&A.toAbortSignal()],R),W=null;const H=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let J;try{if(O&&f&&w!=="get"&&w!=="head"&&(J=await y(D,T))!==0){let F=new n(b,{method:"POST",body:T,duplex:"half"}),ee;if(oe.isFormData(T)&&(ee=F.headers.get("content-type"))&&D.setContentType(ee),F.body){const[ye,be]=G6(J,X0(Z6(O)));T=J6(F.body,ej,ye,be)}}oe.isString(L)||(L=L?"include":"omit");const z=a&&"credentials"in n.prototype,q={...$,signal:I,method:w.toUpperCase(),headers:D.normalize().toJSON(),body:T,duplex:"half",credentials:z?L:void 0};W=a&&new n(b,q);let se=await(a?j(W,$):j(b,q));const le=d&&(k==="stream"||k==="response");if(d&&(P||le&&H)){const F={};["status","statusText","headers"].forEach(Ae=>{F[Ae]=se[Ae]});const ee=oe.toFiniteNumber(se.headers.get("content-length")),[ye,be]=P&&G6(ee,X0(Z6(P),!0))||[];se=new r(J6(se.body,ej,ye,()=>{be&&be(),H&&H()}),F)}k=k||"text";let _e=await p[oe.findKey(p,k)||"text"](se,v);return!le&&H&&H(),await new Promise((F,ee)=>{_q(F,ee,{data:_e,headers:Yr.from(se.headers),status:se.status,statusText:se.statusText,config:v,request:W})})}catch(z){throw H&&H(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,v,W),{cause:z.cause||z}):We.from(z,z&&z.code,v,W)}}},MCe=new Map,Tq=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,a=[r,i,n];let s=a.length,o=s,c,f,d=MCe;for(;o--;)c=a[o],f=d.get(c),f===void 0&&d.set(c,f=o?new Map:OCe(e)),d=f;return f};Tq();const iR={http:KEe,xhr:TCe,fetch:{get:Tq}};oe.forEach(iR,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ij=t=>`- ${t}`,ICe=t=>oe.isFunction(t)||t===null||t===!1;function kCe(t,e){t=oe.isArray(t)?t:[t];const{length:n}=t;let r,i;const a={};for(let s=0;s<n;s++){r=t[s];let o;if(i=r,!ICe(r)&&(i=iR[(o=String(r)).toLowerCase()],i===void 0))throw new We(`Unknown adapter '${o}'`);if(i&&(oe.isFunction(i)||(i=i.get(e))))break;a[o||"#"+s]=i}if(!i){const s=Object.entries(a).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let o=n?s.length>1?`since :
`+s.map(ij).join(`
`):" "+ij(s[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const Aq={getAdapter:kCe,adapters:iR};function DT(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new wd(null,t)}function aj(t){return DT(t),t.headers=Yr.from(t.headers),t.data=NT.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Aq.getAdapter(t.adapter||qg.adapter,t)(t).then(function(r){return DT(t),r.data=NT.call(t,t.transformResponse,r),r.headers=Yr.from(r.headers),r},function(r){return xq(r)||(DT(t),r&&r.response&&(r.response.data=NT.call(t,t.transformResponse,r.response),r.response.headers=Yr.from(r.response.headers))),Promise.reject(r)})}const Eq="1.13.2",Lx={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Lx[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const sj={};Lx.transitional=function(e,n,r){function i(a,s){return"[Axios v"+Eq+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,o)=>{if(e===!1)throw new We(i(s," has been removed"+(n?" in "+n:"")),We.ERR_DEPRECATED);return n&&!sj[s]&&(sj[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,s,o):!0}};Lx.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function NCe(t,e,n){if(typeof t!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],s=e[a];if(s){const o=t[a],c=o===void 0||s(o,a,t);if(c!==!0)throw new We("option "+a+" must be "+c,We.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new We("Unknown option "+a,We.ERR_BAD_OPTION)}}const Av={assertOptions:NCe,validators:Lx},La=Av.validators;let vc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new K6,response:new K6}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ic(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&Av.assertOptions(r,{silentJSONParsing:La.transitional(La.boolean),forcedJSONParsing:La.transitional(La.boolean),clarifyTimeoutError:La.transitional(La.boolean)},!1),i!=null&&(oe.isFunction(i)?n.paramsSerializer={serialize:i}:Av.assertOptions(i,{encode:La.function,serialize:La.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Av.assertOptions(n,{baseUrl:La.spelling("baseURL"),withXsrfToken:La.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&oe.merge(a.common,a[n.method]);a&&oe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),n.headers=Yr.concat(s,a);const o=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(c=c&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const f=[];this.interceptors.response.forEach(function(b){f.push(b.fulfilled,b.rejected)});let d,p=0,m;if(!c){const v=[aj.bind(this),void 0];for(v.unshift(...o),v.push(...f),m=v.length,d=Promise.resolve(n);p<m;)d=d.then(v[p++],v[p++]);return d}m=o.length;let y=n;for(;p<m;){const v=o[p++],b=o[p++];try{y=v(y)}catch(w){b.call(this,w);break}}try{d=aj.call(this,y)}catch(v){return Promise.reject(v)}for(p=0,m=f.length;p<m;)d=d.then(f[p++],f[p++]);return d}getUri(e){e=Ic(this.defaults,e);const n=wq(e.baseURL,e.url,e.allowAbsoluteUrls);return yq(n,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){vc.prototype[e]=function(n,r){return this.request(Ic(r||{},{method:e,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function n(r){return function(a,s,o){return this.request(Ic(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}vc.prototype[e]=n(),vc.prototype[e+"Form"]=n(!0)});let DCe=class Cq{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(o=>{r.subscribe(o),a=o}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},e(function(a,s,o){r.reason||(r.reason=new wd(a,s,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Cq(function(i){e=i}),cancel:e}}};function BCe(t){return function(n){return t.apply(null,n)}}function LCe(t){return oe.isObject(t)&&t.isAxiosError===!0}const pE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(pE).forEach(([t,e])=>{pE[e]=t});function Pq(t){const e=new vc(t),n=aq(vc.prototype.request,e);return oe.extend(n,vc.prototype,e,{allOwnKeys:!0}),oe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Pq(Ic(t,i))},n}const Ct=Pq(qg);Ct.Axios=vc;Ct.CanceledError=wd;Ct.CancelToken=DCe;Ct.isCancel=xq;Ct.VERSION=Eq;Ct.toFormData=Bx;Ct.AxiosError=We;Ct.Cancel=Ct.CanceledError;Ct.all=function(e){return Promise.all(e)};Ct.spread=BCe;Ct.isAxiosError=LCe;Ct.mergeConfig=Ic;Ct.AxiosHeaders=Yr;Ct.formToJSON=t=>bq(oe.isHTMLForm(t)?new FormData(t):t);Ct.getAdapter=Aq.getAdapter;Ct.HttpStatusCode=pE;Ct.default=Ct;const{Axios:N8e,AxiosError:D8e,CanceledError:B8e,isCancel:L8e,CancelToken:j8e,VERSION:U8e,all:F8e,Cancel:$8e,isAxiosError:z8e,spread:V8e,toFormData:H8e,AxiosHeaders:W8e,HttpStatusCode:q8e,formToJSON:X8e,getAdapter:K8e,mergeConfig:Y8e}=Ct,jCe=t=>{if(!t||typeof t!="object")throw new Error("Invalid response: expected object");const e=["kpis","time_series","trend","anomalies","heatmap"];for(const n of e)n in t||console.warn(`Missing field in system overview response: ${n}`);if(t.kpis&&typeof t.kpis=="object"){const n=["total_trips","weekend_share","peak_hour","weekend_effect"];for(const r of n)r in t.kpis||console.warn(`Missing KPI field: ${r}`)}if(t.time_series&&!Array.isArray(t.time_series))throw new Error("time_series should be an array");return!0},UCe=t=>{if(!t||typeof t!="object")throw new Error("Invalid response: expected object");if(!t.kpis||typeof t.kpis!="object")throw new Error("Missing or invalid kpis object");if(!Array.isArray(t.hourly_profile))throw new Error("hourly_profile should be an array");if(!Array.isArray(t.daily_profile))throw new Error("daily_profile should be an array");return!0},Xg="https://citibike-capstone-project.onrender.com/api",FCe=async(t={})=>{try{const e=new URLSearchParams;t.startDate&&e.append("start_date",t.startDate),t.endDate&&e.append("end_date",t.endDate),t.daysOfWeek&&t.daysOfWeek.length>0&&e.append("days_of_week",t.daysOfWeek.join(","));const n=await Ct.get(`${Xg}/system-overview?${e.toString()}`);try{jCe(n.data)}catch(r){console.error("Response validation failed:",r)}return n.data}catch(e){throw console.error("Error fetching system overview:",e),e.response?new Error(`Server error: ${e.response.status} - ${e.response.data?.detail||"Unknown error"}`):e.request?new Error("No response from server. Please check if the backend is running."):new Error(`Request failed: ${e.message}`)}},$Ce=async()=>(await Ct.get(`${Xg}/map-data`)).data,zCe=async(t=50)=>(await Ct.get(`${Xg}/routes?top_n=${t}`)).data,VCe=async()=>(await Ct.get(`${Xg}/stations`)).data,HCe=async t=>{try{const e=await Ct.get(`${Xg}/station/${encodeURIComponent(t)}`);try{UCe(e.data)}catch(n){console.error("Station details validation failed:",n)}return e.data}catch(e){throw console.error("Error fetching station details:",e),e.response?.status===404?new Error(`Station "${t}" not found`):new Error(`Failed to fetch station details: ${e.message}`)}},ef=({children:t,className:e=""})=>E.jsx("div",{className:`backdrop-blur-xl bg-black/40 border border-white/10 rounded-2xl shadow-[0_0_15px_rgba(0,0,0,0.3)] transition-all duration-300 hover:border-white/20 hover:bg-black/50 ${e}`,children:t}),Fy=({title:t,value:e,subtext:n,icon:r,trend:i,color:a="blue"})=>{const s={blue:"text-blue-400 bg-blue-500/10 border-blue-500/20",emerald:"text-emerald-400 bg-emerald-500/10 border-emerald-500/20",purple:"text-purple-400 bg-purple-500/10 border-purple-500/20",orange:"text-orange-400 bg-orange-500/10 border-orange-500/20"};return E.jsxs(ef,{className:"p-6 flex flex-col justify-between relative overflow-hidden group",children:[E.jsx("div",{className:`absolute -right-6 -top-6 w-24 h-24 rounded-full blur-[50px] opacity-20 transition-opacity group-hover:opacity-40 ${a==="blue"?"bg-blue-500":a==="emerald"?"bg-emerald-500":a==="purple"?"bg-purple-500":"bg-orange-500"}`}),E.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[E.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest",children:t}),E.jsx("div",{className:`p-2 rounded-lg ${s[a]}`,children:r&&E.jsx(r,{className:"w-4 h-4"})})]}),E.jsxs("div",{className:"relative z-10",children:[E.jsx("div",{className:"text-4xl font-bold font-sans tracking-tighter text-white mb-2 shadow-black drop-shadow-lg",children:e}),n&&E.jsx("div",{className:"flex items-center gap-2",children:E.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full border ${i==="up"?"text-emerald-400 border-emerald-500/30 bg-emerald-500/10":i==="down"?"text-rose-400 border-rose-500/30 bg-rose-500/10":"text-gray-400 border-gray-700 bg-gray-800/50"}`,children:n})})]})]})},WCe=()=>{const[t,e]=x.useState(null),[n,r]=x.useState(!0),[i,a]=x.useState({start:"2020-01-01",end:"2020-02-01"}),[s,o]=x.useState(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]),[c,f]=x.useState("Daily"),[d,p]=x.useState({temp:!0,precip:!1,humidity:!1}),[m,y]=x.useState(0),v=x.useCallback(async()=>{r(!0);try{const T=await FCe({startDate:i.start,endDate:i.end,daysOfWeek:s});e(T)}catch(T){console.error("Failed to load data:",T)}finally{r(!1)}},[i.start,i.end,s]);x.useEffect(()=>{const T=setTimeout(()=>{v()},500);return()=>clearTimeout(T)},[v]);const b=T=>{p(C=>({...C,[T]:!C[T]}))},w=x.useMemo(()=>{if(!t?.time_series)return[];let T=[...t.time_series];return m>0?T=T.map((C,A,R)=>{const P=Math.max(0,A-m),O=Math.min(R.length,A+m+1),k=R.slice(P,O),D=k.reduce((L,$)=>L+$.trip_count,0)/k.length;return{...C,trip_count_smooth:Math.round(D)}}):T=T.map(C=>({...C,trip_count_smooth:C.trip_count})),T},[t,m]);return n?E.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-100px)]",children:E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsx(Qv,{className:"w-6 h-6 text-blue-500 animate-pulse"})})]})}):t?E.jsxs("div",{className:"p-8 space-y-8 min-h-screen bg-[#050505] text-white selection:bg-blue-500/30",children:[E.jsxs("div",{className:"flex items-end justify-between border-b border-white/5 pb-6",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-white via-gray-200 to-gray-500 mb-2",children:"System Overhead"}),E.jsx("p",{className:"text-gray-500 font-mono text-xs tracking-widest uppercase",children:"Real-time Fleet Telemetry v2.4"})]}),E.jsxs("div",{className:"flex items-center gap-3 bg-emerald-500/5 border border-emerald-500/20 px-4 py-2 rounded-full",children:[E.jsxs("span",{className:"relative flex h-2 w-2",children:[E.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),E.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),E.jsx("span",{className:"text-xs font-bold text-emerald-500 tracking-wider",children:"LIVE FEED ACTIVE"})]})]}),E.jsx(ef,{className:"px-6 py-4 flex items-center justify-between flex-wrap gap-4",children:E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsxs("div",{className:"flex items-center gap-3 bg-black/30 p-1.5 rounded-xl border border-white/5",children:[E.jsx("div",{className:"p-2 bg-white/5 rounded-lg",children:E.jsx(cA,{className:"w-4 h-4 text-blue-400"})}),E.jsxs("div",{className:"flex items-center gap-2 px-2",children:[E.jsx(P4,{value:i.start,onChange:T=>a(C=>({...C,start:T})),className:"bg-transparent border-none text-sm focus:ring-0 text-gray-300 font-mono"}),E.jsx(Yz,{className:"w-3 h-3 text-gray-600"}),E.jsx(P4,{value:i.end,onChange:T=>a(C=>({...C,end:T})),className:"bg-transparent border-none text-sm focus:ring-0 text-gray-300 font-mono"})]})]}),E.jsx("div",{className:"h-8 w-px bg-white/10"}),E.jsx("div",{className:"flex items-center gap-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((T,C)=>{const A=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][C],R=s.includes(A);return E.jsx("button",{onClick:()=>{o(R?P=>P.filter(O=>O!==A):P=>[...P,A])},className:`text-[10px] font-bold px-3 py-1.5 rounded-lg transition-all duration-300 uppercase tracking-wide
                                        ${R?"bg-blue-500 text-white shadow-[0_0_10px_rgba(59,130,246,0.5)]":"bg-white/5 text-gray-500 hover:bg-white/10"}`,children:T},T)})})]})}),t.message?E.jsxs("div",{className:"p-12 text-center border border-dashed border-gray-800 rounded-2xl",children:[E.jsx("p",{className:"text-gray-500 mb-2",children:t.message}),E.jsx("p",{className:"text-xs text-blue-500 cursor-pointer hover:underline",onClick:()=>a({start:"2019-01-01",end:"2019-12-31"}),children:"Reset to default range"})]}):E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[E.jsx(Fy,{title:"Network Traffic",value:t?.kpis?.total_trips?.toLocaleString()??"0",subtext:"Total Trips",icon:gg,color:"blue"}),E.jsx(Fy,{title:"Weekend Load",value:`${Math.round(t?.kpis?.weekend_share??0)}%`,subtext:t?.kpis?.weekend_share>30?"Leisure Mode":"Commute Mode",icon:uA,trend:t?.kpis?.weekend_share>30?"up":"down",color:"purple"}),E.jsx(Fy,{title:"Peak Usage",value:`${t?.kpis?.peak_hour??0}:00`,subtext:"High Traffic Window",icon:yue,color:"orange"}),E.jsx(Fy,{title:"Wknd Impact",value:t?.kpis?.weekend_effect??0,subtext:"Cohen's d Score",icon:p3,color:"emerald"})]}),E.jsx(ef,{className:"p-8",children:E.jsxs(Pp,{children:[E.jsxs("div",{className:"flex justify-between items-center mb-8",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Demand & Weather Correlation"}),E.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-widest",children:"Multi-Variate Analysis"})]}),E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsxs("div",{className:"flex bg-black/40 p-1 rounded-xl border border-white/5",children:[E.jsxs("button",{onClick:()=>b("temp"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${d.temp?"bg-orange-500/20 text-orange-400":"text-gray-500 hover:text-white"}`,children:[E.jsx(due,{size:14})," Temp"]}),E.jsxs("button",{onClick:()=>b("precip"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${d.precip?"bg-blue-500/20 text-blue-400":"text-gray-500 hover:text-white"}`,children:[E.jsx(jce,{size:14})," Precip"]}),E.jsxs("button",{onClick:()=>b("humidity"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${d.humidity?"bg-cyan-500/20 text-cyan-400":"text-gray-500 hover:text-white"}`,children:[E.jsx(zce,{size:14})," Humidity"]})]}),E.jsxs("div",{className:"flex items-center gap-3 pl-6 border-l border-white/10",children:[E.jsx(Xce,{size:16,className:"text-gray-500"}),E.jsx("input",{type:"range",min:"0",max:"10",step:"1",value:m,onChange:T=>y(parseInt(T.target.value)),className:"w-24 h-1.5 bg-gray-800 rounded-full appearance-none cursor-pointer accent-blue-500"})]})]})]}),E.jsx("div",{style:{height:400},children:E.jsx(kp,{width:"100%",height:"100%",children:E.jsxs(lEe,{data:w,margin:{top:10,right:10,left:-20,bottom:0},children:[E.jsxs("defs",{children:[E.jsxs("linearGradient",{id:"colorTrips",x1:"0",y1:"0",x2:"0",y2:"1",children:[E.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.4}),E.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),E.jsxs("linearGradient",{id:"colorTemp",x1:"0",y1:"0",x2:"0",y2:"1",children:[E.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.2}),E.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})]}),E.jsx(Ff,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)",vertical:!1}),E.jsx($f,{dataKey:"date",stroke:"rgba(255,255,255,0.3)",tick:{fontSize:10,fill:"rgba(255,255,255,0.3)"},tickLine:!1,axisLine:!1,minTickGap:30}),E.jsx(yc,{yAxisId:"left",stroke:"rgba(255,255,255,0.3)",tick:{fontSize:10,fill:"rgba(255,255,255,0.3)"},tickLine:!1,axisLine:!1,label:{value:"Trips",angle:-90,position:"insideLeft",fill:"#3b82f6",fontSize:10}}),E.jsx(yc,{yAxisId:"right",orientation:"right",stroke:"rgba(255,255,255,0.1)",tick:!1,tickLine:!1,axisLine:!1,domain:["auto","auto"],allowDataOverflow:!1}),E.jsx(Wp,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.5)"},itemStyle:{fontSize:"12px",fontWeight:500},labelStyle:{color:"#9ca3af",marginBottom:"8px",fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px"},formatter:(T,C)=>C==="Trips"?[T.toLocaleString(),"Trips"]:C.includes("Temp")?[`${T.toFixed(1)}C`,"Temperature"]:C.includes("Precip")?[`${T.toFixed(1)}mm`,"Precipitation"]:C.includes("Humidity")?[`${T.toFixed(0)}%`,"Humidity"]:[T,C]}),E.jsx(df,{yAxisId:"left",type:"monotone",dataKey:"trip_count_smooth",name:"Trips",stroke:"#3b82f6",strokeWidth:3,fill:"url(#colorTrips)",activeDot:{r:6,strokeWidth:0,fill:"#fff",boxShadow:"0 0 10px #3b82f6"}}),d.temp&&E.jsx(Xp,{yAxisId:"right",type:"monotone",dataKey:"temp",name:"Temp",stroke:"#f97316",strokeWidth:2,dot:!1,strokeDasharray:"5 5"}),d.humidity&&E.jsx(Xp,{yAxisId:"right",type:"monotone",dataKey:"humidity",name:"Humidity",stroke:"#06b6d4",strokeWidth:2,dot:!1}),d.precip&&E.jsx(XP,{yAxisId:"right",dataKey:"precip",name:"Precip",fill:"#3b82f6",opacity:.3,barSize:10})]})})})]})}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E.jsx(ef,{className:"p-6",children:E.jsxs(Pp,{children:[E.jsx("h4",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-6",children:"Volatility & Trend"}),E.jsx("div",{style:{height:200},children:E.jsx(kp,{width:"100%",height:"100%",children:E.jsxs(iq,{data:t?.trend,children:[E.jsx("defs",{children:E.jsxs("linearGradient",{id:"trendGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[E.jsx("stop",{offset:"0%",stopColor:"#8b5cf6",stopOpacity:.3}),E.jsx("stop",{offset:"100%",stopColor:"#8b5cf6",stopOpacity:0})]})}),E.jsx(Ff,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)",vertical:!1}),E.jsx($f,{dataKey:"date",hide:!0}),E.jsx(yc,{hide:!0}),E.jsx(Wp,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.1)"}}),E.jsx(df,{type:"monotone",dataKey:"upper_ci",stroke:"none",fill:"#8b5cf6",fillOpacity:.05}),E.jsx(df,{type:"monotone",dataKey:"lower_ci",stroke:"none",fill:"#000",fillOpacity:.5}),E.jsx(df,{type:"monotone",dataKey:"7_day_ma",stroke:"#8b5cf6",strokeWidth:2,fill:"url(#trendGradient)"})]})})})]})}),E.jsxs(ef,{className:"p-6 flex flex-col",children:[E.jsx("h4",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-6",children:"Anomalies Detected"}),E.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-3 custom-scrollbar",style:{maxHeight:200},children:t?.anomalies?.map((T,C)=>E.jsxs("div",{className:"flex justify-between items-center p-3 rounded-xl bg-white/5 hover:bg-white/10 transition-colors border border-white/5",children:[E.jsx("span",{className:"text-xs text-gray-400 font-mono",children:T.date}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("span",{className:"font-bold text-white text-sm",children:T.trip_count.toLocaleString()}),E.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${T.z_score>0?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-rose-400"}`,children:[T.z_score>0?"+":"",T.z_score,""]})]})]},C))})]}),E.jsxs(ef,{className:"p-6",children:[E.jsx("h4",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-6",children:"Member vs Casual"}),E.jsx("div",{className:"h-[200px] flex flex-col justify-center",children:t?.heatmap&&E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500 uppercase tracking-wider px-10 mb-2",children:[E.jsx("span",{children:"Casual Riders"}),E.jsx("span",{children:"Members"})]}),t.heatmap.map((T,C)=>E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-500 w-8 text-right",children:T.day_of_week?.slice(0,3)}),E.jsxs("div",{className:"flex-1 flex gap-1 h-3",children:[E.jsx("div",{className:"flex-1 flex justify-end",children:E.jsx("div",{className:"h-full bg-gradient-to-l from-blue-500 to-blue-900 rounded-l-sm transition-all duration-1000",style:{width:`${Math.min(100,T.casual/5e4*100)}%`}})}),E.jsx("div",{className:"flex-1 flex justify-start",children:E.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-900 rounded-r-sm transition-all duration-1000",style:{width:`${Math.min(100,T.member/2e5*100)}%`}})})]})]},C))]})})]})]})]}):E.jsxs("div",{className:"flex justify-center items-center h-96 flex-col gap-6",children:[E.jsx("div",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-orange-500",children:"System Connectivity Error"}),E.jsx("button",{onClick:v,className:"px-6 py-2 bg-white/5 border border-white/10 rounded-lg hover:bg-white/10 transition-all text-white font-mono text-sm",children:"RETRY_CONNECTION"})]})};function K0(t,e){if(!t)throw new Error(e||"loader assertion failed.")}const aR=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser),oj=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);oj&&parseFloat(oj[1]);const lj=globalThis,cj=globalThis.process||{},qCe=globalThis.navigator||{};function Rq(t){if(typeof window<"u"&&window.process?.type==="renderer"||typeof process<"u"&&process.versions?.electron)return!0;const n=typeof navigator<"u"&&navigator.userAgent;return!!(n&&n.indexOf("Electron")>=0)}function Hc(){return!(typeof process=="object"&&String(process)==="[object process]"&&!process?.browser)||Rq()}function XCe(t){return Hc()?Rq()?"Electron":(qCe.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown":"Node"}const Oq="4.1.0";function KCe(t){try{const e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch{return null}}class YCe{constructor(e,n,r="sessionStorage"){this.storage=KCe(r),this.id=e,this.config=n,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const n=JSON.stringify(this.config);this.storage.setItem(this.id,n)}}_loadConfiguration(){let e={};if(this.storage){const n=this.storage.getItem(this.id);e=n?JSON.parse(n):{}}return Object.assign(this.config,e),this}}function GCe(t){let e;return t<10?e=`${t.toFixed(2)}ms`:t<100?e=`${t.toFixed(1)}ms`:t<1e3?e=`${t.toFixed(0)}ms`:e=`${(t/1e3).toFixed(2)}s`,e}function ZCe(t,e=8){const n=Math.max(e-t.length,0);return`${" ".repeat(n)}${t}`}var Y0;(function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(Y0||(Y0={}));const QCe=10;function uj(t){return typeof t!="string"?t:(t=t.toUpperCase(),Y0[t]||Y0.WHITE)}function JCe(t,e,n){return!Hc&&typeof t=="string"&&(e&&(t=`\x1B[${uj(e)}m${t}\x1B[39m`),n&&(t=`\x1B[${uj(n)+QCe}m${t}\x1B[49m`)),t}function e3e(t,e=["constructor"]){const n=Object.getPrototypeOf(t),r=Object.getOwnPropertyNames(n),i=t;for(const a of r){const s=i[a];typeof s=="function"&&(e.find(o=>a===o)||(i[a]=s.bind(t)))}}function sR(t,e){if(!t)throw new Error("Assertion failed")}function qu(){let t;if(Hc()&&lj.performance)t=lj?.performance?.now?.();else if("hrtime"in cj){const e=cj?.hrtime?.();t=e[0]*1e3+e[1]/1e6}else t=Date.now();return t}const Xu={debug:Hc()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},t3e={enabled:!0,level:0};function Ku(){}const fj={},dj={once:!0};class Kg{constructor({id:e}={id:""}){this.VERSION=Oq,this._startTs=qu(),this._deltaTs=qu(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=e,this.userData={},this._storage=new YCe(`__probe-${this.id}__`,t3e),this.timeStamp(`${this.id} started`),e3e(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((qu()-this._startTs).toPrecision(10))}getDelta(){return Number((qu()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(e=!0){return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,n){this._storage.setConfiguration({[e]:n})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,n){if(!e)throw new Error(n||"Assertion failed")}warn(e){return this._getLogFunction(0,e,Xu.warn,arguments,dj)}error(e){return this._getLogFunction(0,e,Xu.error,arguments)}deprecated(e,n){return this.warn(`\`${e}\` is deprecated and will be removed in a later version. Use \`${n}\` instead`)}removed(e,n){return this.error(`\`${e}\` has been removed. Use \`${n}\` instead`)}probe(e,n){return this._getLogFunction(e,n,Xu.log,arguments,{time:!0,once:!0})}log(e,n){return this._getLogFunction(e,n,Xu.debug,arguments)}info(e,n){return this._getLogFunction(e,n,console.info,arguments)}once(e,n){return this._getLogFunction(e,n,Xu.debug||Xu.info,arguments,dj)}table(e,n,r){return n?this._getLogFunction(e,n,console.table||Ku,r&&[r],{tag:r3e(n)}):Ku}time(e,n){return this._getLogFunction(e,n,console.time?console.time:console.info)}timeEnd(e,n){return this._getLogFunction(e,n,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,n){return this._getLogFunction(e,n,console.timeStamp||Ku)}group(e,n,r={collapsed:!1}){const i=hj({logLevel:e,message:n,opts:r}),{collapsed:a}=r;return i.method=(a?console.groupCollapsed:console.group)||console.info,this._getLogFunction(i)}groupCollapsed(e,n,r={}){return this.group(e,n,Object.assign({},r,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||Ku)}withGroup(e,n,r){this.group(e,n)();try{r()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=Mq(e)}_getLogFunction(e,n,r,i,a){if(this._shouldLog(e)){a=hj({logLevel:e,message:n,args:i,opts:a}),r=r||a.method,sR(r),a.total=this.getTotal(),a.delta=this.getDelta(),this._deltaTs=qu();const s=a.tag||a.message;if(a.once&&s)if(!fj[s])fj[s]=qu();else return Ku;return n=n3e(this.id,a.message,a),r.bind(console,n,...a.args)}return Ku}}Kg.VERSION=Oq;function Mq(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return sR(Number.isFinite(e)&&e>=0),e}function hj(t){const{logLevel:e,message:n}=t;t.logLevel=Mq(e);const r=t.args?Array.from(t.args):[];for(;r.length&&r.shift()!==n;);switch(typeof e){case"string":case"function":n!==void 0&&r.unshift(n),t.message=e;break;case"object":Object.assign(t,e);break}typeof t.message=="function"&&(t.message=t.message());const i=typeof t.message;return sR(i==="string"||i==="object"),Object.assign(t,{args:r},t.opts)}function n3e(t,e,n){if(typeof e=="string"){const r=n.time?ZCe(GCe(n.total)):"";e=n.time?`${t}: ${r}  ${e}`:`${t}: ${e}`,e=JCe(e,n.color,n.background)}return e}function r3e(t){for(const e in t)for(const n in t[e])return n||"untitled";return"empty"}const BT="4.3.3",i3e=BT[0]>="0"&&BT[0]<="9"?`v${BT}`:"";function a3e(){const t=new Kg({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=t,globalThis.loaders.version=i3e,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=t,t}const s3e=a3e();function o3e(t,e){return Iq(t||{},e)}function Iq(t,e,n=0){if(n>3)return e;const r={...t};for(const[i,a]of Object.entries(e))a&&typeof a=="object"&&!Array.isArray(a)?r[i]=Iq(r[i]||{},e[i],n+1):r[i]=e[i];return r}const l3e="latest";function c3e(){return globalThis._loadersgl_?.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.3"),globalThis._loadersgl_.version}const u3e=c3e();function dl(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}const bc=typeof process!="object"||String(process)!=="[object process]"||process.browser,f3e=typeof window<"u"&&typeof window.orientation<"u",pj=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);pj&&parseFloat(pj[1]);class d3e{name;workerThread;isRunning=!0;result;_resolve=()=>{};_reject=()=>{};constructor(e,n){this.name=e,this.workerThread=n,this.result=new Promise((r,i)=>{this._resolve=r,this._reject=i})}postMessage(e,n){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:n})}done(e){dl(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){dl(this.isRunning),this.isRunning=!1,this._reject(e)}}class LT{terminate(){}}const jT=new Map;function h3e(t){dl(t.source&&!t.url||!t.source&&t.url);let e=jT.get(t.source||t.url);return e||(t.url&&(e=p3e(t.url),jT.set(t.url,e)),t.source&&(e=kq(t.source),jT.set(t.source,e))),dl(e),e}function p3e(t){if(!t.startsWith("http"))return t;const e=g3e(t);return kq(e)}function kq(t){const e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function g3e(t){return`try {
  importScripts('${t}');
} catch (error) {
  console.error(error);
  throw error;
}`}function Nq(t,e=!0,n){const r=n||new Set;if(t){if(gj(t))r.add(t);else if(gj(t.buffer))r.add(t.buffer);else if(!ArrayBuffer.isView(t)){if(e&&typeof t=="object")for(const i in t)Nq(t[i],e,r)}}return n===void 0?Array.from(r):[]}function gj(t){return t?t instanceof ArrayBuffer||typeof MessagePort<"u"&&t instanceof MessagePort||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas:!1}const UT=()=>{};class gE{name;source;url;terminated=!1;worker;onMessage;onError;_loadableURL="";static isSupported(){return typeof Worker<"u"&&bc||typeof LT<"u"&&!bc}constructor(e){const{name:n,source:r,url:i}=e;dl(r||i),this.name=n,this.source=r,this.url=i,this.onMessage=UT,this.onError=a=>console.log(a),this.worker=bc?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=UT,this.onError=UT,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,n){n=n||Nq(e),this.worker.postMessage(e,n)}_getErrorFromErrorEvent(e){let n="Failed to load ";return n+=`worker ${this.name} from ${this.url}. `,e.message&&(n+=`${e.message} in `),e.lineno&&(n+=`:${e.lineno}:${e.colno}`),new Error(n)}_createBrowserWorker(){this._loadableURL=h3e({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=n=>{n.data?this.onMessage(n.data):this.onError(new Error("No data received"))},e.onerror=n=>{this.onError(this._getErrorFromErrorEvent(n)),this.terminated=!0},e.onmessageerror=n=>console.error(n),e}_createNodeWorker(){let e;if(this.url){const r=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;e=new LT(r,{eval:!1})}else if(this.source)e=new LT(this.source,{eval:!0});else throw new Error("no worker");return e.on("message",n=>{this.onMessage(n)}),e.on("error",n=>{this.onError(n)}),e.on("exit",n=>{}),e}}class m3e{name="unnamed";source;url;maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return gE.isSupported()}constructor(e){this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},e.name!==void 0&&(this.name=e.name),e.maxConcurrency!==void 0&&(this.maxConcurrency=e.maxConcurrency),e.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=e.maxMobileConcurrency),e.reuseWorkers!==void 0&&(this.reuseWorkers=e.reuseWorkers),e.onDebug!==void 0&&(this.onDebug=e.onDebug)}async startJob(e,n=(i,a,s)=>i.done(s),r=(i,a)=>i.error(a)){const i=new Promise(a=>(this.jobQueue.push({name:e,onMessage:n,onError:r,onStart:a}),this));return this._startQueuedJob(),await i}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const n=this.jobQueue.shift();if(n){this.onDebug({message:"Starting job",name:n.name,workerThread:e,backlog:this.jobQueue.length});const r=new d3e(n.name,e);e.onMessage=i=>n.onMessage(r,i.type,i.payload),e.onError=i=>n.onError(r,i),n.onStart(r);try{await r.result}catch(i){console.error(`Worker exception: ${i}`)}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){!bc||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new gE({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return f3e?this.maxMobileConcurrency:this.maxConcurrency}}const y3e={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class Go{props;workerPools=new Map;static _workerFarm;static isSupported(){return gE.isSupported()}static getWorkerFarm(e={}){return Go._workerFarm=Go._workerFarm||new Go({}),Go._workerFarm.setProps(e),Go._workerFarm}constructor(e){this.props={...y3e},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const n of this.workerPools.values())n.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:n,source:r,url:i}=e;let a=this.workerPools.get(n);return a||(a=new m3e({name:n,source:r,url:i}),a.setProps(this._getWorkerPoolProps()),this.workerPools.set(n,a)),a}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}function v3e(t,e={}){const n=e[t.id]||{},r=bc?`${t.id}-worker.js`:`${t.id}-worker-node.js`;let i=n.workerUrl;if(!i&&t.id==="compression"&&(i=e.workerUrl),e._workerType==="test"&&(bc?i=`modules/${t.module}/dist/${r}`:i=`modules/${t.module}/src/workers/${t.id}-worker-node.ts`),!i){let a=t.version;a==="latest"&&(a=l3e);const s=a?`@${a}`:"";i=`https://unpkg.com/@loaders.gl/${t.module}${s}/dist/${r}`}return dl(i),i}function b3e(t,e=u3e){dl(t,"no worker provided");const n=t.version;return!(!e||!n)}function x3e(t,e){return!Go.isSupported()||!bc&&!e?._nodeWorkers?!1:t.worker&&e?.worker}async function _3e(t,e,n,r,i){const a=t.id,s=v3e(t,n),c=Go.getWorkerFarm(n).getWorkerPool({name:a,url:s});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const f=await c.startJob("process-on-worker",w3e.bind(null,i));return f.postMessage("process",{input:e,options:n,context:r}),await(await f.result).result}async function w3e(t,e,n,r){switch(n){case"done":e.done(r);break;case"error":e.error(new Error(r.error));break;case"process":const{id:i,input:a,options:s}=r;try{const o=await t(a,s);e.postMessage("done",{id:i,result:o})}catch(o){const c=o instanceof Error?o.message:"unknown error";e.postMessage("error",{id:i,error:c})}break;default:console.warn(`parse-with-worker unknown message ${n}`)}}function S3e(t,e,n){if(n=n||t.byteLength,t.byteLength<n||e.byteLength<n)return!1;const r=new Uint8Array(t),i=new Uint8Array(e);for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}function T3e(...t){return A3e(t)}function A3e(t){const e=t.map(a=>a instanceof ArrayBuffer?new Uint8Array(a):a),n=e.reduce((a,s)=>a+s.byteLength,0),r=new Uint8Array(n);let i=0;for(const a of e)r.set(a,i),i+=a.byteLength;return r.buffer}async function E3e(t){const e=[];for await(const n of t)e.push(n);return T3e(...e)}function mj(){let t;if(typeof window<"u"&&window.performance)t=window.performance.now();else if(typeof process<"u"&&process.hrtime){const e=process.hrtime();t=e[0]*1e3+e[1]/1e6}else t=Date.now();return t}class yj{constructor(e,n){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=e,this.type=n,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=mj(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(mj()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class jx{constructor(e){this.stats={},this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e,n="count"){return this._getOrCreate({name:e,type:n})}get size(){return Object.keys(this.stats).length}reset(){for(const e of Object.values(this.stats))e.reset();return this}forEach(e){for(const n of Object.values(this.stats))e(n)}getTable(){const e={};return this.forEach(n=>{e[n.name]={time:n.time||0,count:n.count||0,average:n.getAverageTime()||0,hz:n.getHz()||0}}),e}_initializeStats(e=[]){e.forEach(n=>this._getOrCreate(n))}_getOrCreate(e){const{name:n,type:r}=e;let i=this.stats[n];return i||(e instanceof yj?i=e:i=new yj(n,r),this.stats[n]=i),i}}let C3e="";const vj={};function P3e(t){for(const e in vj)if(t.startsWith(e)){const n=vj[e];t=t.replace(e,n)}return!t.startsWith("http://")&&!t.startsWith("https://")&&(t=`${C3e}${t}`),t}function R3e(t){return t&&typeof t=="object"&&t.isBuffer}function Dq(t){if(R3e(t))return t;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if(typeof t=="string"){const e=t;return new TextEncoder().encode(e).buffer}if(t&&typeof t=="object"&&t._toArrayBuffer)return t._toArrayBuffer();throw new Error("toArrayBuffer")}function Bq(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(e+1):""}function O3e(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}const M3e=t=>typeof t=="boolean",rp=t=>typeof t=="function",Yg=t=>t!==null&&typeof t=="object",bj=t=>Yg(t)&&t.constructor==={}.constructor,I3e=t=>!!t&&typeof t[Symbol.iterator]=="function",k3e=t=>t&&typeof t[Symbol.asyncIterator]=="function",Wc=t=>typeof Response<"u"&&t instanceof Response||t&&t.arrayBuffer&&t.text&&t.json,qc=t=>typeof Blob<"u"&&t instanceof Blob,N3e=t=>t&&typeof t=="object"&&t.isBuffer,D3e=t=>typeof ReadableStream<"u"&&t instanceof ReadableStream||Yg(t)&&rp(t.tee)&&rp(t.cancel)&&rp(t.getReader),B3e=t=>Yg(t)&&rp(t.read)&&rp(t.pipe)&&M3e(t.readable),Lq=t=>D3e(t)||B3e(t);class L3e extends Error{constructor(e,n){super(e),this.reason=n.reason,this.url=n.url,this.response=n.response}reason;url;response}const j3e=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,U3e=/^([-\w.]+\/[-\w.+]+)/;function xj(t,e){return t.toLowerCase()===e.toLowerCase()}function F3e(t){const e=U3e.exec(t);return e?e[1]:t}function _j(t){const e=j3e.exec(t);return e?e[1]:""}const jq=/\?.*/;function $3e(t){const e=t.match(jq);return e&&e[0]}function oR(t){return t.replace(jq,"")}function z3e(t){if(t.length<50)return t;const e=t.slice(t.length-15);return`${t.substr(0,32)}...${e}`}function Ux(t){return Wc(t)?t.url:qc(t)?t.name||"":typeof t=="string"?t:""}function lR(t){if(Wc(t)){const e=t,n=e.headers.get("content-type")||"",r=oR(e.url);return F3e(n)||_j(r)}return qc(t)?t.type||"":typeof t=="string"?_j(t):""}function V3e(t){return Wc(t)?t.headers["content-length"]||-1:qc(t)?t.size:typeof t=="string"?t.length:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?t.byteLength:-1}async function Uq(t){if(Wc(t))return t;const e={},n=V3e(t);n>=0&&(e["content-length"]=String(n));const r=Ux(t),i=lR(t);i&&(e["content-type"]=i);const a=await q3e(t);a&&(e["x-first-bytes"]=a),typeof t=="string"&&(t=new TextEncoder().encode(t));const s=new Response(t,{headers:e});return Object.defineProperty(s,"url",{value:r}),s}async function H3e(t){if(!t.ok)throw await W3e(t)}async function W3e(t){const e=z3e(t.url);let n=`Failed to fetch resource (${t.status}) ${t.statusText}: ${e}`;n=n.length>100?`${n.slice(0,100)}...`:n;const r={reason:t.statusText,url:t.url,response:t};try{const i=t.headers.get("Content-Type");r.reason=!t.bodyUsed&&i?.includes("application/json")?await t.json():await t.text()}catch{}return new L3e(n,r)}async function q3e(t){if(typeof t=="string")return`data:,${t.slice(0,5)}`;if(t instanceof Blob){const n=t.slice(0,5);return await new Promise(r=>{const i=new FileReader;i.onload=a=>r(a?.target?.result),i.readAsDataURL(n)})}if(t instanceof ArrayBuffer){const n=t.slice(0,5);return`data:base64,${X3e(n)}`}return null}function X3e(t){let e="";const n=new Uint8Array(t);for(let r=0;r<n.byteLength;r++)e+=String.fromCharCode(n[r]);return btoa(e)}function K3e(t){return!Y3e(t)&&!G3e(t)}function Y3e(t){return t.startsWith("http:")||t.startsWith("https:")}function G3e(t){return t.startsWith("data:")}async function wj(t,e){if(typeof t=="string"){const n=P3e(t);return K3e(n)&&globalThis.loaders?.fetchNode?globalThis.loaders?.fetchNode(n,e):await fetch(n,e)}return await Uq(t)}const Sj=new Kg({id:"loaders.gl"});class Z3e{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class Q3e{console;constructor(){this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}}const Fq={fetch:null,mimeType:void 0,nothrow:!1,log:new Q3e,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:aR,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},J3e={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function $q(){globalThis.loaders=globalThis.loaders||{};const{loaders:t}=globalThis;return t._state||(t._state={}),t._state}function zq(){const t=$q();return t.globalOptions=t.globalOptions||{...Fq},t.globalOptions}function ePe(t,e,n,r){return n=n||[],n=Array.isArray(n)?n:[n],tPe(t,n),rPe(e,t,r)}function tPe(t,e){Tj(t,null,Fq,J3e,e);for(const n of e){const r=t&&t[n.id]||{},i=n.options&&n.options[n.id]||{},a=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};Tj(r,n.id,i,a,e)}}function Tj(t,e,n,r,i){const a=e||"Top level",s=e?`${e}.`:"";for(const o in t){const c=!e&&Yg(t[o]),f=o==="baseUri"&&!e,d=o==="workerUrl"&&e;if(!(o in n)&&!f&&!d){if(o in r)Sj.warn(`${a} loader option '${s}${o}' no longer supported, use '${r[o]}'`)();else if(!c){const p=nPe(o,i);Sj.warn(`${a} loader option '${s}${o}' not recognized. ${p}`)()}}}}function nPe(t,e){const n=t.toLowerCase();let r="";for(const i of e)for(const a in i.options){if(t===a)return`Did you mean '${i.id}.${a}'?`;const s=a.toLowerCase();(n.startsWith(s)||s.startsWith(n))&&(r=r||`Did you mean '${i.id}.${a}'?`)}return r}function rPe(t,e,n){const i={...t.options||{}};return iPe(i,n),i.log===null&&(i.log=new Z3e),Aj(i,zq()),Aj(i,e),i}function Aj(t,e){for(const n in e)if(n in e){const r=e[n];bj(r)&&bj(t[n])?t[n]={...t[n],...e[n]}:t[n]=e[n]}}function iPe(t,e){e&&!("baseUri"in t)&&(t.baseUri=e)}function cR(t){return t?(Array.isArray(t)&&(t=t[0]),Array.isArray(t?.extensions)):!1}function uR(t){K0(t,"null loader"),K0(cR(t),"invalid loader");let e;return Array.isArray(t)&&(e=t[1],t=t[0],t={...t,options:{...t.options,...e}}),(t?.parseTextSync||t?.parseText)&&(t.text=!0),t.text||(t.binary=!0),t}const Vq=()=>{const t=$q();return t.loaderRegistry=t.loaderRegistry||[],t.loaderRegistry};function aPe(t){const e=Vq();t=Array.isArray(t)?t:[t];for(const n of t){const r=uR(n);e.find(i=>r===i)||e.unshift(r)}}function sPe(){return Vq()}const oPe=/\.([^.]+)$/;async function lPe(t,e=[],n,r){if(!Hq(t))return null;let i=Ej(t,e,{...n,nothrow:!0},r);if(i)return i;if(qc(t)&&(t=await t.slice(0,10).arrayBuffer(),i=Ej(t,e,n,r)),!i&&!n?.nothrow)throw new Error(Wq(t));return i}function Ej(t,e=[],n,r){if(!Hq(t))return null;if(e&&!Array.isArray(e))return uR(e);let i=[];e&&(i=i.concat(e)),n?.ignoreRegisteredLoaders||i.push(...sPe()),uPe(i);const a=cPe(t,i,n,r);if(!a&&!n?.nothrow)throw new Error(Wq(t));return a}function cPe(t,e,n,r){const i=Ux(t),a=lR(t),s=oR(i)||r?.url;let o=null,c="";return n?.mimeType&&(o=FT(e,n?.mimeType),c=`match forced by supplied MIME type ${n?.mimeType}`),o=o||fPe(e,s),c=c||(o?`matched url ${s}`:""),o=o||FT(e,a),c=c||(o?`matched MIME type ${a}`:""),o=o||hPe(e,t),c=c||(o?`matched initial data ${qq(t)}`:""),n?.fallbackMimeType&&(o=o||FT(e,n?.fallbackMimeType),c=c||(o?`matched fallback MIME type ${a}`:"")),c&&s3e.log(1,`selectLoader selected ${o?.name}: ${c}.`),o}function Hq(t){return!(t instanceof Response&&t.status===204)}function Wq(t){const e=Ux(t),n=lR(t);let r="No valid loader found (";r+=e?`${Bq(e)}, `:"no url provided, ",r+=`MIME type: ${n?`"${n}"`:"not provided"}, `;const i=t?qq(t):"";return r+=i?` first bytes: "${i}"`:"first bytes: not available",r+=")",r}function uPe(t){for(const e of t)uR(e)}function fPe(t,e){const n=e&&oPe.exec(e),r=n&&n[1];return r?dPe(t,r):null}function dPe(t,e){e=e.toLowerCase();for(const n of t)for(const r of n.extensions)if(r.toLowerCase()===e)return n;return null}function FT(t,e){for(const n of t)if(n.mimeTypes?.some(r=>xj(e,r))||xj(e,`application/x.${n.id}`))return n;return null}function hPe(t,e){if(!e)return null;for(const n of t)if(typeof e=="string"){if(pPe(e,n))return n}else if(ArrayBuffer.isView(e)){if(Cj(e.buffer,e.byteOffset,n))return n}else if(e instanceof ArrayBuffer&&Cj(e,0,n))return n;return null}function pPe(t,e){return e.testText?e.testText(t):(Array.isArray(e.tests)?e.tests:[e.tests]).some(r=>t.startsWith(r))}function Cj(t,e,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some(i=>gPe(t,e,n,i))}function gPe(t,e,n,r){if(r instanceof ArrayBuffer)return S3e(r,t,r.byteLength);switch(typeof r){case"function":return r(t);case"string":const i=mE(t,e,r.length);return r===i;default:return!1}}function qq(t,e=5){return typeof t=="string"?t.slice(0,e):ArrayBuffer.isView(t)?mE(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?mE(t,0,e):""}function mE(t,e,n){if(t.byteLength<e+n)return"";const r=new DataView(t);let i="";for(let a=0;a<n;a++)i+=String.fromCharCode(r.getUint8(e+a));return i}const mPe=256*1024;function*yPe(t,e){const n=e?.chunkSize||mPe;let r=0;const i=new TextEncoder;for(;r<t.length;){const a=Math.min(t.length-r,n),s=t.slice(r,r+a);r+=a,yield i.encode(s)}}const vPe=256*1024;function*bPe(t,e={}){const{chunkSize:n=vPe}=e;let r=0;for(;r<t.byteLength;){const i=Math.min(t.byteLength-r,n),a=new ArrayBuffer(i),s=new Uint8Array(t,r,i);new Uint8Array(a).set(s),r+=i,yield a}}const xPe=1024*1024;async function*_Pe(t,e){const n=e?.chunkSize||xPe;let r=0;for(;r<t.size;){const i=r+n,a=await t.slice(r,i).arrayBuffer();r=i,yield a}}function Pj(t,e){return aR?wPe(t,e):SPe(t)}async function*wPe(t,e){const n=t.getReader();let r;try{for(;;){const i=r||n.read();e?._streamReadAhead&&(r=n.read());const{done:a,value:s}=await i;if(a)return;yield Dq(s)}}catch{n.releaseLock()}}async function*SPe(t,e){for await(const n of t)yield Dq(n)}function TPe(t,e){if(typeof t=="string")return yPe(t,e);if(t instanceof ArrayBuffer)return bPe(t,e);if(qc(t))return _Pe(t,e);if(Lq(t))return Pj(t,e);if(Wc(t))return Pj(t.body,e);throw new Error("makeIterator")}const Xq="Cannot convert supplied data type";function APe(t,e,n){if(e.text&&typeof t=="string")return t;if(N3e(t)&&(t=t.buffer),t instanceof ArrayBuffer){const r=t;return e.text&&!e.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(t)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(t);let r=t.buffer;const i=t.byteLength||t.length;return(t.byteOffset!==0||i!==r.byteLength)&&(r=r.slice(t.byteOffset,t.byteOffset+i)),r}throw new Error(Xq)}async function EPe(t,e,n){const r=t instanceof ArrayBuffer||ArrayBuffer.isView(t);if(typeof t=="string"||r)return APe(t,e);if(qc(t)&&(t=await Uq(t)),Wc(t)){const i=t;return await H3e(i),e.binary?await i.arrayBuffer():await i.text()}if(Lq(t)&&(t=TPe(t,n)),I3e(t)||k3e(t))return E3e(t);throw new Error(Xq)}function Kq(t,e){const n=zq(),r=t||n;return typeof r.fetch=="function"?r.fetch:Yg(r.fetch)?i=>wj(i,r.fetch):e?.fetch?e?.fetch:wj}function CPe(t,e,n){if(n)return n;const r={fetch:Kq(e,t),...t};if(r.url){const i=oR(r.url);r.baseUrl=i,r.queryString=$3e(r.url),r.filename=Bq(i),r.baseUrl=O3e(i)}return Array.isArray(r.loaders)||(r.loaders=null),r}function PPe(t,e){if(t&&!Array.isArray(t))return t;let n;if(t&&(n=Array.isArray(t)?t:[t]),e&&e.loaders){const r=Array.isArray(e.loaders)?e.loaders:[e.loaders];n=n?[...n,...r]:r}return n&&n.length?n:void 0}async function G0(t,e,n,r){e&&!Array.isArray(e)&&!cR(e)&&(r=void 0,n=e,e=void 0),t=await t,n=n||{};const i=Ux(t),s=PPe(e,r),o=await lPe(t,s,n);return o?(n=ePe(n,o,s,i),r=CPe({url:i,_parse:G0,loaders:s},n,r||null),await RPe(o,t,n,r)):null}async function RPe(t,e,n,r){if(b3e(t),n=o3e(t.options,n),Wc(e)){const a=e,{ok:s,redirected:o,status:c,statusText:f,type:d,url:p}=a,m=Object.fromEntries(a.headers.entries());r.response={headers:m,ok:s,redirected:o,status:c,statusText:f,type:d,url:p}}e=await EPe(e,t,n);const i=t;if(i.parseTextSync&&typeof e=="string")return i.parseTextSync(e,n,r);if(x3e(t,n))return await _3e(t,e,n,r,G0);if(i.parseText&&typeof e=="string")return await i.parseText(e,n,r);if(i.parse)return await i.parse(e,n,r);throw dl(!i.parseSync),new Error(`${t.id} loader - no parser found and worker is disabled`)}async function yE(t,e,n,r){let i,a;!Array.isArray(e)&&!cR(e)?(i=[],a=e):(i=e,a=n);const s=Kq(a);let o=t;return typeof t=="string"&&(o=await s(t)),qc(t)&&(o=await s(t)),Array.isArray(i)?await G0(o,i,a):await G0(o,i,a)}const OPe="4.3.3",MPe=globalThis.loaders?.parseImageNode,vE=typeof Image<"u",bE=typeof ImageBitmap<"u",IPe=!!MPe,xE=aR?!0:IPe;function kPe(t){switch(t){case"auto":return bE||vE||xE;case"imagebitmap":return bE;case"image":return vE;case"data":return xE;default:throw new Error(`@loaders.gl/images: image ${t} not supported in this environment`)}}function NPe(){if(bE)return"imagebitmap";if(vE)return"image";if(xE)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function DPe(t){const e=LPe(t);if(!e)throw new Error("Not an image");return e}function BPe(t){switch(DPe(t)){case"data":return t;case"image":case"imagebitmap":const e=document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("getImageData");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0),n.getImageData(0,0,t.width,t.height);default:throw new Error("getImageData")}}function LPe(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&t instanceof Image?"image":t&&typeof t=="object"&&t.data&&t.width&&t.height?"data":null}const jPe=/^data:image\/svg\+xml/,UPe=/\.svg((\?|#).*)?$/;function fR(t){return t&&(jPe.test(t)||UPe.test(t))}function FPe(t,e){if(fR(e)){let r=new TextDecoder().decode(t);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(r=unescape(encodeURIComponent(r)))}catch(a){throw new Error(a.message)}return`data:image/svg+xml;base64,${btoa(r)}`}return Yq(t,e)}function Yq(t,e){if(fR(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(t)])}async function Gq(t,e,n){const r=FPe(t,n),i=self.URL||self.webkitURL,a=typeof r!="string"&&i.createObjectURL(r);try{return await $Pe(a||r,e)}finally{a&&i.revokeObjectURL(a)}}async function $Pe(t,e){const n=new Image;return n.src=t,e.image&&e.image.decode&&n.decode?(await n.decode(),n):await new Promise((r,i)=>{try{n.onload=()=>r(n),n.onerror=a=>{const s=a instanceof Error?a.message:"error";i(new Error(s))}}catch(a){i(a)}})}const zPe={};let Rj=!0;async function VPe(t,e,n){let r;fR(n)?r=await Gq(t,e,n):r=Yq(t,n);const i=e&&e.imagebitmap;return await HPe(r,i)}async function HPe(t,e=null){if((WPe(e)||!Rj)&&(e=null),e)try{return await createImageBitmap(t,e)}catch(n){console.warn(n),Rj=!1}return await createImageBitmap(t)}function WPe(t){for(const e in t||zPe)return!1;return!0}function qPe(t){return!GPe(t,"ftyp",4)||(t[8]&96)===0?null:XPe(t)}function XPe(t){switch(KPe(t,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function KPe(t,e,n){return String.fromCharCode(...t.slice(e,n))}function YPe(t){return[...t].map(e=>e.charCodeAt(0))}function GPe(t,e,n=0){const r=YPe(e);for(let i=0;i<r.length;++i)if(r[i]!==t[i+n])return!1;return!0}const Xa=!1,ip=!0;function Zq(t){const e=Gg(t);return QPe(e)||tRe(e)||JPe(e)||eRe(e)||ZPe(e)}function ZPe(t){const e=new Uint8Array(t instanceof DataView?t.buffer:t),n=qPe(e);return n?{mimeType:n.mimeType,width:0,height:0}:null}function QPe(t){const e=Gg(t);return e.byteLength>=24&&e.getUint32(0,Xa)===2303741511?{mimeType:"image/png",width:e.getUint32(16,Xa),height:e.getUint32(20,Xa)}:null}function JPe(t){const e=Gg(t);return e.byteLength>=10&&e.getUint32(0,Xa)===1195984440?{mimeType:"image/gif",width:e.getUint16(6,ip),height:e.getUint16(8,ip)}:null}function eRe(t){const e=Gg(t);return e.byteLength>=14&&e.getUint16(0,Xa)===16973&&e.getUint32(2,ip)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,ip),height:e.getUint32(22,ip)}:null}function tRe(t){const e=Gg(t);if(!(e.byteLength>=3&&e.getUint16(0,Xa)===65496&&e.getUint8(2)===255))return null;const{tableMarkers:r,sofMarkers:i}=nRe();let a=2;for(;a+9<e.byteLength;){const s=e.getUint16(a,Xa);if(i.has(s))return{mimeType:"image/jpeg",height:e.getUint16(a+5,Xa),width:e.getUint16(a+7,Xa)};if(!r.has(s))return null;a+=2,a+=e.getUint16(a,Xa)}return null}function nRe(){const t=new Set([65499,65476,65484,65501,65534]);for(let n=65504;n<65520;++n)t.add(n);return{tableMarkers:t,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function Gg(t){if(t instanceof DataView)return t;if(ArrayBuffer.isView(t))return new DataView(t.buffer);if(t instanceof ArrayBuffer)return new DataView(t);throw new Error("toDataView")}async function rRe(t,e){const{mimeType:n}=Zq(t)||{},r=globalThis.loaders?.parseImageNode;return K0(r),await r(t,n)}async function iRe(t,e,n){e=e||{};const i=(e.image||{}).type||"auto",{url:a}=n||{},s=aRe(i);let o;switch(s){case"imagebitmap":o=await VPe(t,e,a);break;case"image":o=await Gq(t,e,a);break;case"data":o=await rRe(t);break;default:K0(!1)}return i==="data"&&(o=BPe(o)),o}function aRe(t){switch(t){case"auto":case"data":return NPe();default:return kPe(t),t}}const sRe=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],oRe=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],lRe={image:{type:"auto",decode:!0}},cRe={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:OPe,mimeTypes:oRe,extensions:sRe,parse:iRe,tests:[t=>!!Zq(new DataView(t))],options:lRe},ut=new Kg({id:"deck"});let _E={};function uRe(t){_E=t}function br(t,e,n,r){ut.level>0&&_E[t]&&_E[t].call(null,e,n,r)}function fRe(t){const e=t[0],n=t[t.length-1];return e==="{"&&n==="}"||e==="["&&n==="]"}const dRe={dataType:null,batchType:null,id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:fRe,parseTextSync:JSON.parse};function hRe(){const t="9.2.2",e=globalThis.deck&&globalThis.deck.VERSION;if(e&&e!==t)throw new Error(`deck.gl - multiple versions detected: ${e} vs ${t}`);return e||(ut.log(1,`deck.gl ${t}`)(),globalThis.deck={...globalThis.deck,VERSION:t,version:t,log:ut,_registerLoggers:uRe},aPe([dRe,[cRe,{imagebitmap:{premultiplyAlpha:"none"}}]])),t}const pRe=hRe();function dR(t,e){if(!t)throw new Error(e||"shadertools: assertion failed.")}const $T={number:{type:"number",validate(t,e){return Number.isFinite(t)&&typeof e=="object"&&(e.max===void 0||t<=e.max)&&(e.min===void 0||t>=e.min)}},array:{type:"array",validate(t,e){return Array.isArray(t)||ArrayBuffer.isView(t)}}};function gRe(t){const e={};for(const[n,r]of Object.entries(t))e[n]=mRe(r);return e}function mRe(t){let e=Oj(t);if(e!=="object")return{value:t,...$T[e],type:e};if(typeof t=="object")return t?t.type!==void 0?{...t,...$T[t.type],type:t.type}:t.value===void 0?{type:"object",value:t}:(e=Oj(t.value),{...t,...$T[e],type:e}):{type:"object",value:null};throw new Error("props")}function Oj(t){return Array.isArray(t)||ArrayBuffer.isView(t)?"array":typeof t}const yRe=`#ifdef MODULE_LOGDEPTH
  logdepth_adjustPosition(gl_Position);
#endif
`,vRe=`#ifdef MODULE_MATERIAL
  fragColor = material_filterColor(fragColor);
#endif

#ifdef MODULE_LIGHTING
  fragColor = lighting_filterColor(fragColor);
#endif

#ifdef MODULE_FOG
  fragColor = fog_filterColor(fragColor);
#endif

#ifdef MODULE_PICKING
  fragColor = picking_filterHighlightColor(fragColor);
  fragColor = picking_filterPickingColor(fragColor);
#endif

#ifdef MODULE_LOGDEPTH
  logdepth_setFragDepth();
#endif
`,bRe={vertex:yRe,fragment:vRe},Mj=/void\s+main\s*\([^)]*\)\s*\{\n?/,Ij=/}\n?[^{}]*$/,zT=[],Ev="__LUMA_INJECT_DECLARATIONS__";function xRe(t){const e={vertex:{},fragment:{}};for(const n in t){let r=t[n];const i=_Re(n);typeof r=="string"&&(r={order:0,injection:r}),e[i][n]=r}return e}function _Re(t){const e=t.slice(0,2);switch(e){case"vs":return"vertex";case"fs":return"fragment";default:throw new Error(e)}}function Z0(t,e,n,r=!1){const i=e==="vertex";for(const a in n){const s=n[a];s.sort((c,f)=>c.order-f.order),zT.length=s.length;for(let c=0,f=s.length;c<f;++c)zT[c]=s[c].injection;const o=`${zT.join(`
`)}
`;switch(a){case"vs:#decl":i&&(t=t.replace(Ev,o));break;case"vs:#main-start":i&&(t=t.replace(Mj,c=>c+o));break;case"vs:#main-end":i&&(t=t.replace(Ij,c=>o+c));break;case"fs:#decl":i||(t=t.replace(Ev,o));break;case"fs:#main-start":i||(t=t.replace(Mj,c=>c+o));break;case"fs:#main-end":i||(t=t.replace(Ij,c=>o+c));break;default:t=t.replace(a,c=>c+o)}}return t=t.replace(Ev,""),r&&(t=t.replace(/\}\s*$/,a=>a+bRe[e])),t}function Q0(t){t.map(e=>wRe(e))}function wRe(t){if(t.instance)return;Q0(t.dependencies||[]);const{propTypes:e={},deprecations:n=[],inject:r={}}=t,i={normalizedInjections:xRe(r),parsedDeprecations:SRe(n)};e&&(i.propValidators=gRe(e)),t.instance=i;let a={};e&&(a=Object.entries(e).reduce((s,[o,c])=>{const f=c?.value;return f&&(s[o]=f),s},{})),t.defaultUniforms={...t.defaultUniforms,...a}}function Qq(t,e,n){t.deprecations?.forEach(r=>{r.regex?.test(e)&&(r.deprecated?n.deprecated(r.old,r.new)():n.removed(r.old,r.new)())})}function SRe(t){return t.forEach(e=>{switch(e.type){case"function":e.regex=new RegExp(`\\b${e.old}\\(`);break;default:e.regex=new RegExp(`${e.type} ${e.old};`)}}),t}function hR(t){Q0(t);const e={},n={};Jq({modules:t,level:0,moduleMap:e,moduleDepth:n});const r=Object.keys(n).sort((i,a)=>n[a]-n[i]).map(i=>e[i]);return Q0(r),r}function Jq(t){const{modules:e,level:n,moduleMap:r,moduleDepth:i}=t;if(n>=5)throw new Error("Possible loop in shader dependency graph");for(const a of e)r[a.name]=a,(i[a.name]===void 0||i[a.name]<n)&&(i[a.name]=n);for(const a of e)a.dependencies&&Jq({modules:a.dependencies,level:n+1,moduleMap:r,moduleDepth:i})}function TRe(t){switch(t?.gpu.toLowerCase()){case"apple":return`#define APPLE_GPU
// Apple optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"nvidia":return`#define NVIDIA_GPU
// Nvidia optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
`;case"intel":return`#define INTEL_GPU
// Intel optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"amd":return`#define AMD_GPU
`;default:return`#define DEFAULT_GPU
// Prevent driver from optimizing away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Headless Chrome's software shader 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// If the GPU doesn't have full 32 bits precision, will causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`}}function ARe(t,e){if(Number(t.match(/^#version[ \t]+(\d+)/m)?.[1]||100)!==300)throw new Error("luma.gl v9 only supports GLSL 3.00 shader sources");switch(e){case"vertex":return t=kj(t,ERe),t;case"fragment":return t=kj(t,CRe),t;default:throw new Error(e)}}const eX=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,`#version 300 es
`],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],ERe=[...eX,[wE("attribute"),"in $1"],[wE("varying"),"out $1"]],CRe=[...eX,[wE("varying"),"in $1"]];function kj(t,e){for(const[n,r]of e)t=t.replace(n,r);return t}function wE(t){return new RegExp(`\\b${t}[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)`,"g")}function tX(t,e){let n="";for(const r in t){const i=t[r];if(n+=`void ${i.signature} {
`,i.header&&(n+=`  ${i.header}`),e[r]){const a=e[r];a.sort((s,o)=>s.order-o.order);for(const s of a)n+=`  ${s.injection}
`}i.footer&&(n+=`  ${i.footer}`),n+=`}
`}return n}function nX(t){const e={vertex:{},fragment:{}};for(const n of t){let r,i;typeof n!="string"?(r=n,i=r.hook):(r={},i=n),i=i.trim();const[a,s]=i.split(":"),o=i.replace(/\(.+/,""),c=Object.assign(r,{signature:s});switch(a){case"vs":e.vertex[o]=c;break;case"fs":e.fragment[o]=c;break;default:throw new Error(a)}}return e}function PRe(t,e){return{name:RRe(t,e),language:"glsl",version:ORe(t)}}function RRe(t,e="unnamed"){const r=/#define[^\S\r\n]*SHADER_NAME[^\S\r\n]*([A-Za-z0-9_-]+)\s*/.exec(t);return r?r[1]:e}function ORe(t){let e=100;const n=t.match(/[^\s]+/g);if(n&&n.length>=2&&n[0]==="#version"){const r=parseInt(n[1],10);Number.isFinite(r)&&(e=r)}if(e!==100&&e!==300)throw new Error(`Invalid GLSL version ${e}`);return e}const rX=`

${Ev}
`,MRe=`precision highp float;
`;function IRe(t){const e=hR(t.modules||[]);return{source:NRe(t.platformInfo,{...t,source:t.source,stage:"vertex",modules:e}),getUniforms:iX(e)}}function kRe(t){const{vs:e,fs:n}=t,r=hR(t.modules||[]);return{vs:Nj(t.platformInfo,{...t,source:e,stage:"vertex",modules:r}),fs:Nj(t.platformInfo,{...t,source:n,stage:"fragment",modules:r}),getUniforms:iX(r)}}function NRe(t,e){const{source:n,stage:r,modules:i,hookFunctions:a=[],inject:s={},log:o}=e;dR(typeof n=="string","shader source must be a string");const c=n;let f="";const d=nX(a),p={},m={},y={};for(const b in s){const w=typeof s[b]=="string"?{injection:s[b],order:0}:s[b],T=/^(v|f)s:(#)?([\w-]+)$/.exec(b);if(T){const C=T[2],A=T[3];C?A==="decl"?m[b]=[w]:y[b]=[w]:p[b]=[w]}else y[b]=[w]}const v=i;for(const b of v){o&&Qq(b,c,o);const w=aX(b,"wgsl");f+=w;const T=b.injections?.[r]||{};for(const C in T){const A=/^(v|f)s:#([\w-]+)$/.exec(C);if(A){const P=A[2]==="decl"?m:y;P[C]=P[C]||[],P[C].push(T[C])}else p[C]=p[C]||[],p[C].push(T[C])}}return f+=rX,f=Z0(f,r,m),f+=tX(d[r],p),f+=c,f=Z0(f,r,y),f}function Nj(t,e){const{source:n,stage:r,language:i="glsl",modules:a,defines:s={},hookFunctions:o=[],inject:c={},prologue:f=!0,log:d}=e;dR(typeof n=="string","shader source must be a string");const p=i==="glsl"?PRe(n).version:-1,m=t.shaderLanguageVersion,y=p===100?"#version 100":"#version 300 es",b=n.split(`
`).slice(1).join(`
`),w={};a.forEach(O=>{Object.assign(w,O.defines)}),Object.assign(w,s);let T="";switch(i){case"wgsl":break;case"glsl":T=f?`${y}

// ----- PROLOGUE -------------------------
${`#define SHADER_TYPE_${r.toUpperCase()}`}

${TRe(t)}
${r==="fragment"?MRe:""}

// ----- APPLICATION DEFINES -------------------------

${DRe(w)}

`:`${y}
`;break}const C=nX(o),A={},R={},P={};for(const O in c){const k=typeof c[O]=="string"?{injection:c[O],order:0}:c[O],D=/^(v|f)s:(#)?([\w-]+)$/.exec(O);if(D){const L=D[2],$=D[3];L?$==="decl"?R[O]=[k]:P[O]=[k]:A[O]=[k]}else P[O]=[k]}for(const O of a){d&&Qq(O,b,d);const k=aX(O,r);T+=k;const D=O.instance?.normalizedInjections[r]||{};for(const L in D){const $=/^(v|f)s:#([\w-]+)$/.exec(L);if($){const I=$[2]==="decl"?R:P;I[L]=I[L]||[],I[L].push(D[L])}else A[L]=A[L]||[],A[L].push(D[L])}}return T+="// ----- MAIN SHADER SOURCE -------------------------",T+=rX,T=Z0(T,r,R),T+=tX(C[r],A),T+=b,T=Z0(T,r,P),i==="glsl"&&p!==m&&(T=ARe(T,r)),T.trim()}function iX(t){return function(n){const r={};for(const i of t){const a=i.getUniforms?.(n,r);Object.assign(r,a)}return r}}function DRe(t={}){let e="";for(const n in t){const r=t[n];(r||Number.isFinite(r))&&(e+=`#define ${n.toUpperCase()} ${t[n]}
`)}return e}function aX(t,e){let n;switch(e){case"vertex":n=t.vs||"";break;case"fragment":n=t.fs||"";break;case"wgsl":n=t.source||"";break;default:dR(!1)}if(!t.name)throw new Error("Shader module must have a name");const r=t.name.toUpperCase().replace(/[^0-9a-z]/gi,"_");let i=`// ----- MODULE ${t.name} ---------------

`;return e!=="wgsl"&&(i+=`#define MODULE_${r}
`),i+=`${n}
`,i}const BRe=/^\s*\#\s*ifdef\s*([a-zA-Z_]+)\s*$/,LRe=/^\s*\#\s*endif\s*$/;function jRe(t,e){const n=t.split(`
`),r=[];let i=!0,a=null;for(const s of n){const o=s.match(BRe),c=s.match(LRe);o?(a=o[1],i=!!e?.defines?.[a]):c?i=!0:i&&r.push(s)}return r.join(`
`)}class oc{static defaultShaderAssembler;_hookFunctions=[];_defaultModules=[];static getDefaultShaderAssembler(){return oc.defaultShaderAssembler=oc.defaultShaderAssembler||new oc,oc.defaultShaderAssembler}addDefaultModule(e){this._defaultModules.find(n=>n.name===(typeof e=="string"?e:e.name))||this._defaultModules.push(e)}removeDefaultModule(e){const n=typeof e=="string"?e:e.name;this._defaultModules=this._defaultModules.filter(r=>r.name!==n)}addShaderHook(e,n){n&&(e=Object.assign(n,{hook:e})),this._hookFunctions.push(e)}assembleWGSLShader(e){const n=this._getModuleList(e.modules),r=this._hookFunctions,{source:i,getUniforms:a}=IRe({...e,source:e.source,modules:n,hookFunctions:r});return{source:e.platformInfo.shaderLanguage==="wgsl"?jRe(i):i,getUniforms:a,modules:n}}assembleGLSLShaderPair(e){const n=this._getModuleList(e.modules),r=this._hookFunctions;return{...kRe({...e,vs:e.vs,fs:e.fs,modules:n,hookFunctions:r}),modules:n}}_getModuleList(e=[]){const n=new Array(this._defaultModules.length+e.length),r={};let i=0;for(let a=0,s=this._defaultModules.length;a<s;++a){const o=this._defaultModules[a],c=o.name;n[i++]=o,r[c]=!0}for(let a=0,s=e.length;a<s;++a){const o=e[a],c=o.name;r[c]||(n[i++]=o,r[c]=!0)}return n.length=i,Q0(n),n}}const URe=`out vec4 transform_output;
void main() {
  transform_output = vec4(0);
}`,FRe=`#version 300 es
${URe}`;function sX(t){const{input:e,inputChannels:n,output:r}=t||{};if(!e)return FRe;if(!n)throw new Error("inputChannels");const i=$Re(n),a=zRe(e,n);return`#version 300 es
in ${i} ${e};
out vec4 ${r};
void main() {
  ${r} = ${a};
}`}function $Re(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`invalid channels: ${t}`)}}function zRe(t,e){switch(e){case 1:return`vec4(${t}, 0.0, 0.0, 1.0)`;case 2:return`vec4(${t}, 0.0, 1.0)`;case 3:return`vec4(${t}, 1.0)`;case 4:return t;default:throw new Error(`invalid channels: ${e}`)}}class VRe{stats=new Map;getStats(e){return this.get(e)}get(e){return this.stats.has(e)||this.stats.set(e,new jx({id:e})),this.stats.get(e)}}const oX=new VRe,ve=new Kg({id:"luma.gl"}),VT={};function Fx(t="id"){VT[t]=VT[t]||1;const e=VT[t]++;return`${t}-${e}`}let Pt=class{static defaultProps={id:"undefined",handle:void 0,userData:void 0};toString(){return`${this[Symbol.toStringTag]||this.constructor.name}:"${this.id}"`}id;props;userData={};_device;destroyed=!1;allocatedBytes=0;_attachedResources=new Set;constructor(e,n,r){if(!e)throw new Error("no device");this._device=e,this.props=HRe(n,r);const i=this.props.id!=="undefined"?this.props.id:Fx(this[Symbol.toStringTag]);this.props.id=i,this.id=i,this.userData=this.props.userData||{},this.addStats()}destroy(){this.destroyResource()}delete(){return this.destroy(),this}getProps(){return this.props}attachResource(e){this._attachedResources.add(e)}detachResource(e){this._attachedResources.delete(e)}destroyAttachedResource(e){this._attachedResources.delete(e)&&e.destroy()}destroyAttachedResources(){for(const e of Object.values(this._attachedResources))e.destroy();this._attachedResources=new Set}destroyResource(){this.destroyAttachedResources(),this.removeStats(),this.destroyed=!0}removeStats(){const e=this._device.statsManager.getStats("Resource Counts"),n=this[Symbol.toStringTag];e.get(`${n}s Active`).decrementCount()}trackAllocatedMemory(e,n=this[Symbol.toStringTag]){const r=this._device.statsManager.getStats("Resource Counts");r.get("GPU Memory").addCount(e),r.get(`${n} Memory`).addCount(e),this.allocatedBytes=e}trackDeallocatedMemory(e=this[Symbol.toStringTag]){const n=this._device.statsManager.getStats("Resource Counts");n.get("GPU Memory").subtractCount(this.allocatedBytes),n.get(`${e} Memory`).subtractCount(this.allocatedBytes),this.allocatedBytes=0}addStats(){const e=this._device.statsManager.getStats("Resource Counts"),n=this[Symbol.toStringTag];e.get("Resources Created").incrementCount(),e.get(`${n}s Created`).incrementCount(),e.get(`${n}s Active`).incrementCount()}};function HRe(t,e){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}let pn=class Cv extends Pt{static INDEX=16;static VERTEX=32;static UNIFORM=64;static STORAGE=128;static INDIRECT=256;static QUERY_RESOLVE=512;static MAP_READ=1;static MAP_WRITE=2;static COPY_SRC=4;static COPY_DST=8;get[Symbol.toStringTag](){return"Buffer"}usage;indexType;updateTimestamp;constructor(e,n){const r={...n};(n.usage||0)&Cv.INDEX&&!n.indexType&&(n.data instanceof Uint32Array?r.indexType="uint32":n.data instanceof Uint16Array&&(r.indexType="uint16")),delete r.data,super(e,r,Cv.defaultProps),this.usage=r.usage||0,this.indexType=r.indexType,this.updateTimestamp=e.incrementTimestamp()}clone(e){return this.device.createBuffer({...this.props,...e})}static DEBUG_DATA_MAX_LENGTH=32;debugData=new ArrayBuffer(0);_setDebugData(e,n,r){const i=ArrayBuffer.isView(e)?e.buffer:e,a=Math.min(e?e.byteLength:r,Cv.DEBUG_DATA_MAX_LENGTH);i===null?this.debugData=new ArrayBuffer(a):n===0&&r===i.byteLength?this.debugData=i.slice(0,a):this.debugData=i.slice(n,n+a)}static defaultProps={...Pt.defaultProps,usage:0,byteLength:0,byteOffset:0,data:null,indexType:"uint16",onMapped:void 0}};function lX(t){const[e,n,r]=mR[t],i=t.includes("norm"),a=!i&&!t.startsWith("float"),s=t.startsWith("s");return{signedType:e,primitiveType:n,byteLength:r,normalized:i,integer:a,signed:s}}function WRe(t){const e=t;switch(e){case"uint8":return"unorm8";case"sint8":return"snorm8";case"uint16":return"unorm16";case"sint16":return"snorm16";default:return e}}function qRe(t,e){switch(e){case 1:return t;case 2:return t+t%2;default:return t+(4-t%4)%4}}function pR(t){const e=ArrayBuffer.isView(t)?t.constructor:t;if(e===Uint8ClampedArray)return"uint8";const n=Object.values(mR).find(r=>e===r[4]);if(!n)throw new Error(e.name);return n[0]}function gR(t){const[,,,,e]=mR[t];return e}const mR={uint8:["uint8","u32",1,!1,Uint8Array],sint8:["sint8","i32",1,!1,Int8Array],unorm8:["uint8","f32",1,!0,Uint8Array],snorm8:["sint8","f32",1,!0,Int8Array],uint16:["uint16","u32",2,!1,Uint16Array],sint16:["sint16","i32",2,!1,Int16Array],unorm16:["uint16","u32",2,!0,Uint16Array],snorm16:["sint16","i32",2,!0,Int16Array],float16:["float16","f16",2,!1,Uint16Array],float32:["float32","f32",4,!1,Float32Array],uint32:["uint32","u32",4,!1,Uint32Array],sint32:["sint32","i32",4,!1,Int32Array]};function yR(t){let e;t.endsWith("-webgl")&&(t.replace("-webgl",""),e=!0);const[n,r]=t.split("x"),i=n,a=r?parseInt(r):1,s=lX(i),o={type:i,components:a,byteLength:s.byteLength*a,integer:s.integer,signed:s.signed,normalized:s.normalized};return e&&(o.webglOnly=!0),o}function XRe(t,e,n){const r=n?WRe(t):t;switch(r){case"unorm8":return e===1?"unorm8":e===3?"unorm8x3-webgl":`${r}x${e}`;case"snorm8":case"uint8":case"sint8":case"uint16":case"sint16":case"unorm16":case"snorm16":case"float16":if(e===1||e===3)throw new Error(`size: ${e}`);return`${r}x${e}`;default:return e===1?r:`${r}x${e}`}}function KRe(t,e,n){if(!e||e>4)throw new Error(`size ${e}`);const r=e,i=pR(t);return XRe(i,r,n)}function YRe(t){let e;switch(t.primitiveType){case"f32":e="float32";break;case"i32":e="sint32";break;case"u32":e="uint32";break;case"f16":return t.components<=2?"float16x2":"float16x4"}return t.components===1?e:`${e}x${t.components}`}const pr="texture-compression-bc",At="texture-compression-astc",ja="texture-compression-etc2",GRe="texture-compression-etc1-webgl",$y="texture-compression-pvrtc-webgl",HT="texture-compression-atc-webgl",zy="float32-renderable-webgl",WT="float16-renderable-webgl",ZRe="rgb9e5ufloat-renderable-webgl",qT="snorm8-renderable-webgl",kh="norm16-renderable-webgl",XT="snorm16-renderable-webgl",Vy="float32-filterable",Dj="float16-filterable-webgl";function cX(t){const e=eOe[t];if(!e)throw new Error(`Unsupported texture format ${t}`);return e}const QRe={r8unorm:{},rg8unorm:{},"rgb8unorm-webgl":{},rgba8unorm:{},"rgba8unorm-srgb":{},r8snorm:{render:qT},rg8snorm:{render:qT},"rgb8snorm-webgl":{},rgba8snorm:{render:qT},r8uint:{},rg8uint:{},rgba8uint:{},r8sint:{},rg8sint:{},rgba8sint:{},bgra8unorm:{},"bgra8unorm-srgb":{},r16unorm:{f:kh},rg16unorm:{render:kh},"rgb16unorm-webgl":{f:kh},rgba16unorm:{render:kh},r16snorm:{f:XT},rg16snorm:{render:XT},"rgb16snorm-webgl":{f:kh},rgba16snorm:{render:XT},r16uint:{},rg16uint:{},rgba16uint:{},r16sint:{},rg16sint:{},rgba16sint:{},r16float:{render:WT,filter:"float16-filterable-webgl"},rg16float:{render:WT,filter:Dj},rgba16float:{render:WT,filter:Dj},r32uint:{},rg32uint:{},rgba32uint:{},r32sint:{},rg32sint:{},rgba32sint:{},r32float:{render:zy,filter:Vy},rg32float:{render:!1,filter:Vy},"rgb32float-webgl":{render:zy,filter:Vy},rgba32float:{render:zy,filter:Vy},"rgba4unorm-webgl":{channels:"rgba",bitsPerChannel:[4,4,4,4],packed:!0},"rgb565unorm-webgl":{channels:"rgb",bitsPerChannel:[5,6,5,0],packed:!0},"rgb5a1unorm-webgl":{channels:"rgba",bitsPerChannel:[5,5,5,1],packed:!0},rgb9e5ufloat:{channels:"rgb",packed:!0,render:ZRe},rg11b10ufloat:{channels:"rgb",bitsPerChannel:[11,11,10,0],packed:!0,p:1,render:zy},rgb10a2unorm:{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1},rgb10a2uint:{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1},stencil8:{attachment:"stencil",bitsPerChannel:[8,0,0,0],dataType:"uint8"},depth16unorm:{attachment:"depth",bitsPerChannel:[16,0,0,0],dataType:"uint16"},depth24plus:{attachment:"depth",bitsPerChannel:[24,0,0,0],dataType:"uint32"},depth32float:{attachment:"depth",bitsPerChannel:[32,0,0,0],dataType:"float32"},"depth24plus-stencil8":{attachment:"depth-stencil",bitsPerChannel:[24,8,0,0],packed:!0},"depth32float-stencil8":{attachment:"depth-stencil",bitsPerChannel:[32,8,0,0],packed:!0}},JRe={"bc1-rgb-unorm-webgl":{f:pr},"bc1-rgb-unorm-srgb-webgl":{f:pr},"bc1-rgba-unorm":{f:pr},"bc1-rgba-unorm-srgb":{f:pr},"bc2-rgba-unorm":{f:pr},"bc2-rgba-unorm-srgb":{f:pr},"bc3-rgba-unorm":{f:pr},"bc3-rgba-unorm-srgb":{f:pr},"bc4-r-unorm":{f:pr},"bc4-r-snorm":{f:pr},"bc5-rg-unorm":{f:pr},"bc5-rg-snorm":{f:pr},"bc6h-rgb-ufloat":{f:pr},"bc6h-rgb-float":{f:pr},"bc7-rgba-unorm":{f:pr},"bc7-rgba-unorm-srgb":{f:pr},"etc2-rgb8unorm":{f:ja},"etc2-rgb8unorm-srgb":{f:ja},"etc2-rgb8a1unorm":{f:ja},"etc2-rgb8a1unorm-srgb":{f:ja},"etc2-rgba8unorm":{f:ja},"etc2-rgba8unorm-srgb":{f:ja},"eac-r11unorm":{f:ja},"eac-r11snorm":{f:ja},"eac-rg11unorm":{f:ja},"eac-rg11snorm":{f:ja},"astc-4x4-unorm":{f:At},"astc-4x4-unorm-srgb":{f:At},"astc-5x4-unorm":{f:At},"astc-5x4-unorm-srgb":{f:At},"astc-5x5-unorm":{f:At},"astc-5x5-unorm-srgb":{f:At},"astc-6x5-unorm":{f:At},"astc-6x5-unorm-srgb":{f:At},"astc-6x6-unorm":{f:At},"astc-6x6-unorm-srgb":{f:At},"astc-8x5-unorm":{f:At},"astc-8x5-unorm-srgb":{f:At},"astc-8x6-unorm":{f:At},"astc-8x6-unorm-srgb":{f:At},"astc-8x8-unorm":{f:At},"astc-8x8-unorm-srgb":{f:At},"astc-10x5-unorm":{f:At},"astc-10x5-unorm-srgb":{f:At},"astc-10x6-unorm":{f:At},"astc-10x6-unorm-srgb":{f:At},"astc-10x8-unorm":{f:At},"astc-10x8-unorm-srgb":{f:At},"astc-10x10-unorm":{f:At},"astc-10x10-unorm-srgb":{f:At},"astc-12x10-unorm":{f:At},"astc-12x10-unorm-srgb":{f:At},"astc-12x12-unorm":{f:At},"astc-12x12-unorm-srgb":{f:At},"pvrtc-rgb4unorm-webgl":{f:$y},"pvrtc-rgba4unorm-webgl":{f:$y},"pvrtc-rbg2unorm-webgl":{f:$y},"pvrtc-rgba2unorm-webgl":{f:$y},"etc1-rbg-unorm-webgl":{f:GRe},"atc-rgb-unorm-webgl":{f:HT},"atc-rgba-unorm-webgl":{f:HT},"atc-rgbai-unorm-webgl":{f:HT}},eOe={...QRe,...JRe},tOe=["bc1","bc2","bc3","bc4","bc5","bc6","bc7","etc1","etc2","eac","atc","astc","pvrtc"],nOe=/^(r|rg|rgb|rgba|bgra)([0-9]*)([a-z]*)(-srgb)?(-webgl)?$/;class rOe{getInfo(e){return Bj(e)}isColor(e){return e.startsWith("rgba")||e.startsWith("bgra")||e.startsWith("rgb")}isDepthStencil(e){return e.startsWith("depth")||e.startsWith("stencil")}isCompressed(e){return tOe.some(n=>e.startsWith(n))}getCapabilities(e){const n=cX(e),r={format:e,create:n.f??!0,render:n.render??!0,filter:n.filter??!0,blend:n.blend??!0,store:n.store??!0},i=Bj(e),a=e.startsWith("depth")||e.startsWith("stencil"),s=i?.signed,o=i?.integer,c=i?.webgl;return r.render&&=!s,r.filter&&=!a&&!s&&!o&&!c,r}}const Af=new rOe;function Bj(t){let e=iOe(t);if(Af.isCompressed(t)){e.channels="rgb",e.components=3,e.bytesPerPixel=1,e.srgb=!1,e.compressed=!0;const r=aOe(t);r&&(e.blockWidth=r.blockWidth,e.blockHeight=r.blockHeight)}const n=nOe.exec(t);if(n){const[,r,i,a,s,o]=n,c=`${a}${i}`,f=lX(c),d=f.byteLength*8,p=r.length,m=[d,p>=2?d:0,p>=3?d:0,p>=4?d:0];e={format:t,attachment:e.attachment,dataType:f.signedType,components:p,channels:r,integer:f.integer,signed:f.signed,normalized:f.normalized,bitsPerChannel:m,bytesPerPixel:f.byteLength*r.length,packed:e.packed,srgb:e.srgb},o==="-webgl"&&(e.webgl=!0),s==="-srgb"&&(e.srgb=!0)}return t.endsWith("-webgl")&&(e.webgl=!0),t.endsWith("-srgb")&&(e.srgb=!0),e}function iOe(t){const e=cX(t),n=e.bytesPerPixel||1,r=e.bitsPerChannel||[8,8,8,8];return delete e.bitsPerChannel,delete e.bytesPerPixel,delete e.f,delete e.render,delete e.filter,delete e.blend,delete e.store,{...e,format:t,attachment:e.attachment||"color",channels:e.channels||"r",components:e.components||e.channels?.length||1,bytesPerPixel:n,bitsPerChannel:r,dataType:e.dataType||"uint8",srgb:e.srgb??!1,packed:e.packed??!1,webgl:e.webgl??!1,integer:e.integer??!1,signed:e.signed??!1,normalized:e.normalized??!1,compressed:e.compressed??!1}}function aOe(t){const n=/.*-(\d+)x(\d+)-.*/.exec(t);if(n){const[,r,i]=n;return{blockWidth:Number(r),blockHeight:Number(i)}}return null}function sOe(t){return typeof ImageData<"u"&&t instanceof ImageData||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement||typeof VideoFrame<"u"&&t instanceof VideoFrame||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas}function oOe(t){if(typeof ImageData<"u"&&t instanceof ImageData||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height};if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)return{width:t.naturalWidth,height:t.naturalHeight};if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)return{width:t.videoWidth,height:t.videoHeight};if(typeof VideoFrame<"u"&&t instanceof VideoFrame)return{width:t.displayWidth,height:t.displayHeight};throw new Error("Unknown image type")}class lOe{}class cOe{features;disabledFeatures;constructor(e=[],n){this.features=new Set(e),this.disabledFeatures=n||{}}*[Symbol.iterator](){yield*this.features}has(e){return!this.disabledFeatures?.[e]&&this.features.has(e)}}class kc{static defaultProps={id:null,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,createCanvasContext:void 0,webgl:{},onError:(e,n)=>{},onResize:(e,n)=>{const[r,i]=e.getDevicePixelSize();ve.log(1,`${e} resized => ${r}x${i}px`)()},onPositionChange:(e,n)=>{const[r,i]=e.getPosition();ve.log(1,`${e} repositioned => ${r},${i}`)()},onVisibilityChange:e=>ve.log(1,`${e} Visibility changed ${e.isVisible}`)(),onDevicePixelRatioChange:(e,n)=>ve.log(1,`${e} DPR changed ${n.oldRatio} => ${e.devicePixelRatio}`)(),debug:ve.get("debug")||void 0,debugShaders:ve.get("debug-shaders")||void 0,debugFramebuffers:!!ve.get("debug-framebuffers"),debugFactories:!!ve.get("debug-factories"),debugWebGL:!!ve.get("debug-webgl"),debugSpectorJS:void 0,debugSpectorJSUrl:void 0,_reuseDevices:!1,_requestMaxLimits:!0,_cacheShaders:!1,_cachePipelines:!1,_cacheDestroyPolicy:"unused",_initializeFeatures:!0,_disabledFeatures:{"compilation-status-async-webgl":!0},_handle:void 0};get[Symbol.toStringTag](){return"Device"}toString(){return`Device(${this.id})`}id;props;userData={};statsManager=oX;timestamp=0;_reused=!1;_lumaData={};_textureCaps={};constructor(e){this.props={...kc.defaultProps,...e},this.id=this.props.id||Fx(this[Symbol.toStringTag].toLowerCase())}getVertexFormatInfo(e){return yR(e)}isVertexFormatSupported(e){return!0}getTextureFormatInfo(e){return Af.getInfo(e)}getTextureFormatCapabilities(e){let n=this._textureCaps[e];if(!n){const r=this._getDeviceTextureFormatCapabilities(e);n=this._getDeviceSpecificTextureFormatCapabilities(r),this._textureCaps[e]=n}return n}getMipLevelCount(e,n,r=1){const i=Math.max(e,n,r);return 1+Math.floor(Math.log2(i))}isExternalImage(e){return sOe(e)}getExternalImageSize(e){return oOe(e)}isTextureFormatSupported(e){return this.getTextureFormatCapabilities(e).create}isTextureFormatFilterable(e){return this.getTextureFormatCapabilities(e).filter}isTextureFormatRenderable(e){return this.getTextureFormatCapabilities(e).render}isTextureFormatCompressed(e){return Af.isCompressed(e)}pushDebugGroup(e){this.commandEncoder.pushDebugGroup(e)}popDebugGroup(){this.commandEncoder?.popDebugGroup()}insertDebugMarker(e){this.commandEncoder?.insertDebugMarker(e)}loseDevice(){return!1}incrementTimestamp(){return this.timestamp++}reportError(e,n,...r){return this.props.onError(e,n)?()=>{}:ve.error(e.message,n,...r)}debug(){if(this.props.debug)debugger;else ve.once(0,`'Type luma.log.set({debug: true}) in console to enable debug breakpoints',
or create a device with the 'debug: true' prop.`)()}getDefaultCanvasContext(){if(!this.canvasContext)throw new Error("Device has no default CanvasContext. See props.createCanvasContext");return this.canvasContext}beginRenderPass(e){return this.commandEncoder.beginRenderPass(e)}beginComputePass(e){return this.commandEncoder.beginComputePass(e)}getCanvasContext(){return this.getDefaultCanvasContext()}readPixelsToArrayWebGL(e,n){throw new Error("not implemented")}readPixelsToBufferWebGL(e,n){throw new Error("not implemented")}setParametersWebGL(e){throw new Error("not implemented")}getParametersWebGL(e){throw new Error("not implemented")}withParametersWebGL(e,n){throw new Error("not implemented")}clearWebGL(e){throw new Error("not implemented")}resetWebGL(){throw new Error("not implemented")}static _getCanvasContextProps(e){return e.createCanvasContext===!0?{}:e.createCanvasContext}_getDeviceTextureFormatCapabilities(e){const n=Af.getCapabilities(e),r=a=>(typeof a=="string"?this.features.has(a):a)??!0,i=r(n.create);return{format:e,create:i,render:i&&r(n.render),filter:i&&r(n.filter),blend:i&&r(n.blend),store:i&&r(n.store)}}_normalizeBufferProps(e){(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const n={...e};if((e.usage||0)&pn.INDEX&&(e.indexType||(e.data instanceof Uint32Array?n.indexType="uint32":e.data instanceof Uint16Array&&(n.indexType="uint16")),!n.indexType))throw new Error("indices buffer content must be of type uint16 or uint32");return n}}const uOe="set luma.log.level=1 (or higher) to trace rendering",Lj="No matching device found. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.";class J0{static defaultProps={...kc.defaultProps,type:"best-available",adapters:void 0,waitForPageLoad:!0};stats=oX;log=ve;VERSION="9.2.4";spector;preregisteredAdapters=new Map;constructor(){if(globalThis.luma){if(globalThis.luma.VERSION!==this.VERSION)throw ve.error(`Found luma.gl ${globalThis.luma.VERSION} while initialzing ${this.VERSION}`)(),ve.error("'yarn why @luma.gl/core' can help identify the source of the conflict")(),new Error("luma.gl - multiple versions detected: see console log");ve.error("This version of luma.gl has already been initialized")()}ve.log(1,`${this.VERSION} - ${uOe}`)(),globalThis.luma=this}async createDevice(e={}){const n={...J0.defaultProps,...e},r=this.selectAdapter(n.type,n.adapters);if(!r)throw new Error(Lj);return n.waitForPageLoad&&await r.pageLoaded,await r.create(n)}async attachDevice(e,n){const r=this._getTypeFromHandle(e,n.adapters),i=r&&this.selectAdapter(r,n.adapters);if(!i)throw new Error(Lj);return await i?.attach?.(e,n)}registerAdapters(e){for(const n of e)this.preregisteredAdapters.set(n.type,n)}getSupportedAdapters(e=[]){const n=this._getAdapterMap(e);return Array.from(n).map(([,r])=>r).filter(r=>r.isSupported?.()).map(r=>r.type)}getBestAvailableAdapterType(e=[]){const n=["webgpu","webgl","null"],r=this._getAdapterMap(e);for(const i of n)if(r.get(i)?.isSupported?.())return i;return null}selectAdapter(e,n=[]){let r=e;e==="best-available"&&(r=this.getBestAvailableAdapterType(n));const i=this._getAdapterMap(n);return r&&i.get(r)||null}enforceWebGL2(e=!0,n=[]){const i=this._getAdapterMap(n).get("webgl");i||ve.warn("enforceWebGL2: webgl adapter not found")(),i?.enforceWebGL2?.(e)}setDefaultDeviceProps(e){Object.assign(J0.defaultProps,e)}_getAdapterMap(e=[]){const n=new Map(this.preregisteredAdapters);for(const r of e)n.set(r.type,r);return n}_getTypeFromHandle(e,n=[]){return e instanceof WebGL2RenderingContext?"webgl":typeof GPUDevice<"u"&&e instanceof GPUDevice||e?.queue?"webgpu":e===null?"null":(e instanceof WebGLRenderingContext?ve.warn("WebGL1 is not supported",e)():ve.warn("Unknown handle type",e)(),null)}}const SE=new J0;class fOe{get pageLoaded(){return pOe()}}const dOe=Hc()&&typeof document<"u",hOe=()=>dOe&&document.readyState==="complete";let Hy=null;function pOe(){return Hy||(hOe()||typeof window>"u"?Hy=Promise.resolve():Hy=new Promise(t=>window.addEventListener("load",()=>t()))),Hy}function gOe(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}class lc{static isHTMLCanvas(e){return typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement}static isOffscreenCanvas(e){return typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas}static defaultProps={id:void 0,canvas:null,width:800,height:600,useDevicePixels:!0,autoResize:!0,container:null,visible:!0,alphaMode:"opaque",colorSpace:"srgb",trackPosition:!1};id;props;canvas;htmlCanvas;offscreenCanvas;type;initialized;isInitialized=!1;isVisible=!0;cssWidth;cssHeight;devicePixelRatio;devicePixelWidth;devicePixelHeight;drawingBufferWidth;drawingBufferHeight;_initializedResolvers=gOe();_resizeObserver;_intersectionObserver;_position;destroyed=!1;toString(){return`${this[Symbol.toStringTag]}(${this.id})`}constructor(e){if(this.props={...lc.defaultProps,...e},e=this.props,this.initialized=this._initializedResolvers.promise,Hc()?e.canvas?typeof e.canvas=="string"?this.canvas=yOe(e.canvas):this.canvas=e.canvas:this.canvas=vOe(e):this.canvas={width:e.width||1,height:e.height||1},lc.isHTMLCanvas(this.canvas)?(this.id=e.id||this.canvas.id,this.type="html-canvas",this.htmlCanvas=this.canvas):lc.isOffscreenCanvas(this.canvas)?(this.id=e.id||"offscreen-canvas",this.type="offscreen-canvas",this.offscreenCanvas=this.canvas):(this.id=e.id||"node-canvas-context",this.type="node"),this.cssWidth=this.htmlCanvas?.clientWidth||this.canvas.width,this.cssHeight=this.htmlCanvas?.clientHeight||this.canvas.height,this.devicePixelWidth=this.canvas.width,this.devicePixelHeight=this.canvas.height,this.drawingBufferWidth=this.canvas.width,this.drawingBufferHeight=this.canvas.height,this.devicePixelRatio=globalThis.devicePixelRatio||1,this._position=[0,0],lc.isHTMLCanvas(this.canvas)){this._intersectionObserver=new IntersectionObserver(n=>this._handleIntersection(n)),this._intersectionObserver.observe(this.canvas),this._resizeObserver=new ResizeObserver(n=>this._handleResize(n));try{this._resizeObserver.observe(this.canvas,{box:"device-pixel-content-box"})}catch{this._resizeObserver.observe(this.canvas,{box:"content-box"})}setTimeout(()=>this._observeDevicePixelRatio(),0),this.props.trackPosition&&this._trackPosition()}}destroy(){this.destroyed=!0}setProps(e){return"useDevicePixels"in e&&(this.props.useDevicePixels=e.useDevicePixels||!1,this._updateDrawingBufferSize()),this}getCSSSize(){return[this.cssWidth,this.cssHeight]}getPosition(){return this._position}getDevicePixelSize(){return[this.devicePixelWidth,this.devicePixelHeight]}getDrawingBufferSize(){return[this.drawingBufferWidth,this.drawingBufferHeight]}getMaxDrawingBufferSize(){const e=this.device.limits.maxTextureDimension2D;return[e,e]}setDrawingBufferSize(e,n){this.canvas.width=e,this.canvas.height=n,this.drawingBufferWidth=e,this.drawingBufferHeight=n}getDevicePixelRatio(){return typeof window<"u"&&window.devicePixelRatio||1}cssToDevicePixels(e,n=!0){const r=this.cssToDeviceRatio(),[i,a]=this.getDrawingBufferSize();return bOe(e,r,i,a,n)}getPixelSize(){return this.getDevicePixelSize()}getAspect(){const[e,n]=this.getDevicePixelSize();return e/n}cssToDeviceRatio(){try{const[e]=this.getDrawingBufferSize(),[n]=this.getCSSSize();return n?e/n:1}catch{return 1}}resize(e){this.setDrawingBufferSize(e.width,e.height)}_setAutoCreatedCanvasId(e){this.htmlCanvas?.id==="lumagl-auto-created-canvas"&&(this.htmlCanvas.id=e)}_handleIntersection(e){const n=e.find(i=>i.target===this.canvas);if(!n)return;const r=n.isIntersecting;this.isVisible!==r&&(this.isVisible=r,this.device.props.onVisibilityChange(this))}_handleResize(e){const n=e.find(c=>c.target===this.canvas);if(!n)return;this.cssWidth=n.contentBoxSize[0].inlineSize,this.cssHeight=n.contentBoxSize[0].blockSize;const r=this.getDevicePixelSize(),i=n.devicePixelContentBoxSize?.[0].inlineSize||n.contentBoxSize[0].inlineSize*devicePixelRatio,a=n.devicePixelContentBoxSize?.[0].blockSize||n.contentBoxSize[0].blockSize*devicePixelRatio,[s,o]=this.getMaxDrawingBufferSize();this.devicePixelWidth=Math.max(1,Math.min(i,s)),this.devicePixelHeight=Math.max(1,Math.min(a,o)),this._updateDrawingBufferSize(),this.device.props.onResize(this,{oldPixelSize:r})}_updateDrawingBufferSize(){if(this.props.autoResize){if(typeof this.props.useDevicePixels=="number"){const e=this.props.useDevicePixels;this.setDrawingBufferSize(this.cssWidth*e,this.cssHeight*e)}else this.props.useDevicePixels?this.setDrawingBufferSize(this.devicePixelWidth,this.devicePixelHeight):this.setDrawingBufferSize(this.cssWidth,this.cssHeight);this._updateDevice()}this._initializedResolvers.resolve(),this.isInitialized=!0,this.updatePosition()}_observeDevicePixelRatio(){const e=this.devicePixelRatio;this.devicePixelRatio=window.devicePixelRatio,this.updatePosition(),this.device.props.onDevicePixelRatioChange(this,{oldRatio:e}),matchMedia(`(resolution: ${this.devicePixelRatio}dppx)`).addEventListener("change",()=>this._observeDevicePixelRatio(),{once:!0})}_trackPosition(e=100){const n=setInterval(()=>{this.destroyed?clearInterval(n):this.updatePosition()},e)}updatePosition(){const e=this.htmlCanvas?.getBoundingClientRect();if(e){const n=[e.left,e.top];if(this._position??=n,n[0]!==this._position[0]||n[1]!==this._position[1]){const i=this._position;this._position=n,this.device.props.onPositionChange?.(this,{oldPosition:i})}}}}function mOe(t){if(typeof t=="string"){const e=document.getElementById(t);if(!e)throw new Error(`${t} is not an HTML element`);return e}return t||document.body}function yOe(t){const e=document.getElementById(t);if(!lc.isHTMLCanvas(e))throw new Error("Object is not a canvas element");return e}function vOe(t){const{width:e,height:n}=t,r=document.createElement("canvas");r.id=Fx("lumagl-auto-created-canvas"),r.width=e||1,r.height=n||1,r.style.width=Number.isFinite(e)?`${e}px`:"100%",r.style.height=Number.isFinite(n)?`${n}px`:"100%",t?.visible||(r.style.visibility="hidden");const i=mOe(t?.container||null);return i.insertBefore(r,i.firstChild),r}function bOe(t,e,n,r,i){const a=t,s=jj(a[0],e,n);let o=Uj(a[1],e,r,i),c=jj(a[0]+1,e,n);const f=c===n-1?c:c-1;c=Uj(a[1]+1,e,r,i);let d;return i?(c=c===0?c:c+1,d=o,o=c):d=c===r-1?c:c-1,{x:s,y:o,width:Math.max(f-s+1,1),height:Math.max(d-o+1,1)}}function jj(t,e,n){return Math.min(Math.round(t*e),n-1)}function Uj(t,e,n,r){return r?Math.max(0,n-1-Math.round(t*e)):Math.min(Math.round(t*e),n-1)}class Nc extends Pt{static defaultProps={...Pt.defaultProps,type:"color-sampler",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",magFilter:"nearest",minFilter:"nearest",mipmapFilter:"none",lodMinClamp:0,lodMaxClamp:32,compare:"less-equal",maxAnisotropy:1};get[Symbol.toStringTag](){return"Sampler"}constructor(e,n){n=Nc.normalizeProps(e,n),super(e,n,Nc.defaultProps)}static normalizeProps(e,n){return n}}const xOe={"1d":"1d","2d":"2d","2d-array":"2d",cube:"2d","cube-array":"2d","3d":"3d"};class jn extends Pt{static SAMPLE=4;static STORAGE=8;static RENDER=16;static COPY_SRC=1;static COPY_DST=2;static TEXTURE=4;static RENDER_ATTACHMENT=16;dimension;baseDimension;format;width;height;depth;mipLevels;updateTimestamp;get[Symbol.toStringTag](){return"Texture"}toString(){return`Texture(${this.id},${this.format},${this.width}x${this.height})`}constructor(e,n){if(n=jn.normalizeProps(e,n),super(e,n,jn.defaultProps),this.dimension=this.props.dimension,this.baseDimension=xOe[this.dimension],this.format=this.props.format,this.width=this.props.width,this.height=this.props.height,this.depth=this.props.depth,this.mipLevels=this.props.mipLevels,this.props.width===void 0||this.props.height===void 0)if(e.isExternalImage(n.data)){const r=e.getExternalImageSize(n.data);this.width=r?.width||1,this.height=r?.height||1}else this.width=1,this.height=1,(this.props.width===void 0||this.props.height===void 0)&&ve.warn(`${this} created with undefined width or height. This is deprecated. Use AsyncTexture instead.`)();this.updateTimestamp=e.incrementTimestamp()}setSampler(e){this.sampler=e instanceof Nc?e:this.device.createSampler(e)}clone(e){return this.device.createTexture({...this.props,...e})}static normalizeProps(e,n){const r={...n},{width:i,height:a}=r;return typeof i=="number"&&(r.width=Math.max(1,Math.ceil(i))),typeof a=="number"&&(r.height=Math.max(1,Math.ceil(a))),r}_initializeData(e){this.device.isExternalImage(e)?this.copyExternalImage({image:e,width:this.width,height:this.height,depth:this.depth,mipLevel:0,x:0,y:0,z:0,aspect:"all",colorSpace:"srgb",premultipliedAlpha:!1,flipY:!1}):e&&this.copyImageData({data:e,mipLevel:0,x:0,y:0,z:0,aspect:"all"})}_normalizeCopyImageDataOptions(e){const{width:n,height:r,depth:i}=this,a={...jn.defaultCopyDataOptions,width:n,height:r,depth:i,...e},s=this.device.getTextureFormatInfo(this.format);if(!e.bytesPerRow&&!s.bytesPerPixel)throw new Error(`bytesPerRow must be provided for texture format ${this.format}`);return a.bytesPerRow=e.bytesPerRow||n*(s.bytesPerPixel||4),a.rowsPerImage=e.rowsPerImage||r,a}_normalizeCopyExternalImageOptions(e){const n=this.device.getExternalImageSize(e.image),r={...jn.defaultCopyExternalImageOptions,...n,...e};return r.width=Math.min(r.width,this.width-r.x),r.height=Math.min(r.height,this.height-r.y),r}static defaultProps={...Pt.defaultProps,data:null,dimension:"2d",format:"rgba8unorm",usage:jn.TEXTURE|jn.RENDER_ATTACHMENT|jn.COPY_DST,width:void 0,height:void 0,depth:1,mipLevels:1,samples:void 0,sampler:{},view:void 0};static defaultCopyDataOptions={data:void 0,byteOffset:0,bytesPerRow:void 0,rowsPerImage:void 0,mipLevel:0,x:0,y:0,z:0,aspect:"all"};static defaultCopyExternalImageOptions={image:void 0,sourceX:0,sourceY:0,width:void 0,height:void 0,depth:1,mipLevel:0,x:0,y:0,z:0,aspect:"all",colorSpace:"srgb",premultipliedAlpha:!1,flipY:!1}}class $x extends Pt{get[Symbol.toStringTag](){return"TextureView"}constructor(e,n){super(e,n,$x.defaultProps)}static defaultProps={...Pt.defaultProps,format:void 0,dimension:void 0,aspect:"all",baseMipLevel:0,mipLevelCount:void 0,baseArrayLayer:0,arrayLayerCount:void 0}}function _Oe(t,e,n){let r="";const i=e.split(/\r?\n/),a=t.slice().sort((s,o)=>s.lineNum-o.lineNum);switch(n?.showSourceCode||"no"){case"all":let s=0;for(let o=1;o<=i.length;o++)for(r+=uX(i[o-1],o,n);a.length>s&&a[s].lineNum===o;){const c=a[s++];r+=KT(c,i,c.lineNum,{...n,inlineSource:!1})}for(;a.length>s;){const o=a[s++];r+=KT(o,[],0,{...n,inlineSource:!1})}return r;case"issues":case"no":for(const o of t)r+=KT(o,i,o.lineNum,{inlineSource:n?.showSourceCode!=="no"});return r}}function KT(t,e,n,r){if(r?.inlineSource){const a=wOe(e,n),s=t.linePos>0?`${" ".repeat(t.linePos+5)}^^^
`:"";return`
${a}${s}${t.type.toUpperCase()}: ${t.message}

`}const i=t.type==="error"?"red":"#8B4000";return r?.html?`<div class='luma-compiler-log-error' style="color:${i};"><b> ${t.type.toUpperCase()}: ${t.message}</b></div>`:`${t.type.toUpperCase()}: ${t.message}`}function wOe(t,e,n){let r="";for(let i=e-2;i<=e;i++){const a=t[i-1];a!==void 0&&(r+=uX(a,e,n))}return r}function uX(t,e,n){const r=n?.html?TOe(t):t;return`${SOe(String(e),4)}: ${r}${n?.html?"<br/>":`
`}`}function SOe(t,e){let n="";for(let r=t.length;r<e;++r)n+=" ";return n+t}function TOe(t){return t.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}class zx extends Pt{get[Symbol.toStringTag](){return"Shader"}stage;source;compilationStatus="pending";constructor(e,n){n={...n,debugShaders:n.debugShaders||e.props.debugShaders||"errors"},super(e,{id:AOe(n),...n},zx.defaultProps),this.stage=this.props.stage,this.source=this.props.source}getCompilationInfoSync(){return null}getTranslatedSource(){return null}async debugShader(){const e=this.props.debugShaders;switch(e){case"never":return;case"errors":if(this.compilationStatus==="success")return;break}const n=await this.getCompilationInfo();e==="warnings"&&n?.length===0||this._displayShaderLog(n,this.id)}_displayShaderLog(e,n){if(typeof document>"u"||!document?.createElement)return;const r=n,i=`${this.stage} shader "${r}"`;let a=_Oe(e,this.source,{showSourceCode:"all",html:!0});const s=this.getTranslatedSource();s&&(a+=`<br /><br /><h1>Translated Source</h1><br /><br /><code style="user-select:text;"><pre>${s}</pre></code>`);const o=document.createElement("Button");o.innerHTML=`
<h1>Compilation error in ${i}</h1><br /><br />
<code style="user-select:text;"><pre>
${a}
</pre></code>`,o.style.top="10px",o.style.left="10px",o.style.position="absolute",o.style.zIndex="9999",o.style.width="100%",o.style.textAlign="left",document.body.appendChild(o),document.getElementsByClassName("luma-compiler-log-error")[0]?.scrollIntoView(),o.onclick=()=>{const f=`data:text/plain,${encodeURIComponent(this.source)}`;navigator.clipboard.writeText(f)}}static defaultProps={...Pt.defaultProps,language:"auto",stage:void 0,source:"",sourceMap:null,entryPoint:"main",debugShaders:void 0}}function AOe(t){return EOe(t.source)||t.id||Fx(`unnamed ${t.stage}-shader`)}function EOe(t,e="unnamed"){const r=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/.exec(t);return r?r[1]:e}class Vx extends Pt{get[Symbol.toStringTag](){return"Framebuffer"}width;height;constructor(e,n={}){super(e,n,Vx.defaultProps),this.width=this.props.width,this.height=this.props.height}clone(e){const n=this.colorAttachments.map(i=>i.texture.clone(e)),r=this.depthStencilAttachment&&this.depthStencilAttachment.texture.clone(e);return this.device.createFramebuffer({...this.props,colorAttachments:n,depthStencilAttachment:r})}resize(e){let n=!e;if(e){const[r,i]=Array.isArray(e)?e:[e.width,e.height];n=n||i!==this.height||r!==this.width,this.width=r,this.height=i}n&&(ve.log(2,`Resizing framebuffer ${this.id} to ${this.width}x${this.height}`)(),this.resizeAttachments(this.width,this.height))}autoCreateAttachmentTextures(){if(this.props.colorAttachments.length===0&&!this.props.depthStencilAttachment)throw new Error("Framebuffer has noattachments");this.colorAttachments=this.props.colorAttachments.map((n,r)=>{if(typeof n=="string"){const i=this.createColorTexture(n,r);return this.attachResource(i),i.view}return n instanceof jn?n.view:n});const e=this.props.depthStencilAttachment;if(e)if(typeof e=="string"){const n=this.createDepthStencilTexture(e);this.attachResource(n),this.depthStencilAttachment=n.view}else e instanceof jn?this.depthStencilAttachment=e.view:this.depthStencilAttachment=e}createColorTexture(e,n){return this.device.createTexture({id:`${this.id}-color-attachment-${n}`,usage:jn.RENDER_ATTACHMENT,format:e,width:this.width,height:this.height,sampler:{magFilter:"linear",minFilter:"linear"}})}createDepthStencilTexture(e){return this.device.createTexture({id:`${this.id}-depth-stencil-attachment`,usage:jn.RENDER_ATTACHMENT,format:e,width:this.width,height:this.height})}resizeAttachments(e,n){for(let r=0;r<this.colorAttachments.length;++r)if(this.colorAttachments[r]){const i=this.colorAttachments[r].texture.clone({width:e,height:n});this.destroyAttachedResource(this.colorAttachments[r]),this.colorAttachments[r]=i.view,this.attachResource(i.view)}if(this.depthStencilAttachment){const r=this.depthStencilAttachment.texture.clone({width:e,height:n});this.destroyAttachedResource(this.depthStencilAttachment),this.depthStencilAttachment=r.view,this.attachResource(r)}this.updateAttachments()}static defaultProps={...Pt.defaultProps,width:1,height:1,colorAttachments:[],depthStencilAttachment:null}}class xc extends Pt{get[Symbol.toStringTag](){return"RenderPipeline"}shaderLayout;bufferLayout;linkStatus="pending";hash="";constructor(e,n){super(e,n,xc.defaultProps),this.shaderLayout=this.props.shaderLayout,this.bufferLayout=this.props.bufferLayout||[]}static defaultProps={...Pt.defaultProps,vs:null,vertexEntryPoint:"vertexMain",vsConstants:{},fs:null,fragmentEntryPoint:"fragmentMain",fsConstants:{},shaderLayout:null,bufferLayout:[],topology:"triangle-list",colorAttachmentFormats:void 0,depthStencilAttachmentFormat:void 0,parameters:{},bindings:{},uniforms:{}}}class Ql extends Pt{static defaultClearColor=[0,0,0,1];static defaultClearDepth=1;static defaultClearStencil=0;get[Symbol.toStringTag](){return"RenderPass"}constructor(e,n){n=Ql.normalizeProps(e,n),super(e,n,Ql.defaultProps)}static normalizeProps(e,n){return n}static defaultProps={...Pt.defaultProps,framebuffer:null,parameters:void 0,clearColor:Ql.defaultClearColor,clearColors:void 0,clearDepth:Ql.defaultClearDepth,clearStencil:Ql.defaultClearStencil,depthReadOnly:!1,stencilReadOnly:!1,discard:!1,occlusionQuerySet:void 0,timestampQuerySet:void 0,beginTimestampIndex:void 0,endTimestampIndex:void 0}}class eb extends Pt{get[Symbol.toStringTag](){return"ComputePipeline"}hash="";shaderLayout;constructor(e,n){super(e,n,eb.defaultProps),this.shaderLayout=n.shaderLayout}static defaultProps={...Pt.defaultProps,shader:void 0,entryPoint:void 0,constants:{},shaderLayout:void 0}}class vR extends Pt{get[Symbol.toStringTag](){return"CommandEncoder"}constructor(e,n){super(e,n,vR.defaultProps)}static defaultProps={...Pt.defaultProps,measureExecutionTime:void 0}}class bR extends Pt{get[Symbol.toStringTag](){return"CommandBuffer"}constructor(e,n){super(e,n,bR.defaultProps)}static defaultProps={...Pt.defaultProps}}function fX(t){return OOe[t]}function COe(t){const[e,n]=ROe[t],r=e==="i32"||e==="u32",i=e!=="u32",a=POe[e]*n;return{primitiveType:e,components:n,byteLength:a,integer:r,signed:i}}const POe={f32:4,f16:2,i32:4,u32:4},ROe={f32:["f32",1],"vec2<f32>":["f32",2],"vec3<f32>":["f32",3],"vec4<f32>":["f32",4],f16:["f16",1],"vec2<f16>":["f16",2],"vec3<f16>":["f16",3],"vec4<f16>":["f16",4],i32:["i32",1],"vec2<i32>":["i32",2],"vec3<i32>":["i32",3],"vec4<i32>":["i32",4],u32:["u32",1],"vec2<u32>":["u32",2],"vec3<u32>":["u32",3],"vec4<u32>":["u32",4]},OOe={f32:{type:"f32",components:1},f16:{type:"f16",components:1},i32:{type:"i32",components:1},u32:{type:"u32",components:1},"vec2<f32>":{type:"f32",components:2},"vec3<f32>":{type:"f32",components:3},"vec4<f32>":{type:"f32",components:4},"vec2<f16>":{type:"f16",components:2},"vec3<f16>":{type:"f16",components:3},"vec4<f16>":{type:"f16",components:4},"vec2<i32>":{type:"i32",components:2},"vec3<i32>":{type:"i32",components:3},"vec4<i32>":{type:"i32",components:4},"vec2<u32>":{type:"u32",components:2},"vec3<u32>":{type:"u32",components:3},"vec4<u32>":{type:"u32",components:4},"mat2x2<f32>":{type:"f32",components:4},"mat2x3<f32>":{type:"f32",components:6},"mat2x4<f32>":{type:"f32",components:8},"mat3x2<f32>":{type:"f32",components:6},"mat3x3<f32>":{type:"f32",components:9},"mat3x4<f32>":{type:"f32",components:12},"mat4x2<f32>":{type:"f32",components:8},"mat4x3<f32>":{type:"f32",components:12},"mat4x4<f32>":{type:"f32",components:16},"mat2x2<f16>":{type:"f16",components:4},"mat2x3<f16>":{type:"f16",components:6},"mat2x4<f16>":{type:"f16",components:8},"mat3x2<f16>":{type:"f16",components:6},"mat3x3<f16>":{type:"f16",components:9},"mat3x4<f16>":{type:"f16",components:12},"mat4x2<f16>":{type:"f16",components:8},"mat4x3<f16>":{type:"f16",components:12},"mat4x4<f16>":{type:"f16",components:16},"mat2x2<i32>":{type:"i32",components:4},"mat2x3<i32>":{type:"i32",components:6},"mat2x4<i32>":{type:"i32",components:8},"mat3x2<i32>":{type:"i32",components:6},"mat3x3<i32>":{type:"i32",components:9},"mat3x4<i32>":{type:"i32",components:12},"mat4x2<i32>":{type:"i32",components:8},"mat4x3<i32>":{type:"i32",components:12},"mat4x4<i32>":{type:"i32",components:16},"mat2x2<u32>":{type:"u32",components:4},"mat2x3<u32>":{type:"u32",components:6},"mat2x4<u32>":{type:"u32",components:8},"mat3x2<u32>":{type:"u32",components:6},"mat3x3<u32>":{type:"u32",components:9},"mat3x4<u32>":{type:"u32",components:12},"mat4x2<u32>":{type:"u32",components:8},"mat4x3<u32>":{type:"u32",components:12},"mat4x4<u32>":{type:"u32",components:16}};function dX(t,e){const n={};for(const r of t.attributes){const i=IOe(t,e,r.name);i&&(n[r.name]=i)}return n}function MOe(t,e,n=16){const r=dX(t,e),i=new Array(n).fill(null);for(const a of Object.values(r))i[a.location]=a;return i}function IOe(t,e,n){const r=kOe(t,n),i=NOe(e,n);if(!r)return null;const a=COe(r.type),s=YRe(a),o=i?.vertexFormat||s,c=yR(o);return{attributeName:i?.attributeName||r.name,bufferName:i?.bufferName||r.name,location:r.location,shaderType:r.type,primitiveType:a.primitiveType,shaderComponents:a.components,vertexFormat:o,bufferDataType:c.type,bufferComponents:c.components,normalized:c.normalized,integer:a.integer,stepMode:i?.stepMode||r.stepMode||"vertex",byteOffset:i?.byteOffset||0,byteStride:i?.byteStride||0}}function kOe(t,e){const n=t.attributes.find(r=>r.name===e);return n||ve.warn(`shader layout attribute "${e}" not present in shader`),n||null}function NOe(t,e){DOe(t);let n=BOe(t,e);return n||(n=LOe(t,e),n)?n:(ve.warn(`layout for attribute "${e}" not present in buffer layout`),null)}function DOe(t){for(const e of t)(e.attributes&&e.format||!e.attributes&&!e.format)&&ve.warn(`BufferLayout ${name} must have either 'attributes' or 'format' field`)}function BOe(t,e){for(const n of t)if(n.format&&n.name===e)return{attributeName:n.name,bufferName:e,stepMode:n.stepMode,vertexFormat:n.format,byteOffset:0,byteStride:n.byteStride||0};return null}function LOe(t,e){for(const n of t){let r=n.byteStride;if(typeof n.byteStride!="number")for(const a of n.attributes||[]){const s=yR(a.format);r+=s.byteLength}const i=n.attributes?.find(a=>a.attribute===e);if(i)return{attributeName:i.attribute,bufferName:n.name,stepMode:n.stepMode,vertexFormat:i.format,byteOffset:i.byteOffset,byteStride:r}}return null}class xR extends Pt{static defaultProps={...Pt.defaultProps,shaderLayout:void 0,bufferLayout:[]};get[Symbol.toStringTag](){return"VertexArray"}maxVertexAttributes;attributeInfos;indexBuffer=null;attributes;constructor(e,n){super(e,n,xR.defaultProps),this.maxVertexAttributes=e.limits.maxVertexAttributes,this.attributes=new Array(this.maxVertexAttributes).fill(null),this.attributeInfos=MOe(n.shaderLayout,n.bufferLayout,this.maxVertexAttributes)}setConstantWebGL(e,n){this.device.reportError(new Error("constant attributes not supported"),this)()}}class _R extends Pt{static defaultProps={...Pt.defaultProps,layout:void 0,buffers:{}};get[Symbol.toStringTag](){return"TransformFeedback"}constructor(e,n){super(e,n,_R.defaultProps)}}class wR extends Pt{get[Symbol.toStringTag](){return"QuerySet"}constructor(e,n){super(e,n,wR.defaultProps)}static defaultProps={...Pt.defaultProps,type:void 0,count:void 0}}let Wy;function hX(t){return(!Wy||Wy.byteLength<t)&&(Wy=new ArrayBuffer(t)),Wy}function jOe(t,e){const n=hX(t.BYTES_PER_ELEMENT*e);return new t(n,0,e)}function UOe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function tb(t){return Array.isArray(t)?t.length===0||typeof t[0]=="number":UOe(t)}const FOe=1024;class $Oe{layout={};byteLength;constructor(e,n={}){let r=0;for(const[a,s]of Object.entries(e)){const o=fX(s),{type:c,components:f}=o,d=f*(n?.[a]??1);r=qRe(r,d);const p=r;r+=d,this.layout[a]={type:c,size:d,offset:p}}r+=(4-r%4)%4;const i=r*4;this.byteLength=Math.max(i,FOe)}getData(e){const n=hX(this.byteLength),r={i32:new Int32Array(n),u32:new Uint32Array(n),f32:new Float32Array(n),f16:new Uint16Array(n)};for(const[i,a]of Object.entries(e)){const s=this.layout[i];if(!s){ve.warn(`Supplied uniform value ${i} not present in uniform block layout`)();continue}const{type:o,size:c,offset:f}=s,d=r[o];if(c===1){if(typeof a!="number"&&typeof a!="boolean"){ve.warn(`Supplied value for single component uniform ${i} is not a number: ${a}`)();continue}d[f]=Number(a)}else{if(!tb(a)){ve.warn(`Supplied value for multi component / array uniform ${i} is not a numeric array: ${a}`)();continue}d.set(a,f)}}return new Uint8Array(n,0,this.byteLength)}has(e){return!!this.layout[e]}get(e){return this.layout[e]}}function zOe(t,e,n=16){if(t!==e)return!1;const r=t,i=e;if(!tb(r))return!1;if(tb(i)&&r.length===i.length){for(let a=0;a<r.length;++a)if(i[a]!==r[a])return!1}return!0}function VOe(t){return tb(t)?t.slice():t}class HOe{name;uniforms={};modifiedUniforms={};modified=!0;bindingLayout={};needsRedraw="initialized";constructor(e){if(this.name=e?.name||"unnamed",e?.name&&e?.shaderLayout){const n=e?.shaderLayout.bindings?.find(i=>i.type==="uniform"&&i.name===e?.name);if(!n)throw new Error(e?.name);const r=n;for(const i of r.uniforms||[])this.bindingLayout[i.name]=i}}setUniforms(e){for(const[n,r]of Object.entries(e))this._setUniform(n,r),this.needsRedraw||this.setNeedsRedraw(`${this.name}.${n}=${r}`)}setNeedsRedraw(e){this.needsRedraw=this.needsRedraw||e}getAllUniforms(){return this.modifiedUniforms={},this.needsRedraw=!1,this.uniforms||{}}_setUniform(e,n){zOe(this.uniforms[e],n)||(this.uniforms[e]=VOe(n),this.modifiedUniforms[e]=!0,this.modified=!0)}}class WOe{uniformBlocks=new Map;uniformBufferLayouts=new Map;uniformBuffers=new Map;constructor(e){for(const[n,r]of Object.entries(e)){const i=n,a=new $Oe(r.uniformTypes??{},r.uniformSizes??{});this.uniformBufferLayouts.set(i,a);const s=new HOe({name:n});s.setUniforms(r.defaultUniforms||{}),this.uniformBlocks.set(i,s)}}destroy(){for(const e of this.uniformBuffers.values())e.destroy()}setUniforms(e){for(const[n,r]of Object.entries(e))this.uniformBlocks.get(n)?.setUniforms(r);this.updateUniformBuffers()}getUniformBufferByteLength(e){return this.uniformBufferLayouts.get(e)?.byteLength||0}getUniformBufferData(e){const n=this.uniformBlocks.get(e)?.getAllUniforms()||{};return this.uniformBufferLayouts.get(e)?.getData(n)}createUniformBuffer(e,n,r){r&&this.setUniforms(r);const i=this.getUniformBufferByteLength(n),a=e.createBuffer({usage:pn.UNIFORM|pn.COPY_DST,byteLength:i}),s=this.getUniformBufferData(n);return a.write(s),a}getManagedUniformBuffer(e,n){if(!this.uniformBuffers.get(n)){const r=this.getUniformBufferByteLength(n),i=e.createBuffer({usage:pn.UNIFORM|pn.COPY_DST,byteLength:r});this.uniformBuffers.set(n,i)}return this.uniformBuffers.get(n)}updateUniformBuffers(){let e=!1;for(const n of this.uniformBlocks.keys()){const r=this.updateUniformBuffer(n);e||=r}return e&&ve.log(3,`UniformStore.updateUniformBuffers(): ${e}`)(),e}updateUniformBuffer(e){const n=this.uniformBlocks.get(e);let r=this.uniformBuffers.get(e),i=!1;if(r&&n?.needsRedraw){i||=n.needsRedraw;const a=this.getUniformBufferData(e);r=this.uniformBuffers.get(e),r?.write(a);const s=this.uniformBlocks.get(e)?.getAllUniforms();ve.log(4,`Writing to uniform buffer ${String(e)}`,a,s)()}return i}}class qi{constructor(e,n){this.name=e,this.attributes=n,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}get isPointer(){return!1}getTypeName(){return this.name}}class Fj{constructor(e,n,r){this.name=e,this.type=n,this.attributes=r,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class Qo extends qi{constructor(e,n){super(e,n),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}}class rl extends qi{constructor(e,n){super(e,n),this.count=0,this.stride=0}get isArray(){return!0}getTypeName(){return`array<${this.format.getTypeName()}, ${this.count}>`}}class TE extends qi{constructor(e,n,r){super(e,r),this.format=n}get isPointer(){return!0}getTypeName(){return`&${this.format.getTypeName()}`}}class Dc extends qi{constructor(e,n,r,i){super(e,r),this.format=n,this.access=i}get isTemplate(){return!0}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}}var Ko;(t=>{t[t.Uniform=0]="Uniform",t[t.Storage=1]="Storage",t[t.Texture=2]="Texture",t[t.Sampler=3]="Sampler",t[t.StorageTexture=4]="StorageTexture"})(Ko||(Ko={}));class qy{constructor(e,n,r,i,a,s,o){this.name=e,this.type=n,this.group=r,this.binding=i,this.attributes=a,this.resourceType=s,this.access=o}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class qOe{constructor(e,n){this.name=e,this.type=n}}class XOe{constructor(e,n,r,i){this.name=e,this.type=n,this.locationType=r,this.location=i,this.interpolation=null}}class $j{constructor(e,n,r,i){this.name=e,this.type=n,this.locationType=r,this.location=i}}class KOe{constructor(e,n,r,i){this.name=e,this.type=n,this.attributes=r,this.id=i}}class YOe{constructor(e,n,r){this.name=e,this.type=n,this.attributes=r}}class GOe{constructor(e,n=null,r){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=e,this.stage=n,this.attributes=r}}class ZOe{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}function QOe(t){var e=(32768&t)>>15,n=(31744&t)>>10,r=1023&t;return n==0?(e?-1:1)*Math.pow(2,-14)*(r/Math.pow(2,10)):n==31?r?NaN:1/0*(e?-1:1):(e?-1:1)*Math.pow(2,n-15)*(1+r/Math.pow(2,10))}const pX=new Float32Array(1),JOe=new Int32Array(pX.buffer),gr=new Uint16Array(1);function eMe(t){pX[0]=t;const e=JOe[0],n=e>>31&1;let r=e>>23&255,i=8388607&e;if(r===255)return gr[0]=n<<15|31744|(i!==0?512:0),gr[0];if(r===0){if(i===0)return gr[0]=n<<15,gr[0];i|=8388608;let a=113;for(;!(8388608&i);)i<<=1,a--;return r=127-a,i&=8388607,r>0?(i=(i>>126-r)+(i>>127-r&1),gr[0]=n<<15|r<<10|i>>13,gr[0]):(gr[0]=n<<15,gr[0])}return r=r-127+15,r>=31?(gr[0]=n<<15|31744,gr[0]):r<=0?r<-10?(gr[0]=n<<15,gr[0]):(i=(8388608|i)>>1-r,gr[0]=n<<15|i>>13,gr[0]):(i>>=13,gr[0]=n<<15|r<<10|i,gr[0])}const SR=new Uint32Array(1),gX=new Float32Array(SR.buffer,0,1);function zj(t){const e=112+(t>>6&31)<<23|(63&t)<<17;return SR[0]=e,gX[0]}function tMe(t,e,n,r,i,a,s,o,c){const f=r*(s>>=i)*(a>>=i)+n*s+e*o;switch(c){case"r8unorm":return[ot(t,f,"8unorm",1)[0]];case"r8snorm":return[ot(t,f,"8snorm",1)[0]];case"r8uint":return[ot(t,f,"8uint",1)[0]];case"r8sint":return[ot(t,f,"8sint",1)[0]];case"rg8unorm":{const d=ot(t,f,"8unorm",2);return[d[0],d[1]]}case"rg8snorm":{const d=ot(t,f,"8snorm",2);return[d[0],d[1]]}case"rg8uint":{const d=ot(t,f,"8uint",2);return[d[0],d[1]]}case"rg8sint":{const d=ot(t,f,"8sint",2);return[d[0],d[1]]}case"rgba8unorm-srgb":case"rgba8unorm":{const d=ot(t,f,"8unorm",4);return[d[0],d[1],d[2],d[3]]}case"rgba8snorm":{const d=ot(t,f,"8snorm",4);return[d[0],d[1],d[2],d[3]]}case"rgba8uint":{const d=ot(t,f,"8uint",4);return[d[0],d[1],d[2],d[3]]}case"rgba8sint":{const d=ot(t,f,"8sint",4);return[d[0],d[1],d[2],d[3]]}case"bgra8unorm-srgb":case"bgra8unorm":{const d=ot(t,f,"8unorm",4);return[d[2],d[1],d[0],d[3]]}case"r16uint":return[ot(t,f,"16uint",1)[0]];case"r16sint":return[ot(t,f,"16sint",1)[0]];case"r16float":return[ot(t,f,"16float",1)[0]];case"rg16uint":{const d=ot(t,f,"16uint",2);return[d[0],d[1]]}case"rg16sint":{const d=ot(t,f,"16sint",2);return[d[0],d[1]]}case"rg16float":{const d=ot(t,f,"16float",2);return[d[0],d[1]]}case"rgba16uint":{const d=ot(t,f,"16uint",4);return[d[0],d[1],d[2],d[3]]}case"rgba16sint":{const d=ot(t,f,"16sint",4);return[d[0],d[1],d[2],d[3]]}case"rgba16float":{const d=ot(t,f,"16float",4);return[d[0],d[1],d[2],d[3]]}case"r32uint":return[ot(t,f,"32uint",1)[0]];case"r32sint":return[ot(t,f,"32sint",1)[0]];case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return[ot(t,f,"32float",1)[0]];case"rg32uint":{const d=ot(t,f,"32uint",2);return[d[0],d[1]]}case"rg32sint":{const d=ot(t,f,"32sint",2);return[d[0],d[1]]}case"rg32float":{const d=ot(t,f,"32float",2);return[d[0],d[1]]}case"rgba32uint":{const d=ot(t,f,"32uint",4);return[d[0],d[1],d[2],d[3]]}case"rgba32sint":{const d=ot(t,f,"32sint",4);return[d[0],d[1],d[2],d[3]]}case"rgba32float":{const d=ot(t,f,"32float",4);return[d[0],d[1],d[2],d[3]]}case"rg11b10ufloat":{const d=new Uint32Array(t.buffer,f,1)[0],p=(4192256&d)>>11,m=(4290772992&d)>>22;return[zj(2047&d),zj(p),(function(y){const v=112+(y>>5&31)<<23|(31&y)<<18;return SR[0]=v,gX[0]})(m),1]}}return null}function ot(t,e,n,r){const i=[0,0,0,0];for(let a=0;a<r;++a)switch(n){case"8unorm":i[a]=t[e]/255,e++;break;case"8snorm":i[a]=t[e]/255*2-1,e++;break;case"8uint":i[a]=t[e],e++;break;case"8sint":i[a]=t[e]-127,e++;break;case"16uint":i[a]=t[e]|t[e+1]<<8,e+=2;break;case"16sint":i[a]=(t[e]|t[e+1]<<8)-32768,e+=2;break;case"16float":i[a]=QOe(t[e]|t[e+1]<<8),e+=2;break;case"32uint":case"32sint":i[a]=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24,e+=4;break;case"32float":i[a]=new Float32Array(t.buffer,e,1)[0],e+=4}return i}function dt(t,e,n,r,i){for(let a=0;a<r;++a)switch(n){case"8unorm":t[e]=255*i[a],e++;break;case"8snorm":t[e]=.5*(i[a]+1)*255,e++;break;case"8uint":t[e]=i[a],e++;break;case"8sint":t[e]=i[a]+127,e++;break;case"16uint":new Uint16Array(t.buffer,e,1)[0]=i[a],e+=2;break;case"16sint":new Int16Array(t.buffer,e,1)[0]=i[a],e+=2;break;case"16float":{const s=eMe(i[a]);new Uint16Array(t.buffer,e,1)[0]=s,e+=2;break}case"32uint":new Uint32Array(t.buffer,e,1)[0]=i[a],e+=4;break;case"32sint":new Int32Array(t.buffer,e,1)[0]=i[a],e+=4;break;case"32float":new Float32Array(t.buffer,e,1)[0]=i[a],e+=4}return i}const YT={r8unorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8snorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8uint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8sint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg8unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8snorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"rgba8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8snorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},bgra8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bgra8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r16uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16float:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg16uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba16uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r32uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg32uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba32uint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32sint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32float:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rg11b10ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},stencil8:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!1,hasStencil:!0,channels:1},depth16unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},depth24plus:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,depthOnlyFormat:"depth32float",channels:1},"depth24plus-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,depthOnlyFormat:"depth32float",channels:1},depth32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},"depth32float-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,stencilOnlyFormat:"depth32float",channels:1},rgb9e5ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bc1-rgba-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc1-rgba-unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc4-r-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc4-r-snorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc5-rg-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc5-rg-snorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc6h-rgb-ufloat":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc6h-rgb-float":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"eac-r11unorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-r11snorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-rg11unorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"eac-rg11snorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"astc-4x4-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-4x4-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x5-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-5x5-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x6-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-6x6-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-8x5-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x5-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x6-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x6-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x8-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-8x8-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-10x5-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x5-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x6-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x6-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x8-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x8-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x10-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-10x10-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x12-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4},"astc-12x12-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4}};class ia{constructor(){this.id=ia._id++,this.line=0}get isAstNode(){return!0}get astNodeType(){return""}search(e){e(this)}searchBlock(e,n){if(e){n(nb.instance);for(const r of e)r instanceof Array?this.searchBlock(r,n):r.search(n);n(rb.instance)}}constEvaluate(e,n){throw new Error("Cannot evaluate node")}constEvaluateString(e){return this.constEvaluate(e).toString()}}ia._id=0;class nb extends ia{}nb.instance=new nb;class rb extends ia{}rb.instance=new rb;const mX=new Set(["all","all","any","select","arrayLength","abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","clamp","cos","cosh","countLeadingZeros","countOneBits","countTrailingZeros","cross","degrees","determinant","distance","dot","dot4U8Packed","dot4I8Packed","exp","exp2","extractBits","faceForward","firstLeadingBit","firstTrailingBit","floor","fma","fract","frexp","insertBits","inverseSqrt","ldexp","length","log","log2","max","min","mix","modf","normalize","pow","quantizeToF16","radians","reflect","refract","reverseBits","round","saturate","sign","sin","sinh","smoothStep","sqrt","step","tan","tanh","transpose","trunc","dpdx","dpdxCoarse","dpdxFine","dpdy","dpdyCoarse","dpdyFine","fwidth","fwidthCoarse","fwidthFine","textureDimensions","textureGather","textureGatherCompare","textureLoad","textureNumLayers","textureNumLevels","textureNumSamples","textureSample","textureSampleBias","textureSampleCompare","textureSampleCompareLevel","textureSampleGrad","textureSampleLevel","textureSampleBaseClampToEdge","textureStore","atomicLoad","atomicStore","atomicAdd","atomicSub","atomicMax","atomicMin","atomicAnd","atomicOr","atomicXor","atomicExchange","atomicCompareExchangeWeak","pack4x8snorm","pack4x8unorm","pack4xI8","pack4xU8","pack4x8Clamp","pack4xU8Clamp","pack2x16snorm","pack2x16unorm","pack2x16float","unpack4x8snorm","unpack4x8unorm","unpack4xI8","unpack4xU8","unpack2x16snorm","unpack2x16unorm","unpack2x16float","storageBarrier","textureBarrier","workgroupBarrier","workgroupUniformLoad","subgroupAdd","subgroupExclusiveAdd","subgroupInclusiveAdd","subgroupAll","subgroupAnd","subgroupAny","subgroupBallot","subgroupBroadcast","subgroupBroadcastFirst","subgroupElect","subgroupMax","subgroupMin","subgroupMul","subgroupExclusiveMul","subgroupInclusiveMul","subgroupOr","subgroupShuffle","subgroupShuffleDown","subgroupShuffleUp","subgroupShuffleXor","subgroupXor","quadBroadcast","quadSwapDiagonal","quadSwapX","quadSwapY"]);class Gt extends ia{constructor(){super()}}class Kp extends Gt{constructor(e,n,r,i,a,s){super(),this.calls=new Set,this.name=e,this.args=n,this.returnType=r,this.body=i,this.startLine=a,this.endLine=s}get astNodeType(){return"function"}search(e){if(this.attributes)for(const n of this.attributes)e(n);e(this);for(const n of this.args)e(n);this.searchBlock(this.body,e)}}class nMe extends Gt{constructor(e){super(),this.expression=e}get astNodeType(){return"staticAssert"}search(e){this.expression.search(e)}}class yX extends Gt{constructor(e,n){super(),this.condition=e,this.body=n}get astNodeType(){return"while"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class AE extends Gt{constructor(e,n){super(),this.body=e,this.loopId=n}get astNodeType(){return"continuing"}search(e){this.searchBlock(this.body,e)}}class vX extends Gt{constructor(e,n,r,i){super(),this.init=e,this.condition=n,this.increment=r,this.body=i}get astNodeType(){return"for"}search(e){var n,r,i;(n=this.init)===null||n===void 0||n.search(e),(r=this.condition)===null||r===void 0||r.search(e),(i=this.increment)===null||i===void 0||i.search(e),this.searchBlock(this.body,e)}}class $s extends Gt{constructor(e,n,r,i,a){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=i,this.value=a}get astNodeType(){return"var"}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}}class TR extends Gt{constructor(e,n,r){super(),this.attributes=null,this.name=e,this.type=n,this.value=r}get astNodeType(){return"override"}search(e){var n;(n=this.value)===null||n===void 0||n.search(e)}}class ap extends Gt{constructor(e,n,r,i,a){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=i,this.value=a}get astNodeType(){return"let"}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}}class Pv extends Gt{constructor(e,n,r,i,a){super(),this.attributes=null,this.name=e,this.type=n,this.storage=r,this.access=i,this.value=a}get astNodeType(){return"const"}constEvaluate(e,n){return this.value.constEvaluate(e,n)}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}}var hf,Wh,te,Y;(t=>{t.increment="++",t.decrement="--"})(hf||(hf={})),(t=>{t.parse=function(e){const n=e;if(n=="parse")throw new Error("Invalid value for IncrementOperator");return t[n]}})(hf||(hf={}));class bX extends Gt{constructor(e,n){super(),this.operator=e,this.variable=n}get astNodeType(){return"increment"}search(e){this.variable.search(e)}}(t=>{t.assign="=",t.addAssign="+=",t.subtractAssin="-=",t.multiplyAssign="*=",t.divideAssign="/=",t.moduloAssign="%=",t.andAssign="&=",t.orAssign="|=",t.xorAssign="^=",t.shiftLeftAssign="<<=",t.shiftRightAssign=">>="})(Wh||(Wh={})),(t=>{t.parse=function(e){const n=e;if(n=="parse")throw new Error("Invalid value for AssignOperator");return n}})(Wh||(Wh={}));class xX extends Gt{constructor(e,n,r){super(),this.operator=e,this.variable=n,this.value=r}get astNodeType(){return"assign"}search(e){this.variable.search(e),this.value.search(e)}}class AR extends Gt{constructor(e,n){super(),this.name=e,this.args=n}get astNodeType(){return"call"}isBuiltin(){return mX.has(this.name)}search(e){for(const n of this.args)n.search(e);e(this)}}class _X extends Gt{constructor(e,n){super(),this.body=e,this.continuing=n}get astNodeType(){return"loop"}search(e){var n;this.searchBlock(this.body,e),(n=this.continuing)===null||n===void 0||n.search(e)}}class wX extends Gt{constructor(e,n){super(),this.condition=e,this.cases=n}get astNodeType(){return"switch"}search(e){e(this);for(const n of this.cases)n.search(e)}}class SX extends Gt{constructor(e,n,r,i){super(),this.condition=e,this.body=n,this.elseif=r,this.else=i}get astNodeType(){return"if"}search(e){this.condition.search(e),this.searchBlock(this.body,e),this.searchBlock(this.elseif,e),this.searchBlock(this.else,e)}}class TX extends Gt{constructor(e){super(),this.value=e}get astNodeType(){return"return"}search(e){var n;(n=this.value)===null||n===void 0||n.search(e)}}class rMe extends Gt{constructor(e){super(),this.name=e}get astNodeType(){return"enable"}}class iMe extends Gt{constructor(e){super(),this.extensions=e}get astNodeType(){return"requires"}}class AX extends Gt{constructor(e,n){super(),this.severity=e,this.rule=n}get astNodeType(){return"diagnostic"}}class ER extends Gt{constructor(e,n){super(),this.name=e,this.type=n}get astNodeType(){return"alias"}}class aMe extends Gt{constructor(){super()}get astNodeType(){return"discard"}}class EX extends Gt{constructor(){super(),this.condition=null,this.loopId=-1}get astNodeType(){return"break"}}class CX extends Gt{constructor(){super(),this.loopId=-1}get astNodeType(){return"continue"}}class pe extends Gt{constructor(e){super(),this.attributes=null,this.name=e}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}static maxFormatType(e){let n=e[0];if(n.name==="f32")return n;for(let r=1;r<e.length;++r){const i=pe._priority.get(n.name);pe._priority.get(e[r].name)<i&&(n=e[r])}return n.name==="x32"?pe.i32:n}getTypeName(){return this.name}}pe.x32=new pe("x32"),pe.f32=new pe("f32"),pe.i32=new pe("i32"),pe.u32=new pe("u32"),pe.f16=new pe("f16"),pe.bool=new pe("bool"),pe.void=new pe("void"),pe._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class Vj extends pe{constructor(e){super(e)}}class Ls extends pe{constructor(e,n,r,i){super(e),this.members=n,this.startLine=r,this.endLine=i}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(e){for(let n=0;n<this.members.length;n++)if(this.members[n].name==e)return n;return-1}search(e){for(const n of this.members)e(n)}}class Q extends pe{constructor(e,n,r){super(e),this.format=n,this.access=r}get astNodeType(){return"template"}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}}Q.vec2f=new Q("vec2",pe.f32,null),Q.vec3f=new Q("vec3",pe.f32,null),Q.vec4f=new Q("vec4",pe.f32,null),Q.vec2i=new Q("vec2",pe.i32,null),Q.vec3i=new Q("vec3",pe.i32,null),Q.vec4i=new Q("vec4",pe.i32,null),Q.vec2u=new Q("vec2",pe.u32,null),Q.vec3u=new Q("vec3",pe.u32,null),Q.vec4u=new Q("vec4",pe.u32,null),Q.vec2h=new Q("vec2",pe.f16,null),Q.vec3h=new Q("vec3",pe.f16,null),Q.vec4h=new Q("vec4",pe.f16,null),Q.vec2b=new Q("vec2",pe.bool,null),Q.vec3b=new Q("vec3",pe.bool,null),Q.vec4b=new Q("vec4",pe.bool,null),Q.mat2x2f=new Q("mat2x2",pe.f32,null),Q.mat2x3f=new Q("mat2x3",pe.f32,null),Q.mat2x4f=new Q("mat2x4",pe.f32,null),Q.mat3x2f=new Q("mat3x2",pe.f32,null),Q.mat3x3f=new Q("mat3x3",pe.f32,null),Q.mat3x4f=new Q("mat3x4",pe.f32,null),Q.mat4x2f=new Q("mat4x2",pe.f32,null),Q.mat4x3f=new Q("mat4x3",pe.f32,null),Q.mat4x4f=new Q("mat4x4",pe.f32,null),Q.mat2x2h=new Q("mat2x2",pe.f16,null),Q.mat2x3h=new Q("mat2x3",pe.f16,null),Q.mat2x4h=new Q("mat2x4",pe.f16,null),Q.mat3x2h=new Q("mat3x2",pe.f16,null),Q.mat3x3h=new Q("mat3x3",pe.f16,null),Q.mat3x4h=new Q("mat3x4",pe.f16,null),Q.mat4x2h=new Q("mat4x2",pe.f16,null),Q.mat4x3h=new Q("mat4x3",pe.f16,null),Q.mat4x4h=new Q("mat4x4",pe.f16,null),Q.mat2x2i=new Q("mat2x2",pe.i32,null),Q.mat2x3i=new Q("mat2x3",pe.i32,null),Q.mat2x4i=new Q("mat2x4",pe.i32,null),Q.mat3x2i=new Q("mat3x2",pe.i32,null),Q.mat3x3i=new Q("mat3x3",pe.i32,null),Q.mat3x4i=new Q("mat3x4",pe.i32,null),Q.mat4x2i=new Q("mat4x2",pe.i32,null),Q.mat4x3i=new Q("mat4x3",pe.i32,null),Q.mat4x4i=new Q("mat4x4",pe.i32,null),Q.mat2x2u=new Q("mat2x2",pe.u32,null),Q.mat2x3u=new Q("mat2x3",pe.u32,null),Q.mat2x4u=new Q("mat2x4",pe.u32,null),Q.mat3x2u=new Q("mat3x2",pe.u32,null),Q.mat3x3u=new Q("mat3x3",pe.u32,null),Q.mat3x4u=new Q("mat3x4",pe.u32,null),Q.mat4x2u=new Q("mat4x2",pe.u32,null),Q.mat4x3u=new Q("mat4x3",pe.u32,null),Q.mat4x4u=new Q("mat4x4",pe.u32,null);class Rv extends pe{constructor(e,n,r,i){super(e),this.storage=n,this.type=r,this.access=i}get astNodeType(){return"pointer"}}class sp extends pe{constructor(e,n,r,i){super(e),this.attributes=n,this.format=r,this.count=i}get astNodeType(){return"array"}get isArray(){return!0}}class qh extends pe{constructor(e,n,r){super(e),this.format=n,this.access=r}get astNodeType(){return"sampler"}}class Ra extends ia{constructor(){super(),this.postfix=null}}class Bc extends Ra{constructor(e){super(),this.value=e}get astNodeType(){return"stringExpr"}toString(){return this.value}constEvaluateString(){return this.value}}class Fa extends Ra{constructor(e,n){super(),this.type=e,this.args=n}get astNodeType(){return"createExpr"}search(e){if(e(this),this.args)for(const n of this.args)n.search(e)}constEvaluate(e,n){return n&&(n[0]=this.type),e.evalExpression(this,e.context)}}class CR extends Ra{constructor(e,n){super(),this.cachedReturnValue=null,this.name=e,this.args=n}get astNodeType(){return"callExpr"}setCachedReturnValue(e){this.cachedReturnValue=e}get isBuiltin(){return mX.has(this.name)}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){for(const n of this.args)n.search(e);e(this)}}class di extends Ra{constructor(e){super(),this.name=e}get astNodeType(){return"varExpr"}search(e){e(this),this.postfix&&this.postfix.search(e)}constEvaluate(e,n){return e.evalExpression(this,e.context)}}class PX extends Ra{constructor(e,n){super(),this.name=e,this.initializer=n}get astNodeType(){return"constExpr"}constEvaluate(e,n){if(this.initializer){const r=e.evalExpression(this.initializer,e.context);return r!==null&&this.postfix?r.getSubData(e,this.postfix,e.context):r}return null}search(e){this.initializer.search(e)}}class Dn extends Ra{constructor(e,n){super(),this.value=e,this.type=n}get astNodeType(){return"literalExpr"}constEvaluate(e,n){return n!==void 0&&(n[0]=this.type),this.value}get isScalar(){return this.value instanceof K}get isVector(){return this.value instanceof U||this.value instanceof Be}get scalarValue(){return this.value instanceof K?this.value.value:(console.error("Value is not scalar."),0)}get vectorValue(){return this.value instanceof U||this.value instanceof Be?this.value.data:(console.error("Value is not a vector or matrix."),new Float32Array(0))}}class RX extends Ra{constructor(e,n){super(),this.type=e,this.value=n}get astNodeType(){return"bitcastExpr"}search(e){this.value.search(e)}}class Vf extends Ra{constructor(e){super(),this.index=e}search(e){this.index.search(e)}}class OX extends Ra{constructor(){super()}}class En extends OX{constructor(e,n){super(),this.operator=e,this.right=n}get astNodeType(){return"unaryOp"}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){this.right.search(e)}}class da extends OX{constructor(e,n,r){super(),this.operator=e,this.left=n,this.right=r}get astNodeType(){return"binaryOp"}_getPromotedType(e,n){return e.name===n.name?e:e.name==="f32"||n.name==="f32"?pe.f32:e.name==="u32"||n.name==="u32"?pe.u32:pe.i32}constEvaluate(e,n){return e.evalExpression(this,e.context)}search(e){this.left.search(e),this.right.search(e)}}class MX extends ia{constructor(e){super(),this.body=e}search(e){e(this),this.searchBlock(this.body,e)}}class Ov extends Ra{constructor(){super()}get astNodeType(){return"default"}}class IX extends MX{constructor(e,n){super(n),this.selectors=e}get astNodeType(){return"case"}search(e){this.searchBlock(this.body,e)}}class kX extends MX{constructor(e){super(e)}get astNodeType(){return"default"}search(e){this.searchBlock(this.body,e)}}class Hj extends ia{constructor(e,n,r){super(),this.name=e,this.type=n,this.attributes=r}get astNodeType(){return"argument"}}class sMe extends ia{constructor(e,n){super(),this.condition=e,this.body=n}get astNodeType(){return"elseif"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class Wj extends ia{constructor(e,n,r){super(),this.name=e,this.type=n,this.attributes=r}get astNodeType(){return"member"}}class NX extends ia{constructor(e,n){super(),this.name=e,this.value=n}get astNodeType(){return"attribute"}}class Ji{constructor(e,n){this.parent=null,this.typeInfo=e,this.parent=n,this.id=Ji._id++}clone(){throw`Clone: Not implemented for ${this.constructor.name}`}setDataValue(e,n,r,i){console.error(`SetDataValue: Not implemented for ${this.constructor.name}`)}getSubData(e,n,r){return console.error(`GetDataValue: Not implemented for ${this.constructor.name}`),null}toString(){return`<${this.typeInfo.getTypeName()}>`}}Ji._id=0;class EE extends Ji{constructor(){super(new qi("void",null),null)}toString(){return"void"}}EE.void=new EE;class Yu extends Ji{constructor(e){super(new TE("pointer",e.typeInfo,null),null),this.reference=e}clone(){return this}setDataValue(e,n,r,i){this.reference.setDataValue(e,n,r,i)}getSubData(e,n,r){return n?this.reference.getSubData(e,n,r):this}toString(){return`&${this.reference.toString()}`}}class K extends Ji{constructor(e,n,r=null){super(n,r),e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array?this.data=e:this.typeInfo.name==="x32"?e-Math.floor(e)!==0?this.data=new Float32Array([e]):this.data=e>=0?new Uint32Array([e]):new Int32Array([e]):this.typeInfo.name==="i32"||this.typeInfo.name==="bool"?this.data=new Int32Array([e]):this.typeInfo.name==="u32"?this.data=new Uint32Array([e]):this.typeInfo.name==="f32"||this.typeInfo.name==="f16"?this.data=new Float32Array([e]):console.error("ScalarData2: Invalid type",n)}clone(){if(this.data instanceof Float32Array)return new K(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new K(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new K(new Uint32Array(this.data),this.typeInfo,null);throw"ScalarData: Invalid data type"}get value(){return this.data[0]}set value(e){this.data[0]=e}setDataValue(e,n,r,i){if(r)return void console.error("SetDataValue: Scalar data does not support postfix",r);if(!(n instanceof K))return void console.error("SetDataValue: Invalid value",n);let a=n.data[0];this.typeInfo.name==="i32"||this.typeInfo.name==="u32"?a=Math.floor(a):this.typeInfo.name==="bool"&&(a=a?1:0),this.data[0]=a}getSubData(e,n,r){return n?(console.error("getSubData: Scalar data does not support postfix",n),null):this}toString(){return`${this.value}`}}function oMe(t,e,n){const r=e.length;return r===2?n==="f32"?new U(new Float32Array(e),t.getTypeInfo("vec2f")):n==="i32"||n==="bool"?new U(new Int32Array(e),t.getTypeInfo("vec2i")):n==="u32"?new U(new Uint32Array(e),t.getTypeInfo("vec2u")):n==="f16"?new U(new Float32Array(e),t.getTypeInfo("vec2h")):(console.error(`getSubData: Unknown format ${n}`),null):r===3?n==="f32"?new U(new Float32Array(e),t.getTypeInfo("vec3f")):n==="i32"||n==="bool"?new U(new Int32Array(e),t.getTypeInfo("vec3i")):n==="u32"?new U(new Uint32Array(e),t.getTypeInfo("vec3u")):n==="f16"?new U(new Float32Array(e),t.getTypeInfo("vec3h")):(console.error(`getSubData: Unknown format ${n}`),null):r===4?n==="f32"?new U(new Float32Array(e),t.getTypeInfo("vec4f")):n==="i32"||n==="bool"?new U(new Int32Array(e),t.getTypeInfo("vec4i")):n==="u32"?new U(new Uint32Array(e),t.getTypeInfo("vec4u")):n==="f16"?new U(new Float32Array(e),t.getTypeInfo("vec4h")):(console.error(`getSubData: Unknown format ${n}`),null):(console.error(`getSubData: Invalid vector size ${e.length}`),null)}class U extends Ji{constructor(e,n,r=null){if(super(n,r),e instanceof Float32Array||e instanceof Uint32Array||e instanceof Int32Array)this.data=e;else{const i=this.typeInfo.name;i==="vec2f"||i==="vec3f"||i==="vec4f"?this.data=new Float32Array(e):i==="vec2i"||i==="vec3i"||i==="vec4i"?this.data=new Int32Array(e):i==="vec2u"||i==="vec3u"||i==="vec4u"?this.data=new Uint32Array(e):i==="vec2h"||i==="vec3h"||i==="vec4h"?this.data=new Float32Array(e):i==="vec2b"||i==="vec3b"||i==="vec4b"?this.data=new Int32Array(e):i==="vec2"||i==="vec3"||i==="vec4"?this.data=new Float32Array(e):console.error(`VectorData: Invalid type ${i}`)}}clone(){if(this.data instanceof Float32Array)return new U(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new U(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new U(new Uint32Array(this.data),this.typeInfo,null);throw"VectorData: Invalid data type"}setDataValue(e,n,r,i){r instanceof Bc?console.error("TODO: Set vector postfix"):n instanceof U?this.data=n.data:console.error("SetDataValue: Invalid value",n)}getSubData(e,n,r){if(n===null)return this;let i=e.getTypeInfo("f32");if(this.typeInfo instanceof Dc)i=this.typeInfo.format||i;else{const s=this.typeInfo.name;s==="vec2f"||s==="vec3f"||s==="vec4f"?i=e.getTypeInfo("f32"):s==="vec2i"||s==="vec3i"||s==="vec4i"?i=e.getTypeInfo("i32"):s==="vec2b"||s==="vec3b"||s==="vec4b"?i=e.getTypeInfo("bool"):s==="vec2u"||s==="vec3u"||s==="vec4u"?i=e.getTypeInfo("u32"):s==="vec2h"||s==="vec3h"||s==="vec4h"?i=e.getTypeInfo("f16"):console.error(`GetSubData: Unknown type ${s}`)}let a=this;for(;n!==null&&a!==null;){if(n instanceof Vf){const s=n.index;let o=-1;if(s instanceof Dn){if(!(s.value instanceof K))return console.error(`GetSubData: Invalid array index ${s.value}`),null;o=s.value.value}else{const c=e.evalExpression(s,r);if(!(c instanceof K))return console.error("GetSubData: Unknown index type",s),null;o=c.value}if(o<0||o>=a.data.length)return console.error("GetSubData: Index out of range",o),null;if(a.data instanceof Float32Array){const c=new Float32Array(a.data.buffer,a.data.byteOffset+4*o,1);return new K(c,i)}if(a.data instanceof Int32Array){const c=new Int32Array(a.data.buffer,a.data.byteOffset+4*o,1);return new K(c,i)}if(a.data instanceof Uint32Array){const c=new Uint32Array(a.data.buffer,a.data.byteOffset+4*o,1);return new K(c,i)}throw"GetSubData: Invalid data type"}if(!(n instanceof Bc))return console.error("GetSubData: Unknown postfix",n),null;{const s=n.value.toLowerCase();if(s.length===1){let c=0;if(s==="x"||s==="r")c=0;else if(s==="y"||s==="g")c=1;else if(s==="z"||s==="b")c=2;else{if(s!=="w"&&s!=="a")return console.error(`GetSubData: Unknown member ${s}`),null;c=3}if(this.data instanceof Float32Array){let f=new Float32Array(this.data.buffer,this.data.byteOffset+4*c,1);return new K(f,i,this)}if(this.data instanceof Int32Array){let f=new Int32Array(this.data.buffer,this.data.byteOffset+4*c,1);return new K(f,i,this)}if(this.data instanceof Uint32Array){let f=new Uint32Array(this.data.buffer,this.data.byteOffset+4*c,1);return new K(f,i,this)}}const o=[];for(const c of s)c==="x"||c==="r"?o.push(this.data[0]):c==="y"||c==="g"?o.push(this.data[1]):c==="z"||c==="b"?o.push(this.data[2]):c==="w"||c==="a"?o.push(this.data[3]):console.error(`GetDataValue: Unknown member ${c}`);a=oMe(e,o,i.name)}n=n.postfix}return a}toString(){let e=`${this.data[0]}`;for(let n=1;n<this.data.length;++n)e+=`, ${this.data[n]}`;return e}}class Be extends Ji{constructor(e,n,r=null){super(n,r),e instanceof Float32Array?this.data=e:this.data=new Float32Array(e)}clone(){return new Be(new Float32Array(this.data),this.typeInfo,null)}setDataValue(e,n,r,i){r instanceof Bc?console.error("TODO: Set matrix postfix"):n instanceof Be?this.data=n.data:console.error("SetDataValue: Invalid value",n)}getSubData(e,n,r){if(n===null)return this;const i=this.typeInfo.name;if(e.getTypeInfo("f32"),this.typeInfo instanceof Dc)this.typeInfo.format;else if(i.endsWith("f"))e.getTypeInfo("f32");else if(i.endsWith("i"))e.getTypeInfo("i32");else if(i.endsWith("u"))e.getTypeInfo("u32");else{if(!i.endsWith("h"))return console.error(`GetDataValue: Unknown type ${i}`),null;e.getTypeInfo("f16")}if(n instanceof Vf){const a=n.index;let s=-1;if(a instanceof Dn){if(!(a.value instanceof K))return console.error(`GetDataValue: Invalid array index ${a.value}`),null;s=a.value.value}else{const f=e.evalExpression(a,r);if(!(f instanceof K))return console.error("GetDataValue: Unknown index type",a),null;s=f.value}if(s<0||s>=this.data.length)return console.error("GetDataValue: Index out of range",s),null;const o=i.endsWith("h")?"h":"f";let c;if(i==="mat2x2"||i==="mat2x2f"||i==="mat2x2h"||i==="mat3x2"||i==="mat3x2f"||i==="mat3x2h"||i==="mat4x2"||i==="mat4x2f"||i==="mat4x2h")c=new U(new Float32Array(this.data.buffer,this.data.byteOffset+2*s*4,2),e.getTypeInfo(`vec2${o}`));else if(i==="mat2x3"||i==="mat2x3f"||i==="mat2x3h"||i==="mat3x3"||i==="mat3x3f"||i==="mat3x3h"||i==="mat4x3"||i==="mat4x3f"||i==="mat4x3h")c=new U(new Float32Array(this.data.buffer,this.data.byteOffset+3*s*4,3),e.getTypeInfo(`vec3${o}`));else{if(i!=="mat2x4"&&i!=="mat2x4f"&&i!=="mat2x4h"&&i!=="mat3x4"&&i!=="mat3x4f"&&i!=="mat3x4h"&&i!=="mat4x4"&&i!=="mat4x4f"&&i!=="mat4x4h")return console.error(`GetDataValue: Unknown type ${i}`),null;c=new U(new Float32Array(this.data.buffer,this.data.byteOffset+4*s*4,4),e.getTypeInfo(`vec4${o}`))}return n.postfix?c.getSubData(e,n.postfix,r):c}return console.error("GetDataValue: Invalid postfix",n),null}toString(){let e=`${this.data[0]}`;for(let n=1;n<this.data.length;++n)e+=`, ${this.data[n]}`;return e}}class hn extends Ji{constructor(e,n,r=0,i=null){super(n,i),this.buffer=e instanceof ArrayBuffer?e:e.buffer,this.offset=r}clone(){const e=new Uint8Array(new Uint8Array(this.buffer,this.offset,this.typeInfo.size));return new hn(e.buffer,this.typeInfo,0,null)}setDataValue(e,n,r,i){if(n===null)return void console.log("setDataValue: NULL data.");let a=this.offset,s=this.typeInfo;for(;r;){if(r instanceof Vf)if(s instanceof rl){const o=r.index;if(o instanceof Dn){if(!(o.value instanceof K))return void console.error(`SetDataValue: Invalid index type ${o.value}`);a+=o.value.value*s.stride}else{const c=e.evalExpression(o,i);if(!(c instanceof K))return void console.error("SetDataValue: Unknown index type",o);a+=c.value*s.stride}s=s.format}else console.error(`SetDataValue: Type ${s.getTypeName()} is not an array`);else{if(!(r instanceof Bc))return void console.error("SetDataValue: Unknown postfix type",r);{const o=r.value;if(s instanceof Qo){let c=!1;for(const f of s.members)if(f.name===o){a+=f.offset,s=f.type,c=!0;break}if(!c)return void console.error(`SetDataValue: Member ${o} not found`)}else if(s instanceof qi){const c=s.getTypeName();let f=0;if(o==="x"||o==="r")f=0;else if(o==="y"||o==="g")f=1;else if(o==="z"||o==="b")f=2;else{if(o!=="w"&&o!=="a")return void console.error(`SetDataValue: Unknown member ${o}`);f=3}if(!(n instanceof K))return void console.error("SetDataValue: Invalid value",n);const d=n.value;return c==="vec2f"?void(new Float32Array(this.buffer,a,2)[f]=d):c==="vec3f"?void(new Float32Array(this.buffer,a,3)[f]=d):c==="vec4f"?void(new Float32Array(this.buffer,a,4)[f]=d):c==="vec2i"?void(new Int32Array(this.buffer,a,2)[f]=d):c==="vec3i"?void(new Int32Array(this.buffer,a,3)[f]=d):c==="vec4i"?void(new Int32Array(this.buffer,a,4)[f]=d):c==="vec2u"?void(new Uint32Array(this.buffer,a,2)[f]=d):c==="vec3u"?void(new Uint32Array(this.buffer,a,3)[f]=d):c==="vec4u"?void(new Uint32Array(this.buffer,a,4)[f]=d):void console.error(`SetDataValue: Type ${c} is not a struct`)}}}r=r.postfix}this.setData(e,n,s,a,i)}setData(e,n,r,i,a){const s=r.getTypeName();if(s!=="f32"&&s!=="f16")if(s!=="i32"&&s!=="atomic<i32>"&&s!=="x32")if(s!=="u32"&&s!=="atomic<u32>")if(s!=="bool"){if(s==="vec2f"||s==="vec2h"){const o=new Float32Array(this.buffer,i,2);return void(n instanceof U?(o[0]=n.data[0],o[1]=n.data[1]):(o[0]=n[0],o[1]=n[1]))}if(s==="vec3f"||s==="vec3h"){const o=new Float32Array(this.buffer,i,3);return void(n instanceof U?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2]):(o[0]=n[0],o[1]=n[1],o[2]=n[2]))}if(s==="vec4f"||s==="vec4h"){const o=new Float32Array(this.buffer,i,4);return void(n instanceof U?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2],o[3]=n.data[3]):(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3]))}if(s==="vec2i"){const o=new Int32Array(this.buffer,i,2);return void(n instanceof U?(o[0]=n.data[0],o[1]=n.data[1]):(o[0]=n[0],o[1]=n[1]))}if(s==="vec3i"){const o=new Int32Array(this.buffer,i,3);return void(n instanceof U?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2]):(o[0]=n[0],o[1]=n[1],o[2]=n[2]))}if(s==="vec4i"){const o=new Int32Array(this.buffer,i,4);return void(n instanceof U?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2],o[3]=n.data[3]):(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3]))}if(s==="vec2u"){const o=new Uint32Array(this.buffer,i,2);return void(n instanceof U?(o[0]=n.data[0],o[1]=n.data[1]):(o[0]=n[0],o[1]=n[1]))}if(s==="vec3u"){const o=new Uint32Array(this.buffer,i,3);return void(n instanceof U?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2]):(o[0]=n[0],o[1]=n[1],o[2]=n[2]))}if(s==="vec4u"){const o=new Uint32Array(this.buffer,i,4);return void(n instanceof U?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2],o[3]=n.data[3]):(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3]))}if(s==="vec2b"){const o=new Uint32Array(this.buffer,i,2);return void(n instanceof U?(o[0]=n.data[0],o[1]=n.data[1]):(o[0]=n[0],o[1]=n[1]))}if(s==="vec3b"){const o=new Uint32Array(this.buffer,i,3);return void(n instanceof U?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2]):(o[0]=n[0],o[1]=n[1],o[2]=n[2]))}if(s==="vec4b"){const o=new Uint32Array(this.buffer,i,4);return void(n instanceof U?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2],o[3]=n.data[3]):(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3]))}if(s==="mat2x2f"||s==="mat2x2h"){const o=new Float32Array(this.buffer,i,4);return void(n instanceof Be?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2],o[3]=n.data[3]):(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3]))}if(s==="mat2x3f"||s==="mat2x3h"){const o=new Float32Array(this.buffer,i,6);return void(n instanceof Be?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2],o[3]=n.data[3],o[4]=n.data[4],o[5]=n.data[5]):(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5]))}if(s==="mat2x4f"||s==="mat2x4h"){const o=new Float32Array(this.buffer,i,8);return void(n instanceof Be?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2],o[3]=n.data[3],o[4]=n.data[4],o[5]=n.data[5],o[6]=n.data[6],o[7]=n.data[7]):(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7]))}if(s==="mat3x2f"||s==="mat3x2h"){const o=new Float32Array(this.buffer,i,6);return void(n instanceof Be?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2],o[3]=n.data[3],o[4]=n.data[4],o[5]=n.data[5]):(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5]))}if(s==="mat3x3f"||s==="mat3x3h"){const o=new Float32Array(this.buffer,i,9);return void(n instanceof Be?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2],o[3]=n.data[3],o[4]=n.data[4],o[5]=n.data[5],o[6]=n.data[6],o[7]=n.data[7],o[8]=n.data[8]):(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8]))}if(s==="mat3x4f"||s==="mat3x4h"){const o=new Float32Array(this.buffer,i,12);return void(n instanceof Be?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2],o[3]=n.data[3],o[4]=n.data[4],o[5]=n.data[5],o[6]=n.data[6],o[7]=n.data[7],o[8]=n.data[8],o[9]=n.data[9],o[10]=n.data[10],o[11]=n.data[11]):(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11]))}if(s==="mat4x2f"||s==="mat4x2h"){const o=new Float32Array(this.buffer,i,8);return void(n instanceof Be?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2],o[3]=n.data[3],o[4]=n.data[4],o[5]=n.data[5],o[6]=n.data[6],o[7]=n.data[7]):(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7]))}if(s==="mat4x3f"||s==="mat4x3h"){const o=new Float32Array(this.buffer,i,12);return void(n instanceof Be?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2],o[3]=n.data[3],o[4]=n.data[4],o[5]=n.data[5],o[6]=n.data[6],o[7]=n.data[7],o[8]=n.data[8],o[9]=n.data[9],o[10]=n.data[10],o[11]=n.data[11]):(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11]))}if(s==="mat4x4f"||s==="mat4x4h"){const o=new Float32Array(this.buffer,i,16);return void(n instanceof Be?(o[0]=n.data[0],o[1]=n.data[1],o[2]=n.data[2],o[3]=n.data[3],o[4]=n.data[4],o[5]=n.data[5],o[6]=n.data[6],o[7]=n.data[7],o[8]=n.data[8],o[9]=n.data[9],o[10]=n.data[10],o[11]=n.data[11],o[12]=n.data[12],o[13]=n.data[13],o[14]=n.data[14],o[15]=n.data[15]):(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15]))}if(n instanceof hn){if(r===n.typeInfo)return void new Uint8Array(this.buffer,i,n.buffer.byteLength).set(new Uint8Array(n.buffer));console.error("SetDataValue: Type mismatch",s,n.typeInfo.getTypeName())}else console.error(`SetData: Unknown type ${s}`)}else n instanceof K&&(new Int32Array(this.buffer,i,1)[0]=n.value);else n instanceof K&&(new Uint32Array(this.buffer,i,1)[0]=n.value);else n instanceof K&&(new Int32Array(this.buffer,i,1)[0]=n.value);else n instanceof K&&(new Float32Array(this.buffer,i,1)[0]=n.value)}getSubData(e,n,r){var i,a,s;if(n===null)return this;let o=this.offset,c=this.typeInfo;for(;n;){if(n instanceof Vf){const d=n.index,p=d instanceof Ra?e.evalExpression(d,r):d;let m=0;if(p instanceof K?m=p.value:typeof p=="number"?m=p:console.error("GetDataValue: Invalid index type",d),c instanceof rl)o+=m*c.stride,c=c.format;else{const y=c.getTypeName();y==="mat4x4"||y==="mat4x4f"||y==="mat4x4h"?(o+=16*m,c=e.getTypeInfo("vec4f")):console.error(`getDataValue: Type ${c.getTypeName()} is not an array`)}}else{if(!(n instanceof Bc))return console.error("GetDataValue: Unknown postfix type",n),null;{const d=n.value;if(c instanceof Qo){let p=!1;for(const m of c.members)if(m.name===d){o+=m.offset,c=m.type,p=!0;break}if(!p)return console.error(`GetDataValue: Member ${d} not found`),null}else if(c instanceof qi){const p=c.getTypeName();if(p==="vec2f"||p==="vec3f"||p==="vec4f"||p==="vec2i"||p==="vec3i"||p==="vec4i"||p==="vec2u"||p==="vec3u"||p==="vec4u"||p==="vec2b"||p==="vec3b"||p==="vec4b"||p==="vec2h"||p==="vec3h"||p==="vec4h"||p==="vec2"||p==="vec3"||p==="vec4"){if(d.length>0&&d.length<5){let m="f";const y=[];for(let v=0;v<d.length;++v){const b=d[v].toLowerCase();let w=0;if(b==="x"||b==="r")w=0;else if(b==="y"||b==="g")w=1;else if(b==="z"||b==="b")w=2;else{if(b!=="w"&&b!=="a")return console.error(`Unknown member ${d}`),null;w=3}if(d.length===1){if(p.endsWith("f"))return this.buffer.byteLength<o+4*w+4?(console.log("Insufficient buffer data"),null):new K(new Float32Array(this.buffer,o+4*w,1),e.getTypeInfo("f32"),this);if(p.endsWith("h"))return new K(new Float32Array(this.buffer,o+4*w,1),e.getTypeInfo("f16"),this);if(p.endsWith("i"))return new K(new Int32Array(this.buffer,o+4*w,1),e.getTypeInfo("i32"),this);if(p.endsWith("b"))return new K(new Int32Array(this.buffer,o+4*w,1),e.getTypeInfo("bool"),this);if(p.endsWith("u"))return new K(new Uint32Array(this.buffer,o+4*w,1),e.getTypeInfo("i32"),this)}if(p==="vec2f")y.push(new Float32Array(this.buffer,o,2)[w]);else if(p==="vec3f"){if(o+12>=this.buffer.byteLength)return console.log("Insufficient buffer data"),null;const T=new Float32Array(this.buffer,o,3);y.push(T[w])}else if(p==="vec4f")y.push(new Float32Array(this.buffer,o,4)[w]);else if(p==="vec2i")m="i",y.push(new Int32Array(this.buffer,o,2)[w]);else if(p==="vec3i")m="i",y.push(new Int32Array(this.buffer,o,3)[w]);else if(p==="vec4i")m="i",y.push(new Int32Array(this.buffer,o,4)[w]);else if(p==="vec2u"){m="u";const T=new Uint32Array(this.buffer,o,2);y.push(T[w])}else p==="vec3u"?(m="u",y.push(new Uint32Array(this.buffer,o,3)[w])):p==="vec4u"&&(m="u",y.push(new Uint32Array(this.buffer,o,4)[w]))}return y.length===2?c=e.getTypeInfo(`vec2${m}`):y.length===3?c=e.getTypeInfo(`vec3${m}`):y.length===4?c=e.getTypeInfo(`vec4${m}`):console.error(`GetDataValue: Invalid vector length ${y.length}`),new U(y,c,null)}return console.error(`GetDataValue: Unknown member ${d}`),null}return console.error(`GetDataValue: Type ${p} is not a struct`),null}}}n=n.postfix}const f=c.getTypeName();return f==="f32"?new K(new Float32Array(this.buffer,o,1),c,this):f==="i32"?new K(new Int32Array(this.buffer,o,1),c,this):f==="u32"?new K(new Uint32Array(this.buffer,o,1),c,this):f==="vec2f"?new U(new Float32Array(this.buffer,o,2),c,this):f==="vec3f"?new U(new Float32Array(this.buffer,o,3),c,this):f==="vec4f"?new U(new Float32Array(this.buffer,o,4),c,this):f==="vec2i"?new U(new Int32Array(this.buffer,o,2),c,this):f==="vec3i"?new U(new Int32Array(this.buffer,o,3),c,this):f==="vec4i"?new U(new Int32Array(this.buffer,o,4),c,this):f==="vec2u"?new U(new Uint32Array(this.buffer,o,2),c,this):f==="vec3u"?new U(new Uint32Array(this.buffer,o,3),c,this):f==="vec4u"?new U(new Uint32Array(this.buffer,o,4),c,this):c instanceof Dc&&c.name==="atomic"?((i=c.format)===null||i===void 0?void 0:i.name)==="u32"?new K(new Uint32Array(this.buffer,o,1)[0],c.format,this):((a=c.format)===null||a===void 0?void 0:a.name)==="i32"?new K(new Int32Array(this.buffer,o,1)[0],c.format,this):(console.error(`GetDataValue: Invalid atomic format ${(s=c.format)===null||s===void 0?void 0:s.name}`),null):new hn(this.buffer,c,o,this)}toString(){let e="";if(this.typeInfo instanceof rl)if(this.typeInfo.format.name==="f32"){const n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="i32"){const n=new Int32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="u32"){const n=new Uint32Array(this.buffer,this.offset);e=`[${n[0]}`;for(let r=1;r<n.length;++r)e+=`, ${n[r]}`}else if(this.typeInfo.format.name==="vec2f"){const n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}]`;for(let r=1;r<n.length/2;++r)e+=`, [${n[2*r]}, ${n[2*r+1]}]`}else if(this.typeInfo.format.name==="vec3f"){const n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}, ${n[2]}]`;for(let r=4;r<n.length;r+=4)e+=`, [${n[r]}, ${n[r+1]}, ${n[r+2]}]`}else if(this.typeInfo.format.name==="vec4f"){const n=new Float32Array(this.buffer,this.offset);e=`[${n[0]}, ${n[1]}, ${n[2]}, ${n[3]}]`;for(let r=4;r<n.length;r+=4)e+=`, [${n[r]}, ${n[r+1]}, ${n[r+2]}, ${n[r+3]}]`}else e="[...]";else this.typeInfo instanceof Qo?e+="{...}":e="[...]";return e}}class js extends Ji{constructor(e,n,r,i){super(n,null),this.data=e,this.descriptor=r,this.view=i}clone(){return new js(this.data,this.typeInfo,this.descriptor,this.view)}get width(){var e,n;const r=this.descriptor.size;return r instanceof Array&&r.length>0?(e=r[0])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.width)!==null&&n!==void 0?n:0}get height(){var e,n;const r=this.descriptor.size;return r instanceof Array&&r.length>1?(e=r[1])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.height)!==null&&n!==void 0?n:0}get depthOrArrayLayers(){var e,n;const r=this.descriptor.size;return r instanceof Array&&r.length>2?(e=r[2])!==null&&e!==void 0?e:0:r instanceof Object&&(n=r.depthOrArrayLayers)!==null&&n!==void 0?n:0}get format(){var e;return this.descriptor&&(e=this.descriptor.format)!==null&&e!==void 0?e:"rgba8unorm"}get sampleCount(){var e;return this.descriptor&&(e=this.descriptor.sampleCount)!==null&&e!==void 0?e:1}get mipLevelCount(){var e;return this.descriptor&&(e=this.descriptor.mipLevelCount)!==null&&e!==void 0?e:1}get dimension(){var e;return this.descriptor&&(e=this.descriptor.dimension)!==null&&e!==void 0?e:"2d"}getMipLevelSize(e){if(e>=this.mipLevelCount)return[0,0,0];const n=[this.width,this.height,this.depthOrArrayLayers];for(let r=0;r<n.length;++r)n[r]=Math.max(1,n[r]>>e);return n}get texelByteSize(){const e=this.format,n=YT[e];return n?n.isDepthStencil?4:n.bytesPerBlock:0}get bytesPerRow(){return this.width*this.texelByteSize}get isDepthStencil(){const e=this.format,n=YT[e];return!!n&&n.isDepthStencil}getGpuSize(){const e=this.format,n=YT[e],r=this.width;if(!e||r<=0||!n)return-1;const i=this.height,a=this.depthOrArrayLayers,s=this.dimension;return r/n.blockWidth*(s==="1d"?1:i/n.blockHeight)*n.bytesPerBlock*a}getPixel(e,n,r=0,i=0){const a=this.texelByteSize,s=this.bytesPerRow,o=this.height,c=this.data[i];return tMe(new Uint8Array(c),e,n,r,i,o,s,a,this.format)}setPixel(e,n,r,i,a){const s=this.texelByteSize,o=this.bytesPerRow,c=this.height,f=this.data[i];(function(d,p,m,y,v,b,w,T,C,A){const R=y*(w>>=v)*(b>>=v)+m*w+p*T;switch(C){case"r8unorm":return void dt(d,R,"8unorm",1,A);case"r8snorm":return void dt(d,R,"8snorm",1,A);case"r8uint":return void dt(d,R,"8uint",1,A);case"r8sint":return void dt(d,R,"8sint",1,A);case"rg8unorm":return void dt(d,R,"8unorm",2,A);case"rg8snorm":return void dt(d,R,"8snorm",2,A);case"rg8uint":return void dt(d,R,"8uint",2,A);case"rg8sint":return void dt(d,R,"8sint",2,A);case"rgba8unorm-srgb":case"rgba8unorm":case"bgra8unorm-srgb":case"bgra8unorm":return void dt(d,R,"8unorm",4,A);case"rgba8snorm":return void dt(d,R,"8snorm",4,A);case"rgba8uint":return void dt(d,R,"8uint",4,A);case"rgba8sint":return void dt(d,R,"8sint",4,A);case"r16uint":return void dt(d,R,"16uint",1,A);case"r16sint":return void dt(d,R,"16sint",1,A);case"r16float":return void dt(d,R,"16float",1,A);case"rg16uint":return void dt(d,R,"16uint",2,A);case"rg16sint":return void dt(d,R,"16sint",2,A);case"rg16float":return void dt(d,R,"16float",2,A);case"rgba16uint":return void dt(d,R,"16uint",4,A);case"rgba16sint":return void dt(d,R,"16sint",4,A);case"rgba16float":return void dt(d,R,"16float",4,A);case"r32uint":return void dt(d,R,"32uint",1,A);case"r32sint":return void dt(d,R,"32sint",1,A);case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return void dt(d,R,"32float",1,A);case"rg32uint":return void dt(d,R,"32uint",2,A);case"rg32sint":return void dt(d,R,"32sint",2,A);case"rg32float":return void dt(d,R,"32float",2,A);case"rgba32uint":return void dt(d,R,"32uint",4,A);case"rgba32sint":return void dt(d,R,"32sint",4,A);case"rgba32float":return void dt(d,R,"32float",4,A);case"rg11b10ufloat":console.error("TODO: rg11b10ufloat not supported for writing")}})(new Uint8Array(f),e,n,r,i,c,o,s,this.format,a)}}(t=>{t[t.token=0]="token",t[t.keyword=1]="keyword",t[t.reserved=2]="reserved"})(Y||(Y={}));class G{constructor(e,n,r){this.name=e,this.type=n,this.rule=r}toString(){return this.name}}class B{}te=B,B.none=new G("",Y.reserved,""),B.eof=new G("EOF",Y.token,""),B.reserved={asm:new G("asm",Y.reserved,"asm"),bf16:new G("bf16",Y.reserved,"bf16"),do:new G("do",Y.reserved,"do"),enum:new G("enum",Y.reserved,"enum"),f16:new G("f16",Y.reserved,"f16"),f64:new G("f64",Y.reserved,"f64"),handle:new G("handle",Y.reserved,"handle"),i8:new G("i8",Y.reserved,"i8"),i16:new G("i16",Y.reserved,"i16"),i64:new G("i64",Y.reserved,"i64"),mat:new G("mat",Y.reserved,"mat"),premerge:new G("premerge",Y.reserved,"premerge"),regardless:new G("regardless",Y.reserved,"regardless"),typedef:new G("typedef",Y.reserved,"typedef"),u8:new G("u8",Y.reserved,"u8"),u16:new G("u16",Y.reserved,"u16"),u64:new G("u64",Y.reserved,"u64"),unless:new G("unless",Y.reserved,"unless"),using:new G("using",Y.reserved,"using"),vec:new G("vec",Y.reserved,"vec"),void:new G("void",Y.reserved,"void")},B.keywords={array:new G("array",Y.keyword,"array"),atomic:new G("atomic",Y.keyword,"atomic"),bool:new G("bool",Y.keyword,"bool"),f32:new G("f32",Y.keyword,"f32"),i32:new G("i32",Y.keyword,"i32"),mat2x2:new G("mat2x2",Y.keyword,"mat2x2"),mat2x3:new G("mat2x3",Y.keyword,"mat2x3"),mat2x4:new G("mat2x4",Y.keyword,"mat2x4"),mat3x2:new G("mat3x2",Y.keyword,"mat3x2"),mat3x3:new G("mat3x3",Y.keyword,"mat3x3"),mat3x4:new G("mat3x4",Y.keyword,"mat3x4"),mat4x2:new G("mat4x2",Y.keyword,"mat4x2"),mat4x3:new G("mat4x3",Y.keyword,"mat4x3"),mat4x4:new G("mat4x4",Y.keyword,"mat4x4"),ptr:new G("ptr",Y.keyword,"ptr"),sampler:new G("sampler",Y.keyword,"sampler"),sampler_comparison:new G("sampler_comparison",Y.keyword,"sampler_comparison"),struct:new G("struct",Y.keyword,"struct"),texture_1d:new G("texture_1d",Y.keyword,"texture_1d"),texture_2d:new G("texture_2d",Y.keyword,"texture_2d"),texture_2d_array:new G("texture_2d_array",Y.keyword,"texture_2d_array"),texture_3d:new G("texture_3d",Y.keyword,"texture_3d"),texture_cube:new G("texture_cube",Y.keyword,"texture_cube"),texture_cube_array:new G("texture_cube_array",Y.keyword,"texture_cube_array"),texture_multisampled_2d:new G("texture_multisampled_2d",Y.keyword,"texture_multisampled_2d"),texture_storage_1d:new G("texture_storage_1d",Y.keyword,"texture_storage_1d"),texture_storage_2d:new G("texture_storage_2d",Y.keyword,"texture_storage_2d"),texture_storage_2d_array:new G("texture_storage_2d_array",Y.keyword,"texture_storage_2d_array"),texture_storage_3d:new G("texture_storage_3d",Y.keyword,"texture_storage_3d"),texture_depth_2d:new G("texture_depth_2d",Y.keyword,"texture_depth_2d"),texture_depth_2d_array:new G("texture_depth_2d_array",Y.keyword,"texture_depth_2d_array"),texture_depth_cube:new G("texture_depth_cube",Y.keyword,"texture_depth_cube"),texture_depth_cube_array:new G("texture_depth_cube_array",Y.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new G("texture_depth_multisampled_2d",Y.keyword,"texture_depth_multisampled_2d"),texture_external:new G("texture_external",Y.keyword,"texture_external"),u32:new G("u32",Y.keyword,"u32"),vec2:new G("vec2",Y.keyword,"vec2"),vec3:new G("vec3",Y.keyword,"vec3"),vec4:new G("vec4",Y.keyword,"vec4"),bitcast:new G("bitcast",Y.keyword,"bitcast"),block:new G("block",Y.keyword,"block"),break:new G("break",Y.keyword,"break"),case:new G("case",Y.keyword,"case"),continue:new G("continue",Y.keyword,"continue"),continuing:new G("continuing",Y.keyword,"continuing"),default:new G("default",Y.keyword,"default"),diagnostic:new G("diagnostic",Y.keyword,"diagnostic"),discard:new G("discard",Y.keyword,"discard"),else:new G("else",Y.keyword,"else"),enable:new G("enable",Y.keyword,"enable"),fallthrough:new G("fallthrough",Y.keyword,"fallthrough"),false:new G("false",Y.keyword,"false"),fn:new G("fn",Y.keyword,"fn"),for:new G("for",Y.keyword,"for"),function:new G("function",Y.keyword,"function"),if:new G("if",Y.keyword,"if"),let:new G("let",Y.keyword,"let"),const:new G("const",Y.keyword,"const"),loop:new G("loop",Y.keyword,"loop"),while:new G("while",Y.keyword,"while"),private:new G("private",Y.keyword,"private"),read:new G("read",Y.keyword,"read"),read_write:new G("read_write",Y.keyword,"read_write"),return:new G("return",Y.keyword,"return"),requires:new G("requires",Y.keyword,"requires"),storage:new G("storage",Y.keyword,"storage"),switch:new G("switch",Y.keyword,"switch"),true:new G("true",Y.keyword,"true"),alias:new G("alias",Y.keyword,"alias"),type:new G("type",Y.keyword,"type"),uniform:new G("uniform",Y.keyword,"uniform"),var:new G("var",Y.keyword,"var"),override:new G("override",Y.keyword,"override"),workgroup:new G("workgroup",Y.keyword,"workgroup"),write:new G("write",Y.keyword,"write"),r8unorm:new G("r8unorm",Y.keyword,"r8unorm"),r8snorm:new G("r8snorm",Y.keyword,"r8snorm"),r8uint:new G("r8uint",Y.keyword,"r8uint"),r8sint:new G("r8sint",Y.keyword,"r8sint"),r16uint:new G("r16uint",Y.keyword,"r16uint"),r16sint:new G("r16sint",Y.keyword,"r16sint"),r16float:new G("r16float",Y.keyword,"r16float"),rg8unorm:new G("rg8unorm",Y.keyword,"rg8unorm"),rg8snorm:new G("rg8snorm",Y.keyword,"rg8snorm"),rg8uint:new G("rg8uint",Y.keyword,"rg8uint"),rg8sint:new G("rg8sint",Y.keyword,"rg8sint"),r32uint:new G("r32uint",Y.keyword,"r32uint"),r32sint:new G("r32sint",Y.keyword,"r32sint"),r32float:new G("r32float",Y.keyword,"r32float"),rg16uint:new G("rg16uint",Y.keyword,"rg16uint"),rg16sint:new G("rg16sint",Y.keyword,"rg16sint"),rg16float:new G("rg16float",Y.keyword,"rg16float"),rgba8unorm:new G("rgba8unorm",Y.keyword,"rgba8unorm"),rgba8unorm_srgb:new G("rgba8unorm_srgb",Y.keyword,"rgba8unorm_srgb"),rgba8snorm:new G("rgba8snorm",Y.keyword,"rgba8snorm"),rgba8uint:new G("rgba8uint",Y.keyword,"rgba8uint"),rgba8sint:new G("rgba8sint",Y.keyword,"rgba8sint"),bgra8unorm:new G("bgra8unorm",Y.keyword,"bgra8unorm"),bgra8unorm_srgb:new G("bgra8unorm_srgb",Y.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new G("rgb10a2unorm",Y.keyword,"rgb10a2unorm"),rg11b10float:new G("rg11b10float",Y.keyword,"rg11b10float"),rg32uint:new G("rg32uint",Y.keyword,"rg32uint"),rg32sint:new G("rg32sint",Y.keyword,"rg32sint"),rg32float:new G("rg32float",Y.keyword,"rg32float"),rgba16uint:new G("rgba16uint",Y.keyword,"rgba16uint"),rgba16sint:new G("rgba16sint",Y.keyword,"rgba16sint"),rgba16float:new G("rgba16float",Y.keyword,"rgba16float"),rgba32uint:new G("rgba32uint",Y.keyword,"rgba32uint"),rgba32sint:new G("rgba32sint",Y.keyword,"rgba32sint"),rgba32float:new G("rgba32float",Y.keyword,"rgba32float"),static_assert:new G("static_assert",Y.keyword,"static_assert")},B.tokens={decimal_float_literal:new G("decimal_float_literal",Y.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?[fh]?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+[fh]?)|(-?[0-9]+[fh])/),hex_float_literal:new G("hex_float_literal",Y.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+[fh]?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+[fh]?))/),int_literal:new G("int_literal",Y.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new G("uint_literal",Y.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),name:new G("name",Y.token,/([_\p{XID_Start}][\p{XID_Continue}]+)|([\p{XID_Start}])/u),ident:new G("ident",Y.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new G("and",Y.token,"&"),and_and:new G("and_and",Y.token,"&&"),arrow:new G("arrow ",Y.token,"->"),attr:new G("attr",Y.token,"@"),forward_slash:new G("forward_slash",Y.token,"/"),bang:new G("bang",Y.token,"!"),bracket_left:new G("bracket_left",Y.token,"["),bracket_right:new G("bracket_right",Y.token,"]"),brace_left:new G("brace_left",Y.token,"{"),brace_right:new G("brace_right",Y.token,"}"),colon:new G("colon",Y.token,":"),comma:new G("comma",Y.token,","),equal:new G("equal",Y.token,"="),equal_equal:new G("equal_equal",Y.token,"=="),not_equal:new G("not_equal",Y.token,"!="),greater_than:new G("greater_than",Y.token,">"),greater_than_equal:new G("greater_than_equal",Y.token,">="),shift_right:new G("shift_right",Y.token,">>"),less_than:new G("less_than",Y.token,"<"),less_than_equal:new G("less_than_equal",Y.token,"<="),shift_left:new G("shift_left",Y.token,"<<"),modulo:new G("modulo",Y.token,"%"),minus:new G("minus",Y.token,"-"),minus_minus:new G("minus_minus",Y.token,"--"),period:new G("period",Y.token,"."),plus:new G("plus",Y.token,"+"),plus_plus:new G("plus_plus",Y.token,"++"),or:new G("or",Y.token,"|"),or_or:new G("or_or",Y.token,"||"),paren_left:new G("paren_left",Y.token,"("),paren_right:new G("paren_right",Y.token,")"),semicolon:new G("semicolon",Y.token,";"),star:new G("star",Y.token,"*"),tilde:new G("tilde",Y.token,"~"),underscore:new G("underscore",Y.token,"_"),xor:new G("xor",Y.token,"^"),plus_equal:new G("plus_equal",Y.token,"+="),minus_equal:new G("minus_equal",Y.token,"-="),times_equal:new G("times_equal",Y.token,"*="),division_equal:new G("division_equal",Y.token,"/="),modulo_equal:new G("modulo_equal",Y.token,"%="),and_equal:new G("and_equal",Y.token,"&="),or_equal:new G("or_equal",Y.token,"|="),xor_equal:new G("xor_equal",Y.token,"^="),shift_right_equal:new G("shift_right_equal",Y.token,">>="),shift_left_equal:new G("shift_left_equal",Y.token,"<<=")},B.simpleTokens={"@":te.tokens.attr,"{":te.tokens.brace_left,"}":te.tokens.brace_right,":":te.tokens.colon,",":te.tokens.comma,"(":te.tokens.paren_left,")":te.tokens.paren_right,";":te.tokens.semicolon},B.literalTokens={"&":te.tokens.and,"&&":te.tokens.and_and,"->":te.tokens.arrow,"/":te.tokens.forward_slash,"!":te.tokens.bang,"[":te.tokens.bracket_left,"]":te.tokens.bracket_right,"=":te.tokens.equal,"==":te.tokens.equal_equal,"!=":te.tokens.not_equal,">":te.tokens.greater_than,">=":te.tokens.greater_than_equal,">>":te.tokens.shift_right,"<":te.tokens.less_than,"<=":te.tokens.less_than_equal,"<<":te.tokens.shift_left,"%":te.tokens.modulo,"-":te.tokens.minus,"--":te.tokens.minus_minus,".":te.tokens.period,"+":te.tokens.plus,"++":te.tokens.plus_plus,"|":te.tokens.or,"||":te.tokens.or_or,"*":te.tokens.star,"~":te.tokens.tilde,_:te.tokens.underscore,"^":te.tokens.xor,"+=":te.tokens.plus_equal,"-=":te.tokens.minus_equal,"*=":te.tokens.times_equal,"/=":te.tokens.division_equal,"%=":te.tokens.modulo_equal,"&=":te.tokens.and_equal,"|=":te.tokens.or_equal,"^=":te.tokens.xor_equal,">>=":te.tokens.shift_right_equal,"<<=":te.tokens.shift_left_equal},B.regexTokens={decimal_float_literal:te.tokens.decimal_float_literal,hex_float_literal:te.tokens.hex_float_literal,int_literal:te.tokens.int_literal,uint_literal:te.tokens.uint_literal,ident:te.tokens.ident},B.storage_class=[te.keywords.function,te.keywords.private,te.keywords.workgroup,te.keywords.uniform,te.keywords.storage],B.access_mode=[te.keywords.read,te.keywords.write,te.keywords.read_write],B.sampler_type=[te.keywords.sampler,te.keywords.sampler_comparison],B.sampled_texture_type=[te.keywords.texture_1d,te.keywords.texture_2d,te.keywords.texture_2d_array,te.keywords.texture_3d,te.keywords.texture_cube,te.keywords.texture_cube_array],B.multisampled_texture_type=[te.keywords.texture_multisampled_2d],B.storage_texture_type=[te.keywords.texture_storage_1d,te.keywords.texture_storage_2d,te.keywords.texture_storage_2d_array,te.keywords.texture_storage_3d],B.depth_texture_type=[te.keywords.texture_depth_2d,te.keywords.texture_depth_2d_array,te.keywords.texture_depth_cube,te.keywords.texture_depth_cube_array,te.keywords.texture_depth_multisampled_2d],B.texture_external_type=[te.keywords.texture_external],B.any_texture_type=[...te.sampled_texture_type,...te.multisampled_texture_type,...te.storage_texture_type,...te.depth_texture_type,...te.texture_external_type],B.texel_format=[te.keywords.r8unorm,te.keywords.r8snorm,te.keywords.r8uint,te.keywords.r8sint,te.keywords.r16uint,te.keywords.r16sint,te.keywords.r16float,te.keywords.rg8unorm,te.keywords.rg8snorm,te.keywords.rg8uint,te.keywords.rg8sint,te.keywords.r32uint,te.keywords.r32sint,te.keywords.r32float,te.keywords.rg16uint,te.keywords.rg16sint,te.keywords.rg16float,te.keywords.rgba8unorm,te.keywords.rgba8unorm_srgb,te.keywords.rgba8snorm,te.keywords.rgba8uint,te.keywords.rgba8sint,te.keywords.bgra8unorm,te.keywords.bgra8unorm_srgb,te.keywords.rgb10a2unorm,te.keywords.rg11b10float,te.keywords.rg32uint,te.keywords.rg32sint,te.keywords.rg32float,te.keywords.rgba16uint,te.keywords.rgba16sint,te.keywords.rgba16float,te.keywords.rgba32uint,te.keywords.rgba32sint,te.keywords.rgba32float],B.const_literal=[te.tokens.int_literal,te.tokens.uint_literal,te.tokens.decimal_float_literal,te.tokens.hex_float_literal,te.keywords.true,te.keywords.false],B.literal_or_ident=[te.tokens.ident,te.tokens.int_literal,te.tokens.uint_literal,te.tokens.decimal_float_literal,te.tokens.hex_float_literal,te.tokens.name],B.element_count_expression=[te.tokens.int_literal,te.tokens.uint_literal,te.tokens.ident],B.template_types=[te.keywords.vec2,te.keywords.vec3,te.keywords.vec4,te.keywords.mat2x2,te.keywords.mat2x3,te.keywords.mat2x4,te.keywords.mat3x2,te.keywords.mat3x3,te.keywords.mat3x4,te.keywords.mat4x2,te.keywords.mat4x3,te.keywords.mat4x4,te.keywords.atomic,te.keywords.bitcast,...te.any_texture_type],B.attribute_name=[te.tokens.ident,te.keywords.block,te.keywords.diagnostic],B.assignment_operators=[te.tokens.equal,te.tokens.plus_equal,te.tokens.minus_equal,te.tokens.times_equal,te.tokens.division_equal,te.tokens.modulo_equal,te.tokens.and_equal,te.tokens.or_equal,te.tokens.xor_equal,te.tokens.shift_right_equal,te.tokens.shift_left_equal],B.increment_operators=[te.tokens.plus_plus,te.tokens.minus_minus];class qj{constructor(e,n,r,i,a){this.type=e,this.lexeme=n,this.line=r,this.start=i,this.end=a}toString(){return this.lexeme}isTemplateType(){return B.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==B.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class lMe{constructor(e){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=e??""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new qj(B.eof,"",this._line,this._current,this._current)),this._tokens}scanToken(){let e=this._advance();if(e==`
`)return this._line++,!0;if(this._isWhitespace(e))return!0;if(e=="/"){if(this._peekAhead()=="/"){for(;e!=`
`;){if(this._isAtEnd())return!0;e=this._advance()}return this._line++,!0}if(this._peekAhead()=="*"){this._advance();let s=1;for(;s>0;){if(this._isAtEnd())return!0;if(e=this._advance(),e==`
`)this._line++;else if(e=="*"){if(this._peekAhead()=="/"&&(this._advance(),s--,s==0))return!0}else e=="/"&&this._peekAhead()=="*"&&(this._advance(),s++)}return!0}}const n=B.simpleTokens[e];if(n)return this._addToken(n),!0;let r=B.none;const i=this._isAlpha(e),a=e==="_";if(this._isAlphaNumeric(e)){let s=this._peekAhead();for(;this._isAlphaNumeric(s);)e+=this._advance(),s=this._peekAhead()}if(i){const s=B.keywords[e];if(s)return this._addToken(s),!0}if(i||a)return this._addToken(B.tokens.ident),!0;for(;;){let s=this._findType(e);const o=this._peekAhead();if(e=="-"&&this._tokens.length>0){if(o=="=")return this._current++,e+=o,this._addToken(B.tokens.minus_equal),!0;if(o=="-")return this._current++,e+=o,this._addToken(B.tokens.minus_minus),!0;const c=this._tokens.length-1;if((B.literal_or_ident.indexOf(this._tokens[c].type)!=-1||this._tokens[c].type==B.tokens.paren_right)&&o!=">")return this._addToken(s),!0}if(e==">"&&(o==">"||o=="=")){let c=!1,f=this._tokens.length-1;for(let d=0;d<5&&f>=0&&B.assignment_operators.indexOf(this._tokens[f].type)===-1;++d,--f)if(this._tokens[f].type===B.tokens.less_than){f>0&&this._tokens[f-1].isArrayOrTemplateType()&&(c=!0);break}if(c)return this._addToken(s),!0}if(s===B.none){let c=e,f=0;const d=2;for(let p=0;p<d;++p)if(c+=this._peekAhead(p),s=this._findType(c),s!==B.none){f=p;break}if(s===B.none)return r!==B.none&&(this._current--,this._addToken(r),!0);e=c,this._current+=f+1}if(r=s,this._isAtEnd())break;e+=this._advance()}return r!==B.none&&(this._addToken(r),!0)}_findType(e){for(const r in B.regexTokens){const i=B.regexTokens[r];if(this._match(e,i.rule))return i}return B.literalTokens[e]||B.none}_match(e,n){const r=n.exec(e);return r&&r.index==0&&r[0]==e}_isAtEnd(){return this._current>=this._source.length}_isAlpha(e){return!this._isNumeric(e)&&!this._isWhitespace(e)&&e!=="_"&&e!=="."&&e!=="("&&e!==")"&&e!=="["&&e!=="]"&&e!=="{"&&e!=="}"&&e!==","&&e!==";"&&e!==":"&&e!=="="&&e!=="!"&&e!=="<"&&e!==">"&&e!=="+"&&e!=="-"&&e!=="*"&&e!=="/"&&e!=="%"&&e!=="&"&&e!=="|"&&e!=="^"&&e!=="~"&&e!=="@"&&e!=="#"&&e!=="?"&&e!=="'"&&e!=="`"&&e!=='"'&&e!=="\\"&&e!==`
`&&e!=="\r"&&e!=="	"&&e!=="\0"}_isNumeric(e){return e>="0"&&e<="9"}_isAlphaNumeric(e){return this._isAlpha(e)||this._isNumeric(e)||e==="_"}_isWhitespace(e){return e==" "||e=="	"||e=="\r"}_advance(e=0){let n=this._source[this._current];return e=e||0,e++,this._current+=e,n}_peekAhead(e=0){return e=e||0,this._current+e>=this._source.length?"\0":this._source[this._current+e]}_addToken(e){const n=this._source.substring(this._start,this._current);this._tokens.push(new qj(e,n,this._line,this._start,this._current))}}function Se(t){return Array.isArray(t)||t?.buffer instanceof ArrayBuffer}const ib=new Float32Array(1),cMe=new Uint32Array(ib.buffer),uMe=new Uint32Array(ib.buffer),ab=new Int32Array(1),fMe=new Float32Array(ab.buffer),dMe=new Uint32Array(ab.buffer),sb=new Uint32Array(1),hMe=new Float32Array(sb.buffer),pMe=new Int32Array(sb.buffer);function Xj(t,e,n){if(e===n)return t;if(e==="f32"){if(n==="i32"||n==="x32")return ib[0]=t,cMe[0];if(n==="u32")return ib[0]=t,uMe[0]}else if(e==="i32"||e==="x32"){if(n==="f32")return ab[0]=t,fMe[0];if(n==="u32")return ab[0]=t,dMe[0]}else if(e==="u32"){if(n==="f32")return sb[0]=t,hMe[0];if(n==="i32"||n==="x32")return sb[0]=t,pMe[0]}return console.error(`Unsupported cast from ${e} to ${n}`),t}class gMe{constructor(e){this.resources=null,this.inUse=!1,this.info=null,this.node=e}}class Xy{constructor(e,n){this.align=e,this.size=n}}class Ya{constructor(){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new ZOe,this.functions=[],this._types=new Map,this._functions=new Map}_isStorageTexture(e){return e.name=="texture_storage_1d"||e.name=="texture_storage_2d"||e.name=="texture_storage_2d_array"||e.name=="texture_storage_3d"}updateAST(e){for(const n of e)n instanceof Kp&&this._functions.set(n.name,new gMe(n));for(const n of e)if(n instanceof Ls){const r=this.getTypeInfo(n,null);r instanceof Qo&&this.structs.push(r)}for(const n of e)if(n instanceof ER)this.aliases.push(this._getAliasInfo(n));else{if(n instanceof TR){const r=n,i=this._getAttributeNum(r.attributes,"id",0),a=r.type!=null?this.getTypeInfo(r.type,r.attributes):null;this.overrides.push(new KOe(r.name,a,r.attributes,i));continue}if(this._isUniformVar(n)){const r=n,i=this._getAttributeNum(r.attributes,"group",0),a=this._getAttributeNum(r.attributes,"binding",0),s=this.getTypeInfo(r.type,r.attributes),o=new qy(r.name,s,i,a,r.attributes,Ko.Uniform,r.access);o.access||(o.access="read"),this.uniforms.push(o);continue}if(this._isStorageVar(n)){const r=n,i=this._getAttributeNum(r.attributes,"group",0),a=this._getAttributeNum(r.attributes,"binding",0),s=this.getTypeInfo(r.type,r.attributes),o=this._isStorageTexture(s),c=new qy(r.name,s,i,a,r.attributes,o?Ko.StorageTexture:Ko.Storage,r.access);c.access||(c.access="read"),this.storage.push(c);continue}if(this._isTextureVar(n)){const r=n,i=this._getAttributeNum(r.attributes,"group",0),a=this._getAttributeNum(r.attributes,"binding",0),s=this.getTypeInfo(r.type,r.attributes),o=this._isStorageTexture(s),c=new qy(r.name,s,i,a,r.attributes,o?Ko.StorageTexture:Ko.Texture,r.access);c.access||(c.access="read"),o?this.storage.push(c):this.textures.push(c);continue}if(this._isSamplerVar(n)){const r=n,i=this._getAttributeNum(r.attributes,"group",0),a=this._getAttributeNum(r.attributes,"binding",0),s=this.getTypeInfo(r.type,r.attributes),o=new qy(r.name,s,i,a,r.attributes,Ko.Sampler,r.access);this.samplers.push(o);continue}}for(const n of e)if(n instanceof Kp){const r=this._getAttribute(n,"vertex"),i=this._getAttribute(n,"fragment"),a=this._getAttribute(n,"compute"),s=r||i||a,o=new GOe(n.name,s?.name,n.attributes);o.attributes=n.attributes,o.startLine=n.startLine,o.endLine=n.endLine,this.functions.push(o),this._functions.get(n.name).info=o,s&&(this._functions.get(n.name).inUse=!0,o.inUse=!0,o.resources=this._findResources(n,!!s),o.inputs=this._getInputs(n.args),o.outputs=this._getOutputs(n.returnType),this.entry[s.name].push(o)),o.arguments=n.args.map(c=>new YOe(c.name,this.getTypeInfo(c.type,c.attributes),c.attributes)),o.returnType=n.returnType?this.getTypeInfo(n.returnType,n.attributes):null;continue}for(const n of this._functions.values())n.info&&(n.info.inUse=n.inUse,this._addCalls(n.node,n.info.calls));for(const n of this._functions.values())n.node.search(r=>{var i,a,s;if(r instanceof NX){if(r.value)if(Se(r.value))for(const o of r.value)for(const c of this.overrides)o===c.name&&((i=n.info)===null||i===void 0||i.overrides.push(c));else for(const o of this.overrides)r.value===o.name&&((a=n.info)===null||a===void 0||a.overrides.push(o))}else if(r instanceof di)for(const o of this.overrides)r.name===o.name&&((s=n.info)===null||s===void 0||s.overrides.push(o))});for(const n of this.uniforms)this._markStructsInUse(n.type);for(const n of this.storage)this._markStructsInUse(n.type)}getFunctionInfo(e){for(const n of this.functions)if(n.name==e)return n;return null}getStructInfo(e){for(const n of this.structs)if(n.name==e)return n;return null}getOverrideInfo(e){for(const n of this.overrides)if(n.name==e)return n;return null}_markStructsInUse(e){if(e)if(e.isStruct){if(e.inUse=!0,e.members)for(const n of e.members)this._markStructsInUse(n.type)}else if(e.isArray)this._markStructsInUse(e.format);else if(e.isTemplate)e.format&&this._markStructsInUse(e.format);else{const n=this._getAlias(e.name);n&&this._markStructsInUse(n)}}_addCalls(e,n){var r;for(const i of e.calls){const a=(r=this._functions.get(i.name))===null||r===void 0?void 0:r.info;a&&n.add(a)}}findResource(e,n,r){if(r){for(const i of this.entry.compute)if(i.name===r){for(const a of i.resources)if(a.group==e&&a.binding==n)return a}for(const i of this.entry.vertex)if(i.name===r){for(const a of i.resources)if(a.group==e&&a.binding==n)return a}for(const i of this.entry.fragment)if(i.name===r){for(const a of i.resources)if(a.group==e&&a.binding==n)return a}}for(const i of this.uniforms)if(i.group==e&&i.binding==n)return i;for(const i of this.storage)if(i.group==e&&i.binding==n)return i;for(const i of this.textures)if(i.group==e&&i.binding==n)return i;for(const i of this.samplers)if(i.group==e&&i.binding==n)return i;return null}_findResource(e){for(const n of this.uniforms)if(n.name==e)return n;for(const n of this.storage)if(n.name==e)return n;for(const n of this.textures)if(n.name==e)return n;for(const n of this.samplers)if(n.name==e)return n;return null}_markStructsFromAST(e){const n=this.getTypeInfo(e,null);this._markStructsInUse(n)}_findResources(e,n){const r=[],i=this,a=[];return e.search(s=>{if(s instanceof nb)a.push({});else if(s instanceof rb)a.pop();else if(s instanceof $s){const o=s;n&&o.type!==null&&this._markStructsFromAST(o.type),a.length>0&&(a[a.length-1][o.name]=o)}else if(s instanceof Fa){const o=s;n&&o.type!==null&&this._markStructsFromAST(o.type)}else if(s instanceof ap){const o=s;n&&o.type!==null&&this._markStructsFromAST(o.type),a.length>0&&(a[a.length-1][o.name]=o)}else if(s instanceof di){const o=s;if(a.length>0&&a[a.length-1][o.name])return;const c=i._findResource(o.name);c&&r.push(c)}else if(s instanceof CR){const o=s,c=i._functions.get(o.name);c&&(n&&(c.inUse=!0),e.calls.add(c.node),c.resources===null&&(c.resources=i._findResources(c.node,n)),r.push(...c.resources))}else if(s instanceof AR){const o=s,c=i._functions.get(o.name);c&&(n&&(c.inUse=!0),e.calls.add(c.node),c.resources===null&&(c.resources=i._findResources(c.node,n)),r.push(...c.resources))}}),[...new Map(r.map(s=>[s.name,s])).values()]}getBindGroups(){const e=[];function n(r,i){r>=e.length&&(e.length=r+1),e[r]===void 0&&(e[r]=[]),i>=e[r].length&&(e[r].length=i+1)}for(const r of this.uniforms)n(r.group,r.binding),e[r.group][r.binding]=r;for(const r of this.storage)n(r.group,r.binding),e[r.group][r.binding]=r;for(const r of this.textures)n(r.group,r.binding),e[r.group][r.binding]=r;for(const r of this.samplers)n(r.group,r.binding),e[r.group][r.binding]=r;return e}_getOutputs(e,n=void 0){if(n===void 0&&(n=[]),e instanceof Ls)this._getStructOutputs(e,n);else{const r=this._getOutputInfo(e);r!==null&&n.push(r)}return n}_getStructOutputs(e,n){for(const r of e.members)if(r.type instanceof Ls)this._getStructOutputs(r.type,n);else{const i=this._getAttribute(r,"location")||this._getAttribute(r,"builtin");if(i!==null){const a=this.getTypeInfo(r.type,r.type.attributes),s=this._parseInt(i.value),o=new $j(r.name,a,i.name,s);n.push(o)}}}_getOutputInfo(e){const n=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(n!==null){const r=this.getTypeInfo(e,e.attributes),i=this._parseInt(n.value);return new $j("",r,n.name,i)}return null}_getInputs(e,n=void 0){n===void 0&&(n=[]);for(const r of e)if(r.type instanceof Ls)this._getStructInputs(r.type,n);else{const i=this._getInputInfo(r);i!==null&&n.push(i)}return n}_getStructInputs(e,n){for(const r of e.members)if(r.type instanceof Ls)this._getStructInputs(r.type,n);else{const i=this._getInputInfo(r);i!==null&&n.push(i)}}_getInputInfo(e){const n=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(n!==null){const r=this._getAttribute(e,"interpolation"),i=this.getTypeInfo(e.type,e.attributes),a=this._parseInt(n.value),s=new XOe(e.name,i,n.name,a);return r!==null&&(s.interpolation=this._parseString(r.value)),s}return null}_parseString(e){return e instanceof Array&&(e=e[0]),e}_parseInt(e){e instanceof Array&&(e=e[0]);const n=parseInt(e);return isNaN(n)?e:n}_getAlias(e){for(const n of this.aliases)if(n.name==e)return n.type;return null}_getAliasInfo(e){return new qOe(e.name,this.getTypeInfo(e.type,null))}getTypeInfoByName(e){for(const n of this.structs)if(n.name==e)return n;for(const n of this.aliases)if(n.name==e)return n.type;return null}getTypeInfo(e,n=null){if(this._types.has(e))return this._types.get(e);if(e instanceof Rv){const i=e.type?this.getTypeInfo(e.type,e.attributes):null,a=new TE(e.name,i,n);return this._types.set(e,a),this._updateTypeInfo(a),a}if(e instanceof sp){const i=e,a=i.format?this.getTypeInfo(i.format,i.attributes):null,s=new rl(i.name,n);return s.format=a,s.count=i.count,this._types.set(e,s),this._updateTypeInfo(s),s}if(e instanceof Ls){const i=e,a=new Qo(i.name,n);a.startLine=i.startLine,a.endLine=i.endLine;for(const s of i.members){const o=this.getTypeInfo(s.type,s.attributes);a.members.push(new Fj(s.name,o,s.attributes))}return this._types.set(e,a),this._updateTypeInfo(a),a}if(e instanceof qh){const i=e,a=i.format instanceof pe,s=i.format?a?this.getTypeInfo(i.format,null):new qi(i.format,null):null,o=new Dc(i.name,s,n,i.access);return this._types.set(e,o),this._updateTypeInfo(o),o}if(e instanceof Q){const i=e,a=i.format?this.getTypeInfo(i.format,null):null,s=new Dc(i.name,a,n,i.access);return this._types.set(e,s),this._updateTypeInfo(s),s}const r=new qi(e.name,n);return this._types.set(e,r),this._updateTypeInfo(r),r}_updateTypeInfo(e){var n,r,i;const a=this._getTypeSize(e);if(e.size=(n=a?.size)!==null&&n!==void 0?n:0,e instanceof rl&&e.format){const s=this._getTypeSize(e.format);e.stride=Math.max((r=s?.size)!==null&&r!==void 0?r:0,(i=s?.align)!==null&&i!==void 0?i:0),this._updateTypeInfo(e.format)}e instanceof TE&&this._updateTypeInfo(e.format),e instanceof Qo&&this._updateStructInfo(e)}_updateStructInfo(e){var n;let r=0,i=0,a=0,s=0;for(let o=0,c=e.members.length;o<c;++o){const f=e.members[o],d=this._getTypeSize(f);if(!d)continue;(n=this._getAlias(f.type.name))!==null&&n!==void 0||f.type;const p=d.align,m=d.size;r=this._roundUp(p,r+i),i=m,a=r,s=Math.max(s,p),f.offset=r,f.size=m,this._updateTypeInfo(f.type)}e.size=this._roundUp(s,a+i),e.align=s}_getTypeSize(e){var n,r;if(e==null)return null;const i=this._getAttributeNum(e.attributes,"size",0),a=this._getAttributeNum(e.attributes,"align",0);if(e instanceof Fj&&(e=e.type),e instanceof qi){const s=this._getAlias(e.name);s!==null&&(e=s)}{const s=Ya._typeInfo[e.name];if(s!==void 0){const o=((n=e.format)===null||n===void 0?void 0:n.name)==="f16"?2:1;return new Xy(Math.max(a,s.align/o),Math.max(i,s.size/o))}}{const s=Ya._typeInfo[e.name.substring(0,e.name.length-1)];if(s){const o=e.name[e.name.length-1]==="h"?2:1;return new Xy(Math.max(a,s.align/o),Math.max(i,s.size/o))}}if(e instanceof rl){let s=e,o=8,c=8;const f=this._getTypeSize(s.format);return f!==null&&(c=f.size,o=f.align),c=s.count*this._getAttributeNum((r=e?.attributes)!==null&&r!==void 0?r:null,"stride",this._roundUp(o,c)),i&&(c=i),new Xy(Math.max(a,o),Math.max(i,c))}if(e instanceof Qo){let s=0,o=0,c=0,f=0,d=0;for(const p of e.members){const m=this._getTypeSize(p.type);m!==null&&(s=Math.max(m.align,s),c=this._roundUp(m.align,c+f),f=m.size,d=c)}return o=this._roundUp(s,d+f),new Xy(Math.max(a,s),Math.max(i,o))}return null}_isUniformVar(e){return e instanceof $s&&e.storage=="uniform"}_isStorageVar(e){return e instanceof $s&&e.storage=="storage"}_isTextureVar(e){return e instanceof $s&&e.type!==null&&Ya._textureTypes.indexOf(e.type.name)!=-1}_isSamplerVar(e){return e instanceof $s&&e.type!==null&&Ya._samplerTypes.indexOf(e.type.name)!=-1}_getAttribute(e,n){const r=e;if(!r||!r.attributes)return null;const i=r.attributes;for(let a of i)if(a.name==n)return a;return null}_getAttributeNum(e,n,r){if(e===null)return r;for(let i of e)if(i.name==n){let a=i!==null&&i.value!==null?i.value:r;return a instanceof Array&&(a=a[0]),typeof a=="number"?a:typeof a=="string"?parseInt(a):r}return r}_roundUp(e,n){return Math.ceil(n/e)*e}}Ya._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},Ya._textureTypes=B.any_texture_type.map(t=>t.name),Ya._samplerTypes=B.sampler_type.map(t=>t.name);let PR=0;class RR{constructor(e,n,r){this.id=PR++,this.name=e,this.value=n,this.node=r}clone(){return new RR(this.name,this.value,this.node)}}class OR{constructor(e){this.id=PR++,this.name=e.name,this.node=e}clone(){return new OR(this.node)}}class MR{constructor(e){this.parent=null,this.variables=new Map,this.functions=new Map,this.currentFunctionName="",this.id=PR++,e&&(this.parent=e,this.currentFunctionName=e.currentFunctionName)}getVariable(e){var n;return this.variables.has(e)?(n=this.variables.get(e))!==null&&n!==void 0?n:null:this.parent?this.parent.getVariable(e):null}getFunction(e){var n;return this.functions.has(e)?(n=this.functions.get(e))!==null&&n!==void 0?n:null:this.parent?this.parent.getFunction(e):null}createVariable(e,n,r){this.variables.set(e,new RR(e,n,r??null))}setVariable(e,n,r){const i=this.getVariable(e);i!==null?i.value=n:this.createVariable(e,n,r)}getVariableValue(e){var n;const r=this.getVariable(e);return(n=r?.value)!==null&&n!==void 0?n:null}clone(){return new MR(this)}}class mMe{evalExpression(e,n){return null}getTypeInfo(e){return null}getVariableName(e,n){return""}}class yMe{constructor(e){this.exec=e}getTypeInfo(e){return this.exec.getTypeInfo(e)}All(e,n){const r=this.exec.evalExpression(e.args[0],n);let i=!0;if(r instanceof U)return r.data.forEach(a=>{a||(i=!1)}),new K(i?1:0,this.getTypeInfo("bool"));throw new Error(`All() expects a vector argument. Line ${e.line}`)}Any(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U){const i=r.data.some(a=>a);return new K(i?1:0,this.getTypeInfo("bool"))}throw new Error(`Any() expects a vector argument. Line ${e.line}`)}Select(e,n){const r=this.exec.evalExpression(e.args[2],n);if(!(r instanceof K))throw new Error(`Select() expects a bool condition. Line ${e.line}`);return r.value?this.exec.evalExpression(e.args[1],n):this.exec.evalExpression(e.args[0],n)}ArrayLength(e,n){let r=e.args[0];r instanceof En&&(r=r.right);const i=this.exec.evalExpression(r,n);if(i instanceof hn&&i.typeInfo.size===0){const a=i.typeInfo,s=i.buffer.byteLength/a.stride;return new K(s,this.getTypeInfo("u32"))}return new K(i.typeInfo.size,this.getTypeInfo("u32"))}Abs(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.abs(a)),r.typeInfo);const i=r;return new K(Math.abs(i.value),i.typeInfo)}Acos(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.acos(a)),r.typeInfo);const i=r;return new K(Math.acos(i.value),r.typeInfo)}Acosh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.acosh(a)),r.typeInfo);const i=r;return new K(Math.acosh(i.value),r.typeInfo)}Asin(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.asin(a)),r.typeInfo);const i=r;return new K(Math.asin(i.value),r.typeInfo)}Asinh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.asinh(a)),r.typeInfo);const i=r;return new K(Math.asinh(i.value),r.typeInfo)}Atan(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.atan(a)),r.typeInfo);const i=r;return new K(Math.atan(i.value),r.typeInfo)}Atanh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.atanh(a)),r.typeInfo);const i=r;return new K(Math.atanh(i.value),r.typeInfo)}Atan2(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n);if(r instanceof U&&i instanceof U)return new U(r.data.map((o,c)=>Math.atan2(o,i.data[c])),r.typeInfo);const a=r,s=i;return new K(Math.atan2(a.value,s.value),r.typeInfo)}Ceil(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.ceil(a)),r.typeInfo);const i=r;return new K(Math.ceil(i.value),r.typeInfo)}_clamp(e,n,r){return Math.min(Math.max(e,n),r)}Clamp(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n),a=this.exec.evalExpression(e.args[2],n);if(r instanceof U&&i instanceof U&&a instanceof U)return new U(r.data.map((f,d)=>this._clamp(f,i.data[d],a.data[d])),r.typeInfo);const s=r,o=i,c=a;return new K(this._clamp(s.value,o.value,c.value),r.typeInfo)}Cos(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.cos(a)),r.typeInfo);const i=r;return new K(Math.cos(i.value),r.typeInfo)}Cosh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.cosh(a)),r.typeInfo);const i=r;return new K(Math.cos(i.value),r.typeInfo)}CountLeadingZeros(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.clz32(a)),r.typeInfo);const i=r;return new K(Math.clz32(i.value),r.typeInfo)}_countOneBits(e){let n=0;for(;e!==0;)1&e&&n++,e>>=1;return n}CountOneBits(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>this._countOneBits(a)),r.typeInfo);const i=r;return new K(this._countOneBits(i.value),r.typeInfo)}_countTrailingZeros(e){if(e===0)return 32;let n=0;for(;!(1&e);)e>>=1,n++;return n}CountTrailingZeros(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>this._countTrailingZeros(a)),r.typeInfo);const i=r;return new K(this._countTrailingZeros(i.value),r.typeInfo)}Cross(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n);if(r instanceof U&&i instanceof U){if(r.data.length!==3||i.data.length!==3)return console.error(`Cross() expects 3D vectors. Line ${e.line}`),null;const a=r.data,s=i.data;return new U([a[1]*s[2]-s[1]*a[2],a[2]*s[0]-s[2]*a[0],a[0]*s[1]-s[0]*a[1]],r.typeInfo)}return console.error(`Cross() expects vector arguments. Line ${e.line}`),null}Degrees(e,n){const r=this.exec.evalExpression(e.args[0],n),i=180/Math.PI;return r instanceof U?new U(r.data.map(a=>a*i),r.typeInfo):new K(r.value*i,this.getTypeInfo("f32"))}Determinant(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof Be){const i=r.data,a=r.typeInfo.getTypeName(),s=a.endsWith("h")?this.getTypeInfo("f16"):this.getTypeInfo("f32");if(a==="mat2x2"||a==="mat2x2f"||a==="mat2x2h")return new K(i[0]*i[3]-i[1]*i[2],s);if(a==="mat2x3"||a==="mat2x3f"||a==="mat2x3h")return new K(i[0]*(i[4]*i[8]-i[5]*i[7])-i[1]*(i[3]*i[8]-i[5]*i[6])+i[2]*(i[3]*i[7]-i[4]*i[6]),s);if(a==="mat2x4"||a==="mat2x4f"||a==="mat2x4h")console.error(`TODO: Determinant for ${a}`);else if(a==="mat3x2"||a==="mat3x2f"||a==="mat3x2h")console.error(`TODO: Determinant for ${a}`);else{if(a==="mat3x3"||a==="mat3x3f"||a==="mat3x3h")return new K(i[0]*(i[4]*i[8]-i[5]*i[7])-i[1]*(i[3]*i[8]-i[5]*i[6])+i[2]*(i[3]*i[7]-i[4]*i[6]),s);a==="mat3x4"||a==="mat3x4f"||a==="mat3x4h"||a==="mat4x2"||a==="mat4x2f"||a==="mat4x2h"||a==="mat4x3"||a==="mat4x3f"||a==="mat4x3h"?console.error(`TODO: Determinant for ${a}`):a!=="mat4x4"&&a!=="mat4x4f"&&a!=="mat4x4h"||console.error(`TODO: Determinant for ${a}`)}}return console.error(`Determinant expects a matrix argument. Line ${e.line}`),null}Distance(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n);if(r instanceof U&&i instanceof U){let o=0;for(let c=0;c<r.data.length;++c)o+=(r.data[c]-i.data[c])*(r.data[c]-i.data[c]);return new K(Math.sqrt(o),this.getTypeInfo("f32"))}const a=r,s=i;return new K(Math.abs(a.value-s.value),r.typeInfo)}_dot(e,n){let r=0;for(let i=0;i<e.length;++i)r+=n[i]*e[i];return r}Dot(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n);return r instanceof U&&i instanceof U?new K(this._dot(r.data,i.data),this.getTypeInfo("f32")):(console.error(`Dot() expects vector arguments. Line ${e.line}`),null)}Dot4U8Packed(e,n){return console.error(`TODO: dot4U8Packed. Line ${e.line}`),null}Dot4I8Packed(e,n){return console.error(`TODO: dot4I8Packed. Line ${e.line}`),null}Exp(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.exp(a)),r.typeInfo);const i=r;return new K(Math.exp(i.value),r.typeInfo)}Exp2(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.pow(2,a)),r.typeInfo);const i=r;return new K(Math.pow(2,i.value),r.typeInfo)}ExtractBits(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n),a=this.exec.evalExpression(e.args[2],n);if(i.typeInfo.name!=="u32"&&i.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 offset argument. Line ${e.line}`),null;if(a.typeInfo.name!=="u32"&&a.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 count argument. Line ${e.line}`),null;const s=i.value,o=a.value;if(r instanceof U)return new U(r.data.map(f=>f>>s&(1<<o)-1),r.typeInfo);if(r.typeInfo.name!=="i32"&&r.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 argument. Line ${e.line}`),null;const c=r.value;return new K(c>>s&(1<<o)-1,this.getTypeInfo("i32"))}FaceForward(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n),a=this.exec.evalExpression(e.args[2],n);if(r instanceof U&&i instanceof U&&a instanceof U){const s=this._dot(i.data,a.data);return new U(s<0?Array.from(r.data):r.data.map(o=>-o),r.typeInfo)}return console.error(`FaceForward() expects vector arguments. Line ${e.line}`),null}_firstLeadingBit(e){return e===0?-1:31-Math.clz32(e)}FirstLeadingBit(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>this._firstLeadingBit(a)),r.typeInfo);const i=r;return new K(this._firstLeadingBit(i.value),r.typeInfo)}_firstTrailingBit(e){return e===0?-1:Math.log2(e&-e)}FirstTrailingBit(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>this._firstTrailingBit(a)),r.typeInfo);const i=r;return new K(this._firstTrailingBit(i.value),r.typeInfo)}Floor(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.floor(a)),r.typeInfo);const i=r;return new K(Math.floor(i.value),r.typeInfo)}Fma(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n),a=this.exec.evalExpression(e.args[2],n);if(r instanceof U&&i instanceof U&&a instanceof U)return r.data.length!==i.data.length||r.data.length!==a.data.length?(console.error(`Fma() expects vectors of the same length. Line ${e.line}`),null):new U(r.data.map((f,d)=>f*i.data[d]+a.data[d]),r.typeInfo);const s=r,o=i,c=a;return new K(s.value*o.value+c.value,s.typeInfo)}Fract(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>a-Math.floor(a)),r.typeInfo);const i=r;return new K(i.value-Math.floor(i.value),r.typeInfo)}Frexp(e,n){return console.error(`TODO: frexp. Line ${e.line}`),null}InsertBits(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n),a=this.exec.evalExpression(e.args[2],n),s=this.exec.evalExpression(e.args[3],n);if(a.typeInfo.name!=="u32"&&a.typeInfo.name!=="x32")return console.error(`InsertBits() expects an i32 offset argument. Line ${e.line}`),null;const o=a.value,c=(1<<s.value)-1<<o,f=~c;if(r instanceof U&&i instanceof U)return new U(r.data.map((m,y)=>m&f|i.data[y]<<o&c),r.typeInfo);const d=r.value,p=i.value;return new K(d&f|p<<o&c,r.typeInfo)}InverseSqrt(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>1/Math.sqrt(a)),r.typeInfo);const i=r;return new K(1/Math.sqrt(i.value),r.typeInfo)}Ldexp(e,n){return console.error(`TODO: ldexp. Line ${e.line}`),null}Length(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U){let a=0;return r.data.forEach(s=>{a+=s*s}),new K(Math.sqrt(a),this.getTypeInfo("f32"))}const i=r;return new K(Math.abs(i.value),r.typeInfo)}Log(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.log(a)),r.typeInfo);const i=r;return new K(Math.log(i.value),r.typeInfo)}Log2(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.log2(a)),r.typeInfo);const i=r;return new K(Math.log2(i.value),r.typeInfo)}Max(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n);if(r instanceof U&&i instanceof U)return new U(r.data.map((o,c)=>Math.max(o,i.data[c])),r.typeInfo);const a=r,s=i;return new K(Math.max(a.value,s.value),r.typeInfo)}Min(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n);if(r instanceof U&&i instanceof U)return new U(r.data.map((o,c)=>Math.min(o,i.data[c])),r.typeInfo);const a=r,s=i;return new K(Math.min(a.value,s.value),r.typeInfo)}Mix(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n),a=this.exec.evalExpression(e.args[2],n);if(r instanceof U&&i instanceof U&&a instanceof U)return new U(r.data.map((c,f)=>r.data[f]*(1-a.data[f])+i.data[f]*a.data[f]),r.typeInfo);const s=i,o=a;return new K(r.value*(1-o.value)+s.value*o.value,r.typeInfo)}Modf(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n);if(r instanceof U&&i instanceof U)return new U(r.data.map((s,o)=>s%i.data[o]),r.typeInfo);const a=i;return new K(r.value%a.value,r.typeInfo)}Normalize(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U){const i=this.Length(e,n).value;return new U(r.data.map(a=>a/i),r.typeInfo)}return console.error(`Normalize() expects a vector argument. Line ${e.line}`),null}Pow(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n);if(r instanceof U&&i instanceof U)return new U(r.data.map((o,c)=>Math.pow(o,i.data[c])),r.typeInfo);const a=r,s=i;return new K(Math.pow(a.value,s.value),r.typeInfo)}QuantizeToF16(e,n){const r=this.exec.evalExpression(e.args[0],n);return r instanceof U?new U(r.data.map(i=>i),r.typeInfo):new K(r.value,r.typeInfo)}Radians(e,n){const r=this.exec.evalExpression(e.args[0],n);return r instanceof U?new U(r.data.map(i=>i*Math.PI/180),r.typeInfo):new K(r.value*Math.PI/180,this.getTypeInfo("f32"))}Reflect(e,n){let r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n);if(r instanceof U&&i instanceof U){const a=this._dot(r.data,i.data);return new U(r.data.map((s,o)=>s-2*a*i.data[o]),r.typeInfo)}return console.error(`Reflect() expects vector arguments. Line ${e.line}`),null}Refract(e,n){let r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n),a=this.exec.evalExpression(e.args[2],n);if(r instanceof U&&i instanceof U&&a instanceof K){const s=this._dot(i.data,r.data);return new U(r.data.map((o,c)=>{const f=1-a.value*a.value*(1-s*s);if(f<0)return 0;const d=Math.sqrt(f);return a.value*o-(a.value*s+d)*i.data[c]}),r.typeInfo)}return console.error(`Refract() expects vector arguments and a scalar argument. Line ${e.line}`),null}ReverseBits(e,n){return console.error(`TODO: reverseBits. Line ${e.line}`),null}Round(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.round(a)),r.typeInfo);const i=r;return new K(Math.round(i.value),r.typeInfo)}Saturate(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.min(Math.max(a,0),1)),r.typeInfo);const i=r;return new K(Math.min(Math.max(i.value,0),1),r.typeInfo)}Sign(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.sign(a)),r.typeInfo);const i=r;return new K(Math.sign(i.value),r.typeInfo)}Sin(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.sin(a)),r.typeInfo);const i=r;return new K(Math.sin(i.value),r.typeInfo)}Sinh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.sinh(a)),r.typeInfo);const i=r;return new K(Math.sinh(i.value),r.typeInfo)}_smoothstep(e,n,r){const i=Math.min(Math.max((r-e)/(n-e),0),1);return i*i*(3-2*i)}SmoothStep(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n),a=this.exec.evalExpression(e.args[2],n);if(a instanceof U&&r instanceof U&&i instanceof U)return new U(a.data.map((f,d)=>this._smoothstep(r.data[d],i.data[d],f)),a.typeInfo);const s=r,o=i,c=a;return new K(this._smoothstep(s.value,o.value,c.value),a.typeInfo)}Sqrt(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.sqrt(a)),r.typeInfo);const i=r;return new K(Math.sqrt(i.value),r.typeInfo)}Step(e,n){const r=this.exec.evalExpression(e.args[0],n),i=this.exec.evalExpression(e.args[1],n);if(i instanceof U&&r instanceof U)return new U(i.data.map((s,o)=>s<r.data[o]?0:1),i.typeInfo);const a=r;return new K(i.value<a.value?0:1,a.typeInfo)}Tan(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.tan(a)),r.typeInfo);const i=r;return new K(Math.tan(i.value),r.typeInfo)}Tanh(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.tanh(a)),r.typeInfo);const i=r;return new K(Math.tanh(i.value),r.typeInfo)}_getTransposeType(e){const n=e.getTypeName();return n==="mat2x2f"||n==="mat2x2h"?e:n==="mat2x3f"?this.getTypeInfo("mat3x2f"):n==="mat2x3h"?this.getTypeInfo("mat3x2h"):n==="mat2x4f"?this.getTypeInfo("mat4x2f"):n==="mat2x4h"?this.getTypeInfo("mat4x2h"):n==="mat3x2f"?this.getTypeInfo("mat2x3f"):n==="mat3x2h"?this.getTypeInfo("mat2x3h"):n==="mat3x3f"||n==="mat3x3h"?e:n==="mat3x4f"?this.getTypeInfo("mat4x3f"):n==="mat3x4h"?this.getTypeInfo("mat4x3h"):n==="mat4x2f"?this.getTypeInfo("mat2x4f"):n==="mat4x2h"?this.getTypeInfo("mat2x4h"):n==="mat4x3f"?this.getTypeInfo("mat3x4f"):n==="mat4x3h"?this.getTypeInfo("mat3x4h"):(n==="mat4x4f"||n==="mat4x4h"||console.error(`Invalid matrix type ${n}`),e)}Transpose(e,n){const r=this.exec.evalExpression(e.args[0],n);if(!(r instanceof Be))return console.error(`Transpose() expects a matrix argument. Line ${e.line}`),null;const i=this._getTransposeType(r.typeInfo);if(r.typeInfo.name==="mat2x2"||r.typeInfo.name==="mat2x2f"||r.typeInfo.name==="mat2x2h"){const a=r.data;return new Be([a[0],a[2],a[1],a[3]],i)}if(r.typeInfo.name==="mat2x3"||r.typeInfo.name==="mat2x3f"||r.typeInfo.name==="mat2x3h"){const a=r.data;return new Be([a[0],a[3],a[6],a[1],a[4],a[7]],i)}if(r.typeInfo.name==="mat2x4"||r.typeInfo.name==="mat2x4f"||r.typeInfo.name==="mat2x4h"){const a=r.data;return new Be([a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13]],i)}if(r.typeInfo.name==="mat3x2"||r.typeInfo.name==="mat3x2f"||r.typeInfo.name==="mat3x2h"){const a=r.data;return new Be([a[0],a[3],a[1],a[4],a[2],a[5]],i)}if(r.typeInfo.name==="mat3x3"||r.typeInfo.name==="mat3x3f"||r.typeInfo.name==="mat3x3h"){const a=r.data;return new Be([a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]],i)}if(r.typeInfo.name==="mat3x4"||r.typeInfo.name==="mat3x4f"||r.typeInfo.name==="mat3x4h"){const a=r.data;return new Be([a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14]],i)}if(r.typeInfo.name==="mat4x2"||r.typeInfo.name==="mat4x2f"||r.typeInfo.name==="mat4x2h"){const a=r.data;return new Be([a[0],a[4],a[1],a[5],a[2],a[6]],i)}if(r.typeInfo.name==="mat4x3"||r.typeInfo.name==="mat4x3f"||r.typeInfo.name==="mat4x3h"){const a=r.data;return new Be([a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]],i)}if(r.typeInfo.name==="mat4x4"||r.typeInfo.name==="mat4x4f"||r.typeInfo.name==="mat4x4h"){const a=r.data;return new Be([a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]],i)}return console.error(`Invalid matrix type ${r.typeInfo.name}`),null}Trunc(e,n){const r=this.exec.evalExpression(e.args[0],n);if(r instanceof U)return new U(r.data.map(a=>Math.trunc(a)),r.typeInfo);const i=r;return new K(Math.trunc(i.value),r.typeInfo)}Dpdx(e,n){return console.error(`TODO: dpdx. Line ${e.line}`),null}DpdxCoarse(e,n){return console.error(`TODO: dpdxCoarse. Line ${e.line}`),null}DpdxFine(e,n){return console.error("TODO: dpdxFine"),null}Dpdy(e,n){return console.error("TODO: dpdy"),null}DpdyCoarse(e,n){return console.error("TODO: dpdyCoarse"),null}DpdyFine(e,n){return console.error("TODO: dpdyFine"),null}Fwidth(e,n){return console.error("TODO: fwidth"),null}FwidthCoarse(e,n){return console.error("TODO: fwidthCoarse"),null}FwidthFine(e,n){return console.error("TODO: fwidthFine"),null}TextureDimensions(e,n){const r=e.args[0],i=e.args.length>1?this.exec.evalExpression(e.args[1],n).value:0;if(r instanceof di){const a=r.name,s=n.getVariableValue(a);if(s instanceof js){if(i<0||i>=s.mipLevelCount)return console.error(`Invalid mip level for textureDimensions. Line ${e.line}`),null;const o=s.getMipLevelSize(i),c=s.dimension;return c==="1d"?new K(o[0],this.getTypeInfo("u32")):c==="3d"?new U(o,this.getTypeInfo("vec3u")):c==="2d"?new U(o.slice(0,2),this.getTypeInfo("vec2u")):(console.error(`Invalid texture dimension ${c} not found. Line ${e.line}`),null)}return console.error(`Texture ${a} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureDimensions. Line ${e.line}`),null}TextureGather(e,n){return console.error("TODO: textureGather"),null}TextureGatherCompare(e,n){return console.error("TODO: textureGatherCompare"),null}TextureLoad(e,n){const r=e.args[0],i=this.exec.evalExpression(e.args[1],n),a=e.args.length>2?this.exec.evalExpression(e.args[2],n).value:0;if(!(i instanceof U)||i.data.length!==2)return console.error(`Invalid UV argument for textureLoad. Line ${e.line}`),null;if(r instanceof di){const s=r.name,o=n.getVariableValue(s);if(o instanceof js){const c=Math.floor(i.data[0]),f=Math.floor(i.data[1]);if(c<0||c>=o.width||f<0||f>=o.height)return console.error(`Texture ${s} out of bounds. Line ${e.line}`),null;const d=o.getPixel(c,f,0,a);return d===null?(console.error(`Invalid texture format for textureLoad. Line ${e.line}`),null):new U(d,this.getTypeInfo("vec4f"))}return console.error(`Texture ${s} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureLoad. Line ${e.line}`),null}TextureNumLayers(e,n){const r=e.args[0];if(r instanceof di){const i=r.name,a=n.getVariableValue(i);return a instanceof js?new K(a.depthOrArrayLayers,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLayers. Line ${e.line}`),null}TextureNumLevels(e,n){const r=e.args[0];if(r instanceof di){const i=r.name,a=n.getVariableValue(i);return a instanceof js?new K(a.mipLevelCount,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLevels. Line ${e.line}`),null}TextureNumSamples(e,n){const r=e.args[0];if(r instanceof di){const i=r.name,a=n.getVariableValue(i);return a instanceof js?new K(a.sampleCount,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumSamples. Line ${e.line}`),null}TextureSample(e,n){return console.error("TODO: textureSample"),null}TextureSampleBias(e,n){return console.error("TODO: textureSampleBias"),null}TextureSampleCompare(e,n){return console.error("TODO: textureSampleCompare"),null}TextureSampleCompareLevel(e,n){return console.error("TODO: textureSampleCompareLevel"),null}TextureSampleGrad(e,n){return console.error("TODO: textureSampleGrad"),null}TextureSampleLevel(e,n){return console.error("TODO: textureSampleLevel"),null}TextureSampleBaseClampToEdge(e,n){return console.error("TODO: textureSampleBaseClampToEdge"),null}TextureStore(e,n){const r=e.args[0],i=this.exec.evalExpression(e.args[1],n),a=e.args.length===4?this.exec.evalExpression(e.args[2],n).value:0,s=e.args.length===4?this.exec.evalExpression(e.args[3],n).data:this.exec.evalExpression(e.args[2],n).data;if(s.length!==4)return console.error(`Invalid value argument for textureStore. Line ${e.line}`),null;if(!(i instanceof U)||i.data.length!==2)return console.error(`Invalid UV argument for textureStore. Line ${e.line}`),null;if(r instanceof di){const o=r.name,c=n.getVariableValue(o);if(c instanceof js){const f=c.getMipLevelSize(0),d=Math.floor(i.data[0]),p=Math.floor(i.data[1]);return d<0||d>=f[0]||p<0||p>=f[1]?(console.error(`Texture ${o} out of bounds. Line ${e.line}`),null):(c.setPixel(d,p,0,a,Array.from(s)),null)}return console.error(`Texture ${o} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureStore. Line ${e.line}`),null}AtomicLoad(e,n){let r=e.args[0];r instanceof En&&(r=r.right);const i=this.exec.getVariableName(r,n);return n.getVariable(i).value.getSubData(this.exec,r.postfix,n)}AtomicStore(e,n){let r=e.args[0];r instanceof En&&(r=r.right);const i=this.exec.getVariableName(r,n),a=n.getVariable(i);let s=e.args[1];const o=this.exec.evalExpression(s,n),c=a.value.getSubData(this.exec,r.postfix,n);return c instanceof K&&o instanceof K&&(c.value=o.value),a.value instanceof hn&&a.value.setDataValue(this.exec,c,r.postfix,n),null}AtomicAdd(e,n){let r=e.args[0];r instanceof En&&(r=r.right);const i=this.exec.getVariableName(r,n),a=n.getVariable(i);let s=e.args[1];const o=this.exec.evalExpression(s,n),c=a.value.getSubData(this.exec,r.postfix,n),f=new K(c.value,c.typeInfo);return c instanceof K&&o instanceof K&&(c.value+=o.value),a.value instanceof hn&&a.value.setDataValue(this.exec,c,r.postfix,n),f}AtomicSub(e,n){let r=e.args[0];r instanceof En&&(r=r.right);const i=this.exec.getVariableName(r,n),a=n.getVariable(i);let s=e.args[1];const o=this.exec.evalExpression(s,n),c=a.value.getSubData(this.exec,r.postfix,n),f=new K(c.value,c.typeInfo);return c instanceof K&&o instanceof K&&(c.value-=o.value),a.value instanceof hn&&a.value.setDataValue(this.exec,c,r.postfix,n),f}AtomicMax(e,n){let r=e.args[0];r instanceof En&&(r=r.right);const i=this.exec.getVariableName(r,n),a=n.getVariable(i);let s=e.args[1];const o=this.exec.evalExpression(s,n),c=a.value.getSubData(this.exec,r.postfix,n),f=new K(c.value,c.typeInfo);return c instanceof K&&o instanceof K&&(c.value=Math.max(c.value,o.value)),a.value instanceof hn&&a.value.setDataValue(this.exec,c,r.postfix,n),f}AtomicMin(e,n){let r=e.args[0];r instanceof En&&(r=r.right);const i=this.exec.getVariableName(r,n),a=n.getVariable(i);let s=e.args[1];const o=this.exec.evalExpression(s,n),c=a.value.getSubData(this.exec,r.postfix,n),f=new K(c.value,c.typeInfo);return c instanceof K&&o instanceof K&&(c.value=Math.min(c.value,o.value)),a.value instanceof hn&&a.value.setDataValue(this.exec,c,r.postfix,n),f}AtomicAnd(e,n){let r=e.args[0];r instanceof En&&(r=r.right);const i=this.exec.getVariableName(r,n),a=n.getVariable(i);let s=e.args[1];const o=this.exec.evalExpression(s,n),c=a.value.getSubData(this.exec,r.postfix,n),f=new K(c.value,c.typeInfo);return c instanceof K&&o instanceof K&&(c.value=c.value&o.value),a.value instanceof hn&&a.value.setDataValue(this.exec,c,r.postfix,n),f}AtomicOr(e,n){let r=e.args[0];r instanceof En&&(r=r.right);const i=this.exec.getVariableName(r,n),a=n.getVariable(i);let s=e.args[1];const o=this.exec.evalExpression(s,n),c=a.value.getSubData(this.exec,r.postfix,n),f=new K(c.value,c.typeInfo);return c instanceof K&&o instanceof K&&(c.value=c.value|o.value),a.value instanceof hn&&a.value.setDataValue(this.exec,c,r.postfix,n),f}AtomicXor(e,n){let r=e.args[0];r instanceof En&&(r=r.right);const i=this.exec.getVariableName(r,n),a=n.getVariable(i);let s=e.args[1];const o=this.exec.evalExpression(s,n),c=a.value.getSubData(this.exec,r.postfix,n),f=new K(c.value,c.typeInfo);return c instanceof K&&o instanceof K&&(c.value=c.value^o.value),a.value instanceof hn&&a.value.setDataValue(this.exec,c,r.postfix,n),f}AtomicExchange(e,n){let r=e.args[0];r instanceof En&&(r=r.right);const i=this.exec.getVariableName(r,n),a=n.getVariable(i);let s=e.args[1];const o=this.exec.evalExpression(s,n),c=a.value.getSubData(this.exec,r.postfix,n),f=new K(c.value,c.typeInfo);return c instanceof K&&o instanceof K&&(c.value=o.value),a.value instanceof hn&&a.value.setDataValue(this.exec,c,r.postfix,n),f}AtomicCompareExchangeWeak(e,n){return console.error("TODO: atomicCompareExchangeWeak"),null}Pack4x8snorm(e,n){return console.error("TODO: pack4x8snorm"),null}Pack4x8unorm(e,n){return console.error("TODO: pack4x8unorm"),null}Pack4xI8(e,n){return console.error("TODO: pack4xI8"),null}Pack4xU8(e,n){return console.error("TODO: pack4xU8"),null}Pack4x8Clamp(e,n){return console.error("TODO: pack4x8Clamp"),null}Pack4xU8Clamp(e,n){return console.error("TODO: pack4xU8Clamp"),null}Pack2x16snorm(e,n){return console.error("TODO: pack2x16snorm"),null}Pack2x16unorm(e,n){return console.error("TODO: pack2x16unorm"),null}Pack2x16float(e,n){return console.error("TODO: pack2x16float"),null}Unpack4x8snorm(e,n){return console.error("TODO: unpack4x8snorm"),null}Unpack4x8unorm(e,n){return console.error("TODO: unpack4x8unorm"),null}Unpack4xI8(e,n){return console.error("TODO: unpack4xI8"),null}Unpack4xU8(e,n){return console.error("TODO: unpack4xU8"),null}Unpack2x16snorm(e,n){return console.error("TODO: unpack2x16snorm"),null}Unpack2x16unorm(e,n){return console.error("TODO: unpack2x16unorm"),null}Unpack2x16float(e,n){return console.error("TODO: unpack2x16float"),null}StorageBarrier(e,n){return null}TextureBarrier(e,n){return null}WorkgroupBarrier(e,n){return null}WorkgroupUniformLoad(e,n){return null}SubgroupAdd(e,n){return console.error("TODO: subgroupAdd"),null}SubgroupExclusiveAdd(e,n){return console.error("TODO: subgroupExclusiveAdd"),null}SubgroupInclusiveAdd(e,n){return console.error("TODO: subgroupInclusiveAdd"),null}SubgroupAll(e,n){return console.error("TODO: subgroupAll"),null}SubgroupAnd(e,n){return console.error("TODO: subgroupAnd"),null}SubgroupAny(e,n){return console.error("TODO: subgroupAny"),null}SubgroupBallot(e,n){return console.error("TODO: subgroupBallot"),null}SubgroupBroadcast(e,n){return console.error("TODO: subgroupBroadcast"),null}SubgroupBroadcastFirst(e,n){return console.error("TODO: subgroupBroadcastFirst"),null}SubgroupElect(e,n){return console.error("TODO: subgroupElect"),null}SubgroupMax(e,n){return console.error("TODO: subgroupMax"),null}SubgroupMin(e,n){return console.error("TODO: subgroupMin"),null}SubgroupMul(e,n){return console.error("TODO: subgroupMul"),null}SubgroupExclusiveMul(e,n){return console.error("TODO: subgroupExclusiveMul"),null}SubgroupInclusiveMul(e,n){return console.error("TODO: subgroupInclusiveMul"),null}SubgroupOr(e,n){return console.error("TODO: subgroupOr"),null}SubgroupShuffle(e,n){return console.error("TODO: subgroupShuffle"),null}SubgroupShuffleDown(e,n){return console.error("TODO: subgroupShuffleDown"),null}SubgroupShuffleUp(e,n){return console.error("TODO: subgroupShuffleUp"),null}SubgroupShuffleXor(e,n){return console.error("TODO: subgroupShuffleXor"),null}SubgroupXor(e,n){return console.error("TODO: subgroupXor"),null}QuadBroadcast(e,n){return console.error("TODO: quadBroadcast"),null}QuadSwapDiagonal(e,n){return console.error("TODO: quadSwapDiagonal"),null}QuadSwapX(e,n){return console.error("TODO: quadSwapX"),null}QuadSwapY(e,n){return console.error("TODO: quadSwapY"),null}}const GT={vec2:2,vec2f:2,vec2i:2,vec2u:2,vec2b:2,vec2h:2,vec3:3,vec3f:3,vec3i:3,vec3u:3,vec3b:3,vec3h:3,vec4:4,vec4f:4,vec4i:4,vec4u:4,vec4b:4,vec4h:4},Rr={mat2x2:[2,2,4],mat2x2f:[2,2,4],mat2x2h:[2,2,4],mat2x3:[2,3,6],mat2x3f:[2,3,6],mat2x3h:[2,3,6],mat2x4:[2,4,8],mat2x4f:[2,4,8],mat2x4h:[2,4,8],mat3x2:[3,2,6],mat3x2f:[3,2,6],mat3x2h:[3,2,6],mat3x3:[3,3,9],mat3x3f:[3,3,9],mat3x3h:[3,3,9],mat3x4:[3,4,12],mat3x4f:[3,4,12],mat3x4h:[3,4,12],mat4x2:[4,2,8],mat4x2f:[4,2,8],mat4x2h:[4,2,8],mat4x3:[4,3,12],mat4x3f:[4,3,12],mat4x3h:[4,3,12],mat4x4:[4,4,16],mat4x4f:[4,4,16],mat4x4h:[4,4,16]};class yr extends mMe{constructor(e,n){var r;super(),this.ast=e??[],this.reflection=new Ya,this.reflection.updateAST(this.ast),this.context=(r=n?.clone())!==null&&r!==void 0?r:new MR,this.builtins=new yMe(this),this.typeInfo={bool:this.getTypeInfo(pe.bool),i32:this.getTypeInfo(pe.i32),u32:this.getTypeInfo(pe.u32),f32:this.getTypeInfo(pe.f32),f16:this.getTypeInfo(pe.f16),vec2f:this.getTypeInfo(Q.vec2f),vec2u:this.getTypeInfo(Q.vec2u),vec2i:this.getTypeInfo(Q.vec2i),vec2h:this.getTypeInfo(Q.vec2h),vec3f:this.getTypeInfo(Q.vec3f),vec3u:this.getTypeInfo(Q.vec3u),vec3i:this.getTypeInfo(Q.vec3i),vec3h:this.getTypeInfo(Q.vec3h),vec4f:this.getTypeInfo(Q.vec4f),vec4u:this.getTypeInfo(Q.vec4u),vec4i:this.getTypeInfo(Q.vec4i),vec4h:this.getTypeInfo(Q.vec4h),mat2x2f:this.getTypeInfo(Q.mat2x2f),mat2x3f:this.getTypeInfo(Q.mat2x3f),mat2x4f:this.getTypeInfo(Q.mat2x4f),mat3x2f:this.getTypeInfo(Q.mat3x2f),mat3x3f:this.getTypeInfo(Q.mat3x3f),mat3x4f:this.getTypeInfo(Q.mat3x4f),mat4x2f:this.getTypeInfo(Q.mat4x2f),mat4x3f:this.getTypeInfo(Q.mat4x3f),mat4x4f:this.getTypeInfo(Q.mat4x4f)}}getVariableValue(e){var n,r;const i=(r=(n=this.context.getVariable(e))===null||n===void 0?void 0:n.value)!==null&&r!==void 0?r:null;if(i===null)return null;if(i instanceof K)return i.value;if(i instanceof U||i instanceof Be)return Array.from(i.data);if(i instanceof hn&&i.typeInfo instanceof rl){if(i.typeInfo.format.name==="u32")return Array.from(new Uint32Array(i.buffer,i.offset,i.typeInfo.count));if(i.typeInfo.format.name==="i32")return Array.from(new Int32Array(i.buffer,i.offset,i.typeInfo.count));if(i.typeInfo.format.name==="f32")return Array.from(new Float32Array(i.buffer,i.offset,i.typeInfo.count))}return console.error(`Unsupported return variable type ${i.typeInfo.name}`),null}execute(e){(e=e??{}).constants&&this._setOverrides(e.constants,this.context),this._execStatements(this.ast,this.context)}dispatchWorkgroups(e,n,r,i){const a=this.context.clone();(i=i??{}).constants&&this._setOverrides(i.constants,a),this._execStatements(this.ast,a);const s=a.getFunction(e);if(!s)return void console.error(`Function ${e} not found`);if(typeof n=="number")n=[n,1,1];else{if(n.length===0)return void console.error("Invalid dispatch count");n.length===1?n=[n[0],1,1]:n.length===2?n=[n[0],n[1],1]:n.length>3&&(n=[n[0],n[1],n[2]])}const o=n[0],c=n[1],f=n[2],d=this.getTypeInfo("vec3u");a.setVariable("@num_workgroups",new U(n,d));const p=this.reflection.getFunctionInfo(e);p===null&&console.error(`Function ${e} not found in reflection data`);for(const m in r)for(const y in r[m]){const v=r[m][y];a.variables.forEach(b=>{var w;const T=b.node;if(T?.attributes){let C=null,A=null;for(const R of T.attributes)R.name==="binding"?C=R.value:R.name==="group"&&(A=R.value);if(y==C&&m==A){let R=!1;for(const P of p.resources)if(P.name===b.name&&P.group===parseInt(m)&&P.binding===parseInt(y)){R=!0;break}if(R)if(v.texture!==void 0&&v.descriptor!==void 0){const P=new js(v.texture,this.getTypeInfo(T.type),v.descriptor,(w=v.texture.view)!==null&&w!==void 0?w:null);b.value=P}else v.uniform!==void 0?b.value=new hn(v.uniform,this.getTypeInfo(T.type)):b.value=new hn(v,this.getTypeInfo(T.type))}}})}for(let m=0;m<f;++m)for(let y=0;y<c;++y)for(let v=0;v<o;++v)a.setVariable("@workgroup_id",new U([v,y,m],this.getTypeInfo("vec3u"))),this._dispatchWorkgroup(s,[v,y,m],a)}execStatement(e,n){if(e instanceof TX)return this.evalExpression(e.value,n);if(e instanceof EX){if(e.condition){const r=this.evalExpression(e.condition,n);if(!(r instanceof K))throw new Error("Invalid break-if condition");if(!r.value)return null}return yr._breakObj}if(e instanceof CX)return yr._continueObj;if(e instanceof ap)this._let(e,n);else if(e instanceof $s)this._var(e,n);else if(e instanceof Pv)this._const(e,n);else if(e instanceof Kp)this._function(e,n);else{if(e instanceof SX)return this._if(e,n);if(e instanceof wX)return this._switch(e,n);if(e instanceof vX)return this._for(e,n);if(e instanceof yX)return this._while(e,n);if(e instanceof _X)return this._loop(e,n);if(e instanceof AE){const r=n.clone();return r.currentFunctionName=n.currentFunctionName,this._execStatements(e.body,r)}if(e instanceof xX)this._assign(e,n);else if(e instanceof bX)this._increment(e,n);else{if(e instanceof Ls)return null;if(e instanceof TR){const r=e.name;n.getVariable(r)===null&&n.setVariable(r,new K(0,this.getTypeInfo("u32")))}else if(e instanceof AR)this._call(e,n);else{if(e instanceof AX||e instanceof ER)return null;console.error("Invalid statement type.",e,`Line ${e.line}`)}}}return null}evalExpression(e,n){return e instanceof da?this._evalBinaryOp(e,n):e instanceof Dn?this._evalLiteral(e,n):e instanceof di?this._evalVariable(e,n):e instanceof CR?this._evalCall(e,n):e instanceof Fa?this._evalCreate(e,n):e instanceof PX?this._evalConst(e,n):e instanceof RX?this._evalBitcast(e,n):e instanceof En?this._evalUnaryOp(e,n):(console.error("Invalid expression type",e,`Line ${e.line}`),null)}getTypeInfo(e){var n;if(e instanceof pe){const i=this.reflection.getTypeInfo(e);if(i!==null)return i}let r=(n=this.typeInfo[e])!==null&&n!==void 0?n:null;return r!==null||(r=this.reflection.getTypeInfoByName(e)),r}_setOverrides(e,n){for(const r in e){const i=e[r],a=this.reflection.getOverrideInfo(r);a!==null?(a.type===null&&(a.type=this.getTypeInfo("u32")),a.type.name==="u32"||a.type.name==="i32"||a.type.name==="f32"||a.type.name==="f16"?n.setVariable(r,new K(i,a.type)):a.type.name==="bool"?n.setVariable(r,new K(i?1:0,a.type)):a.type.name==="vec2"||a.type.name==="vec3"||a.type.name==="vec4"||a.type.name==="vec2f"||a.type.name==="vec3f"||a.type.name==="vec4f"||a.type.name==="vec2i"||a.type.name==="vec3i"||a.type.name==="vec4i"||a.type.name==="vec2u"||a.type.name==="vec3u"||a.type.name==="vec4u"||a.type.name==="vec2h"||a.type.name==="vec3h"||a.type.name==="vec4h"?n.setVariable(r,new U(i,a.type)):console.error(`Invalid constant type for ${r}`)):console.error(`Override ${r} does not exist in the shader.`)}}_dispatchWorkgroup(e,n,r){const i=[1,1,1];for(const d of e.node.attributes)if(d.name==="workgroup_size"){if(d.value.length>0){const p=r.getVariableValue(d.value[0]);i[0]=p instanceof K?p.value:parseInt(d.value[0])}if(d.value.length>1){const p=r.getVariableValue(d.value[1]);i[1]=p instanceof K?p.value:parseInt(d.value[1])}if(d.value.length>2){const p=r.getVariableValue(d.value[2]);i[2]=p instanceof K?p.value:parseInt(d.value[2])}}const a=this.getTypeInfo("vec3u"),s=this.getTypeInfo("u32");r.setVariable("@workgroup_size",new U(i,a));const o=i[0],c=i[1],f=i[2];for(let d=0,p=0;d<f;++d)for(let m=0;m<c;++m)for(let y=0;y<o;++y,++p){const v=[y,m,d],b=[y+n[0]*i[0],m+n[1]*i[1],d+n[2]*i[2]];r.setVariable("@local_invocation_id",new U(v,a)),r.setVariable("@global_invocation_id",new U(b,a)),r.setVariable("@local_invocation_index",new K(p,s)),this._dispatchExec(e,r)}}_dispatchExec(e,n){for(const r of e.node.args)for(const i of r.attributes)if(i.name==="builtin"){const a=`@${i.value}`,s=n.getVariable(a);s!==void 0&&n.variables.set(r.name,s)}this._execStatements(e.node.body,n)}getVariableName(e,n){for(;e instanceof En;)e=e.right;return e instanceof di?e.name:(console.error("Unknown variable type",e,"Line",e.line),null)}_execStatements(e,n){for(const r of e){if(r instanceof Array){const a=n.clone(),s=this._execStatements(r,a);if(s)return s;continue}const i=this.execStatement(r,n);if(i)return i}return null}_call(e,n){const r=n.clone();r.currentFunctionName=e.name;const i=n.getFunction(e.name);if(i){for(let a=0;a<i.node.args.length;++a){const s=i.node.args[a],o=this.evalExpression(e.args[a],r);r.setVariable(s.name,o,s)}this._execStatements(i.node.body,r)}else e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)&&this._evalCreate(e,n)}_increment(e,n){const r=this.getVariableName(e.variable,n),i=n.getVariable(r);i?e.operator==="++"?i.value instanceof K?i.value.value++:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):e.operator==="--"?i.value instanceof K?i.value.value--:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):console.error(`Unknown increment operator ${e.operator}. Line ${e.line}`):console.error(`Variable ${r} not found. Line ${e.line}`)}_getVariableData(e,n){if(e instanceof di){const r=this.getVariableName(e,n),i=n.getVariable(r);return i===null?(console.error(`Variable ${r} not found. Line ${e.line}`),null):i.value.getSubData(this,e.postfix,n)}if(e instanceof En){if(e.operator==="*"){const r=this._getVariableData(e.right,n);return r instanceof Yu?r.reference.getSubData(this,e.postfix,n):(console.error(`Variable ${e.right} is not a pointer. Line ${e.line}`),null)}if(e.operator==="&"){const r=this._getVariableData(e.right,n);return new Yu(r)}}return null}_assign(e,n){let r=null,i="<var>",a=null;if(e.variable instanceof En){const c=this._getVariableData(e.variable,n),f=this.evalExpression(e.value,n),d=e.operator;if(d==="="){if(c instanceof K||c instanceof U||c instanceof Be){if(f instanceof K||f instanceof U||f instanceof Be&&c.data.length===f.data.length)return void c.data.set(f.data);console.error(`Invalid assignment. Line ${e.line}`)}else if(c instanceof hn&&f instanceof hn&&c.buffer.byteLength-c.offset>=f.buffer.byteLength-f.offset)return void(c.buffer.byteLength%4==0?new Uint32Array(c.buffer,c.offset,c.typeInfo.size/4).set(new Uint32Array(f.buffer,f.offset,f.typeInfo.size/4)):new Uint8Array(c.buffer,c.offset,c.typeInfo.size).set(new Uint8Array(f.buffer,f.offset,f.typeInfo.size)));return console.error(`Invalid assignment. Line ${e.line}`),null}if(d==="+=")return c instanceof K||c instanceof U||c instanceof Be?f instanceof K||f instanceof U||f instanceof Be?void c.data.set(f.data.map((p,m)=>c.data[m]+p)):void console.error(`Invalid assignment . Line ${e.line}`):void console.error(`Invalid assignment. Line ${e.line}`);if(d==="-=")return(c instanceof K||c instanceof U||c instanceof Be)&&(f instanceof K||f instanceof U||f instanceof Be)?void c.data.set(f.data.map((p,m)=>c.data[m]-p)):void console.error(`Invalid assignment. Line ${e.line}`)}if(e.variable instanceof En){if(e.variable.operator==="*"){i=this.getVariableName(e.variable.right,n);const c=n.getVariable(i);if(!(c&&c.value instanceof Yu))return void console.error(`Variable ${i} is not a pointer. Line ${e.line}`);r=c.value.reference;let f=e.variable.postfix;if(!f){let d=e.variable.right;for(;d instanceof En;){if(d.postfix){f=d.postfix;break}d=d.right}}f&&(r=r.getSubData(this,f,n))}}else{a=e.variable.postfix,i=this.getVariableName(e.variable,n);const c=n.getVariable(i);if(c===null)return void console.error(`Variable ${i} not found. Line ${e.line}`);r=c.value}if(r instanceof Yu&&(r=r.reference),r===null)return void console.error(`Variable ${i} not found. Line ${e.line}`);const s=this.evalExpression(e.value,n),o=e.operator;if(o!=="="){const c=r.getSubData(this,a,n);if(c instanceof U&&s instanceof K){const f=c.data,d=s.value;if(o==="+=")for(let p=0;p<f.length;++p)f[p]+=d;else if(o==="-=")for(let p=0;p<f.length;++p)f[p]-=d;else if(o==="*=")for(let p=0;p<f.length;++p)f[p]*=d;else if(o==="/=")for(let p=0;p<f.length;++p)f[p]/=d;else if(o==="%=")for(let p=0;p<f.length;++p)f[p]%=d;else if(o==="&=")for(let p=0;p<f.length;++p)f[p]&=d;else if(o==="|=")for(let p=0;p<f.length;++p)f[p]|=d;else if(o==="^=")for(let p=0;p<f.length;++p)f[p]^=d;else if(o==="<<=")for(let p=0;p<f.length;++p)f[p]<<=d;else if(o===">>=")for(let p=0;p<f.length;++p)f[p]>>=d;else console.error(`Invalid operator ${o}. Line ${e.line}`)}else if(c instanceof U&&s instanceof U){const f=c.data,d=s.data;if(f.length!==d.length)return void console.error(`Vector length mismatch. Line ${e.line}`);if(o==="+=")for(let p=0;p<f.length;++p)f[p]+=d[p];else if(o==="-=")for(let p=0;p<f.length;++p)f[p]-=d[p];else if(o==="*=")for(let p=0;p<f.length;++p)f[p]*=d[p];else if(o==="/=")for(let p=0;p<f.length;++p)f[p]/=d[p];else if(o==="%=")for(let p=0;p<f.length;++p)f[p]%=d[p];else if(o==="&=")for(let p=0;p<f.length;++p)f[p]&=d[p];else if(o==="|=")for(let p=0;p<f.length;++p)f[p]|=d[p];else if(o==="^=")for(let p=0;p<f.length;++p)f[p]^=d[p];else if(o==="<<=")for(let p=0;p<f.length;++p)f[p]<<=d[p];else if(o===">>=")for(let p=0;p<f.length;++p)f[p]>>=d[p];else console.error(`Invalid operator ${o}. Line ${e.line}`)}else{if(!(c instanceof K&&s instanceof K))return void console.error(`Invalid type for ${e.operator} operator. Line ${e.line}`);o==="+="?c.value+=s.value:o==="-="?c.value-=s.value:o==="*="?c.value*=s.value:o==="/="?c.value/=s.value:o==="%="?c.value%=s.value:o==="&="?c.value&=s.value:o==="|="?c.value|=s.value:o==="^="?c.value^=s.value:o==="<<="?c.value<<=s.value:o===">>="?c.value>>=s.value:console.error(`Invalid operator ${o}. Line ${e.line}`)}return void(r instanceof hn&&r.setDataValue(this,c,a,n))}if(r instanceof hn)r.setDataValue(this,s,a,n);else if(a){if(!(r instanceof U||r instanceof Be))return void console.error(`Variable ${i} is not a vector or matrix. Line ${e.line}`);if(a instanceof Vf){const c=this.evalExpression(a.index,n).value;if(r instanceof U){if(!(s instanceof K))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[c]=s.value}else{if(!(r instanceof Be))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);{const f=this.evalExpression(a.index,n).value;if(f<0)return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);if(!(s instanceof U))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);{const d=r.typeInfo.getTypeName();if(d==="mat2x2"||d==="mat2x2f"||d==="mat2x2h"){if(!(f<2&&s.data.length===2))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[2*f]=s.data[0],r.data[2*f+1]=s.data[1]}else if(d==="mat2x3"||d==="mat2x3f"||d==="mat2x3h"){if(!(f<2&&s.data.length===3))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[3*f]=s.data[0],r.data[3*f+1]=s.data[1],r.data[3*f+2]=s.data[2]}else if(d==="mat2x4"||d==="mat2x4f"||d==="mat2x4h"){if(!(f<2&&s.data.length===4))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[4*f]=s.data[0],r.data[4*f+1]=s.data[1],r.data[4*f+2]=s.data[2],r.data[4*f+3]=s.data[3]}else if(d==="mat3x2"||d==="mat3x2f"||d==="mat3x2h"){if(!(f<3&&s.data.length===2))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[2*f]=s.data[0],r.data[2*f+1]=s.data[1]}else if(d==="mat3x3"||d==="mat3x3f"||d==="mat3x3h"){if(!(f<3&&s.data.length===3))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[3*f]=s.data[0],r.data[3*f+1]=s.data[1],r.data[3*f+2]=s.data[2]}else if(d==="mat3x4"||d==="mat3x4f"||d==="mat3x4h"){if(!(f<3&&s.data.length===4))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[4*f]=s.data[0],r.data[4*f+1]=s.data[1],r.data[4*f+2]=s.data[2],r.data[4*f+3]=s.data[3]}else if(d==="mat4x2"||d==="mat4x2f"||d==="mat4x2h"){if(!(f<4&&s.data.length===2))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[2*f]=s.data[0],r.data[2*f+1]=s.data[1]}else if(d==="mat4x3"||d==="mat4x3f"||d==="mat4x3h"){if(!(f<4&&s.data.length===3))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[3*f]=s.data[0],r.data[3*f+1]=s.data[1],r.data[3*f+2]=s.data[2]}else{if(d!=="mat4x4"&&d!=="mat4x4f"&&d!=="mat4x4h")return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);if(!(f<4&&s.data.length===4))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[4*f]=s.data[0],r.data[4*f+1]=s.data[1],r.data[4*f+2]=s.data[2],r.data[4*f+3]=s.data[3]}}}}}else if(a instanceof Bc){const c=a.value;if(!(r instanceof U))return void console.error(`Invalid assignment to ${c}. Variable ${i} is not a vector. Line ${e.line}`);if(s instanceof K){if(c.length>1)return void console.error(`Invalid assignment to ${c} for variable ${i}. Line ${e.line}`);if(c==="x")r.data[0]=s.value;else if(c==="y"){if(r.data.length<2)return void console.error(`Invalid assignment to ${c} for variable ${i}. Line ${e.line}`);r.data[1]=s.value}else if(c==="z"){if(r.data.length<3)return void console.error(`Invalid assignment to ${c} for variable ${i}. Line ${e.line}`);r.data[2]=s.value}else if(c==="w"){if(r.data.length<4)return void console.error(`Invalid assignment to ${c} for variable ${i}. Line ${e.line}`);r.data[3]=s.value}}else{if(!(s instanceof U))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);if(c.length!==s.data.length)return void console.error(`Invalid assignment to ${c} for variable ${i}. Line ${e.line}`);for(let f=0;f<c.length;++f){const d=c[f];if(d==="x"||d==="r")r.data[0]=s.data[f];else if(d==="y"||d==="g"){if(s.data.length<2)return void console.error(`Invalid assignment to ${d} for variable ${i}. Line ${e.line}`);r.data[1]=s.data[f]}else if(d==="z"||d==="b"){if(s.data.length<3)return void console.error(`Invalid assignment to ${d} for variable ${i}. Line ${e.line}`);r.data[2]=s.data[f]}else{if(d!=="w"&&d!=="a")return void console.error(`Invalid assignment to ${d} for variable ${i}. Line ${e.line}`);if(s.data.length<4)return void console.error(`Invalid assignment to ${d} for variable ${i}. Line ${e.line}`);r.data[3]=s.data[f]}}}}}else r instanceof K&&s instanceof K?r.value=s.value:r instanceof U&&s instanceof U||r instanceof Be&&s instanceof Be?r.data.set(s.data):console.error(`Invalid assignment to ${i}. Line ${e.line}`)}_function(e,n){const r=new OR(e);n.functions.set(e.name,r)}_const(e,n){let r=null;e.value!==null&&(r=this.evalExpression(e.value,n)),n.createVariable(e.name,r,e)}_let(e,n){let r=null;if(e.value!==null){if(r=this.evalExpression(e.value,n),r===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof En||(r=r.clone())}else{const i=e.type.name;if(i==="f32"||i==="i32"||i==="u32"||i==="bool"||i==="f16"||i==="vec2"||i==="vec3"||i==="vec4"||i==="vec2f"||i==="vec3f"||i==="vec4f"||i==="vec2i"||i==="vec3i"||i==="vec4i"||i==="vec2u"||i==="vec3u"||i==="vec4u"||i==="vec2h"||i==="vec3h"||i==="vec4h"||i==="vec2b"||i==="vec3b"||i==="vec4b"||i==="mat2x2"||i==="mat2x3"||i==="mat2x4"||i==="mat3x2"||i==="mat3x3"||i==="mat3x4"||i==="mat4x2"||i==="mat4x3"||i==="mat4x4"||i==="mat2x2f"||i==="mat2x3f"||i==="mat2x4f"||i==="mat3x2f"||i==="mat3x3f"||i==="mat3x4f"||i==="mat4x2f"||i==="mat4x3f"||i==="mat4x4f"||i==="mat2x2h"||i==="mat2x3h"||i==="mat2x4h"||i==="mat3x2h"||i==="mat3x3h"||i==="mat3x4h"||i==="mat4x2h"||i==="mat4x3h"||i==="mat4x4h"||i==="array"){const a=new Fa(e.type,[]);r=this._evalCreate(a,n)}}n.createVariable(e.name,r,e)}_var(e,n){let r=null;if(e.value!==null){if(r=this.evalExpression(e.value,n),r===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof En||(r=r.clone())}else{if(e.type===null)return void console.error(`Variable ${e.name} has no type. Line ${e.line}`);const i=e.type.name;if(i==="f32"||i==="i32"||i==="u32"||i==="bool"||i==="f16"||i==="vec2"||i==="vec3"||i==="vec4"||i==="vec2f"||i==="vec3f"||i==="vec4f"||i==="vec2i"||i==="vec3i"||i==="vec4i"||i==="vec2u"||i==="vec3u"||i==="vec4u"||i==="vec2h"||i==="vec3h"||i==="vec4h"||i==="vec2b"||i==="vec3b"||i==="vec4b"||i==="mat2x2"||i==="mat2x3"||i==="mat2x4"||i==="mat3x2"||i==="mat3x3"||i==="mat3x4"||i==="mat4x2"||i==="mat4x3"||i==="mat4x4"||i==="mat2x2f"||i==="mat2x3f"||i==="mat2x4f"||i==="mat3x2f"||i==="mat3x3f"||i==="mat3x4f"||i==="mat4x2f"||i==="mat4x3f"||i==="mat4x4f"||i==="mat2x2h"||i==="mat2x3h"||i==="mat2x4h"||i==="mat3x2h"||i==="mat3x3h"||i==="mat3x4h"||i==="mat4x2h"||i==="mat4x3h"||i==="mat4x4h"||e.type instanceof sp||e.type instanceof Ls||e.type instanceof Q){const a=new Fa(e.type,[]);r=this._evalCreate(a,n)}}n.createVariable(e.name,r,e)}_switch(e,n){n=n.clone();const r=this.evalExpression(e.condition,n);if(!(r instanceof K))return console.error(`Invalid if condition. Line ${e.line}`),null;let i=null;for(const a of e.cases)if(a instanceof IX)for(const s of a.selectors){if(s instanceof Ov){i=a;continue}const o=this.evalExpression(s,n);if(!(o instanceof K))return console.error(`Invalid case selector. Line ${e.line}`),null;if(o.value===r.value)return this._execStatements(a.body,n)}else a instanceof kX&&(i=a);return i?this._execStatements(i.body,n):null}_if(e,n){n=n.clone();const r=this.evalExpression(e.condition,n);if(!(r instanceof K))return console.error(`Invalid if condition. Line ${e.line}`),null;if(r.value)return this._execStatements(e.body,n);for(const i of e.elseif){const a=this.evalExpression(i.condition,n);if(!(a instanceof K))return console.error(`Invalid if condition. Line ${e.line}`),null;if(a.value)return this._execStatements(i.body,n)}return e.else?this._execStatements(e.else,n):null}_getScalarValue(e){return e instanceof K?e.value:(console.error("Expected scalar value.",e),0)}_for(e,n){for(n=n.clone(),this.execStatement(e.init,n);this._getScalarValue(this.evalExpression(e.condition,n));){const r=this._execStatements(e.body,n);if(r===yr._breakObj)break;if(r!==null&&r!==yr._continueObj)return r;this.execStatement(e.increment,n)}return null}_loop(e,n){for(n=n.clone();;){const r=this._execStatements(e.body,n);if(r===yr._breakObj)break;if(r===yr._continueObj){if(e.continuing&&this._execStatements(e.continuing.body,n)===yr._breakObj)break}else if(r!==null)return r}return null}_while(e,n){for(n=n.clone();this._getScalarValue(this.evalExpression(e.condition,n));){const r=this._execStatements(e.body,n);if(r===yr._breakObj)break;if(r!==yr._continueObj&&r!==null)return r}return null}_evalBitcast(e,n){const r=this.evalExpression(e.value,n),i=e.type;if(r instanceof K){const a=Xj(r.value,r.typeInfo.name,i.name);return new K(a,this.getTypeInfo(i))}if(r instanceof U){const a=r.typeInfo.getTypeName();let s="";if(a.endsWith("f"))s="f32";else if(a.endsWith("i"))s="i32";else if(a.endsWith("u"))s="u32";else if(a.endsWith("b"))s="bool";else{if(!a.endsWith("h"))return console.error(`Unknown vector type ${a}. Line ${e.line}`),null;s="f16"}const o=i.getTypeName();let c="";if(o.endsWith("f"))c="f32";else if(o.endsWith("i"))c="i32";else if(o.endsWith("u"))c="u32";else if(o.endsWith("b"))c="bool";else{if(!o.endsWith("h"))return console.error(`Unknown vector type ${c}. Line ${e.line}`),null;c="f16"}const f=(function(d,p,m){if(p===m)return d;const y=new Array(d.length);for(let v=0;v<d.length;v++)y[v]=Xj(d[v],p,m);return y})(Array.from(r.data),s,c);return new U(f,this.getTypeInfo(i))}return console.error(`TODO: bitcast for ${r.typeInfo.name}. Line ${e.line}`),null}_evalConst(e,n){return n.getVariableValue(e.name).clone().getSubData(this,e.postfix,n)}_evalCreate(e,n){var r;if(e instanceof Fa){if(e.type===null)return EE.void;switch(e.type.getTypeName()){case"bool":case"i32":case"u32":case"f32":case"f16":return this._callConstructorValue(e,n);case"vec2":case"vec3":case"vec4":case"vec2f":case"vec3f":case"vec4f":case"vec2h":case"vec3h":case"vec4h":case"vec2i":case"vec3i":case"vec4i":case"vec2u":case"vec3u":case"vec4u":case"vec2b":case"vec3b":case"vec4b":return this._callConstructorVec(e,n);case"mat2x2":case"mat2x2f":case"mat2x2h":case"mat2x3":case"mat2x3f":case"mat2x3h":case"mat2x4":case"mat2x4f":case"mat2x4h":case"mat3x2":case"mat3x2f":case"mat3x2h":case"mat3x3":case"mat3x3f":case"mat3x3h":case"mat3x4":case"mat3x4f":case"mat3x4h":case"mat4x2":case"mat4x2f":case"mat4x2h":case"mat4x3":case"mat4x3f":case"mat4x3h":case"mat4x4":case"mat4x4f":case"mat4x4h":return this._callConstructorMatrix(e,n)}}const i=e instanceof Fa?e.type.name:e.name,a=e instanceof Fa?this.getTypeInfo(e.type):this.getTypeInfo(e.name);if(a===null)return console.error(`Unknown type ${i}. Line ${e.line}`),null;if(a.size===0)return null;const s=new hn(new ArrayBuffer(a.size),a,0);if(a instanceof Qo){if(e.args)for(let o=0;o<e.args.length;++o){const c=a.members[o],f=e.args[o],d=this.evalExpression(f,n);s.setData(this,d,c.type,c.offset,n)}}else if(a instanceof rl){let o=0;if(e.args)for(let c=0;c<e.args.length;++c){const f=e.args[c],d=this.evalExpression(f,n);a.format===null&&(((r=d.typeInfo)===null||r===void 0?void 0:r.name)==="x32"?a.format=this.getTypeInfo("i32"):a.format=d.typeInfo),s.setData(this,d,a.format,o,n),o+=a.stride}}else console.error(`Unknown type "${i}". Line ${e.line}`);return e instanceof Fa?s.getSubData(this,e.postfix,n):s}_evalLiteral(e,n){const r=this.getTypeInfo(e.type),i=r.name;return i==="x32"||i==="u32"||i==="f32"||i==="f16"||i==="i32"||i==="bool"?new K(e.scalarValue,r):i==="vec2"||i==="vec3"||i==="vec4"||i==="vec2f"||i==="vec3f"||i==="vec4f"||i==="vec2h"||i==="vec3h"||i==="vec4h"||i==="vec2i"||i==="vec3i"||i==="vec4i"||i==="vec2u"||i==="vec3u"||i==="vec4u"?this._callConstructorVec(e,n):i==="mat2x2"||i==="mat2x3"||i==="mat2x4"||i==="mat3x2"||i==="mat3x3"||i==="mat3x4"||i==="mat4x2"||i==="mat4x3"||i==="mat4x4"||i==="mat2x2f"||i==="mat2x3f"||i==="mat2x4f"||i==="mat3x2f"||i==="mat3x3f"||i==="mat3x4f"||i==="mat4x2f"||i==="mat4x3f"||i==="mat4x4f"||i==="mat2x2h"||i==="mat2x3h"||i==="mat2x4h"||i==="mat3x2h"||i==="mat3x3h"||i==="mat3x4h"||i==="mat4x2h"||i==="mat4x3h"||i==="mat4x4h"?this._callConstructorMatrix(e,n):e.value}_evalVariable(e,n){const r=n.getVariableValue(e.name);return r===null?r:r.getSubData(this,e.postfix,n)}_maxFormatTypeInfo(e){let n=e[0];if(n.name==="f32")return n;for(let r=1;r<e.length;++r){const i=yr._priority.get(n.name);yr._priority.get(e[r].name)<i&&(n=e[r])}return n.name==="x32"?this.getTypeInfo("i32"):n}_evalUnaryOp(e,n){const r=this.evalExpression(e.right,n);if(e.operator==="&")return new Yu(r);if(e.operator==="*")return r instanceof Yu?r.reference.getSubData(this,e.postfix,n):(console.error(`Invalid dereference. Line ${e.line}`),null);const i=r instanceof K?r.value:r instanceof U?Array.from(r.data):null;switch(e.operator){case"+":{if(Se(i)){const o=i.map((c,f)=>+c);return new U(o,r.typeInfo)}const a=i,s=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new K(+a,s)}case"-":{if(Se(i)){const o=i.map((c,f)=>-c);return new U(o,r.typeInfo)}const a=i,s=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new K(-a,s)}case"!":{if(Se(i)){const o=i.map((c,f)=>c?0:1);return new U(o,r.typeInfo)}const a=i,s=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new K(a?0:1,s)}case"~":{if(Se(i)){const o=i.map((c,f)=>~c);return new U(o,r.typeInfo)}const a=i,s=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new K(~a,s)}}return console.error(`Invalid unary operator ${e.operator}. Line ${e.line}`),null}_evalBinaryOp(e,n){const r=this.evalExpression(e.left,n),i=this.evalExpression(e.right,n),a=r instanceof K?r.value:r instanceof U||r instanceof Be?Array.from(r.data):null,s=i instanceof K?i.value:i instanceof U||i instanceof Be?Array.from(i.data):null;switch(e.operator){case"+":{if(Se(a)&&Se(s)){const d=a,p=s;if(d.length!==p.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const m=d.map((y,v)=>y+p[v]);return new U(m,r.typeInfo)}if(Se(a)){const d=s,p=a.map((m,y)=>m+d);return new U(p,r.typeInfo)}if(Se(s)){const d=a,p=s.map((m,y)=>d+m);return new U(p,i.typeInfo)}const o=a,c=s,f=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new K(o+c,f)}case"-":{if(Se(a)&&Se(s)){const d=a,p=s;if(d.length!==p.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const m=d.map((y,v)=>y-p[v]);return new U(m,r.typeInfo)}if(Se(a)){const d=s,p=a.map((m,y)=>m-d);return new U(p,r.typeInfo)}if(Se(s)){const d=a,p=s.map((m,y)=>d-m);return new U(p,i.typeInfo)}const o=a,c=s,f=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new K(o-c,f)}case"*":{if(Se(a)&&Se(s)){const d=a,p=s;if(r instanceof Be&&i instanceof Be){const m=(function(w,T,C,A){if(Rr[T.name]===void 0||Rr[A.name]===void 0)return null;const R=Rr[T.name][0],P=Rr[T.name][1],O=Rr[A.name][0];if(R!==Rr[A.name][1])return null;const k=new Array(O*P);for(let D=0;D<P;D++)for(let L=0;L<O;L++){let $=0;for(let j=0;j<R;j++)$+=w[j*P+D]*C[L*R+j];k[D*O+L]=$}return k})(d,r.typeInfo,p,i.typeInfo);if(m===null)return console.error(`Matrix multiplication failed. Line ${e.line}.`),null;const y=Rr[i.typeInfo.name][0],v=Rr[r.typeInfo.name][1],b=this.getTypeInfo(`mat${y}x${v}f`);return new Be(m,b)}if(r instanceof Be&&i instanceof U){const m=(function(y,v,b,w){if(Rr[v.name]===void 0||GT[w.name]===void 0)return null;const T=Rr[v.name][0],C=Rr[v.name][1];if(T!==b.length)return null;const A=new Array(C);for(let R=0;R<C;R++){let P=0;for(let O=0;O<T;O++)P+=y[O*C+R]*b[O];A[R]=P}return A})(d,r.typeInfo,p,i.typeInfo);return m===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new U(m,i.typeInfo)}if(r instanceof U&&i instanceof Be){const m=(function(y,v,b,w){if(GT[v.name]===void 0||Rr[w.name]===void 0)return null;const T=Rr[w.name][0],C=Rr[w.name][1];if(C!==y.length)return null;const A=[];for(let R=0;R<T;R++){let P=0;for(let O=0;O<C;O++)P+=y[O]*b[O*T+R];A[R]=P}return A})(d,r.typeInfo,p,i.typeInfo);return m===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new U(m,r.typeInfo)}{if(d.length!==p.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const m=d.map((y,v)=>y*p[v]);return new U(m,r.typeInfo)}}if(Se(a)){const d=s,p=a.map((m,y)=>m*d);return r instanceof Be?new Be(p,r.typeInfo):new U(p,r.typeInfo)}if(Se(s)){const d=a,p=s.map((m,y)=>d*m);return i instanceof Be?new Be(p,i.typeInfo):new U(p,i.typeInfo)}const o=a,c=s,f=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new K(o*c,f)}case"%":{if(Se(a)&&Se(s)){const d=a,p=s;if(d.length!==p.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const m=d.map((y,v)=>y%p[v]);return new U(m,r.typeInfo)}if(Se(a)){const d=s,p=a.map((m,y)=>m%d);return new U(p,r.typeInfo)}if(Se(s)){const d=a,p=s.map((m,y)=>d%m);return new U(p,i.typeInfo)}const o=a,c=s,f=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new K(o%c,f)}case"/":{if(Se(a)&&Se(s)){const d=a,p=s;if(d.length!==p.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const m=d.map((y,v)=>y/p[v]);return new U(m,r.typeInfo)}if(Se(a)){const d=s,p=a.map((m,y)=>m/d);return new U(p,r.typeInfo)}if(Se(s)){const d=a,p=s.map((m,y)=>d/m);return new U(p,i.typeInfo)}const o=a,c=s,f=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new K(o/c,f)}case"&":{if(Se(a)&&Se(s)){const d=a,p=s;if(d.length!==p.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const m=d.map((y,v)=>y&p[v]);return new U(m,r.typeInfo)}if(Se(a)){const d=s,p=a.map((m,y)=>m&d);return new U(p,r.typeInfo)}if(Se(s)){const d=a,p=s.map((m,y)=>d&m);return new U(p,i.typeInfo)}const o=a,c=s,f=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new K(o&c,f)}case"|":{if(Se(a)&&Se(s)){const d=a,p=s;if(d.length!==p.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const m=d.map((y,v)=>y|p[v]);return new U(m,r.typeInfo)}if(Se(a)){const d=s,p=a.map((m,y)=>m|d);return new U(p,r.typeInfo)}if(Se(s)){const d=a,p=s.map((m,y)=>d|m);return new U(p,i.typeInfo)}const o=a,c=s,f=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new K(o|c,f)}case"^":{if(Se(a)&&Se(s)){const d=a,p=s;if(d.length!==p.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const m=d.map((y,v)=>y^p[v]);return new U(m,r.typeInfo)}if(Se(a)){const d=s,p=a.map((m,y)=>m^d);return new U(p,r.typeInfo)}if(Se(s)){const d=a,p=s.map((m,y)=>d^m);return new U(p,i.typeInfo)}const o=a,c=s,f=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new K(o^c,f)}case"<<":{if(Se(a)&&Se(s)){const d=a,p=s;if(d.length!==p.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const m=d.map((y,v)=>y<<p[v]);return new U(m,r.typeInfo)}if(Se(a)){const d=s,p=a.map((m,y)=>m<<d);return new U(p,r.typeInfo)}if(Se(s)){const d=a,p=s.map((m,y)=>d<<m);return new U(p,i.typeInfo)}const o=a,c=s,f=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new K(o<<c,f)}case">>":{if(Se(a)&&Se(s)){const d=a,p=s;if(d.length!==p.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const m=d.map((y,v)=>y>>p[v]);return new U(m,r.typeInfo)}if(Se(a)){const d=s,p=a.map((m,y)=>m>>d);return new U(p,r.typeInfo)}if(Se(s)){const d=a,p=s.map((m,y)=>d>>m);return new U(p,i.typeInfo)}const o=a,c=s,f=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new K(o>>c,f)}case">":if(Se(a)&&Se(s)){const o=a,c=s;if(o.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const f=o.map((d,p)=>d>c[p]?1:0);return new U(f,r.typeInfo)}if(Se(a)){const o=s,c=a.map((f,d)=>f>o?1:0);return new U(c,r.typeInfo)}if(Se(s)){const o=a,c=s.map((f,d)=>o>f?1:0);return new U(c,i.typeInfo)}return new K(a>s?1:0,this.getTypeInfo("bool"));case"<":if(Se(a)&&Se(s)){const o=a,c=s;if(o.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const f=o.map((d,p)=>d<c[p]?1:0);return new U(f,r.typeInfo)}if(Se(a)){const o=s,c=a.map((f,d)=>f<o?1:0);return new U(c,r.typeInfo)}if(Se(s)){const o=a,c=s.map((f,d)=>o<f?1:0);return new U(c,i.typeInfo)}return new K(a<s?1:0,this.getTypeInfo("bool"));case"==":if(Se(a)&&Se(s)){const o=a,c=s;if(o.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const f=o.map((d,p)=>d===c[p]?1:0);return new U(f,r.typeInfo)}if(Se(a)){const o=s,c=a.map((f,d)=>f==o?1:0);return new U(c,r.typeInfo)}if(Se(s)){const o=a,c=s.map((f,d)=>o==f?1:0);return new U(c,i.typeInfo)}return new K(a===s?1:0,this.getTypeInfo("bool"));case"!=":if(Se(a)&&Se(s)){const o=a,c=s;if(o.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const f=o.map((d,p)=>d!==c[p]?1:0);return new U(f,r.typeInfo)}if(Se(a)){const o=s,c=a.map((f,d)=>f!==o?1:0);return new U(c,r.typeInfo)}if(Se(s)){const o=a,c=s.map((f,d)=>o!==f?1:0);return new U(c,i.typeInfo)}return new K(a!==s?1:0,this.getTypeInfo("bool"));case">=":if(Se(a)&&Se(s)){const o=a,c=s;if(o.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const f=o.map((d,p)=>d>=c[p]?1:0);return new U(f,r.typeInfo)}if(Se(a)){const o=s,c=a.map((f,d)=>f>=o?1:0);return new U(c,r.typeInfo)}if(Se(s)){const o=a,c=s.map((f,d)=>o>=f?1:0);return new U(c,i.typeInfo)}return new K(a>=s?1:0,this.getTypeInfo("bool"));case"<=":if(Se(a)&&Se(s)){const o=a,c=s;if(o.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const f=o.map((d,p)=>d<=c[p]?1:0);return new U(f,r.typeInfo)}if(Se(a)){const o=s,c=a.map((f,d)=>f<=o?1:0);return new U(c,r.typeInfo)}if(Se(s)){const o=a,c=s.map((f,d)=>o<=f?1:0);return new U(c,i.typeInfo)}return new K(a<=s?1:0,this.getTypeInfo("bool"));case"&&":if(Se(a)&&Se(s)){const o=a,c=s;if(o.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const f=o.map((d,p)=>d&&c[p]?1:0);return new U(f,r.typeInfo)}if(Se(a)){const o=s,c=a.map((f,d)=>f&&o?1:0);return new U(c,r.typeInfo)}if(Se(s)){const o=a,c=s.map((f,d)=>o&&f?1:0);return new U(c,i.typeInfo)}return new K(a&&s?1:0,this.getTypeInfo("bool"));case"||":if(Se(a)&&Se(s)){const o=a,c=s;if(o.length!==c.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const f=o.map((d,p)=>d||c[p]?1:0);return new U(f,r.typeInfo)}if(Se(a)){const o=s,c=a.map((f,d)=>f||o?1:0);return new U(c,r.typeInfo)}if(Se(s)){const o=a,c=s.map((f,d)=>o||f?1:0);return new U(c,i.typeInfo)}return new K(a||s?1:0,this.getTypeInfo("bool"))}return console.error(`Unknown operator ${e.operator}. Line ${e.line}`),null}_evalCall(e,n){if(e.cachedReturnValue!==null)return e.cachedReturnValue;const r=n.clone();r.currentFunctionName=e.name;const i=n.getFunction(e.name);if(!i)return e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)?this._evalCreate(e,n):(console.error(`Unknown function "${e.name}". Line ${e.line}`),null);for(let a=0;a<i.node.args.length;++a){const s=i.node.args[a],o=this.evalExpression(e.args[a],r);r.createVariable(s.name,o,s)}return this._execStatements(i.node.body,r)}_callBuiltinFunction(e,n){switch(e.name){case"all":return this.builtins.All(e,n);case"any":return this.builtins.Any(e,n);case"select":return this.builtins.Select(e,n);case"arrayLength":return this.builtins.ArrayLength(e,n);case"abs":return this.builtins.Abs(e,n);case"acos":return this.builtins.Acos(e,n);case"acosh":return this.builtins.Acosh(e,n);case"asin":return this.builtins.Asin(e,n);case"asinh":return this.builtins.Asinh(e,n);case"atan":return this.builtins.Atan(e,n);case"atanh":return this.builtins.Atanh(e,n);case"atan2":return this.builtins.Atan2(e,n);case"ceil":return this.builtins.Ceil(e,n);case"clamp":return this.builtins.Clamp(e,n);case"cos":return this.builtins.Cos(e,n);case"cosh":return this.builtins.Cosh(e,n);case"countLeadingZeros":return this.builtins.CountLeadingZeros(e,n);case"countOneBits":return this.builtins.CountOneBits(e,n);case"countTrailingZeros":return this.builtins.CountTrailingZeros(e,n);case"cross":return this.builtins.Cross(e,n);case"degrees":return this.builtins.Degrees(e,n);case"determinant":return this.builtins.Determinant(e,n);case"distance":return this.builtins.Distance(e,n);case"dot":return this.builtins.Dot(e,n);case"dot4U8Packed":return this.builtins.Dot4U8Packed(e,n);case"dot4I8Packed":return this.builtins.Dot4I8Packed(e,n);case"exp":return this.builtins.Exp(e,n);case"exp2":return this.builtins.Exp2(e,n);case"extractBits":return this.builtins.ExtractBits(e,n);case"faceForward":return this.builtins.FaceForward(e,n);case"firstLeadingBit":return this.builtins.FirstLeadingBit(e,n);case"firstTrailingBit":return this.builtins.FirstTrailingBit(e,n);case"floor":return this.builtins.Floor(e,n);case"fma":return this.builtins.Fma(e,n);case"fract":return this.builtins.Fract(e,n);case"frexp":return this.builtins.Frexp(e,n);case"insertBits":return this.builtins.InsertBits(e,n);case"inverseSqrt":return this.builtins.InverseSqrt(e,n);case"ldexp":return this.builtins.Ldexp(e,n);case"length":return this.builtins.Length(e,n);case"log":return this.builtins.Log(e,n);case"log2":return this.builtins.Log2(e,n);case"max":return this.builtins.Max(e,n);case"min":return this.builtins.Min(e,n);case"mix":return this.builtins.Mix(e,n);case"modf":return this.builtins.Modf(e,n);case"normalize":return this.builtins.Normalize(e,n);case"pow":return this.builtins.Pow(e,n);case"quantizeToF16":return this.builtins.QuantizeToF16(e,n);case"radians":return this.builtins.Radians(e,n);case"reflect":return this.builtins.Reflect(e,n);case"refract":return this.builtins.Refract(e,n);case"reverseBits":return this.builtins.ReverseBits(e,n);case"round":return this.builtins.Round(e,n);case"saturate":return this.builtins.Saturate(e,n);case"sign":return this.builtins.Sign(e,n);case"sin":return this.builtins.Sin(e,n);case"sinh":return this.builtins.Sinh(e,n);case"smoothstep":return this.builtins.SmoothStep(e,n);case"sqrt":return this.builtins.Sqrt(e,n);case"step":return this.builtins.Step(e,n);case"tan":return this.builtins.Tan(e,n);case"tanh":return this.builtins.Tanh(e,n);case"transpose":return this.builtins.Transpose(e,n);case"trunc":return this.builtins.Trunc(e,n);case"dpdx":return this.builtins.Dpdx(e,n);case"dpdxCoarse":return this.builtins.DpdxCoarse(e,n);case"dpdxFine":return this.builtins.DpdxFine(e,n);case"dpdy":return this.builtins.Dpdy(e,n);case"dpdyCoarse":return this.builtins.DpdyCoarse(e,n);case"dpdyFine":return this.builtins.DpdyFine(e,n);case"fwidth":return this.builtins.Fwidth(e,n);case"fwidthCoarse":return this.builtins.FwidthCoarse(e,n);case"fwidthFine":return this.builtins.FwidthFine(e,n);case"textureDimensions":return this.builtins.TextureDimensions(e,n);case"textureGather":return this.builtins.TextureGather(e,n);case"textureGatherCompare":return this.builtins.TextureGatherCompare(e,n);case"textureLoad":return this.builtins.TextureLoad(e,n);case"textureNumLayers":return this.builtins.TextureNumLayers(e,n);case"textureNumLevels":return this.builtins.TextureNumLevels(e,n);case"textureNumSamples":return this.builtins.TextureNumSamples(e,n);case"textureSample":return this.builtins.TextureSample(e,n);case"textureSampleBias":return this.builtins.TextureSampleBias(e,n);case"textureSampleCompare":return this.builtins.TextureSampleCompare(e,n);case"textureSampleCompareLevel":return this.builtins.TextureSampleCompareLevel(e,n);case"textureSampleGrad":return this.builtins.TextureSampleGrad(e,n);case"textureSampleLevel":return this.builtins.TextureSampleLevel(e,n);case"textureSampleBaseClampToEdge":return this.builtins.TextureSampleBaseClampToEdge(e,n);case"textureStore":return this.builtins.TextureStore(e,n);case"atomicLoad":return this.builtins.AtomicLoad(e,n);case"atomicStore":return this.builtins.AtomicStore(e,n);case"atomicAdd":return this.builtins.AtomicAdd(e,n);case"atomicSub":return this.builtins.AtomicSub(e,n);case"atomicMax":return this.builtins.AtomicMax(e,n);case"atomicMin":return this.builtins.AtomicMin(e,n);case"atomicAnd":return this.builtins.AtomicAnd(e,n);case"atomicOr":return this.builtins.AtomicOr(e,n);case"atomicXor":return this.builtins.AtomicXor(e,n);case"atomicExchange":return this.builtins.AtomicExchange(e,n);case"atomicCompareExchangeWeak":return this.builtins.AtomicCompareExchangeWeak(e,n);case"pack4x8snorm":return this.builtins.Pack4x8snorm(e,n);case"pack4x8unorm":return this.builtins.Pack4x8unorm(e,n);case"pack4xI8":return this.builtins.Pack4xI8(e,n);case"pack4xU8":return this.builtins.Pack4xU8(e,n);case"pack4x8Clamp":return this.builtins.Pack4x8Clamp(e,n);case"pack4xU8Clamp":return this.builtins.Pack4xU8Clamp(e,n);case"pack2x16snorm":return this.builtins.Pack2x16snorm(e,n);case"pack2x16unorm":return this.builtins.Pack2x16unorm(e,n);case"pack2x16float":return this.builtins.Pack2x16float(e,n);case"unpack4x8snorm":return this.builtins.Unpack4x8snorm(e,n);case"unpack4x8unorm":return this.builtins.Unpack4x8unorm(e,n);case"unpack4xI8":return this.builtins.Unpack4xI8(e,n);case"unpack4xU8":return this.builtins.Unpack4xU8(e,n);case"unpack2x16snorm":return this.builtins.Unpack2x16snorm(e,n);case"unpack2x16unorm":return this.builtins.Unpack2x16unorm(e,n);case"unpack2x16float":return this.builtins.Unpack2x16float(e,n);case"storageBarrier":return this.builtins.StorageBarrier(e,n);case"textureBarrier":return this.builtins.TextureBarrier(e,n);case"workgroupBarrier":return this.builtins.WorkgroupBarrier(e,n);case"workgroupUniformLoad":return this.builtins.WorkgroupUniformLoad(e,n);case"subgroupAdd":return this.builtins.SubgroupAdd(e,n);case"subgroupExclusiveAdd":return this.builtins.SubgroupExclusiveAdd(e,n);case"subgroupInclusiveAdd":return this.builtins.SubgroupInclusiveAdd(e,n);case"subgroupAll":return this.builtins.SubgroupAll(e,n);case"subgroupAnd":return this.builtins.SubgroupAnd(e,n);case"subgroupAny":return this.builtins.SubgroupAny(e,n);case"subgroupBallot":return this.builtins.SubgroupBallot(e,n);case"subgroupBroadcast":return this.builtins.SubgroupBroadcast(e,n);case"subgroupBroadcastFirst":return this.builtins.SubgroupBroadcastFirst(e,n);case"subgroupElect":return this.builtins.SubgroupElect(e,n);case"subgroupMax":return this.builtins.SubgroupMax(e,n);case"subgroupMin":return this.builtins.SubgroupMin(e,n);case"subgroupMul":return this.builtins.SubgroupMul(e,n);case"subgroupExclusiveMul":return this.builtins.SubgroupExclusiveMul(e,n);case"subgroupInclusiveMul":return this.builtins.SubgroupInclusiveMul(e,n);case"subgroupOr":return this.builtins.SubgroupOr(e,n);case"subgroupShuffle":return this.builtins.SubgroupShuffle(e,n);case"subgroupShuffleDown":return this.builtins.SubgroupShuffleDown(e,n);case"subgroupShuffleUp":return this.builtins.SubgroupShuffleUp(e,n);case"subgroupShuffleXor":return this.builtins.SubgroupShuffleXor(e,n);case"subgroupXor":return this.builtins.SubgroupXor(e,n);case"quadBroadcast":return this.builtins.QuadBroadcast(e,n);case"quadSwapDiagonal":return this.builtins.QuadSwapDiagonal(e,n);case"quadSwapX":return this.builtins.QuadSwapX(e,n);case"quadSwapY":return this.builtins.QuadSwapY(e,n)}const r=n.getFunction(e.name);if(r){const i=n.clone();for(let a=0;a<r.node.args.length;++a){const s=r.node.args[a],o=this.evalExpression(e.args[a],i);i.setVariable(s.name,o,s)}return this._execStatements(r.node.body,i)}return null}_callConstructorValue(e,n){if(!e.args||e.args.length===0)return new K(0,this.getTypeInfo(e.type));const r=this.evalExpression(e.args[0],n);return r.typeInfo=this.getTypeInfo(e.type),r.getSubData(this,e.postfix,n).clone()}_callConstructorVec(e,n){const r=this.getTypeInfo(e.type),i=e.type.getTypeName(),a=GT[i];if(a===void 0)return console.error(`Invalid vec constructor ${i}. Line ${e.line}`),null;const s=[];if(e instanceof Dn)if(e.isVector){const o=e.vectorValue;for(const c of o)s.push(c)}else s.push(e.scalarValue);else if(e.args)for(const o of e.args){const c=this.evalExpression(o,n);if(c instanceof U){const f=c.data;for(let d=0;d<f.length;++d){let p=f[d];s.push(p)}}else if(c instanceof K){let f=c.value;s.push(f)}}if(e.type instanceof Q&&e.type.format===null&&(e.type.format=Q.f32),s.length===0){const o=new Array(a).fill(0);return new U(o,r).getSubData(this,e.postfix,n)}if(s.length===1)for(;s.length<a;)s.push(s[0]);return s.length<a?(console.error(`Invalid vec constructor. Line ${e.line}`),null):new U(s.length>a?s.slice(0,a):s,r).getSubData(this,e.postfix,n)}_callConstructorMatrix(e,n){const r=this.getTypeInfo(e.type),i=e.type.getTypeName(),a=Rr[i];if(a===void 0)return console.error(`Invalid matrix constructor ${i}. Line ${e.line}`),null;const s=[];if(e instanceof Dn)if(e.isVector){const o=e.vectorValue;for(const c of o)s.push(c)}else s.push(e.scalarValue);else if(e.args)for(const o of e.args){const c=this.evalExpression(o,n);c instanceof U?s.push(...c.data):c instanceof K?s.push(c.value):c instanceof Be&&s.push(...c.data)}if(r instanceof Dc&&r.format===null&&(r.format=this.getTypeInfo("f32")),s.length===0){const o=new Array(a[2]).fill(0);return new Be(o,r).getSubData(this,e.postfix,n)}return s.length!==a[2]?(console.error(`Invalid matrix constructor. Line ${e.line}`),null):new Be(s,r).getSubData(this,e.postfix,n)}}yr._breakObj=new Ji(new qi("BREAK",null),null),yr._continueObj=new Ji(new qi("CONTINUE",null),null),yr._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class vMe{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class bMe{constructor(){this._tokens=[],this._current=0,this._currentLine=1,this._deferArrayCountEval=[],this._currentLoop=[],this._context=new vMe,this._exec=new yr,this._forwardTypeCount=0}parse(e){this._initialize(e),this._deferArrayCountEval.length=0;const n=[];for(;!this._isAtEnd();){const r=this._global_decl_or_directive();if(!r)break;n.push(r)}if(this._deferArrayCountEval.length>0){for(const r of this._deferArrayCountEval){const i=r.arrayType,a=r.countNode;if(a instanceof di){const s=a.name,o=this._context.constants.get(s);if(o)try{const c=o.constEvaluate(this._exec);i.count=c}catch{}}}this._deferArrayCountEval.length=0}if(this._forwardTypeCount>0)for(const r of n)r.search(i=>{i instanceof Wj||i instanceof Rv?i.type=this._forwardType(i.type):i instanceof sp?i.format=this._forwardType(i.format):i instanceof $s||i instanceof ap||i instanceof Pv?i.type=this._forwardType(i.type):i instanceof Kp?i.returnType=this._forwardType(i.returnType):i instanceof Hj&&(i.type=this._forwardType(i.type))});return n}_forwardType(e){if(e instanceof Vj){const n=this._getType(e.name);if(n)return n}else e instanceof Rv?e.type=this._forwardType(e.type):e instanceof sp&&(e.format=this._forwardType(e.format));return e}_initialize(e){if(e)if(typeof e=="string"){const n=new lMe(e);this._tokens=n.scanTokens()}else this._tokens=e;else this._tokens=[];this._current=0}_updateNode(e,n){return e.line=n??this._currentLine,e}_error(e,n){return{token:e,message:n,toString:()=>`${n}`}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==B.eof}_match(e){if(e instanceof G)return!!this._check(e)&&(this._advance(),!0);for(let n=0,r=e.length;n<r;++n){const i=e[n];if(this._check(i))return this._advance(),!0}return!1}_consume(e,n){if(this._check(e))return this._advance();throw this._error(this._peek(),`${n}. Line:${this._currentLine}`)}_check(e){if(this._isAtEnd())return!1;const n=this._peek();if(e instanceof Array){const r=n.type;let i=!1;for(const a of e){if(r===a)return!0;a===B.tokens.name&&(i=!0)}if(i){const a=B.tokens.name.rule.exec(n.lexeme);if(a&&a.index==0&&a[0]==n.lexeme)return!0}return!1}if(n.type===e)return!0;if(e===B.tokens.name){const r=B.tokens.name.rule.exec(n.lexeme);return r&&r.index==0&&r[0]==n.lexeme}return!1}_advance(){var e,n;return this._currentLine=(n=(e=this._peek())===null||e===void 0?void 0:e.line)!==null&&n!==void 0?n:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(B.tokens.semicolon)&&!this._isAtEnd(););if(this._match(B.keywords.alias)){const n=this._type_alias();return this._consume(B.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(B.keywords.diagnostic)){const n=this._diagnostic();return this._consume(B.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(B.keywords.requires)){const n=this._requires_directive();return this._consume(B.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}if(this._match(B.keywords.enable)){const n=this._enable_directive();return this._consume(B.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([n]),n}const e=this._attribute();if(this._check(B.keywords.var)){const n=this._global_variable_decl();return n!=null&&(n.attributes=e),this._consume(B.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(B.keywords.override)){const n=this._override_variable_decl();return n!=null&&(n.attributes=e),this._consume(B.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(B.keywords.let)){const n=this._global_let_decl();return n!=null&&(n.attributes=e),this._consume(B.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(B.keywords.const)){const n=this._global_const_decl();return n!=null&&(n.attributes=e),this._consume(B.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([n]),n}if(this._check(B.keywords.struct)){const n=this._struct_decl();return n!=null&&(n.attributes=e),this._exec.reflection.updateAST([n]),n}if(this._check(B.keywords.fn)){const n=this._function_decl();return n!=null&&(n.attributes=e),this._exec.reflection.updateAST([n]),n}return null}_function_decl(){if(!this._match(B.keywords.fn))return null;const e=this._currentLine,n=this._consume(B.tokens.ident,"Expected function name.").toString();this._consume(B.tokens.paren_left,"Expected '(' for function arguments.");const r=[];if(!this._check(B.tokens.paren_right))do{if(this._check(B.tokens.paren_right))break;const o=this._attribute(),c=this._consume(B.tokens.name,"Expected argument name.").toString();this._consume(B.tokens.colon,"Expected ':' for argument type.");const f=this._attribute(),d=this._type_decl();d!=null&&(d.attributes=f,r.push(this._updateNode(new Hj(c,d,o))))}while(this._match(B.tokens.comma));this._consume(B.tokens.paren_right,"Expected ')' after function arguments.");let i=null;if(this._match(B.tokens.arrow)){const o=this._attribute();i=this._type_decl(),i!=null&&(i.attributes=o)}const a=this._compound_statement(),s=this._currentLine;return this._updateNode(new Kp(n,r,i,a,e,s),e)}_compound_statement(){const e=[];for(this._consume(B.tokens.brace_left,"Expected '{' for block.");!this._check(B.tokens.brace_right);){const n=this._statement();n!==null&&e.push(n)}return this._consume(B.tokens.brace_right,"Expected '}' for block."),e}_statement(){for(;this._match(B.tokens.semicolon)&&!this._isAtEnd(););if(this._check(B.tokens.attr)&&this._attribute(),this._check(B.keywords.if))return this._if_statement();if(this._check(B.keywords.switch))return this._switch_statement();if(this._check(B.keywords.loop))return this._loop_statement();if(this._check(B.keywords.for))return this._for_statement();if(this._check(B.keywords.while))return this._while_statement();if(this._check(B.keywords.continuing))return this._continuing_statement();if(this._check(B.keywords.static_assert))return this._static_assert_statement();if(this._check(B.tokens.brace_left))return this._compound_statement();let e=null;if(this._check(B.keywords.return))e=this._return_statement();else if(this._check([B.keywords.var,B.keywords.let,B.keywords.const]))e=this._variable_statement();else if(this._match(B.keywords.discard))e=this._updateNode(new aMe);else if(this._match(B.keywords.break)){const n=this._updateNode(new EX);if(this._currentLoop.length>0){const r=this._currentLoop[this._currentLoop.length-1];n.loopId=r.id}e=n,this._check(B.keywords.if)&&(this._advance(),n.condition=this._optional_paren_expression())}else if(this._match(B.keywords.continue)){const n=this._updateNode(new CX);if(!(this._currentLoop.length>0))throw this._error(this._peek(),`Continue statement must be inside a loop. Line: ${n.line}`);{const r=this._currentLoop[this._currentLoop.length-1];n.loopId=r.id}e=n}else e=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement();return e!=null&&this._consume(B.tokens.semicolon,"Expected ';' after statement."),e}_static_assert_statement(){if(!this._match(B.keywords.static_assert))return null;const e=this._currentLine,n=this._optional_paren_expression();return this._updateNode(new nMe(n),e)}_while_statement(){if(!this._match(B.keywords.while))return null;const e=this._updateNode(new yX(null,null));return this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(B.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_continuing_statement(){const e=this._currentLoop.length>0?this._currentLoop[this._currentLoop.length-1].id:-1;if(!this._match(B.keywords.continuing))return null;const n=this._currentLine,r=this._compound_statement();return this._updateNode(new AE(r,e),n)}_for_statement(){if(!this._match(B.keywords.for))return null;this._consume(B.tokens.paren_left,"Expected '('.");const e=this._updateNode(new vX(null,null,null,null));return this._currentLoop.push(e),e.init=this._check(B.tokens.semicolon)?null:this._for_init(),this._consume(B.tokens.semicolon,"Expected ';'."),e.condition=this._check(B.tokens.semicolon)?null:this._short_circuit_or_expression(),this._consume(B.tokens.semicolon,"Expected ';'."),e.increment=this._check(B.tokens.paren_right)?null:this._for_increment(),this._consume(B.tokens.paren_right,"Expected ')'."),this._check(B.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(B.keywords.var)){const e=this._variable_decl();if(e===null)throw this._error(this._peek(),"Variable declaration expected.");let n=null;return this._match(B.tokens.equal)&&(n=this._short_circuit_or_expression()),this._updateNode(new $s(e.name,e.type,e.storage,e.access,n),e.line)}if(this._match(B.keywords.let)){const e=this._currentLine,n=this._consume(B.tokens.name,"Expected name for let.").toString();let r=null;if(this._match(B.tokens.colon)){const a=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=a)}this._consume(B.tokens.equal,"Expected '=' for let.");const i=this._short_circuit_or_expression();return this._updateNode(new ap(n,r,null,null,i),e)}if(this._match(B.keywords.const)){const e=this._currentLine,n=this._consume(B.tokens.name,"Expected name for const.").toString();let r=null;if(this._match(B.tokens.colon)){const a=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=a)}this._consume(B.tokens.equal,"Expected '=' for const.");const i=this._short_circuit_or_expression();return r===null&&i instanceof Dn&&(r=i.type),this._updateNode(new Pv(n,r,null,null,i),e)}return null}_increment_decrement_statement(){const e=this._current,n=this._unary_expression();if(n==null)return null;if(!this._check(B.increment_operators))return this._current=e,null;const r=this._consume(B.increment_operators,"Expected increment operator");return this._updateNode(new bX(r.type===B.tokens.plus_plus?hf.increment:hf.decrement,n))}_assignment_statement(){let e=null;const n=this._currentLine;if(this._check(B.tokens.brace_right))return null;let r=this._match(B.tokens.underscore);if(r||(e=this._unary_expression()),!r&&e==null)return null;const i=this._consume(B.assignment_operators,"Expected assignment operator."),a=this._short_circuit_or_expression();return this._updateNode(new xX(Wh.parse(i.lexeme),e,a),n)}_func_call_statement(){if(!this._check(B.tokens.ident))return null;const e=this._currentLine,n=this._current,r=this._consume(B.tokens.ident,"Expected function name."),i=this._argument_expression_list();return i===null?(this._current=n,null):this._updateNode(new AR(r.lexeme,i),e)}_loop_statement(){if(!this._match(B.keywords.loop))return null;this._check(B.tokens.attr)&&this._attribute(),this._consume(B.tokens.brace_left,"Expected '{' for loop.");const e=this._updateNode(new _X([],null));this._currentLoop.push(e);let n=this._statement();for(;n!==null;){if(Array.isArray(n))for(let r of n)e.body.push(r);else e.body.push(n);if(n instanceof AE){e.continuing=n;break}n=this._statement()}return this._currentLoop.pop(),this._consume(B.tokens.brace_right,"Expected '}' for loop."),e}_switch_statement(){if(!this._match(B.keywords.switch))return null;const e=this._updateNode(new wX(null,[]));if(this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(B.tokens.attr)&&this._attribute(),this._consume(B.tokens.brace_left,"Expected '{' for switch."),e.cases=this._switch_body(),e.cases==null||e.cases.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(B.tokens.brace_right,"Expected '}' for switch."),this._currentLoop.pop(),e}_switch_body(){const e=[];let n=!1;for(;this._check([B.keywords.default,B.keywords.case]);){if(this._match(B.keywords.case)){const r=this._case_selectors();for(const a of r)if(a instanceof Ov){if(n)throw this._error(this._previous(),"Multiple default cases in switch statement.");n=!0;break}this._match(B.tokens.colon),this._check(B.tokens.attr)&&this._attribute(),this._consume(B.tokens.brace_left,"Exected '{' for switch case.");const i=this._case_body();this._consume(B.tokens.brace_right,"Exected '}' for switch case."),e.push(this._updateNode(new IX(r,i)))}if(this._match(B.keywords.default)){if(n)throw this._error(this._previous(),"Multiple default cases in switch statement.");this._match(B.tokens.colon),this._check(B.tokens.attr)&&this._attribute(),this._consume(B.tokens.brace_left,"Exected '{' for switch default.");const r=this._case_body();this._consume(B.tokens.brace_right,"Exected '}' for switch default."),e.push(this._updateNode(new kX(r)))}}return e}_case_selectors(){const e=[];for(this._match(B.keywords.default)?e.push(this._updateNode(new Ov)):e.push(this._shift_expression());this._match(B.tokens.comma);)this._match(B.keywords.default)?e.push(this._updateNode(new Ov)):e.push(this._shift_expression());return e}_case_body(){if(this._match(B.keywords.fallthrough))return this._consume(B.tokens.semicolon,"Expected ';'"),[];let e=this._statement();if(e==null)return[];e instanceof Array||(e=[e]);const n=this._case_body();return n.length==0?e:[...e,n[0]]}_if_statement(){if(!this._match(B.keywords.if))return null;const e=this._currentLine,n=this._optional_paren_expression();this._check(B.tokens.attr)&&this._attribute();const r=this._compound_statement();let i=[];this._match_elseif()&&(this._check(B.tokens.attr)&&this._attribute(),i=this._elseif_statement(i));let a=null;return this._match(B.keywords.else)&&(this._check(B.tokens.attr)&&this._attribute(),a=this._compound_statement()),this._updateNode(new SX(n,r,i,a),e)}_match_elseif(){return this._tokens[this._current].type===B.keywords.else&&this._tokens[this._current+1].type===B.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement(e=[]){const n=this._optional_paren_expression(),r=this._compound_statement();return e.push(this._updateNode(new sMe(n,r))),this._match_elseif()&&(this._check(B.tokens.attr)&&this._attribute(),this._elseif_statement(e)),e}_return_statement(){if(!this._match(B.keywords.return))return null;const e=this._short_circuit_or_expression();return this._updateNode(new TX(e))}_short_circuit_or_expression(){let e=this._short_circuit_and_expr();for(;this._match(B.tokens.or_or);)e=this._updateNode(new da(this._previous().toString(),e,this._short_circuit_and_expr()));return e}_short_circuit_and_expr(){let e=this._inclusive_or_expression();for(;this._match(B.tokens.and_and);)e=this._updateNode(new da(this._previous().toString(),e,this._inclusive_or_expression()));return e}_inclusive_or_expression(){let e=this._exclusive_or_expression();for(;this._match(B.tokens.or);)e=this._updateNode(new da(this._previous().toString(),e,this._exclusive_or_expression()));return e}_exclusive_or_expression(){let e=this._and_expression();for(;this._match(B.tokens.xor);)e=this._updateNode(new da(this._previous().toString(),e,this._and_expression()));return e}_and_expression(){let e=this._equality_expression();for(;this._match(B.tokens.and);)e=this._updateNode(new da(this._previous().toString(),e,this._equality_expression()));return e}_equality_expression(){const e=this._relational_expression();return this._match([B.tokens.equal_equal,B.tokens.not_equal])?this._updateNode(new da(this._previous().toString(),e,this._relational_expression())):e}_relational_expression(){let e=this._shift_expression();for(;this._match([B.tokens.less_than,B.tokens.greater_than,B.tokens.less_than_equal,B.tokens.greater_than_equal]);)e=this._updateNode(new da(this._previous().toString(),e,this._shift_expression()));return e}_shift_expression(){let e=this._additive_expression();for(;this._match([B.tokens.shift_left,B.tokens.shift_right]);)e=this._updateNode(new da(this._previous().toString(),e,this._additive_expression()));return e}_additive_expression(){let e=this._multiplicative_expression();for(;this._match([B.tokens.plus,B.tokens.minus]);)e=this._updateNode(new da(this._previous().toString(),e,this._multiplicative_expression()));return e}_multiplicative_expression(){let e=this._unary_expression();for(;this._match([B.tokens.star,B.tokens.forward_slash,B.tokens.modulo]);)e=this._updateNode(new da(this._previous().toString(),e,this._unary_expression()));return e}_unary_expression(){return this._match([B.tokens.minus,B.tokens.bang,B.tokens.tilde,B.tokens.star,B.tokens.and])?this._updateNode(new En(this._previous().toString(),this._unary_expression())):this._singular_expression()}_singular_expression(){const e=this._primary_expression(),n=this._postfix_expression();return n&&(e.postfix=n),e}_postfix_expression(){if(this._match(B.tokens.bracket_left)){const e=this._short_circuit_or_expression();this._consume(B.tokens.bracket_right,"Expected ']'.");const n=this._updateNode(new Vf(e)),r=this._postfix_expression();return r&&(n.postfix=r),n}if(this._match(B.tokens.period)){const e=this._consume(B.tokens.name,"Expected member name."),n=this._postfix_expression(),r=this._updateNode(new Bc(e.lexeme));return n&&(r.postfix=n),r}return null}_getStruct(e){return this._context.aliases.has(e)?this._context.aliases.get(e).type:this._context.structs.has(e)?this._context.structs.get(e):null}_getType(e){const n=this._getStruct(e);if(n!==null)return n;switch(e){case"void":return pe.void;case"bool":return pe.bool;case"i32":return pe.i32;case"u32":return pe.u32;case"f32":return pe.f32;case"f16":return pe.f16;case"vec2f":return Q.vec2f;case"vec3f":return Q.vec3f;case"vec4f":return Q.vec4f;case"vec2i":return Q.vec2i;case"vec3i":return Q.vec3i;case"vec4i":return Q.vec4i;case"vec2u":return Q.vec2u;case"vec3u":return Q.vec3u;case"vec4u":return Q.vec4u;case"vec2h":return Q.vec2h;case"vec3h":return Q.vec3h;case"vec4h":return Q.vec4h;case"mat2x2f":return Q.mat2x2f;case"mat2x3f":return Q.mat2x3f;case"mat2x4f":return Q.mat2x4f;case"mat3x2f":return Q.mat3x2f;case"mat3x3f":return Q.mat3x3f;case"mat3x4f":return Q.mat3x4f;case"mat4x2f":return Q.mat4x2f;case"mat4x3f":return Q.mat4x3f;case"mat4x4f":return Q.mat4x4f;case"mat2x2h":return Q.mat2x2h;case"mat2x3h":return Q.mat2x3h;case"mat2x4h":return Q.mat2x4h;case"mat3x2h":return Q.mat3x2h;case"mat3x3h":return Q.mat3x3h;case"mat3x4h":return Q.mat3x4h;case"mat4x2h":return Q.mat4x2h;case"mat4x3h":return Q.mat4x3h;case"mat4x4h":return Q.mat4x4h;case"mat2x2i":return Q.mat2x2i;case"mat2x3i":return Q.mat2x3i;case"mat2x4i":return Q.mat2x4i;case"mat3x2i":return Q.mat3x2i;case"mat3x3i":return Q.mat3x3i;case"mat3x4i":return Q.mat3x4i;case"mat4x2i":return Q.mat4x2i;case"mat4x3i":return Q.mat4x3i;case"mat4x4i":return Q.mat4x4i;case"mat2x2u":return Q.mat2x2u;case"mat2x3u":return Q.mat2x3u;case"mat2x4u":return Q.mat2x4u;case"mat3x2u":return Q.mat3x2u;case"mat3x3u":return Q.mat3x3u;case"mat3x4u":return Q.mat3x4u;case"mat4x2u":return Q.mat4x2u;case"mat4x3u":return Q.mat4x3u;case"mat4x4u":return Q.mat4x4u}return null}_validateTypeRange(e,n){if(n.name==="i32"){if(e<-2147483648||e>2147483647)throw this._error(this._previous(),`Value out of range for i32: ${e}. Line: ${this._currentLine}.`)}else if(n.name==="u32"&&(e<0||e>4294967295))throw this._error(this._previous(),`Value out of range for u32: ${e}. Line: ${this._currentLine}.`)}_primary_expression(){if(this._match(B.tokens.ident)){const r=this._previous().toString();if(this._check(B.tokens.paren_left)){const i=this._argument_expression_list(),a=this._getType(r);return a!==null?this._updateNode(new Fa(a,i)):this._updateNode(new CR(r,i))}if(this._context.constants.has(r)){const i=this._context.constants.get(r);return this._updateNode(new PX(r,i.value))}return this._updateNode(new di(r))}if(this._match(B.tokens.int_literal)){const r=this._previous().toString();let i=r.endsWith("i")||r.endsWith("i")?pe.i32:r.endsWith("u")||r.endsWith("U")?pe.u32:pe.x32;const a=parseInt(r);return this._validateTypeRange(a,i),this._updateNode(new Dn(new K(a,this._exec.getTypeInfo(i)),i))}if(this._match(B.tokens.uint_literal)){const r=parseInt(this._previous().toString());return this._validateTypeRange(r,pe.u32),this._updateNode(new Dn(new K(r,this._exec.getTypeInfo(pe.u32)),pe.u32))}if(this._match([B.tokens.decimal_float_literal,B.tokens.hex_float_literal])){let r=this._previous().toString(),i=r.endsWith("h");i&&(r=r.substring(0,r.length-1));const a=parseFloat(r);this._validateTypeRange(a,i?pe.f16:pe.f32);const s=i?pe.f16:pe.f32;return this._updateNode(new Dn(new K(a,this._exec.getTypeInfo(s)),s))}if(this._match([B.keywords.true,B.keywords.false])){let r=this._previous().toString()===B.keywords.true.rule;return this._updateNode(new Dn(new K(r?1:0,this._exec.getTypeInfo(pe.bool)),pe.bool))}if(this._check(B.tokens.paren_left))return this._paren_expression();if(this._match(B.keywords.bitcast)){this._consume(B.tokens.less_than,"Expected '<'.");const r=this._type_decl();this._consume(B.tokens.greater_than,"Expected '>'.");const i=this._paren_expression();return this._updateNode(new RX(r,i))}const e=this._type_decl(),n=this._argument_expression_list();return this._updateNode(new Fa(e,n))}_argument_expression_list(){if(!this._match(B.tokens.paren_left))return null;const e=[];do{if(this._check(B.tokens.paren_right))break;const n=this._short_circuit_or_expression();e.push(n)}while(this._match(B.tokens.comma));return this._consume(B.tokens.paren_right,"Expected ')' for agument list"),e}_optional_paren_expression(){this._match(B.tokens.paren_left);const e=this._short_circuit_or_expression();return this._match(B.tokens.paren_right),e}_paren_expression(){this._consume(B.tokens.paren_left,"Expected '('.");const e=this._short_circuit_or_expression();return this._consume(B.tokens.paren_right,"Expected ')'."),e}_struct_decl(){if(!this._match(B.keywords.struct))return null;const e=this._currentLine,n=this._consume(B.tokens.ident,"Expected name for struct.").toString();this._consume(B.tokens.brace_left,"Expected '{' for struct body.");const r=[];for(;!this._check(B.tokens.brace_right);){const s=this._attribute(),o=this._consume(B.tokens.name,"Expected variable name.").toString();this._consume(B.tokens.colon,"Expected ':' for struct member type.");const c=this._attribute(),f=this._type_decl();f!=null&&(f.attributes=c),this._check(B.tokens.brace_right)?this._match(B.tokens.comma):this._consume(B.tokens.comma,"Expected ',' for struct member."),r.push(this._updateNode(new Wj(o,f,s)))}this._consume(B.tokens.brace_right,"Expected '}' after struct body.");const i=this._currentLine,a=this._updateNode(new Ls(n,r,e,i),e);return this._context.structs.set(n,a),a}_global_variable_decl(){const e=this._variable_decl();if(!e)return null;if(this._match(B.tokens.equal)){const n=this._const_expression();e.value=n}if(e.type!==null&&e.value instanceof Dn){if(e.value.type.name!=="x32"&&e.type.getTypeName()!==e.value.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${e.value.type.name} to ${e.type.name}. Line:${this._currentLine}`);e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type),e.value.type=e.type}else e.type===null&&e.value instanceof Dn&&(e.type=e.value.type.name==="x32"?pe.i32:e.value.type,e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type));return e}_override_variable_decl(){const e=this._override_decl();return e&&this._match(B.tokens.equal)&&(e.value=this._const_expression()),e}_global_const_decl(){var e;if(!this._match(B.keywords.const))return null;const n=this._consume(B.tokens.name,"Expected variable name"),r=this._currentLine;let i=null;if(this._match(B.tokens.colon)){const c=this._attribute();i=this._type_decl(),i!=null&&(i.attributes=c)}let a=null;this._consume(B.tokens.equal,"const declarations require an assignment");const s=this._short_circuit_or_expression();try{let c=[pe.f32],f=s.constEvaluate(this._exec,c);f instanceof K&&this._validateTypeRange(f.value,c[0]),c[0]instanceof Q&&c[0].format===null&&f.typeInfo instanceof Dc&&f.typeInfo.format!==null&&(f.typeInfo.format.name==="f16"?c[0].format=pe.f16:f.typeInfo.format.name==="f32"?c[0].format=pe.f32:f.typeInfo.format.name==="i32"?c[0].format=pe.i32:f.typeInfo.format.name==="u32"?c[0].format=pe.u32:f.typeInfo.format.name==="bool"?c[0].format=pe.bool:console.error(`TODO: impelement template format type ${f.typeInfo.format.name}`)),a=this._updateNode(new Dn(f,c[0])),this._exec.context.setVariable(n.toString(),f)}catch{a=s}if(i!==null&&a instanceof Dn){if(a.type.name!=="x32"&&i.getTypeName()!==a.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${a.type.name} to ${i.name}. Line:${this._currentLine}`);a.type=i,a.isScalar&&this._validateTypeRange(a.scalarValue,a.type)}else i===null&&a instanceof Dn&&(i=(e=a?.type)!==null&&e!==void 0?e:pe.f32,i===pe.x32&&(i=pe.i32));const o=this._updateNode(new Pv(n.toString(),i,"","",a),r);return this._context.constants.set(o.name,o),o}_global_let_decl(){if(!this._match(B.keywords.let))return null;const e=this._currentLine,n=this._consume(B.tokens.name,"Expected variable name");let r=null;if(this._match(B.tokens.colon)){const a=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=a)}let i=null;if(this._match(B.tokens.equal)&&(i=this._const_expression()),r!==null&&i instanceof Dn){if(i.type.name!=="x32"&&r.getTypeName()!==i.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${i.type.name} to ${r.name}. Line:${this._currentLine}`);i.type=r}else r===null&&i instanceof Dn&&(r=i.type.name==="x32"?pe.i32:i.type);return i instanceof Dn&&i.isScalar&&this._validateTypeRange(i.scalarValue,r),this._updateNode(new ap(n.toString(),r,"","",i),e)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(B.keywords.var))return null;const e=this._currentLine;let n="",r="";this._match(B.tokens.less_than)&&(n=this._consume(B.storage_class,"Expected storage_class.").toString(),this._match(B.tokens.comma)&&(r=this._consume(B.access_mode,"Expected access_mode.").toString()),this._consume(B.tokens.greater_than,"Expected '>'."));const i=this._consume(B.tokens.name,"Expected variable name");let a=null;if(this._match(B.tokens.colon)){const s=this._attribute();a=this._type_decl(),a!=null&&(a.attributes=s)}return this._updateNode(new $s(i.toString(),a,n,r,null),e)}_override_decl(){if(!this._match(B.keywords.override))return null;const e=this._consume(B.tokens.name,"Expected variable name");let n=null;if(this._match(B.tokens.colon)){const r=this._attribute();n=this._type_decl(),n!=null&&(n.attributes=r)}return this._updateNode(new TR(e.toString(),n,null))}_diagnostic(){this._consume(B.tokens.paren_left,"Expected '('");const e=this._consume(B.tokens.ident,"Expected severity control name.");this._consume(B.tokens.comma,"Expected ','");let n=this._consume(B.tokens.ident,"Expected diagnostic rule name.").toString();return this._match(B.tokens.period)&&(n+=`.${this._consume(B.tokens.ident,"Expected diagnostic message.").toString()}`),this._consume(B.tokens.paren_right,"Expected ')'"),this._updateNode(new AX(e.toString(),n))}_enable_directive(){const e=this._consume(B.tokens.ident,"identity expected.");return this._updateNode(new rMe(e.toString()))}_requires_directive(){const e=[this._consume(B.tokens.ident,"identity expected.").toString()];for(;this._match(B.tokens.comma);){const n=this._consume(B.tokens.ident,"identity expected.");e.push(n.toString())}return this._updateNode(new iMe(e))}_type_alias(){const e=this._consume(B.tokens.ident,"identity expected.");this._consume(B.tokens.equal,"Expected '=' for type alias.");let n=this._type_decl();if(n===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(n.name)&&(n=this._context.aliases.get(n.name).type);const r=this._updateNode(new ER(e.toString(),n));return this._context.aliases.set(r.name,r),r}_type_decl(){if(this._check([B.tokens.ident,...B.texel_format,B.keywords.bool,B.keywords.f32,B.keywords.i32,B.keywords.u32])){const r=this._advance().toString();if(this._context.structs.has(r))return this._context.structs.get(r);if(this._context.aliases.has(r))return this._context.aliases.get(r).type;if(!this._getType(r)){const i=this._updateNode(new Vj(r));return this._forwardTypeCount++,i}return this._updateNode(new pe(r))}let e=this._texture_sampler_types();if(e)return e;if(this._check(B.template_types)){let r=this._advance().toString(),i=null,a=null;return this._match(B.tokens.less_than)&&(i=this._type_decl(),a=null,this._match(B.tokens.comma)&&(a=this._consume(B.access_mode,"Expected access_mode for pointer").toString()),this._consume(B.tokens.greater_than,"Expected '>' for type.")),this._updateNode(new Q(r,i,a))}if(this._match(B.keywords.ptr)){let r=this._previous().toString();this._consume(B.tokens.less_than,"Expected '<' for pointer.");const i=this._consume(B.storage_class,"Expected storage_class for pointer");this._consume(B.tokens.comma,"Expected ',' for pointer.");const a=this._type_decl();let s=null;return this._match(B.tokens.comma)&&(s=this._consume(B.access_mode,"Expected access_mode for pointer").toString()),this._consume(B.tokens.greater_than,"Expected '>' for pointer."),this._updateNode(new Rv(r,i.toString(),a,s))}const n=this._attribute();if(this._match(B.keywords.array)){let r=null,i=-1;const a=this._previous();let s=null;if(this._match(B.tokens.less_than)){r=this._type_decl(),this._context.aliases.has(r.name)&&(r=this._context.aliases.get(r.name).type);let c="";if(this._match(B.tokens.comma)){s=this._shift_expression();try{c=s.constEvaluate(this._exec).toString(),s=null}catch{c="1"}}this._consume(B.tokens.greater_than,"Expected '>' for array."),i=c?parseInt(c):0}const o=this._updateNode(new sp(a.toString(),n,r,i));return s&&this._deferArrayCountEval.push({arrayType:o,countNode:s}),o}return null}_texture_sampler_types(){if(this._match(B.sampler_type))return this._updateNode(new qh(this._previous().toString(),null,null));if(this._match(B.depth_texture_type))return this._updateNode(new qh(this._previous().toString(),null,null));if(this._match(B.sampled_texture_type)||this._match(B.multisampled_texture_type)){const e=this._previous();this._consume(B.tokens.less_than,"Expected '<' for sampler type.");const n=this._type_decl();return this._consume(B.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new qh(e.toString(),n,null))}if(this._match(B.storage_texture_type)){const e=this._previous();this._consume(B.tokens.less_than,"Expected '<' for sampler type.");const n=this._consume(B.texel_format,"Invalid texel format.").toString();this._consume(B.tokens.comma,"Expected ',' after texel format.");const r=this._consume(B.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(B.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new qh(e.toString(),n,r))}return null}_attribute(){let e=[];for(;this._match(B.tokens.attr);){const n=this._consume(B.attribute_name,"Expected attribute name"),r=this._updateNode(new NX(n.toString(),null));if(this._match(B.tokens.paren_left)){if(r.value=this._consume(B.literal_or_ident,"Expected attribute value").toString(),this._check(B.tokens.comma)){this._advance();do{const i=this._consume(B.literal_or_ident,"Expected attribute value").toString();r.value instanceof Array||(r.value=[r.value]),r.value.push(i)}while(this._match(B.tokens.comma))}this._consume(B.tokens.paren_right,"Expected ')'")}e.push(r)}return e.length==0?null:e}}class xMe extends Ya{constructor(e){super(),e&&this.update(e)}update(e){const n=new bMe().parse(e);this.updateAST(n)}}function _Me(t){const e={attributes:[],bindings:[]};let n;try{n=wMe(t)}catch(a){return ve.error(a.message)(),e}for(const a of n.uniforms){const s=[];for(const o of a.type?.members||[])s.push({name:o.name,type:Kj(o.type)});e.bindings.push({type:"uniform",name:a.name,group:a.group,location:a.binding,members:s})}for(const a of n.textures)e.bindings.push({type:"texture",name:a.name,group:a.group,location:a.binding});for(const a of n.samplers)e.bindings.push({type:"sampler",name:a.name,group:a.group,location:a.binding});const r=n.entry.vertex[0],i=r?.inputs.length||0;for(let a=0;a<i;a++){const s=r.inputs[a];if(s.locationType==="location"){const o=Kj(s.type);e.attributes.push({name:s.name,location:Number(s.location),type:o})}}return e}function Kj(t){return t?.format?`${t.name}<${t.format.name}>`:t.name}function wMe(t){try{return new xMe(t)}catch(e){if(e instanceof Error)throw e;let n="WGSL parse error";throw typeof e=="object"&&e?.message&&(n+=`: ${e.message} `),typeof e=="object"&&e?.token&&(n+=e.token.line||""),new Error(n,{cause:e})}}const SMe={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1};globalThis.mathgl=globalThis.mathgl||{config:{...SMe}};const Xi=globalThis.mathgl.config;function TMe(t,{precision:e=Xi.precision}={}){return t=AMe(t),`${parseFloat(t.toPrecision(e))}`}function Hf(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Jo(t,e,n){return CMe(t,r=>Math.max(e,Math.min(n,r)))}function ob(t,e,n){return Hf(t)?t.map((r,i)=>ob(r,e[i],n)):n*e+(1-n)*t}function Yp(t,e,n){const r=Xi.EPSILON;try{if(t===e)return!0;if(Hf(t)&&Hf(e)){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!Yp(t[i],e[i]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<=Xi.EPSILON*Math.max(1,Math.abs(t),Math.abs(e)):!1}finally{Xi.EPSILON=r}}function AMe(t){return Math.round(t/Xi.EPSILON)*Xi.EPSILON}function EMe(t){return t.clone?t.clone():new Array(t.length)}function CMe(t,e,n){if(Hf(t)){const r=t;n=n||EMe(r);for(let i=0;i<n.length&&i<r.length;++i){const a=typeof t=="number"?t:t[i];n[i]=e(a,i,n)}return n}return e(t)}class DX extends Array{clone(){return new this.constructor().copy(this)}fromArray(e,n=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=e[r+n];return this.check()}toArray(e=[],n=0){for(let r=0;r<this.ELEMENTS;++r)e[n+r]=this[r];return e}toObject(e){return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:Hf(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Xi)}formatString(e){let n="";for(let r=0;r<this.ELEMENTS;++r)n+=(r>0?", ":"")+TMe(this[r],e);return`${e.printTypes?this.constructor.name:""}[${n}]`}equals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(!Yp(this[n],e[n]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(this[n]!==e[n])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,n,r){if(r===void 0)return this.lerp(this,e,n);for(let i=0;i<this.ELEMENTS;++i){const a=e[i],s=typeof n=="number"?n:n[i];this[i]=a+r*(s-a)}return this.check()}min(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(e[n],this[n]);return this.check()}max(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.max(e[n],this[n]);return this.check()}clamp(e,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),n[r]);return this.check()}add(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]+=n[r];return this.check()}subtract(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]-=n[r];return this.check()}scale(e){if(typeof e=="number")for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;else for(let n=0;n<this.ELEMENTS&&n<e.length;++n)this[n]*=e[n];return this.check()}multiplyByScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}check(){if(Xi.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let e=this.length===this.ELEMENTS;for(let n=0;n<this.ELEMENTS;++n)e=e&&Number.isFinite(this[n]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=e;return this.check()}addScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),n);return this.check()}get elements(){return this}}function PMe(t,e){if(t.length!==e)return!1;for(let n=0;n<t.length;++n)if(!Number.isFinite(t[n]))return!1;return!0}function fi(t){if(!Number.isFinite(t))throw new Error(`Invalid number ${JSON.stringify(t)}`);return t}function ZT(t,e,n=""){if(Xi.debug&&!PMe(t,e))throw new Error(`math.gl: ${n} some fields set to invalid numbers'`);return t}function Yj(t,e){if(!t)throw new Error(`math.gl assertion ${e}`)}class RMe extends DX{get x(){return this[0]}set x(e){this[0]=fi(e)}get y(){return this[1]}set y(e){this[1]=fi(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let n=0;n<this.ELEMENTS;++n)e+=this[n]*this[n];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let n=0;for(let r=0;r<this.ELEMENTS;++r){const i=this[r]-e[r];n+=i*i}return fi(n)}dot(e){let n=0;for(let r=0;r<this.ELEMENTS;++r)n+=this[r]*e[r];return fi(n)}normalize(){const e=this.magnitude();if(e!==0)for(let n=0;n<this.ELEMENTS;++n)this[n]/=e;return this.check()}multiply(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]*=n[r];return this.check()}divide(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]/=n[r];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return Yj(e>=0&&e<this.ELEMENTS,"index is out of range"),fi(this[e])}setComponent(e,n){return Yj(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=n,this.check()}addVectors(e,n){return this.copy(e).add(n)}subVectors(e,n){return this.copy(e).subtract(n)}multiplyVectors(e,n){return this.copy(e).multiply(n)}addScaledVector(e,n){return this.add(new this.constructor(e).multiplyScalar(n))}}const Mv=1e-6;let Wf=typeof Float32Array<"u"?Float32Array:Array;function OMe(){const t=new Wf(2);return Wf!=Float32Array&&(t[0]=0,t[1]=0),t}function Gj(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function MMe(t,e){return t[0]=-e[0],t[1]=-e[1],t}function BX(t,e,n,r){const i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t}function IMe(t,e,n){const r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}(function(){const t=OMe();return function(e,n,r,i,a,s){let o,c;for(n||(n=2),r||(r=0),i?c=Math.min(i*n+r,e.length):c=e.length,o=r;o<c;o+=n)t[0]=e[o],t[1]=e[o+1],a(t,t,s),e[o]=t[0],e[o+1]=t[1];return e}})();function kMe(t,e,n){const r=e[0],i=e[1],a=n[3]*r+n[7]*i||1;return t[0]=(n[0]*r+n[4]*i)/a,t[1]=(n[1]*r+n[5]*i)/a,t}function LX(t,e,n){const r=e[0],i=e[1],a=e[2],s=n[3]*r+n[7]*i+n[11]*a||1;return t[0]=(n[0]*r+n[4]*i+n[8]*a)/s,t[1]=(n[1]*r+n[5]*i+n[9]*a)/s,t[2]=(n[2]*r+n[6]*i+n[10]*a)/s,t}function NMe(t,e,n){const r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t[2]=e[2],t}function DMe(){const t=new Wf(3);return Wf!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function BMe(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function LMe(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function jMe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function UMe(t,e,n){const r=e[0],i=e[1],a=e[2],s=n[0],o=n[1],c=n[2];return t[0]=i*c-a*o,t[1]=a*s-r*c,t[2]=r*o-i*s,t}function jX(t,e,n){const r=e[0],i=e[1],a=e[2];let s=n[3]*r+n[7]*i+n[11]*a+n[15];return s=s||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/s,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/s,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/s,t}function FMe(t,e,n){const r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t}function $Me(t,e,n){const r=n[0],i=n[1],a=n[2],s=n[3],o=e[0],c=e[1],f=e[2];let d=i*f-a*c,p=a*o-r*f,m=r*c-i*o,y=i*m-a*p,v=a*d-r*m,b=r*p-i*d;const w=s*2;return d*=w,p*=w,m*=w,y*=2,v*=2,b*=2,t[0]=o+d+y,t[1]=c+p+v,t[2]=f+m+b,t}function zMe(t,e,n,r){const i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function VMe(t,e,n,r){const i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function HMe(t,e,n,r){const i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function WMe(t,e){const n=t[0],r=t[1],i=t[2],a=e[0],s=e[1],o=e[2],c=Math.sqrt((n*n+r*r+i*i)*(a*a+s*s+o*o)),f=c&&jMe(t,e)/c;return Math.acos(Math.min(Math.max(f,-1),1))}const qMe=BMe;(function(){const t=DMe();return function(e,n,r,i,a,s){let o,c;for(n||(n=3),r||(r=0),i?c=Math.min(i*n+r,e.length):c=e.length,o=r;o<c;o+=n)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],a(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2];return e}})();const QT=[0,0,0];let Ky;class os extends RMe{static get ZERO(){return Ky||(Ky=new os(0,0,0),Object.freeze(Ky)),Ky}constructor(e=0,n=0,r=0){super(-0,-0,-0),arguments.length===1&&Hf(e)?this.copy(e):(Xi.debug&&(fi(e),fi(n),fi(r)),this[0]=e,this[1]=n,this[2]=r)}set(e,n,r){return this[0]=e,this[1]=n,this[2]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return Xi.debug&&(fi(e.x),fi(e.y),fi(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=fi(e)}angle(e){return WMe(this,e)}cross(e){return UMe(this,this,e),this.check()}rotateX({radians:e,origin:n=QT}){return zMe(this,this,n,e),this.check()}rotateY({radians:e,origin:n=QT}){return VMe(this,this,n,e),this.check()}rotateZ({radians:e,origin:n=QT}){return HMe(this,this,n,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return jX(this,this,e),this.check()}transformAsVector(e){return LX(this,this,e),this.check()}transformByMatrix3(e){return FMe(this,this,e),this.check()}transformByMatrix2(e){return NMe(this,this,e),this.check()}transformByQuaternion(e){return $Me(this,this,e),this.check()}}class XMe extends DX{toString(){let e="[";if(Xi.printRowMajor){e+="row-major:";for(let n=0;n<this.RANK;++n)for(let r=0;r<this.RANK;++r)e+=` ${this[r*this.RANK+n]}`}else{e+="column-major:";for(let n=0;n<this.ELEMENTS;++n)e+=` ${this[n]}`}return e+="]",e}getElementIndex(e,n){return n*this.RANK+e}getElement(e,n){return this[n*this.RANK+e]}setElement(e,n,r){return this[n*this.RANK+e]=fi(r),this}getColumn(e,n=new Array(this.RANK).fill(-0)){const r=e*this.RANK;for(let i=0;i<this.RANK;++i)n[i]=this[r+i];return n}setColumn(e,n){const r=e*this.RANK;for(let i=0;i<this.RANK;++i)this[r+i]=n[i];return this}}function KMe(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function YMe(t,e){if(t===e){const n=e[1],r=e[2],i=e[3],a=e[6],s=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=s,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function CE(t,e){const n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],c=e[6],f=e[7],d=e[8],p=e[9],m=e[10],y=e[11],v=e[12],b=e[13],w=e[14],T=e[15],C=n*o-r*s,A=n*c-i*s,R=n*f-a*s,P=r*c-i*o,O=r*f-a*o,k=i*f-a*c,D=d*b-p*v,L=d*w-m*v,$=d*T-y*v,j=p*w-m*b,I=p*T-y*b,W=m*T-y*w;let H=C*W-A*I+R*j+P*$-O*L+k*D;return H?(H=1/H,t[0]=(o*W-c*I+f*j)*H,t[1]=(i*I-r*W-a*j)*H,t[2]=(b*k-w*O+T*P)*H,t[3]=(m*O-p*k-y*P)*H,t[4]=(c*$-s*W-f*L)*H,t[5]=(n*W-i*$+a*L)*H,t[6]=(w*R-v*k-T*A)*H,t[7]=(d*k-m*R+y*A)*H,t[8]=(s*I-o*$+f*D)*H,t[9]=(r*$-n*I-a*D)*H,t[10]=(v*O-b*R+T*C)*H,t[11]=(p*R-d*O-y*C)*H,t[12]=(o*L-s*j-c*D)*H,t[13]=(n*j-r*L+i*D)*H,t[14]=(b*A-v*P-w*C)*H,t[15]=(d*P-p*A+m*C)*H,t):null}function GMe(t){const e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],o=t[6],c=t[7],f=t[8],d=t[9],p=t[10],m=t[11],y=t[12],v=t[13],b=t[14],w=t[15],T=e*s-n*a,C=e*o-r*a,A=n*o-r*s,R=f*v-d*y,P=f*b-p*y,O=d*b-p*v,k=e*O-n*P+r*R,D=a*O-s*P+o*R,L=f*A-d*C+p*T,$=y*A-v*C+b*T;return c*k-i*D+w*L-m*$}function _c(t,e,n){const r=e[0],i=e[1],a=e[2],s=e[3],o=e[4],c=e[5],f=e[6],d=e[7],p=e[8],m=e[9],y=e[10],v=e[11],b=e[12],w=e[13],T=e[14],C=e[15];let A=n[0],R=n[1],P=n[2],O=n[3];return t[0]=A*r+R*o+P*p+O*b,t[1]=A*i+R*c+P*m+O*w,t[2]=A*a+R*f+P*y+O*T,t[3]=A*s+R*d+P*v+O*C,A=n[4],R=n[5],P=n[6],O=n[7],t[4]=A*r+R*o+P*p+O*b,t[5]=A*i+R*c+P*m+O*w,t[6]=A*a+R*f+P*y+O*T,t[7]=A*s+R*d+P*v+O*C,A=n[8],R=n[9],P=n[10],O=n[11],t[8]=A*r+R*o+P*p+O*b,t[9]=A*i+R*c+P*m+O*w,t[10]=A*a+R*f+P*y+O*T,t[11]=A*s+R*d+P*v+O*C,A=n[12],R=n[13],P=n[14],O=n[15],t[12]=A*r+R*o+P*p+O*b,t[13]=A*i+R*c+P*m+O*w,t[14]=A*a+R*f+P*y+O*T,t[15]=A*s+R*d+P*v+O*C,t}function lb(t,e,n){const r=n[0],i=n[1],a=n[2];let s,o,c,f,d,p,m,y,v,b,w,T;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*a+e[12],t[13]=e[1]*r+e[5]*i+e[9]*a+e[13],t[14]=e[2]*r+e[6]*i+e[10]*a+e[14],t[15]=e[3]*r+e[7]*i+e[11]*a+e[15]):(s=e[0],o=e[1],c=e[2],f=e[3],d=e[4],p=e[5],m=e[6],y=e[7],v=e[8],b=e[9],w=e[10],T=e[11],t[0]=s,t[1]=o,t[2]=c,t[3]=f,t[4]=d,t[5]=p,t[6]=m,t[7]=y,t[8]=v,t[9]=b,t[10]=w,t[11]=T,t[12]=s*r+d*i+v*a+e[12],t[13]=o*r+p*i+b*a+e[13],t[14]=c*r+m*i+w*a+e[14],t[15]=f*r+y*i+T*a+e[15]),t}function IR(t,e,n){const r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ZMe(t,e,n,r){let i=r[0],a=r[1],s=r[2],o=Math.sqrt(i*i+a*a+s*s),c,f,d,p,m,y,v,b,w,T,C,A,R,P,O,k,D,L,$,j,I,W,H,J;return o<Mv?null:(o=1/o,i*=o,a*=o,s*=o,f=Math.sin(n),c=Math.cos(n),d=1-c,p=e[0],m=e[1],y=e[2],v=e[3],b=e[4],w=e[5],T=e[6],C=e[7],A=e[8],R=e[9],P=e[10],O=e[11],k=i*i*d+c,D=a*i*d+s*f,L=s*i*d-a*f,$=i*a*d-s*f,j=a*a*d+c,I=s*a*d+i*f,W=i*s*d+a*f,H=a*s*d-i*f,J=s*s*d+c,t[0]=p*k+b*D+A*L,t[1]=m*k+w*D+R*L,t[2]=y*k+T*D+P*L,t[3]=v*k+C*D+O*L,t[4]=p*$+b*j+A*I,t[5]=m*$+w*j+R*I,t[6]=y*$+T*j+P*I,t[7]=v*$+C*j+O*I,t[8]=p*W+b*H+A*J,t[9]=m*W+w*H+R*J,t[10]=y*W+T*H+P*J,t[11]=v*W+C*H+O*J,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function UX(t,e,n){const r=Math.sin(n),i=Math.cos(n),a=e[4],s=e[5],o=e[6],c=e[7],f=e[8],d=e[9],p=e[10],m=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+f*r,t[5]=s*i+d*r,t[6]=o*i+p*r,t[7]=c*i+m*r,t[8]=f*i-a*r,t[9]=d*i-s*r,t[10]=p*i-o*r,t[11]=m*i-c*r,t}function QMe(t,e,n){const r=Math.sin(n),i=Math.cos(n),a=e[0],s=e[1],o=e[2],c=e[3],f=e[8],d=e[9],p=e[10],m=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-f*r,t[1]=s*i-d*r,t[2]=o*i-p*r,t[3]=c*i-m*r,t[8]=a*r+f*i,t[9]=s*r+d*i,t[10]=o*r+p*i,t[11]=c*r+m*i,t}function FX(t,e,n){const r=Math.sin(n),i=Math.cos(n),a=e[0],s=e[1],o=e[2],c=e[3],f=e[4],d=e[5],p=e[6],m=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+f*r,t[1]=s*i+d*r,t[2]=o*i+p*r,t[3]=c*i+m*r,t[4]=f*i-a*r,t[5]=d*i-s*r,t[6]=p*i-o*r,t[7]=m*i-c*r,t}function JMe(t,e){const n=e[0],r=e[1],i=e[2],a=e[3],s=n+n,o=r+r,c=i+i,f=n*s,d=r*s,p=r*o,m=i*s,y=i*o,v=i*c,b=a*s,w=a*o,T=a*c;return t[0]=1-p-v,t[1]=d+T,t[2]=m-w,t[3]=0,t[4]=d-T,t[5]=1-f-v,t[6]=y+b,t[7]=0,t[8]=m+w,t[9]=y-b,t[10]=1-f-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function eIe(t,e,n,r,i,a,s){const o=1/(n-e),c=1/(i-r),f=1/(a-s);return t[0]=a*2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a*2*c,t[6]=0,t[7]=0,t[8]=(n+e)*o,t[9]=(i+r)*c,t[10]=(s+a)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*a*2*f,t[15]=0,t}function tIe(t,e,n,r,i){const a=1/Math.tan(e/2);if(t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){const s=1/(r-i);t[10]=(i+r)*s,t[14]=2*i*r*s}else t[10]=-1,t[14]=-2*r;return t}const nIe=tIe;function rIe(t,e,n,r,i,a,s){const o=1/(e-n),c=1/(r-i),f=1/(a-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+n)*o,t[13]=(i+r)*c,t[14]=(s+a)*f,t[15]=1,t}const iIe=rIe;function aIe(t,e,n,r){let i,a,s,o,c,f,d,p,m,y;const v=e[0],b=e[1],w=e[2],T=r[0],C=r[1],A=r[2],R=n[0],P=n[1],O=n[2];return Math.abs(v-R)<Mv&&Math.abs(b-P)<Mv&&Math.abs(w-O)<Mv?KMe(t):(p=v-R,m=b-P,y=w-O,i=1/Math.sqrt(p*p+m*m+y*y),p*=i,m*=i,y*=i,a=C*y-A*m,s=A*p-T*y,o=T*m-C*p,i=Math.sqrt(a*a+s*s+o*o),i?(i=1/i,a*=i,s*=i,o*=i):(a=0,s=0,o=0),c=m*o-y*s,f=y*a-p*o,d=p*s-m*a,i=Math.sqrt(c*c+f*f+d*d),i?(i=1/i,c*=i,f*=i,d*=i):(c=0,f=0,d=0),t[0]=a,t[1]=c,t[2]=p,t[3]=0,t[4]=s,t[5]=f,t[6]=m,t[7]=0,t[8]=o,t[9]=d,t[10]=y,t[11]=0,t[12]=-(a*v+s*b+o*w),t[13]=-(c*v+f*b+d*w),t[14]=-(p*v+m*b+y*w),t[15]=1,t)}function sIe(){const t=new Wf(4);return Wf!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function oIe(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Zg(t,e,n){const r=e[0],i=e[1],a=e[2],s=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*s,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*s,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*s,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*s,t}(function(){const t=sIe();return function(e,n,r,i,a,s){let o,c;for(n||(n=4),r||(r=0),i?c=Math.min(i*n+r,e.length):c=e.length,o=r;o<c;o+=n)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],a(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2],e[o+3]=t[3];return e}})();var PE;(function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL0ROW3=3]="COL0ROW3",t[t.COL1ROW0=4]="COL1ROW0",t[t.COL1ROW1=5]="COL1ROW1",t[t.COL1ROW2=6]="COL1ROW2",t[t.COL1ROW3=7]="COL1ROW3",t[t.COL2ROW0=8]="COL2ROW0",t[t.COL2ROW1=9]="COL2ROW1",t[t.COL2ROW2=10]="COL2ROW2",t[t.COL2ROW3=11]="COL2ROW3",t[t.COL3ROW0=12]="COL3ROW0",t[t.COL3ROW1=13]="COL3ROW1",t[t.COL3ROW2=14]="COL3ROW2",t[t.COL3ROW3=15]="COL3ROW3"})(PE||(PE={}));const lIe=45*Math.PI/180,cIe=1,JT=.1,e2=500,uIe=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class ls extends XMe{static get IDENTITY(){return dIe()}static get ZERO(){return fIe()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return PE}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,n,r,i,a,s,o,c,f,d,p,m,y,v,b,w){return this[0]=e,this[1]=n,this[2]=r,this[3]=i,this[4]=a,this[5]=s,this[6]=o,this[7]=c,this[8]=f,this[9]=d,this[10]=p,this[11]=m,this[12]=y,this[13]=v,this[14]=b,this[15]=w,this.check()}setRowMajor(e,n,r,i,a,s,o,c,f,d,p,m,y,v,b,w){return this[0]=e,this[1]=a,this[2]=f,this[3]=y,this[4]=n,this[5]=s,this[6]=d,this[7]=v,this[8]=r,this[9]=o,this[10]=p,this[11]=b,this[12]=i,this[13]=c,this[14]=m,this[15]=w,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(uIe)}fromObject(e){return this.check()}fromQuaternion(e){return JMe(this,e),this.check()}frustum(e){const{left:n,right:r,bottom:i,top:a,near:s=JT,far:o=e2}=e;return o===1/0?hIe(this,n,r,i,a,s):eIe(this,n,r,i,a,s,o),this.check()}lookAt(e){const{eye:n,center:r=[0,0,0],up:i=[0,1,0]}=e;return aIe(this,n,r,i),this.check()}ortho(e){const{left:n,right:r,bottom:i,top:a,near:s=JT,far:o=e2}=e;return iIe(this,n,r,i,a,s,o),this.check()}orthographic(e){const{fovy:n=lIe,aspect:r=cIe,focalDistance:i=1,near:a=JT,far:s=e2}=e;Zj(n);const o=n/2,c=i*Math.tan(o),f=c*r;return this.ortho({left:-f,right:f,bottom:-c,top:c,near:a,far:s})}perspective(e){const{fovy:n=45*Math.PI/180,aspect:r=1,near:i=.1,far:a=500}=e;return Zj(n),nIe(this,n,r,i,a),this.check()}determinant(){return GMe(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,n){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],n=n||[-0,-0,-0];const r=this.getScale(n),i=1/r[0],a=1/r[1],s=1/r[2];return e[0]=this[0]*i,e[1]=this[1]*a,e[2]=this[2]*s,e[3]=0,e[4]=this[4]*i,e[5]=this[5]*a,e[6]=this[6]*s,e[7]=0,e[8]=this[8]*i,e[9]=this[9]*a,e[10]=this[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,n){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],n=n||[-0,-0,-0];const r=this.getScale(n),i=1/r[0],a=1/r[1],s=1/r[2];return e[0]=this[0]*i,e[1]=this[1]*a,e[2]=this[2]*s,e[3]=this[4]*i,e[4]=this[5]*a,e[5]=this[6]*s,e[6]=this[8]*i,e[7]=this[9]*a,e[8]=this[10]*s,e}transpose(){return YMe(this,this),this.check()}invert(){return CE(this,this),this.check()}multiplyLeft(e){return _c(this,e,this),this.check()}multiplyRight(e){return _c(this,this,e),this.check()}rotateX(e){return UX(this,this,e),this.check()}rotateY(e){return QMe(this,this,e),this.check()}rotateZ(e){return FX(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,n){return ZMe(this,this,e,n),this.check()}scale(e){return IR(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return lb(this,this,e),this.check()}transform(e,n){return e.length===4?(n=Zg(n||[-0,-0,-0,-0],e,this),ZT(n,4),n):this.transformAsPoint(e,n)}transformAsPoint(e,n){const{length:r}=e;let i;switch(r){case 2:i=IMe(n||[-0,-0],e,this);break;case 3:i=jX(n||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return ZT(i,e.length),i}transformAsVector(e,n){let r;switch(e.length){case 2:r=kMe(n||[-0,-0],e,this);break;case 3:r=LX(n||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return ZT(r,e.length),r}transformPoint(e,n){return this.transformAsPoint(e,n)}transformVector(e,n){return this.transformAsPoint(e,n)}transformDirection(e,n){return this.transformAsVector(e,n)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,n,r){return this.identity().translate([e,n,r])}}let Yy,Gy;function fIe(){return Yy||(Yy=new ls([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(Yy)),Yy}function dIe(){return Gy||(Gy=new ls,Object.freeze(Gy)),Gy}function Zj(t){if(t>Math.PI*2)throw Error("expected radians")}function hIe(t,e,n,r,i,a){const s=2*a/(n-e),o=2*a/(i-r),c=(n+e)/(n-e),f=(i+r)/(i-r),d=-1,p=-1,m=-2*a;return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=c,t[9]=f,t[10]=d,t[11]=p,t[12]=0,t[13]=0,t[14]=m,t[15]=0,t}function $X(t,e=[],n=0){const r=Math.fround(t),i=t-r;return e[n]=r,e[n+1]=i,e}function pIe(t){return t-Math.fround(t)}function gIe(t){const e=new Float32Array(32);for(let n=0;n<4;++n)for(let r=0;r<4;++r){const i=n*4+r;$X(t[r*4+n],e,i*2)}return e}const mIe=`#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND

// All these functions are for substituting tan() function from Intel GPU only
const float TWO_PI = 6.2831854820251465;
const float PI_2 = 1.5707963705062866;
const float PI_16 = 0.1963495463132858;

const float SIN_TABLE_0 = 0.19509032368659973;
const float SIN_TABLE_1 = 0.3826834261417389;
const float SIN_TABLE_2 = 0.5555702447891235;
const float SIN_TABLE_3 = 0.7071067690849304;

const float COS_TABLE_0 = 0.9807852506637573;
const float COS_TABLE_1 = 0.9238795042037964;
const float COS_TABLE_2 = 0.8314695954322815;
const float COS_TABLE_3 = 0.7071067690849304;

const float INVERSE_FACTORIAL_3 = 1.666666716337204e-01; // 1/3!
const float INVERSE_FACTORIAL_5 = 8.333333767950535e-03; // 1/5!
const float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04; // 1/7!
const float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06; // 1/9!

float sin_taylor_fp32(float a) {
  float r, s, t, x;

  if (a == 0.0) {
    return 0.0;
  }

  x = -a * a;
  s = a;
  r = a;

  r = r * x;
  t = r * INVERSE_FACTORIAL_3;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_5;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_7;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_9;
  s = s + t;

  return s;
}

void sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {
  if (a == 0.0) {
    sin_t = 0.0;
    cos_t = 1.0;
  }
  sin_t = sin_taylor_fp32(a);
  cos_t = sqrt(1.0 - sin_t * sin_t);
}

float tan_taylor_fp32(float a) {
    float sin_a;
    float cos_a;

    if (a == 0.0) {
        return 0.0;
    }

    // 2pi range reduction
    float z = floor(a / TWO_PI);
    float r = a - TWO_PI * z;

    float t;
    float q = floor(r / PI_2 + 0.5);
    int j = int(q);

    if (j < -2 || j > 2) {
        return 1.0 / 0.0;
    }

    t = r - PI_2 * q;

    q = floor(t / PI_16 + 0.5);
    int k = int(q);
    int abs_k = int(abs(float(k)));

    if (abs_k > 4) {
        return 1.0 / 0.0;
    } else {
        t = t - PI_16 * q;
    }

    float u = 0.0;
    float v = 0.0;

    float sin_t, cos_t;
    float s, c;
    sincos_taylor_fp32(t, sin_t, cos_t);

    if (k == 0) {
        s = sin_t;
        c = cos_t;
    } else {
        if (abs(float(abs_k) - 1.0) < 0.5) {
            u = COS_TABLE_0;
            v = SIN_TABLE_0;
        } else if (abs(float(abs_k) - 2.0) < 0.5) {
            u = COS_TABLE_1;
            v = SIN_TABLE_1;
        } else if (abs(float(abs_k) - 3.0) < 0.5) {
            u = COS_TABLE_2;
            v = SIN_TABLE_2;
        } else if (abs(float(abs_k) - 4.0) < 0.5) {
            u = COS_TABLE_3;
            v = SIN_TABLE_3;
        }
        if (k > 0) {
            s = u * sin_t + v * cos_t;
            c = u * cos_t - v * sin_t;
        } else {
            s = u * sin_t - v * cos_t;
            c = u * cos_t + v * sin_t;
        }
    }

    if (j == 0) {
        sin_a = s;
        cos_a = c;
    } else if (j == 1) {
        sin_a = c;
        cos_a = -s;
    } else if (j == -1) {
        sin_a = -c;
        cos_a = s;
    } else {
        sin_a = -s;
        cos_a = -c;
    }
    return sin_a / cos_a;
}
#endif

float tan_fp32(float a) {
#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
  return tan_taylor_fp32(a);
#else
  return tan(a);
#endif
}
`,yIe={name:"fp32",vs:mIe},vIe=`
uniform fp64arithmeticUniforms {
  uniform float ONE;
} fp64;

/*
About LUMA_FP64_CODE_ELIMINATION_WORKAROUND

The purpose of this workaround is to prevent shader compilers from
optimizing away necessary arithmetic operations by swapping their sequences
or transform the equation to some 'equivalent' form.

The method is to multiply an artifical variable, ONE, which will be known to
the compiler to be 1 only at runtime. The whole expression is then represented
as a polynomial with respective to ONE. In the coefficients of all terms, only one a
and one b should appear

err = (a + b) * ONE^6 - a * ONE^5 - (a + b) * ONE^4 + a * ONE^3 - b - (a + b) * ONE^2 + a * ONE
*/

// Divide float number to high and low floats to extend fraction bits
vec2 split(float a) {
  const float SPLIT = 4097.0;
  float t = a * SPLIT;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float a_hi = t * fp64.ONE - (t - a);
  float a_lo = a * fp64.ONE - a_hi;
#else
  float a_hi = t - (t - a);
  float a_lo = a - a_hi;
#endif
  return vec2(a_hi, a_lo);
}

// Divide float number again when high float uses too many fraction bits
vec2 split2(vec2 a) {
  vec2 b = split(a.x);
  b.y += a.y;
  return b;
}

// Special sum operation when a > b
vec2 quickTwoSum(float a, float b) {
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float sum = (a + b) * fp64.ONE;
  float err = b - (sum - a) * fp64.ONE;
#else
  float sum = a + b;
  float err = b - (sum - a);
#endif
  return vec2(sum, err);
}

// General sum operation
vec2 twoSum(float a, float b) {
  float s = (a + b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE + (b - v);
#else
  float v = s - a;
  float err = (a - (s - v)) + (b - v);
#endif
  return vec2(s, err);
}

vec2 twoSub(float a, float b) {
  float s = (a - b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE - (b + v);
#else
  float v = s - a;
  float err = (a - (s - v)) - (b + v);
#endif
  return vec2(s, err);
}

vec2 twoSqr(float a) {
  float prod = a * a;
  vec2 a_fp64 = split(a);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float err = ((a_fp64.x * a_fp64.x - prod) * fp64.ONE + 2.0 * a_fp64.x *
    a_fp64.y * fp64.ONE * fp64.ONE) + a_fp64.y * a_fp64.y * fp64.ONE * fp64.ONE * fp64.ONE;
#else
  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;
#endif
  return vec2(prod, err);
}

vec2 twoProd(float a, float b) {
  float prod = a * b;
  vec2 a_fp64 = split(a);
  vec2 b_fp64 = split(b);
  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +
    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;
  return vec2(prod, err);
}

vec2 sum_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSum(a.x, b.x);
  t = twoSum(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 sub_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSub(a.x, b.x);
  t = twoSub(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 mul_fp64(vec2 a, vec2 b) {
  vec2 prod = twoProd(a.x, b.x);
  // y component is for the error
  prod.y += a.x * b.y;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  prod.y += a.y * b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  return prod;
}

vec2 div_fp64(vec2 a, vec2 b) {
  float xn = 1.0 / b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  vec2 yn = mul_fp64(a, vec2(xn, 0));
#else
  vec2 yn = a * xn;
#endif
  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;
  vec2 prod = twoProd(xn, diff);
  return sum_fp64(yn, prod);
}

vec2 sqrt_fp64(vec2 a) {
  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);
  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);

  float x = 1.0 / sqrt(a.x);
  float yn = a.x * x;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  vec2 yn_sqr = twoSqr(yn) * fp64.ONE;
#else
  vec2 yn_sqr = twoSqr(yn);
#endif
  float diff = sub_fp64(a, yn_sqr).x;
  vec2 prod = twoProd(x * 0.5, diff);
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  return sum_fp64(split(yn), prod);
#else
  return sum_fp64(vec2(yn, 0.0), prod);
#endif
}
`,bIe={ONE:1},xIe={name:"fp64arithmetic",vs:vIe,defaultUniforms:bIe,uniformTypes:{ONE:"f32"},fp64ify:$X,fp64LowPart:pIe,fp64ifyMatrix4:gIe},_Ie=[0,1,1,1],wIe=`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

out vec4 picking_vRGBcolor_Avalid;

// Normalize unsigned byte color to 0-1 range
vec3 picking_normalizeColor(vec3 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

// Normalize unsigned byte color to 0-1 range
vec4 picking_normalizeColor(vec4 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

bool picking_isColorZero(vec3 color) {
  return dot(color, vec3(1.0)) < 0.00001;
}

bool picking_isColorValid(vec3 color) {
  return dot(color, vec3(1.0)) > 0.00001;
}

// Check if this vertex is highlighted 
bool isVertexHighlighted(vec3 vertexColor) {
  vec3 highlightedObjectColor = picking_normalizeColor(picking.highlightedObjectColor);
  return
    bool(picking.isHighlightActive) && picking_isColorZero(abs(vertexColor - highlightedObjectColor));
}

// Set the current picking color
void picking_setPickingColor(vec3 pickingColor) {
  pickingColor = picking_normalizeColor(pickingColor);

  if (bool(picking.isActive)) {
    // Use alpha as the validity flag. If pickingColor is [0, 0, 0] fragment is non-pickable
    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));

    if (!bool(picking.isAttribute)) {
      // Stores the picking color so that the fragment shader can render it during picking
      picking_vRGBcolor_Avalid.rgb = pickingColor;
    }
  } else {
    // Do the comparison with selected item color in vertex shader as it should mean fewer compares
    picking_vRGBcolor_Avalid.a = float(isVertexHighlighted(pickingColor));
  }
}

void picking_setPickingAttribute(float value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.r = value;
  }
}

void picking_setPickingAttribute(vec2 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rg = value;
  }
}

void picking_setPickingAttribute(vec3 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rgb = value;
  }
}
`,SIe=`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

in vec4 picking_vRGBcolor_Avalid;

/*
 * Returns highlight color if this item is selected.
 */
vec4 picking_filterHighlightColor(vec4 color) {
  // If we are still picking, we don't highlight
  if (picking.isActive > 0.5) {
    return color;
  }

  bool selected = bool(picking_vRGBcolor_Avalid.a);

  if (selected) {
    // Blend in highlight color based on its alpha value
    float highLightAlpha = picking.highlightColor.a;
    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);
    float highLightRatio = highLightAlpha / blendedAlpha;

    vec3 blendedRGB = mix(color.rgb, picking.highlightColor.rgb, highLightRatio);
    return vec4(blendedRGB, blendedAlpha);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 picking_filterPickingColor(vec4 color) {
  if (bool(picking.isActive)) {
    if (picking_vRGBcolor_Avalid.a == 0.0) {
      discard;
    }
    return picking_vRGBcolor_Avalid;
  }
  return color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 picking_filterColor(vec4 color) {
  vec4 highlightColor = picking_filterHighlightColor(color);
  return picking_filterPickingColor(highlightColor);
}
`,Qj={props:{},uniforms:{},name:"picking",uniformTypes:{isActive:"f32",isAttribute:"f32",isHighlightActive:"f32",useFloatColors:"f32",highlightedObjectColor:"vec3<f32>",highlightColor:"vec4<f32>"},defaultUniforms:{isActive:!1,isAttribute:!1,isHighlightActive:!1,useFloatColors:!0,highlightedObjectColor:[0,0,0],highlightColor:_Ie},vs:wIe,fs:SIe,getUniforms:TIe};function TIe(t={},e){const n={};if(t.highlightedObjectColor!==void 0)if(t.highlightedObjectColor===null)n.isHighlightActive=!1;else{n.isHighlightActive=!0;const r=t.highlightedObjectColor.slice(0,3);n.highlightedObjectColor=r}if(t.highlightColor){const r=Array.from(t.highlightColor,i=>i/255);Number.isFinite(r[3])||(r[3]=1),n.highlightColor=r}return t.isActive!==void 0&&(n.isActive=!!t.isActive,n.isAttribute=!!t.isAttribute),t.useFloatColors!==void 0&&(n.useFloatColors=!!t.useFloatColors),n}const Jj=`precision highp int;

// #if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
  vec3 color;
};

struct PointLight {
  vec3 color;
  vec3 position;
  vec3 attenuation; // 2nd order x:Constant-y:Linear-z:Exponential
};

struct DirectionalLight {
  vec3 color;
  vec3 direction;
};

uniform lightingUniforms {
  int enabled;
  int lightType;

  int directionalLightCount;
  int pointLightCount;

  vec3 ambientColor;

  vec3 lightColor0;
  vec3 lightPosition0;
  vec3 lightDirection0;
  vec3 lightAttenuation0;

  vec3 lightColor1;
  vec3 lightPosition1;
  vec3 lightDirection1;
  vec3 lightAttenuation1;

  vec3 lightColor2;
  vec3 lightPosition2;
  vec3 lightDirection2;
  vec3 lightAttenuation2;
} lighting;

PointLight lighting_getPointLight(int index) {
  switch (index) {
    case 0:
      return PointLight(lighting.lightColor0, lighting.lightPosition0, lighting.lightAttenuation0);
    case 1:
      return PointLight(lighting.lightColor1, lighting.lightPosition1, lighting.lightAttenuation1);
    case 2:
    default:  
      return PointLight(lighting.lightColor2, lighting.lightPosition2, lighting.lightAttenuation2);
  }
}

DirectionalLight lighting_getDirectionalLight(int index) {
  switch (index) {
    case 0:
      return DirectionalLight(lighting.lightColor0, lighting.lightDirection0);
    case 1:
      return DirectionalLight(lighting.lightColor1, lighting.lightDirection1);
    case 2:
    default:   
      return DirectionalLight(lighting.lightColor2, lighting.lightDirection2);
  }
} 

float getPointLightAttenuation(PointLight pointLight, float distance) {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}

// #endif
`,AIe=`// #if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
  color: vec3<f32>,
};

struct PointLight {
  color: vec3<f32>,
  position: vec3<f32>,
  attenuation: vec3<f32>, // 2nd order x:Constant-y:Linear-z:Exponential
};

struct DirectionalLight {
  color: vec3<f32>,
  direction: vec3<f32>,
};

struct lightingUniforms {
  enabled: i32,
  pointLightCount: i32,
  directionalLightCount: i32,

  ambientColor: vec3<f32>,

  // TODO - support multiple lights by uncommenting arrays below
  lightType: i32,
  lightColor: vec3<f32>,
  lightDirection: vec3<f32>,
  lightPosition: vec3<f32>,
  lightAttenuation: vec3<f32>,

  // AmbientLight ambientLight;
  // PointLight pointLight[MAX_LIGHTS];
  // DirectionalLight directionalLight[MAX_LIGHTS];
};

// Binding 0:1 is reserved for lighting (Note: could go into separate bind group as it is stable across draw calls)
@binding(1) @group(0) var<uniform> lighting : lightingUniforms;

fn lighting_getPointLight(index: i32) -> PointLight {
  return PointLight(lighting.lightColor, lighting.lightPosition, lighting.lightAttenuation);
}

fn lighting_getDirectionalLight(index: i32) -> DirectionalLight {
  return DirectionalLight(lighting.lightColor, lighting.lightDirection);
} 

fn getPointLightAttenuation(pointLight: PointLight, distance: f32) -> f32 {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}
`,EIe=5,CIe=255;var Gp;(function(t){t[t.POINT=0]="POINT",t[t.DIRECTIONAL=1]="DIRECTIONAL"})(Gp||(Gp={}));const op={props:{},uniforms:{},name:"lighting",defines:{},uniformTypes:{enabled:"i32",lightType:"i32",directionalLightCount:"i32",pointLightCount:"i32",ambientColor:"vec3<f32>",lightColor0:"vec3<f32>",lightPosition0:"vec3<f32>",lightDirection0:"vec3<f32>",lightAttenuation0:"vec3<f32>",lightColor1:"vec3<f32>",lightPosition1:"vec3<f32>",lightDirection1:"vec3<f32>",lightAttenuation1:"vec3<f32>",lightColor2:"vec3<f32>",lightPosition2:"vec3<f32>",lightDirection2:"vec3<f32>",lightAttenuation2:"vec3<f32>"},defaultUniforms:{enabled:1,lightType:Gp.POINT,directionalLightCount:0,pointLightCount:0,ambientColor:[.1,.1,.1],lightColor0:[1,1,1],lightPosition0:[1,1,2],lightDirection0:[1,1,1],lightAttenuation0:[1,0,0],lightColor1:[1,1,1],lightPosition1:[1,1,2],lightDirection1:[1,1,1],lightAttenuation1:[1,0,0],lightColor2:[1,1,1],lightPosition2:[1,1,2],lightDirection2:[1,1,1],lightAttenuation2:[1,0,0]},source:AIe,vs:Jj,fs:Jj,getUniforms:PIe};function PIe(t,e={}){if(t=t&&{...t},!t)return{...op.defaultUniforms};t.lights&&(t={...t,...OIe(t.lights),lights:void 0});const{ambientLight:n,pointLights:r,directionalLights:i}=t||{};if(!(n||r&&r.length>0||i&&i.length>0))return{...op.defaultUniforms,enabled:0};const s={...op.defaultUniforms,...e,...RIe({ambientLight:n,pointLights:r,directionalLights:i})};return t.enabled!==void 0&&(s.enabled=t.enabled?1:0),s}function RIe({ambientLight:t,pointLights:e=[],directionalLights:n=[]}){const r={};r.ambientColor=t2(t);let i=0;for(const a of e){r.lightType=Gp.POINT;const s=i;r[`lightColor${s}`]=t2(a),r[`lightPosition${s}`]=a.position,r[`lightAttenuation${s}`]=a.attenuation||[1,0,0],i++}for(const a of n){r.lightType=Gp.DIRECTIONAL;const s=i;r[`lightColor${s}`]=t2(a),r[`lightDirection${s}`]=a.direction,i++}return i>EIe&&ve.warn("MAX_LIGHTS exceeded")(),r.directionalLightCount=n.length,r.pointLightCount=e.length,r}function OIe(t){const e={pointLights:[],directionalLights:[]};for(const n of t||[])switch(n.type){case"ambient":e.ambientLight=n;break;case"directional":e.directionalLights?.push(n);break;case"point":e.pointLights?.push(n);break}return e}function t2(t={}){const{color:e=[0,0,0],intensity:n=1}=t;return e.map(r=>r*n/CIe)}const zX=`uniform phongMaterialUniforms {
  uniform float ambient;
  uniform float diffuse;
  uniform float shininess;
  uniform vec3  specularColor;
} material;
`,VX=`#define MAX_LIGHTS 3

uniform phongMaterialUniforms {
  uniform float ambient;
  uniform float diffuse;
  uniform float shininess;
  uniform vec3  specularColor;
} material;

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {
  vec3 halfway_direction = normalize(light_direction + view_direction);
  float lambertian = dot(light_direction, normal_worldspace);
  float specular = 0.0;
  if (lambertian > 0.0) {
    float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
    specular = pow(specular_angle, material.shininess);
  }
  lambertian = max(lambertian, 0.0);
  return (lambertian * material.diffuse * surfaceColor + specular * material.specularColor) * color;
}

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
  vec3 lightColor = surfaceColor;

  if (lighting.enabled == 0) {
    return lightColor;
  }

  vec3 view_direction = normalize(cameraPosition - position_worldspace);
  lightColor = material.ambient * surfaceColor * lighting.ambientColor;

  for (int i = 0; i < lighting.pointLightCount; i++) {
    PointLight pointLight = lighting_getPointLight(i);
    vec3 light_position_worldspace = pointLight.position;
    vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
    float light_attenuation = getPointLightAttenuation(pointLight, distance(light_position_worldspace, position_worldspace));
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color / light_attenuation);
  }

  int totalLights = min(MAX_LIGHTS, lighting.pointLightCount + lighting.directionalLightCount);
  for (int i = lighting.pointLightCount; i < totalLights; i++) {
    DirectionalLight directionalLight = lighting_getDirectionalLight(i);
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  
  return lightColor;
}
`,HX=`struct phongMaterialUniforms {
  ambient: f32,
  diffuse: f32,
  shininess: f32,
  specularColor: vec3<f32>,
};

@binding(2) @group(0) var<uniform> phongMaterial : phongMaterialUniforms;

fn lighting_getLightColor(surfaceColor: vec3<f32>, light_direction: vec3<f32>, view_direction: vec3<f32>, normal_worldspace: vec3<f32>, color: vec3<f32>) -> vec3<f32> {
  let halfway_direction: vec3<f32> = normalize(light_direction + view_direction);
  var lambertian: f32 = dot(light_direction, normal_worldspace);
  var specular: f32 = 0.0;
  if (lambertian > 0.0) {
    let specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
    specular = pow(specular_angle, phongMaterial.shininess);
  }
  lambertian = max(lambertian, 0.0);
  return (lambertian * phongMaterial.diffuse * surfaceColor + specular * phongMaterial.specularColor) * color;
}

fn lighting_getLightColor2(surfaceColor: vec3<f32>, cameraPosition: vec3<f32>, position_worldspace: vec3<f32>, normal_worldspace: vec3<f32>) -> vec3<f32> {
  var lightColor: vec3<f32> = surfaceColor;

  if (lighting.enabled == 0) {
    return lightColor;
  }

  let view_direction: vec3<f32> = normalize(cameraPosition - position_worldspace);
  lightColor = phongMaterial.ambient * surfaceColor * lighting.ambientColor;

  if (lighting.lightType == 0) {
    let pointLight: PointLight  = lighting_getPointLight(0);
    let light_position_worldspace: vec3<f32> = pointLight.position;
    let light_direction: vec3<f32> = normalize(light_position_worldspace - position_worldspace);
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
  } else if (lighting.lightType == 1) {
    var directionalLight: DirectionalLight = lighting_getDirectionalLight(0);
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  
  return lightColor;
  /*
  for (int i = 0; i < MAX_LIGHTS; i++) {
    if (i >= lighting.pointLightCount) {
      break;
    }
    PointLight pointLight = lighting.pointLight[i];
    vec3 light_position_worldspace = pointLight.position;
    vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
  }

  for (int i = 0; i < MAX_LIGHTS; i++) {
    if (i >= lighting.directionalLightCount) {
      break;
    }
    DirectionalLight directionalLight = lighting.directionalLight[i];
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  */
}

fn lighting_getSpecularLightColor(cameraPosition: vec3<f32>, position_worldspace: vec3<f32>, normal_worldspace: vec3<f32>) -> vec3<f32>{
  var lightColor = vec3<f32>(0, 0, 0);
  let surfaceColor = vec3<f32>(0, 0, 0);

  if (lighting.enabled == 0) {
    let view_direction = normalize(cameraPosition - position_worldspace);

    switch (lighting.lightType) {
      case 0, default: {
        let pointLight: PointLight = lighting_getPointLight(0);
        let light_position_worldspace: vec3<f32> = pointLight.position;
        let light_direction: vec3<f32> = normalize(light_position_worldspace - position_worldspace);
        lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
      }
      case 1: {
        let directionalLight: DirectionalLight = lighting_getDirectionalLight(0);
        lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
      }
    }
  }
  return lightColor;
}
`,WX={props:{},name:"gouraudMaterial",vs:VX.replace("phongMaterial","gouraudMaterial"),fs:zX.replace("phongMaterial","gouraudMaterial"),source:HX.replaceAll("phongMaterial","gouraudMaterial"),defines:{LIGHTING_VERTEX:!0},dependencies:[op],uniformTypes:{ambient:"f32",diffuse:"f32",shininess:"f32",specularColor:"vec3<f32>"},defaultUniforms:{ambient:.35,diffuse:.6,shininess:32,specularColor:[.15,.15,.15]},getUniforms(t){const e={...t};return e.specularColor&&(e.specularColor=e.specularColor.map(n=>n/255)),{...WX.defaultUniforms,...e}}},qX={name:"phongMaterial",dependencies:[op],source:HX,vs:zX,fs:VX,defines:{LIGHTING_FRAGMENT:!0},uniformTypes:{ambient:"f32",diffuse:"f32",shininess:"f32",specularColor:"vec3<f32>"},defaultUniforms:{ambient:.35,diffuse:.6,shininess:32,specularColor:[.15,.15,.15]},getUniforms(t){const e={...t};return e.specularColor&&(e.specularColor=e.specularColor.map(n=>n/255)),{...qX.defaultUniforms,...e}}},eU=`uniform layerUniforms {
  uniform float opacity;
} layer;
`,MIe={name:"layer",vs:eU,fs:eU,getUniforms:t=>({opacity:Math.pow(t.opacity,1/2.2)}),uniformTypes:{opacity:"f32"}},IIe=`

struct ColorUniforms {
  opacity: f32,
};

var<private> color: ColorUniforms = ColorUniforms(1.0);
// TODO (kaapp) avoiding binding index collisions to handle layer opacity 
// requires some thought.
// @group(0) @binding(0) var<uniform> color: ColorUniforms;

@must_use
fn deckgl_premultiplied_alpha(fragColor: vec4<f32>) -> vec4<f32> {
    return vec4(fragColor.rgb * fragColor.a, fragColor.a); 
};
`,kIe={name:"color",dependencies:[],source:IIe,getUniforms:t=>({}),uniformTypes:{opacity:"f32"}},NIe=`const SMOOTH_EDGE_RADIUS: f32 = 0.5;

struct VertexGeometry {
  position: vec4<f32>,
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  normal: vec3<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

var<private> geometry_: VertexGeometry = VertexGeometry(
  vec4<f32>(0.0, 0.0, 1.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec2<f32>(0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0)
);

struct FragmentGeometry {
  uv: vec2<f32>,
};

var<private> fragmentGeometry: FragmentGeometry;

fn smoothedge(edge: f32, x: f32) -> f32 {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,XX="#define SMOOTH_EDGE_RADIUS 0.5",DIe=`${XX}

struct VertexGeometry {
  vec4 position;
  vec3 worldPosition;
  vec3 worldPositionAlt;
  vec3 normal;
  vec2 uv;
  vec3 pickingColor;
} geometry = VertexGeometry(
  vec4(0.0, 0.0, 1.0, 0.0),
  vec3(0.0),
  vec3(0.0),
  vec3(0.0),
  vec2(0.0),
  vec3(0.0)
);
`,BIe=`${XX}

struct FragmentGeometry {
  vec2 uv;
} geometry;

float smoothedge(float edge, float x) {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,KX={name:"geometry",source:NIe,vs:DIe,fs:BIe},LIe=25;var On;(function(t){t[t.Start=1]="Start",t[t.Move=2]="Move",t[t.End=4]="End",t[t.Cancel=8]="Cancel"})(On||(On={}));var Bn;(function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Up=4]="Up",t[t.Down=8]="Down",t[t.Horizontal=3]="Horizontal",t[t.Vertical=12]="Vertical",t[t.All=15]="All"})(Bn||(Bn={}));var ze;(function(t){t[t.Possible=1]="Possible",t[t.Began=2]="Began",t[t.Changed=4]="Changed",t[t.Ended=8]="Ended",t[t.Recognized=8]="Recognized",t[t.Cancelled=16]="Cancelled",t[t.Failed=32]="Failed"})(ze||(ze={}));const jIe="compute",UIe="auto",RE="manipulation",Iv="none",OE="pan-x",ME="pan-y";function FIe(t){if(t.includes(Iv))return Iv;const e=t.includes(OE),n=t.includes(ME);return e&&n?Iv:e||n?e?OE:ME:t.includes(RE)?RE:UIe}class $Ie{constructor(e,n){this.actions="",this.manager=e,this.set(n)}set(e){e===jIe&&(e=this.compute()),this.manager.element&&(this.manager.element.style.touchAction=e,this.actions=e)}update(){this.set(this.manager.options.touchAction)}compute(){let e=[];for(const n of this.manager.recognizers)n.options.enable&&(e=e.concat(n.getTouchAction()));return FIe(e.join(" "))}}function cb(t){return t.trim().split(/\s+/g)}function n2(t,e,n){if(t)for(const r of cb(e))t.addEventListener(r,n,!1)}function r2(t,e,n){if(t)for(const r of cb(e))t.removeEventListener(r,n,!1)}function tU(t){return(t.ownerDocument||t).defaultView}function zIe(t,e){let n=t;for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function YX(t){const e=t.length;if(e===1)return{x:Math.round(t[0].clientX),y:Math.round(t[0].clientY)};let n=0,r=0,i=0;for(;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:Math.round(n/e),y:Math.round(r/e)}}function nU(t){const e=[];let n=0;for(;n<t.pointers.length;)e[n]={clientX:Math.round(t.pointers[n].clientX),clientY:Math.round(t.pointers[n].clientY)},n++;return{timeStamp:Date.now(),pointers:e,center:YX(e),deltaX:t.deltaX,deltaY:t.deltaY}}function GX(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function rU(t,e){const n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)}function VIe(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.atan2(r,n)*180/Math.PI}function iU(t,e){const n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.atan2(r,n)*180/Math.PI}function ZX(t,e){return t===e?Bn.None:Math.abs(t)>=Math.abs(e)?t<0?Bn.Left:Bn.Right:e<0?Bn.Up:Bn.Down}function HIe(t,e){const n=e.center;let r=t.offsetDelta,i=t.prevDelta;const a=t.prevInput;return(e.eventType===On.Start||a?.eventType===On.End)&&(i=t.prevDelta={x:a?.deltaX||0,y:a?.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),{deltaX:i.x+(n.x-r.x),deltaY:i.y+(n.y-r.y)}}function QX(t,e,n){return{x:e/t||0,y:n/t||0}}function WIe(t,e){return rU(e[0],e[1])/rU(t[0],t[1])}function qIe(t,e){return iU(e[1],e[0])-iU(t[1],t[0])}function XIe(t,e){const n=t.lastInterval||e,r=e.timeStamp-n.timeStamp;let i,a,s,o;if(e.eventType!==On.Cancel&&(r>LIe||n.velocity===void 0)){const c=e.deltaX-n.deltaX,f=e.deltaY-n.deltaY,d=QX(r,c,f);a=d.x,s=d.y,i=Math.abs(d.x)>Math.abs(d.y)?d.x:d.y,o=ZX(c,f),t.lastInterval=e}else i=n.velocity,a=n.velocityX,s=n.velocityY,o=n.direction;e.velocity=i,e.velocityX=a,e.velocityY=s,e.direction=o}function KIe(t,e){const{session:n}=t,{pointers:r}=e,{length:i}=r;n.firstInput||(n.firstInput=nU(e)),i>1&&!n.firstMultiple?n.firstMultiple=nU(e):i===1&&(n.firstMultiple=!1);const{firstInput:a,firstMultiple:s}=n,o=s?s.center:a.center,c=e.center=YX(r);e.timeStamp=Date.now(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=VIe(o,c),e.distance=GX(o,c);const{deltaX:f,deltaY:d}=HIe(n,e);e.deltaX=f,e.deltaY=d,e.offsetDirection=ZX(e.deltaX,e.deltaY);const p=QX(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=p.x,e.overallVelocityY=p.y,e.overallVelocity=Math.abs(p.x)>Math.abs(p.y)?p.x:p.y,e.scale=s?WIe(s.pointers,r):1,e.rotation=s?qIe(s.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length;let m=t.element;return zIe(e.srcEvent.target,m)&&(m=e.srcEvent.target),e.target=m,XIe(n,e),e}function YIe(t,e,n){const r=n.pointers.length,i=n.changedPointers.length,a=e&On.Start&&r-i===0,s=e&(On.End|On.Cancel)&&r-i===0;n.isFirst=!!a,n.isFinal=!!s,a&&(t.session={}),n.eventType=e;const o=KIe(t,n);t.emit("hammer.input",o),t.recognize(o),t.session.prevInput=o}let GIe=class{constructor(e){this.evEl="",this.evWin="",this.evTarget="",this.domHandler=n=>{this.manager.options.enable&&this.handler(n)},this.manager=e,this.element=e.element,this.target=e.options.inputTarget||e.element}callback(e,n){YIe(this.manager,e,n)}init(){n2(this.element,this.evEl,this.domHandler),n2(this.target,this.evTarget,this.domHandler),n2(tU(this.element),this.evWin,this.domHandler)}destroy(){r2(this.element,this.evEl,this.domHandler),r2(this.target,this.evTarget,this.domHandler),r2(tU(this.element),this.evWin,this.domHandler)}};const ZIe={pointerdown:On.Start,pointermove:On.Move,pointerup:On.End,pointercancel:On.Cancel,pointerout:On.Cancel},QIe="pointerdown",JIe="pointermove pointerup pointercancel";class eke extends GIe{constructor(e){super(e),this.evEl=QIe,this.evWin=JIe,this.store=this.manager.session.pointerEvents=[],this.init()}handler(e){const{store:n}=this;let r=!1;const i=ZIe[e.type],a=e.pointerType,s=a==="touch";let o=n.findIndex(c=>c.pointerId===e.pointerId);i&On.Start&&(e.buttons||s)?o<0&&(n.push(e),o=n.length-1):i&(On.End|On.Cancel)&&(r=!0),!(o<0)&&(n[o]=e,this.callback(i,{pointers:n,changedPointers:[e],eventType:i,pointerType:a,srcEvent:e}),r&&n.splice(o,1))}}const tke=["","webkit","Moz","MS","ms","o"];function nke(t,e){const n=e[0].toUpperCase()+e.slice(1);for(const r of tke){const i=r?r+n:e;if(i in t)return i}}const rke=1,aU=2,sU={touchAction:"compute",enable:!0,inputTarget:null,cssProps:{userSelect:"none",userDrag:"none",touchCallout:"none",tapHighlightColor:"rgba(0,0,0,0)"}};class ike{constructor(e,n){this.options={...sU,...n,cssProps:{...sU.cssProps,...n.cssProps},inputTarget:n.inputTarget||e},this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new eke(this),this.touchAction=new $Ie(this,this.options.touchAction),this.toggleCssProps(!0)}set(e){return Object.assign(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this}stop(e){this.session.stopped=e?aU:rke}recognize(e){const{session:n}=this;if(n.stopped)return;this.session.prevented&&e.srcEvent.preventDefault();let r;const{recognizers:i}=this;let{curRecognizer:a}=n;(!a||a&&a.state&ze.Recognized)&&(a=n.curRecognizer=null);let s=0;for(;s<i.length;)r=i[s],n.stopped!==aU&&(!a||r===a||r.canRecognizeWith(a))?r.recognize(e):r.reset(),!a&&r.state&(ze.Began|ze.Changed|ze.Ended)&&(a=n.curRecognizer=r),s++}get(e){const{recognizers:n}=this;for(let r=0;r<n.length;r++)if(n[r].options.event===e)return n[r];return null}add(e){if(Array.isArray(e)){for(const r of e)this.add(r);return this}const n=this.get(e.options.event);return n&&this.remove(n),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e}remove(e){if(Array.isArray(e)){for(const r of e)this.remove(r);return this}const n=typeof e=="string"?this.get(e):e;if(n){const{recognizers:r}=this,i=r.indexOf(n);i!==-1&&(r.splice(i,1),this.touchAction.update())}return this}on(e,n){if(!e||!n)return;const{handlers:r}=this;for(const i of cb(e))r[i]=r[i]||[],r[i].push(n)}off(e,n){if(!e)return;const{handlers:r}=this;for(const i of cb(e))n?r[i]&&r[i].splice(r[i].indexOf(n),1):delete r[i]}emit(e,n){const r=this.handlers[e]&&this.handlers[e].slice();if(!r||!r.length)return;const i=n;i.type=e,i.preventDefault=function(){n.srcEvent.preventDefault()};let a=0;for(;a<r.length;)r[a](i),a++}destroy(){this.toggleCssProps(!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}toggleCssProps(e){const{element:n}=this;if(n){for(const[r,i]of Object.entries(this.options.cssProps)){const a=nke(n.style,r);e?(this.oldCssProps[a]=n.style[a],n.style[a]=i):n.style[a]=this.oldCssProps[a]||""}e||(this.oldCssProps={})}}}let ake=1;function ske(){return ake++}function oU(t){return t&ze.Cancelled?"cancel":t&ze.Ended?"end":t&ze.Changed?"move":t&ze.Began?"start":""}class JX{constructor(e){this.options=e,this.id=ske(),this.state=ze.Possible,this.simultaneous={},this.requireFail=[]}set(e){return Object.assign(this.options,e),this.manager.touchAction.update(),this}recognizeWith(e){if(Array.isArray(e)){for(const i of e)this.recognizeWith(i);return this}let n;if(typeof e=="string"){if(n=this.manager.get(e),!n)throw new Error(`Cannot find recognizer ${e}`)}else n=e;const{simultaneous:r}=this;return r[n.id]||(r[n.id]=n,n.recognizeWith(this)),this}dropRecognizeWith(e){if(Array.isArray(e)){for(const r of e)this.dropRecognizeWith(r);return this}let n;return typeof e=="string"?n=this.manager.get(e):n=e,n&&delete this.simultaneous[n.id],this}requireFailure(e){if(Array.isArray(e)){for(const i of e)this.requireFailure(i);return this}let n;if(typeof e=="string"){if(n=this.manager.get(e),!n)throw new Error(`Cannot find recognizer ${e}`)}else n=e;const{requireFail:r}=this;return r.indexOf(n)===-1&&(r.push(n),n.requireFailure(this)),this}dropRequireFailure(e){if(Array.isArray(e)){for(const r of e)this.dropRequireFailure(r);return this}let n;if(typeof e=="string"?n=this.manager.get(e):n=e,n){const r=this.requireFail.indexOf(n);r>-1&&this.requireFail.splice(r,1)}return this}hasRequireFailures(){return!!this.requireFail.find(e=>e.options.enable)}canRecognizeWith(e){return!!this.simultaneous[e.id]}emit(e){if(!e)return;const{state:n}=this;n<ze.Ended&&this.manager.emit(this.options.event+oU(n),e),this.manager.emit(this.options.event,e),e.additionalEvent&&this.manager.emit(e.additionalEvent,e),n>=ze.Ended&&this.manager.emit(this.options.event+oU(n),e)}tryEmit(e){this.canEmit()?this.emit(e):this.state=ze.Failed}canEmit(){let e=0;for(;e<this.requireFail.length;){if(!(this.requireFail[e].state&(ze.Failed|ze.Possible)))return!1;e++}return!0}recognize(e){const n={...e};if(!this.options.enable){this.reset(),this.state=ze.Failed;return}this.state&(ze.Recognized|ze.Cancelled|ze.Failed)&&(this.state=ze.Possible),this.state=this.process(n),this.state&(ze.Began|ze.Changed|ze.Ended|ze.Cancelled)&&this.tryEmit(n)}getEventNames(){return[this.options.event]}reset(){}}class eK extends JX{attrTest(e){const n=this.options.pointers;return n===0||e.pointers.length===n}process(e){const{state:n}=this,{eventType:r}=e,i=n&(ze.Began|ze.Changed),a=this.attrTest(e);return i&&(r&On.Cancel||!a)?n|ze.Cancelled:i||a?r&On.End?n|ze.Ended:n&ze.Began?n|ze.Changed:ze.Began:ze.Failed}}class lU extends JX{constructor(e={}){super({enable:!0,event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10,...e}),this.pTime=null,this.pCenter=null,this._timer=null,this._input=null,this.count=0}getTouchAction(){return[RE]}process(e){const{options:n}=this,r=e.pointers.length===n.pointers,i=e.distance<n.threshold,a=e.deltaTime<n.time;if(this.reset(),e.eventType&On.Start&&this.count===0)return this.failTimeout();if(i&&a&&r){if(e.eventType!==On.End)return this.failTimeout();const s=this.pTime?e.timeStamp-this.pTime<n.interval:!0,o=!this.pCenter||GX(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,!o||!s?this.count=1:this.count+=1,this._input=e,this.count%n.taps===0)return this.hasRequireFailures()?(this._timer=setTimeout(()=>{this.state=ze.Recognized,this.tryEmit(this._input)},n.interval),ze.Began):ze.Recognized}return ze.Failed}failTimeout(){return this._timer=setTimeout(()=>{this.state=ze.Failed},this.options.interval),ze.Failed}reset(){clearTimeout(this._timer)}emit(e){this.state===ze.Recognized&&(e.tapCount=this.count,this.manager.emit(this.options.event,e))}}const oke=["","start","move","end","cancel","up","down","left","right"];class cU extends eK{constructor(e={}){super({enable:!0,pointers:1,event:"pan",threshold:10,direction:Bn.All,...e}),this.pX=null,this.pY=null}getTouchAction(){const{options:{direction:e}}=this,n=[];return e&Bn.Horizontal&&n.push(ME),e&Bn.Vertical&&n.push(OE),n}getEventNames(){return oke.map(e=>this.options.event+e)}directionTest(e){const{options:n}=this;let r=!0,{distance:i}=e,{direction:a}=e;const s=e.deltaX,o=e.deltaY;return a&n.direction||(n.direction&Bn.Horizontal?(a=s===0?Bn.None:s<0?Bn.Left:Bn.Right,r=s!==this.pX,i=Math.abs(e.deltaX)):(a=o===0?Bn.None:o<0?Bn.Up:Bn.Down,r=o!==this.pY,i=Math.abs(e.deltaY))),e.direction=a,r&&i>n.threshold&&!!(a&n.direction)}attrTest(e){return super.attrTest(e)&&(!!(this.state&ze.Began)||!(this.state&ze.Began)&&this.directionTest(e))}emit(e){this.pX=e.deltaX,this.pY=e.deltaY;const n=Bn[e.direction].toLowerCase();n&&(e.additionalEvent=this.options.event+n),super.emit(e)}}const lke=["","start","move","end","cancel","in","out"];class cke extends eK{constructor(e={}){super({enable:!0,event:"pinch",threshold:0,pointers:2,...e})}getTouchAction(){return[Iv]}getEventNames(){return lke.map(e=>this.options.event+e)}attrTest(e){return super.attrTest(e)&&(Math.abs(e.scale-1)>this.options.threshold||!!(this.state&ze.Began))}emit(e){if(e.scale!==1){const n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}super.emit(e)}}class Hx{constructor(e,n,r){this.element=e,this.callback=n,this.options=r}}const uke=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",fke=uke.indexOf("firefox")!==-1,uU=4.000244140625,dke=40,hke=.25;class pke extends Hx{constructor(e,n,r){super(e,n,{enable:!0,...r}),this.handleEvent=i=>{if(!this.options.enable)return;let a=i.deltaY;globalThis.WheelEvent&&(fke&&i.deltaMode===globalThis.WheelEvent.DOM_DELTA_PIXEL&&(a/=globalThis.devicePixelRatio),i.deltaMode===globalThis.WheelEvent.DOM_DELTA_LINE&&(a*=dke)),a!==0&&a%uU===0&&(a=Math.floor(a/uU)),i.shiftKey&&a&&(a=a*hke),this.callback({type:"wheel",center:{x:i.clientX,y:i.clientY},delta:-a,srcEvent:i,pointerType:"mouse",target:i.target})},e.addEventListener("wheel",this.handleEvent,{passive:!1})}destroy(){this.element.removeEventListener("wheel",this.handleEvent)}enableEventType(e,n){e==="wheel"&&(this.options.enable=n)}}const fU=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"];class gke extends Hx{constructor(e,n,r){super(e,n,{enable:!0,...r}),this.handleEvent=a=>{this.handleOverEvent(a),this.handleOutEvent(a),this.handleEnterEvent(a),this.handleLeaveEvent(a),this.handleMoveEvent(a)},this.pressed=!1;const{enable:i}=this.options;this.enableMoveEvent=i,this.enableLeaveEvent=i,this.enableEnterEvent=i,this.enableOutEvent=i,this.enableOverEvent=i,fU.forEach(a=>e.addEventListener(a,this.handleEvent))}destroy(){fU.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,n){switch(e){case"pointermove":this.enableMoveEvent=n;break;case"pointerover":this.enableOverEvent=n;break;case"pointerout":this.enableOutEvent=n;break;case"pointerenter":this.enableEnterEvent=n;break;case"pointerleave":this.enableLeaveEvent=n;break}}handleOverEvent(e){this.enableOverEvent&&e.type==="mouseover"&&this._emit("pointerover",e)}handleOutEvent(e){this.enableOutEvent&&e.type==="mouseout"&&this._emit("pointerout",e)}handleEnterEvent(e){this.enableEnterEvent&&e.type==="mouseenter"&&this._emit("pointerenter",e)}handleLeaveEvent(e){this.enableLeaveEvent&&e.type==="mouseleave"&&this._emit("pointerleave",e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":e.buttons===0&&(this.pressed=!1),this.pressed||this._emit("pointermove",e);break;case"mouseup":this.pressed=!1;break}}_emit(e,n){this.callback({type:e,center:{x:n.clientX,y:n.clientY},srcEvent:n,pointerType:"mouse",target:n.target})}}const dU=["keydown","keyup"];class mke extends Hx{constructor(e,n,r){super(e,n,{enable:!0,tabIndex:0,...r}),this.handleEvent=i=>{const a=i.target||i.srcElement;a.tagName==="INPUT"&&a.type==="text"||a.tagName==="TEXTAREA"||(this.enableDownEvent&&i.type==="keydown"&&this.callback({type:"keydown",srcEvent:i,key:i.key,target:i.target}),this.enableUpEvent&&i.type==="keyup"&&this.callback({type:"keyup",srcEvent:i,key:i.key,target:i.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,e.tabIndex=this.options.tabIndex,e.style.outline="none",dU.forEach(i=>e.addEventListener(i,this.handleEvent))}destroy(){dU.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,n){e==="keydown"&&(this.enableDownEvent=n),e==="keyup"&&(this.enableUpEvent=n)}}class yke extends Hx{constructor(e,n,r){super(e,n,r),this.handleEvent=i=>{this.options.enable&&this.callback({type:"contextmenu",center:{x:i.clientX,y:i.clientY},srcEvent:i,pointerType:"mouse",target:i.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,n){e==="contextmenu"&&(this.options.enable=n)}}const hU=1,IE=2,pU=4,vke={pointerdown:hU,pointermove:IE,pointerup:pU,mousedown:hU,mousemove:IE,mouseup:pU},bke=0,xke=1,_ke=2,wke=1,Ske=2,Tke=4;function Ake(t){const e=vke[t.srcEvent.type];if(!e)return null;const{buttons:n,button:r}=t.srcEvent;let i=!1,a=!1,s=!1;return e===IE?(i=!!(n&wke),a=!!(n&Tke),s=!!(n&Ske)):(i=r===bke,a=r===xke,s=r===_ke),{leftButton:i,middleButton:a,rightButton:s}}function Eke(t,e){const n=t.center;if(!n)return null;const r=e.getBoundingClientRect(),i=r.width/e.offsetWidth||1,a=r.height/e.offsetHeight||1,s={x:(n.x-r.left-e.clientLeft)/i,y:(n.y-r.top-e.clientTop)/a};return{center:n,offsetCenter:s}}const Cke={srcElement:"root",priority:0};class Pke{constructor(e,n){this.handleEvent=r=>{if(this.isEmpty())return;const i=this._normalizeEvent(r);let a=r.srcEvent.target;for(;a&&a!==i.rootElement;){if(this._emit(i,a),i.handled)return;a=a.parentNode}this._emit(i,"root")},this.eventManager=e,this.recognizerName=n,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,n,r,i=!1,a=!1){const{handlers:s,handlersByElement:o}=this,c={...Cke,...r};let f=o.get(c.srcElement);f||(f=[],o.set(c.srcElement,f));const d={type:e,handler:n,srcElement:c.srcElement,priority:c.priority};i&&(d.once=!0),a&&(d.passive=!0),s.push(d),this._active=this._active||!d.passive;let p=f.length-1;for(;p>=0&&!(f[p].priority>=d.priority);)p--;f.splice(p+1,0,d)}remove(e,n){const{handlers:r,handlersByElement:i}=this;for(let a=r.length-1;a>=0;a--){const s=r[a];if(s.type===e&&s.handler===n){r.splice(a,1);const o=i.get(s.srcElement);o.splice(o.indexOf(s),1),o.length===0&&i.delete(s.srcElement)}}this._active=r.some(a=>!a.passive)}_emit(e,n){const r=this.handlersByElement.get(n);if(r){let i=!1;const a=()=>{e.handled=!0},s=()=>{e.handled=!0,i=!0},o=[];for(let c=0;c<r.length;c++){const{type:f,handler:d,once:p}=r[c];if(d({...e,type:f,stopPropagation:a,stopImmediatePropagation:s}),p&&o.push(r[c]),i)break}for(let c=0;c<o.length;c++){const{type:f,handler:d}=o[c];this.remove(f,d)}}}_normalizeEvent(e){const n=this.eventManager.getElement();return{...e,...Ake(e),...Eke(e,n),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:n}}}function Rke(t){if("recognizer"in t)return t;let e;const n=Array.isArray(t)?[...t]:[t];if(typeof n[0]=="function"){const r=n.shift(),i=n.shift()||{};e=new r(i)}else e=n.shift();return{recognizer:e,recognizeWith:typeof n[0]=="string"?[n[0]]:n[0],requireFailure:typeof n[1]=="string"?[n[1]]:n[1]}}class Oke{constructor(e=null,n={}){if(this._onBasicInput=r=>{this.manager.emit(r.srcEvent.type,r)},this._onOtherEvent=r=>{this.manager.emit(r.type,r)},this.options={recognizers:[],events:{},touchAction:"compute",tabIndex:0,cssProps:{},...n},this.events=new Map,this.element=e,!!e){this.manager=new ike(e,this.options);for(const r of this.options.recognizers){const{recognizer:i,recognizeWith:a,requireFailure:s}=Rke(r);this.manager.add(i),a&&i.recognizeWith(a),s&&i.requireFailure(s)}this.manager.on("hammer.input",this._onBasicInput),this.wheelInput=new pke(e,this._onOtherEvent,{enable:!1}),this.moveInput=new gke(e,this._onOtherEvent,{enable:!1}),this.keyInput=new mke(e,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new yke(e,this._onOtherEvent,{enable:!1}),this.on(this.options.events)}}getElement(){return this.element}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy())}on(e,n,r){this._addEventHandler(e,n,r,!1)}once(e,n,r){this._addEventHandler(e,n,r,!0)}watch(e,n,r){this._addEventHandler(e,n,r,!1,!0)}off(e,n){this._removeEventHandler(e,n)}_toggleRecognizer(e,n){const{manager:r}=this;if(!r)return;const i=r.get(e);i&&(i.set({enable:n}),r.touchAction.update()),this.wheelInput?.enableEventType(e,n),this.moveInput?.enableEventType(e,n),this.keyInput?.enableEventType(e,n),this.contextmenuInput?.enableEventType(e,n)}_addEventHandler(e,n,r,i,a){if(typeof e!="string"){r=n;for(const[f,d]of Object.entries(e))this._addEventHandler(f,d,r,i,a);return}const{manager:s,events:o}=this;if(!s)return;let c=o.get(e);if(!c){const f=this._getRecognizerName(e)||e;c=new Pke(this,f),o.set(e,c),s&&s.on(e,c.handleEvent)}c.add(e,n,r,i,a),c.isEmpty()||this._toggleRecognizer(c.recognizerName,!0)}_removeEventHandler(e,n){if(typeof e!="string"){for(const[a,s]of Object.entries(e))this._removeEventHandler(a,s);return}const{events:r}=this,i=r.get(e);if(i&&(i.remove(e,n),i.isEmpty())){const{recognizerName:a}=i;let s=!1;for(const o of r.values())if(o.recognizerName===a&&!o.isEmpty()){s=!0;break}s||this._toggleRecognizer(a,!1)}}_getRecognizerName(e){return this.manager.recognizers.find(n=>n.getEventNames().includes(e))?.options.event}}const et={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(et,"IDENTITY",{get:()=>(ut.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const Hi={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},io={common:0,meters:1,pixels:2},kE={click:"onClick",dblclick:"onClick",panstart:"onDragStart",panmove:"onDrag",panend:"onDragEnd"},gU={multipan:[cU,{threshold:10,direction:Bn.Vertical,pointers:2}],pinch:[cke,{},null,["multipan"]],pan:[cU,{threshold:1},["pinch"],["multipan"]],dblclick:[lU,{event:"dblclick",taps:2}],click:[lU,{event:"click"},null,["dblclick"]]};function Mke(t,e){if(t===e)return!0;if(Array.isArray(t)){const n=t.length;if(!e||e.length!==n)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}return!1}function Qg(t){let e={},n;return r=>{for(const i in r)if(!Mke(r[i],e[i])){n=t(r),e=r;break}return n}}const mU=[0,0,0,0],Ike=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],tK=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],kke=[0,0,0],nK=[0,0,0],Nke=Qg(Lke);function rK(t,e,n=nK){n.length<3&&(n=[n[0],n[1],0]);let r=n,i,a=!0;switch(e===et.LNGLAT_OFFSETS||e===et.METER_OFFSETS?i=n:i=t.isGeospatial?[Math.fround(t.longitude),Math.fround(t.latitude),0]:null,t.projectionMode){case Hi.WEB_MERCATOR:(e===et.LNGLAT||e===et.CARTESIAN)&&(i=[0,0,0],a=!1);break;case Hi.WEB_MERCATOR_AUTO_OFFSET:e===et.LNGLAT?r=i:e===et.CARTESIAN&&(r=[Math.fround(t.center[0]),Math.fround(t.center[1]),0],i=t.unprojectPosition(r),r[0]-=n[0],r[1]-=n[1],r[2]-=n[2]);break;case Hi.IDENTITY:r=t.position.map(Math.fround),r[2]=r[2]||0;break;case Hi.GLOBE:a=!1,i=null;break;default:a=!1}return{geospatialOrigin:i,shaderCoordinateOrigin:r,offsetMode:a}}function Dke(t,e,n){const{viewMatrixUncentered:r,projectionMatrix:i}=t;let{viewMatrix:a,viewProjectionMatrix:s}=t,o=mU,c=mU,f=t.cameraPosition;const{geospatialOrigin:d,shaderCoordinateOrigin:p,offsetMode:m}=rK(t,e,n);return m&&(c=t.projectPosition(d||p),f=[f[0]-c[0],f[1]-c[1],f[2]-c[2]],c[3]=1,o=Zg([],c,s),a=r||a,s=_c([],i,a),s=_c([],s,Ike)),{viewMatrix:a,viewProjectionMatrix:s,projectionCenter:o,originCommon:c,cameraPosCommon:f,shaderCoordinateOrigin:p,geospatialOrigin:d}}function Bke({viewport:t,devicePixelRatio:e=1,modelMatrix:n=null,coordinateSystem:r=et.DEFAULT,coordinateOrigin:i=nK,autoWrapLongitude:a=!1}){r===et.DEFAULT&&(r=t.isGeospatial?et.LNGLAT:et.CARTESIAN);const s=Nke({viewport:t,devicePixelRatio:e,coordinateSystem:r,coordinateOrigin:i});return s.wrapLongitude=a,s.modelMatrix=n||tK,s}function Lke({viewport:t,devicePixelRatio:e,coordinateSystem:n,coordinateOrigin:r}){const{projectionCenter:i,viewProjectionMatrix:a,originCommon:s,cameraPosCommon:o,shaderCoordinateOrigin:c,geospatialOrigin:f}=Dke(t,n,r),d=t.getDistanceScales(),p=[t.width*e,t.height*e],m=Zg([],[0,0,-t.focalDistance,1],t.projectionMatrix)[3]||1,y={coordinateSystem:n,projectionMode:t.projectionMode,coordinateOrigin:c,commonOrigin:s.slice(0,3),center:i,pseudoMeters:!!t._pseudoMeters,viewportSize:p,devicePixelRatio:e,focalDistance:m,commonUnitsPerMeter:d.unitsPerMeter,commonUnitsPerWorldUnit:d.unitsPerMeter,commonUnitsPerWorldUnit2:kke,scale:t.scale,wrapLongitude:!1,viewProjectionMatrix:a,modelMatrix:tK,cameraPosition:o};if(f){const v=t.getDistanceScales(f);switch(n){case et.METER_OFFSETS:y.commonUnitsPerWorldUnit=v.unitsPerMeter,y.commonUnitsPerWorldUnit2=v.unitsPerMeter2;break;case et.LNGLAT:case et.LNGLAT_OFFSETS:t._pseudoMeters||(y.commonUnitsPerMeter=v.unitsPerMeter),y.commonUnitsPerWorldUnit=v.unitsPerDegree,y.commonUnitsPerWorldUnit2=v.unitsPerDegree2;break;case et.CARTESIAN:y.commonUnitsPerWorldUnit=[1,1,v.unitsPerMeter[2]],y.commonUnitsPerWorldUnit2=[0,0,v.unitsPerMeter2[2]];break}}return y}const jke=Object.keys(et).map(t=>`const COORDINATE_SYSTEM_${t}: i32 = ${et[t]};`).join(""),Uke=Object.keys(Hi).map(t=>`const PROJECTION_MODE_${t}: i32 = ${Hi[t]};`).join(""),Fke=Object.keys(io).map(t=>`const UNIT_${t.toUpperCase()}: i32 = ${io[t]};`).join(""),$ke=`${jke}
${Uke}
${Fke}

const TILE_SIZE: f32 = 512.0;
const PI: f32 = 3.1415926536;
const WORLD_SCALE: f32 = TILE_SIZE / (PI * 2.0);
const ZERO_64_LOW: vec3<f32> = vec3<f32>(0.0, 0.0, 0.0);
const EARTH_RADIUS: f32 = 6370972.0; // meters
const GLOBE_RADIUS: f32 = 256.0;

// -----------------------------------------------------------------------------
// Uniform block (converted from GLSL uniform block)
// -----------------------------------------------------------------------------
struct ProjectUniforms {
  wrapLongitude: i32,
  coordinateSystem: i32,
  commonUnitsPerMeter: vec3<f32>,
  projectionMode: i32,
  scale: f32,
  commonUnitsPerWorldUnit: vec3<f32>,
  commonUnitsPerWorldUnit2: vec3<f32>,
  center: vec4<f32>,
  modelMatrix: mat4x4<f32>,
  viewProjectionMatrix: mat4x4<f32>,
  viewportSize: vec2<f32>,
  devicePixelRatio: f32,
  focalDistance: f32,
  cameraPosition: vec3<f32>,
  coordinateOrigin: vec3<f32>,
  commonOrigin: vec3<f32>,
  pseudoMeters: i32,
};

@group(0) @binding(0)
var<uniform> project: ProjectUniforms;

// -----------------------------------------------------------------------------
// Geometry data
// (In your GLSL code, "geometry" was assumed to be available globally. In WGSL,
// you might supply this via vertex attributes or a uniform. Here we define a
// uniform struct for demonstration.)
// -----------------------------------------------------------------------------

// Structure to carry additional geometry data used by deck.gl filters.
struct Geometry {
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  position: vec4<f32>,
  normal: vec3<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

// @group(0) @binding(1)
var<private> geometry: Geometry;
`,zke=`${$ke}

// -----------------------------------------------------------------------------
// Functions
// -----------------------------------------------------------------------------

// Returns an adjustment factor for commonUnitsPerMeter
fn _project_size_at_latitude(lat: f32) -> f32 {
  let y = clamp(lat, -89.9, 89.9);
  return 1.0 / cos(radians(y));
}

// Overloaded version: scales a value in meters at a given latitude.
fn _project_size_at_latitude_m(meters: f32, lat: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * _project_size_at_latitude(lat);
}

// Computes a non-linear scale factor based on geometry.
// (Note: This function relies on "geometry" being provided.)
fn project_size() -> f32 {
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
      project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
      project.pseudoMeters == 0) {
    if (geometry.position.w == 0.0) {
      return _project_size_at_latitude(geometry.worldPosition.y);
    }
    let y: f32 = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
    let y2 = y * y;
    let y4 = y2 * y2;
    let y6 = y4 * y2;
    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
  }
  return 1.0;
}

// Overloads to scale offsets (meters to world units)
fn project_size_float(meters: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * project_size();
}

fn project_size_vec2(meters: vec2<f32>) -> vec2<f32> {
  return meters * project.commonUnitsPerMeter.xy * project_size();
}

fn project_size_vec3(meters: vec3<f32>) -> vec3<f32> {
  return meters * project.commonUnitsPerMeter * project_size();
}

fn project_size_vec4(meters: vec4<f32>) -> vec4<f32> {
  return vec4<f32>(meters.xyz * project.commonUnitsPerMeter, meters.w);
}

// Returns a rotation matrix aligning the zaxis with the given up vector.
fn project_get_orientation_matrix(up: vec3<f32>) -> mat3x3<f32> {
  let uz = normalize(up);
  let ux = select(
    vec3<f32>(1.0, 0.0, 0.0),
    normalize(vec3<f32>(uz.y, -uz.x, 0.0)),
    abs(uz.z) == 1.0
  );
  let uy = cross(uz, ux);
  return mat3x3<f32>(ux, uy, uz);
}

// Since WGSL does not support "out" parameters, we return a struct.
struct RotationResult {
  needsRotation: bool,
  transform: mat3x3<f32>,
};

fn project_needs_rotation(commonPosition: vec3<f32>) -> RotationResult {
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    return RotationResult(true, project_get_orientation_matrix(commonPosition));
  } else {
    return RotationResult(false, mat3x3<f32>());  // identity alternative if needed
  };
}

// Projects a normal vector from the current coordinate system to world space.
fn project_normal(vector: vec3<f32>) -> vec3<f32> {
  let normal_modelspace = project.modelMatrix * vec4<f32>(vector, 0.0);
  var n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
  let rotResult = project_needs_rotation(geometry.position.xyz);
  if (rotResult.needsRotation) {
    n = rotResult.transform * n;
  }
  return n;
}

// Applies a scale offset based on y-offset (dy)
fn project_offset_(offset: vec4<f32>) -> vec4<f32> {
  let dy: f32 = offset.y;
  let commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
  return vec4<f32>(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}

// Projects lng/lat coordinates to a unit tile [0,1]
fn project_mercator_(lnglat: vec2<f32>) -> vec2<f32> {
  var x = lnglat.x;
  if (project.wrapLongitude != 0) {
    x = ((x + 180.0) % 360.0) - 180.0;
  }
  let y = clamp(lnglat.y, -89.9, 89.9);
  return vec2<f32>(
    radians(x) + PI,
    PI + log(tan(PI * 0.25 + radians(y) * 0.5))
  ) * WORLD_SCALE;
}

// Projects lng/lat/z coordinates for a globe projection.
fn project_globe_(lnglatz: vec3<f32>) -> vec3<f32> {
  let lambda = radians(lnglatz.x);
  let phi = radians(lnglatz.y);
  let cosPhi = cos(phi);
  let D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
  return vec3<f32>(
    sin(lambda) * cosPhi,
    -cos(lambda) * cosPhi,
    sin(phi)
  ) * D;
}

// Projects positions (with an optional 64-bit low part) from the input
// coordinate system to the common space.
fn project_position_vec4_f64(position: vec4<f32>, position64Low: vec3<f32>) -> vec4<f32> {
  var position_world = project.modelMatrix * position;

  // Work around for a Mac+NVIDIA bug:
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_mercator_(position_world.xy),
        _project_size_at_latitude_m(position_world.z, position_world.y),
        position_world.w
      );
    }
    if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
      position_world = vec4f(position_world.xyz + project.coordinateOrigin, position_world.w);
    }
  }
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_globe_(position_world.xyz),
        position_world.w
      );
    }
  }
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
        return vec4<f32>(
          project_mercator_(position_world.xy) - project.commonOrigin.xy,
          project_size_float(position_world.z),
          position_world.w
        );
      }
    }
  }
  if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
      (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
       (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
        project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
    position_world = vec4f(position_world.xyz - project.coordinateOrigin, position_world.w);
  }

  return project_offset_(position_world) +
         project_offset_(project.modelMatrix * vec4<f32>(position64Low, 0.0));
}

// Overloaded versions for different input types.
fn project_position_vec4_f32(position: vec4<f32>) -> vec4<f32> {
  return project_position_vec4_f64(position, ZERO_64_LOW);
}

fn project_position_vec3_f64(position: vec3<f32>, position64Low: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), position64Low);
  return projected_position.xyz;
}

fn project_position_vec3_f32(position: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), ZERO_64_LOW);
  return projected_position.xyz;
}

fn project_position_vec2_f32(position: vec2<f32>) -> vec2<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 0.0, 1.0), ZERO_64_LOW);
  return projected_position.xy;
}

// Transforms a common space position to clip space.
fn project_common_position_to_clipspace_with_projection(position: vec4<f32>, viewProjectionMatrix: mat4x4<f32>, center: vec4<f32>) -> vec4<f32> {
  return viewProjectionMatrix * position + center;
}

// Uses the project viewProjectionMatrix and center.
fn project_common_position_to_clipspace(position: vec4<f32>) -> vec4<f32> {
  return project_common_position_to_clipspace_with_projection(position, project.viewProjectionMatrix, project.center);
}

// Returns a clip space offset corresponding to a given number of screen pixels.
fn project_pixel_size_to_clipspace(pixels: vec2<f32>) -> vec2<f32> {
  let offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
  return offset * project.focalDistance;
}

fn project_meter_size_to_pixel(meters: f32) -> f32 {
  return project_size_float(meters) * project.scale;
}

fn project_unit_size_to_pixel(size: f32, unit: i32) -> f32 {
  if (unit == UNIT_METERS) {
    return project_meter_size_to_pixel(size);
  } else if (unit == UNIT_COMMON) {
    return size * project.scale;
  }
  // UNIT_PIXELS: no scaling applied.
  return size;
}

fn project_pixel_size_float(pixels: f32) -> f32 {
  return pixels / project.scale;
}

fn project_pixel_size_vec2(pixels: vec2<f32>) -> vec2<f32> {
  return pixels / project.scale;
}
`,Vke=Object.keys(et).map(t=>`const int COORDINATE_SYSTEM_${t} = ${et[t]};`).join(""),Hke=Object.keys(Hi).map(t=>`const int PROJECTION_MODE_${t} = ${Hi[t]};`).join(""),Wke=Object.keys(io).map(t=>`const int UNIT_${t.toUpperCase()} = ${io[t]};`).join(""),qke=`${Vke}
${Hke}
${Wke}
uniform projectUniforms {
bool wrapLongitude;
int coordinateSystem;
vec3 commonUnitsPerMeter;
int projectionMode;
float scale;
vec3 commonUnitsPerWorldUnit;
vec3 commonUnitsPerWorldUnit2;
vec4 center;
mat4 modelMatrix;
mat4 viewProjectionMatrix;
vec2 viewportSize;
float devicePixelRatio;
float focalDistance;
vec3 cameraPosition;
vec3 coordinateOrigin;
vec3 commonOrigin;
bool pseudoMeters;
} project;
const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);
const vec3 ZERO_64_LOW = vec3(0.0);
const float EARTH_RADIUS = 6370972.0;
const float GLOBE_RADIUS = 256.0;
float project_size_at_latitude(float lat) {
float y = clamp(lat, -89.9, 89.9);
return 1.0 / cos(radians(y));
}
float project_size() {
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
project.pseudoMeters == false) {
if (geometry.position.w == 0.0) {
return project_size_at_latitude(geometry.worldPosition.y);
}
float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
float y2 = y * y;
float y4 = y2 * y2;
float y6 = y4 * y2;
return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
}
return 1.0;
}
float project_size_at_latitude(float meters, float lat) {
return meters * project.commonUnitsPerMeter.z * project_size_at_latitude(lat);
}
float project_size(float meters) {
return meters * project.commonUnitsPerMeter.z * project_size();
}
vec2 project_size(vec2 meters) {
return meters * project.commonUnitsPerMeter.xy * project_size();
}
vec3 project_size(vec3 meters) {
return meters * project.commonUnitsPerMeter * project_size();
}
vec4 project_size(vec4 meters) {
return vec4(meters.xyz * project.commonUnitsPerMeter, meters.w);
}
mat3 project_get_orientation_matrix(vec3 up) {
vec3 uz = normalize(up);
vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));
vec3 uy = cross(uz, ux);
return mat3(ux, uy, uz);
}
bool project_needs_rotation(vec3 commonPosition, out mat3 transform) {
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
transform = project_get_orientation_matrix(commonPosition);
return true;
}
return false;
}
vec3 project_normal(vec3 vector) {
vec4 normal_modelspace = project.modelMatrix * vec4(vector, 0.0);
vec3 n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
mat3 rotation;
if (project_needs_rotation(geometry.position.xyz, rotation)) {
n = rotation * n;
}
return n;
}
vec4 project_offset_(vec4 offset) {
float dy = offset.y;
vec3 commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}
vec2 project_mercator_(vec2 lnglat) {
float x = lnglat.x;
if (project.wrapLongitude) {
x = mod(x + 180., 360.0) - 180.;
}
float y = clamp(lnglat.y, -89.9, 89.9);
return vec2(
radians(x) + PI,
PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))
) * WORLD_SCALE;
}
vec3 project_globe_(vec3 lnglatz) {
float lambda = radians(lnglatz.x);
float phi = radians(lnglatz.y);
float cosPhi = cos(phi);
float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
return vec3(
sin(lambda) * cosPhi,
-cos(lambda) * cosPhi,
sin(phi)
) * D;
}
vec4 project_position(vec4 position, vec3 position64Low) {
vec4 position_world = project.modelMatrix * position;
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_mercator_(position_world.xy),
project_size_at_latitude(position_world.z, position_world.y),
position_world.w
);
}
if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
position_world.xyz += project.coordinateOrigin;
}
}
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_globe_(position_world.xyz),
position_world.w
);
}
}
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
return vec4(
project_mercator_(position_world.xy) - project.commonOrigin.xy,
project_size(position_world.z),
position_world.w
);
}
}
}
if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
(project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
(project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
position_world.xyz -= project.coordinateOrigin;
}
return project_offset_(position_world) + project_offset_(project.modelMatrix * vec4(position64Low, 0.0));
}
vec4 project_position(vec4 position) {
return project_position(position, ZERO_64_LOW);
}
vec3 project_position(vec3 position, vec3 position64Low) {
vec4 projected_position = project_position(vec4(position, 1.0), position64Low);
return projected_position.xyz;
}
vec3 project_position(vec3 position) {
vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);
return projected_position.xyz;
}
vec2 project_position(vec2 position) {
vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);
return projected_position.xy;
}
vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
return viewProjectionMatrix * position + center;
}
vec4 project_common_position_to_clipspace(vec4 position) {
return project_common_position_to_clipspace(position, project.viewProjectionMatrix, project.center);
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
vec2 offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
return offset * project.focalDistance;
}
float project_size_to_pixel(float meters) {
return project_size(meters) * project.scale;
}
float project_size_to_pixel(float size, int unit) {
if (unit == UNIT_METERS) return project_size_to_pixel(size);
if (unit == UNIT_COMMON) return size * project.scale;
return size;
}
float project_pixel_size(float pixels) {
return pixels / project.scale;
}
vec2 project_pixel_size(vec2 pixels) {
return pixels / project.scale;
}
`,Xke={};function Kke(t=Xke){return"viewport"in t?Bke(t):{}}const kR={name:"project",dependencies:[yIe,KX],source:zke,vs:qke,getUniforms:Kke,uniformTypes:{wrapLongitude:"f32",coordinateSystem:"i32",commonUnitsPerMeter:"vec3<f32>",projectionMode:"i32",scale:"f32",commonUnitsPerWorldUnit:"vec3<f32>",commonUnitsPerWorldUnit2:"vec3<f32>",center:"vec4<f32>",modelMatrix:"mat4x4<f32>",viewProjectionMatrix:"mat4x4<f32>",viewportSize:"vec2<f32>",devicePixelRatio:"f32",focalDistance:"f32",cameraPosition:"vec3<f32>",coordinateOrigin:"vec3<f32>",commonOrigin:"vec3<f32>",pseudoMeters:"f32"}},Yke=`// Define a structure to hold both the clip-space position and the common position.
struct ProjectResult {
  clipPosition: vec4<f32>,
  commonPosition: vec4<f32>,
};

// This function mimics the GLSL version with the 'out' parameter by returning both values.
fn project_position_to_clipspace_and_commonspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> ProjectResult {
  // Compute the projected position.
  let projectedPosition: vec3<f32> = project_position_vec3_f64(position, position64Low);

  // Start with the provided offset.
  var finalOffset: vec3<f32> = offset;

  // Get whether a rotation is needed and the rotation matrix.
  let rotationResult = project_needs_rotation(projectedPosition);

  // If rotation is needed, update the offset.
  if (rotationResult.needsRotation) {
    finalOffset = rotationResult.transform * offset;
  }

  // Compute the common position.
  let commonPosition: vec4<f32> = vec4<f32>(projectedPosition + finalOffset, 1.0);

  // Convert to clip-space.
  let clipPosition: vec4<f32> = project_common_position_to_clipspace(commonPosition);

  return ProjectResult(clipPosition, commonPosition);
}

// A convenience overload that returns only the clip-space position.
fn project_position_to_clipspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> vec4<f32> {
  return project_position_to_clipspace_and_commonspace(position, position64Low, offset).clipPosition;
}
`,Gke=`vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition
) {
  vec3 projectedPosition = project_position(position, position64Low);
  mat3 rotation;
  if (project_needs_rotation(projectedPosition, rotation)) {
    // offset is specified as ENU
    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe
    offset = rotation * offset;
  }
  commonPosition = vec4(projectedPosition + offset, 1.0);
  return project_common_position_to_clipspace(commonPosition);
}

vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset
) {
  vec4 commonPosition;
  return project_position_to_clipspace(position, position64Low, offset, commonPosition);
}
`,Sd={name:"project32",dependencies:[kR],source:Yke,vs:Gke};function Zke(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Ef(t,e){const n=Zg([],e,t);return oIe(n,n,1/n[3]),n}function yU(t,e){const n=t%e;return n<0?e+n:n}function NE(t,e,n){return t<e?e:t>n?n:t}function Qke(t){return Math.log(t)*Math.LOG2E}const NR=Math.log2||Qke;function ao(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const va=Math.PI,iK=va/4,Ki=va/180,DE=180/va,qf=512,ub=4003e4,Zy=85.051129,Jke=1.5;function eNe(t){return NR(t)}function fb(t){const[e,n]=t;ao(Number.isFinite(e)),ao(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");const r=e*Ki,i=n*Ki,a=qf*(r+va)/(2*va),s=qf*(va+Math.log(Math.tan(iK+i*.5)))/(2*va);return[a,s]}function Xf(t){const[e,n]=t,r=e/qf*(2*va)-va,i=2*(Math.atan(Math.exp(n/qf*(2*va)-va))-iK);return[r*DE,i*DE]}function tNe(t){const{latitude:e}=t;ao(Number.isFinite(e));const n=Math.cos(e*Ki);return eNe(ub*n)-9}function i2(t){const e=Math.cos(t*Ki);return qf/ub/e}function BE(t){const{latitude:e,longitude:n,highPrecision:r=!1}=t;ao(Number.isFinite(e)&&Number.isFinite(n));const i=qf,a=Math.cos(e*Ki),s=i/360,o=s/a,c=i/ub/a,f={unitsPerMeter:[c,c,c],metersPerUnit:[1/c,1/c,1/c],unitsPerDegree:[s,o,c],degreesPerUnit:[1/s,1/o,1/c]};if(r){const d=Ki*Math.tan(e*Ki)/a,p=s*d/2,m=i/ub*d,y=m/o*c;f.unitsPerDegree2=[0,p,m],f.unitsPerMeter2=[y,0,y]}return f}function aK(t,e){const[n,r,i]=t,[a,s,o]=e,{unitsPerMeter:c,unitsPerMeter2:f}=BE({longitude:n,latitude:r,highPrecision:!0}),d=fb(t);d[0]+=a*(c[0]+f[0]*s),d[1]+=s*(c[1]+f[1]*s);const p=Xf(d),m=(i||0)+(o||0);return Number.isFinite(i)||Number.isFinite(o)?[p[0],p[1],m]:p}function nNe(t){const{height:e,pitch:n,bearing:r,altitude:i,scale:a,center:s}=t,o=Zke();lb(o,o,[0,0,-i]),UX(o,o,-n*Ki),FX(o,o,r*Ki);const c=a/e;return IR(o,o,[c,c,c]),s&&lb(o,o,LMe([],s)),o}function rNe(t){const{width:e,height:n,altitude:r,pitch:i=0,offset:a,center:s,scale:o,nearZMultiplier:c=1,farZMultiplier:f=1}=t;let{fovy:d=db(Jke)}=t;r!==void 0&&(d=db(r));const p=d*Ki,m=i*Ki,y=sK(d);let v=y;s&&(v+=s[2]*o/Math.cos(m)/n);const b=p*(.5+(a?a[1]:0)/n),w=Math.sin(b)*v/Math.sin(NE(Math.PI/2-m-b,.01,Math.PI-.01)),T=Math.sin(m)*w+v,C=v*10,A=Math.min(T*f,C);return{fov:p,aspect:e/n,focalDistance:y,near:c,far:A}}function db(t){return 2*Math.atan(.5/t)*DE}function sK(t){return .5/Math.tan(.5*t*Ki)}function oK(t,e){const[n,r,i=0]=t;return ao(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(i)),Ef(e,[n,r,i,1])}function DR(t,e,n=0){const[r,i,a]=t;if(ao(Number.isFinite(r)&&Number.isFinite(i),"invalid pixel coordinate"),Number.isFinite(a))return Ef(e,[r,i,a,1]);const s=Ef(e,[r,i,0,1]),o=Ef(e,[r,i,1,1]),c=s[2],f=o[2],d=c===f?0:((n||0)-c)/(f-c);return BX([],s,o,d)}function iNe(t){const{width:e,height:n,bounds:r,minExtent:i=0,maxZoom:a=24,offset:s=[0,0]}=t,[[o,c],[f,d]]=r,p=aNe(t.padding),m=fb([o,NE(d,-Zy,Zy)]),y=fb([f,NE(c,-Zy,Zy)]),v=[Math.max(Math.abs(y[0]-m[0]),i),Math.max(Math.abs(y[1]-m[1]),i)],b=[e-p.left-p.right-Math.abs(s[0])*2,n-p.top-p.bottom-Math.abs(s[1])*2];ao(b[0]>0&&b[1]>0);const w=b[0]/v[0],T=b[1]/v[1],C=(p.right-p.left)/2/w,A=(p.top-p.bottom)/2/T,R=[(y[0]+m[0])/2+C,(y[1]+m[1])/2+A],P=Xf(R),O=Math.min(a,NR(Math.abs(Math.min(w,T))));return ao(Number.isFinite(O)),{longitude:P[0],latitude:P[1],zoom:O}}function aNe(t=0){return typeof t=="number"?{top:t,bottom:t,left:t,right:t}:(ao(Number.isFinite(t.top)&&Number.isFinite(t.bottom)&&Number.isFinite(t.left)&&Number.isFinite(t.right)),t)}const vU=Math.PI/180;function sNe(t,e=0){const{width:n,height:r,unproject:i}=t,a={targetZ:e},s=i([0,r],a),o=i([n,r],a);let c,f;const d=t.fovy?.5*t.fovy*vU:Math.atan(.5/t.altitude),p=(90-t.pitch)*vU;return d>p-.01?(c=bU(t,0,e),f=bU(t,n,e)):(c=i([0,0],a),f=i([n,0],a)),[s,o,f,c]}function bU(t,e,n){const{pixelUnprojectionMatrix:r}=t,i=Ef(r,[e,0,1,1]),a=Ef(r,[e,t.height,1,1]),o=(n*t.distanceScales.unitsPerMeter[2]-i[2])/(a[2]-i[2]),c=BX([],i,a,o),f=Xf(c);return f.push(n),f}const xU=512;function oNe(t){const{width:e,height:n,pitch:r=0}=t;let{longitude:i,latitude:a,zoom:s,bearing:o=0}=t;(i<-180||i>180)&&(i=yU(i+180,360)-180),(o<-180||o>180)&&(o=yU(o+180,360)-180);const c=NR(n/xU);if(s<=c)s=c,a=0;else{const f=n/2/Math.pow(2,s),d=Xf([0,f])[1];if(a<d)a=d;else{const p=Xf([0,xU-f])[1];a>p&&(a=p)}}return{width:e,height:n,longitude:i,latitude:a,zoom:s,pitch:r,bearing:o}}const lK=`
uniform shadowUniforms {
  bool drawShadowMap;
  bool useShadowMap;
  vec4 color;
  highp int lightId;
  float lightCount;
  mat4 viewProjectionMatrix0;
  mat4 viewProjectionMatrix1;
  vec4 projectCenter0;
  vec4 projectCenter1;
} shadow;
`,lNe=`
const int max_lights = 2;

out vec3 shadow_vPosition[max_lights];

vec4 shadow_setVertexPosition(vec4 position_commonspace) {
  mat4 viewProjectionMatrices[max_lights];
  viewProjectionMatrices[0] = shadow.viewProjectionMatrix0;
  viewProjectionMatrices[1] = shadow.viewProjectionMatrix1;
  vec4 projectCenters[max_lights];
  projectCenters[0] = shadow.projectCenter0;
  projectCenters[1] = shadow.projectCenter1;

  if (shadow.drawShadowMap) {
    return project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[shadow.lightId], projectCenters[shadow.lightId]);
  }
  if (shadow.useShadowMap) {
    for (int i = 0; i < max_lights; i++) {
      if(i < int(shadow.lightCount)) {
        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[i], projectCenters[i]);
        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;
      }
    }
  }
  return gl_Position;
}
`,cNe=`
${lK}
${lNe}
`,uNe=`
const int max_lights = 2;
uniform sampler2D shadow_uShadowMap0;
uniform sampler2D shadow_uShadowMap1;

in vec3 shadow_vPosition[max_lights];

const vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);
const vec4 bitUnpackShift = 1.0 / bitPackShift;
const vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);

float shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {
  vec4 rgbaDepth = texture(shadowMap, position.xy);

  float z = dot(rgbaDepth, bitUnpackShift);
  return smoothstep(0.001, 0.01, position.z - z);
}

vec4 shadow_filterShadowColor(vec4 color) {
  if (shadow.drawShadowMap) {
    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);
    rgbaDepth -= rgbaDepth.gbaa * bitMask;
    return rgbaDepth;
  }
  if (shadow.useShadowMap) {
    float shadowAlpha = 0.0;
    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);
    if(shadow.lightCount > 1.0) {
      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);
    }
    shadowAlpha *= shadow.color.a / shadow.lightCount;
    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);

    return vec4(
      mix(color.rgb, shadow.color.rgb, shadowAlpha / blendedAlpha),
      blendedAlpha
    );
  }
  return color;
}
`,fNe=`
${lK}
${uNe}
`,dNe=Qg(yNe),hNe=Qg(vNe),pNe=[0,0,0,1],gNe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function mNe(t,e){const[n,r,i]=t,a=DR([n,r,i],e);return Number.isFinite(i)?a:[a[0],a[1],0]}function yNe({viewport:t,center:e}){return new ls(t.viewProjectionMatrix).invert().transform(e)}function vNe({viewport:t,shadowMatrices:e}){const n=[],r=t.pixelUnprojectionMatrix,i=t.isGeospatial?void 0:1,a=[[0,0,i],[t.width,0,i],[0,t.height,i],[t.width,t.height,i],[0,0,-1],[t.width,0,-1],[0,t.height,-1],[t.width,t.height,-1]].map(s=>mNe(s,r));for(const s of e){const o=s.clone().translate(new os(t.center).negate()),c=a.map(d=>o.transform(d)),f=new ls().ortho({left:Math.min(...c.map(d=>d[0])),right:Math.max(...c.map(d=>d[0])),bottom:Math.min(...c.map(d=>d[1])),top:Math.max(...c.map(d=>d[1])),near:Math.min(...c.map(d=>-d[2])),far:Math.max(...c.map(d=>-d[2]))});n.push(f.multiplyRight(s))}return n}function bNe(t){const{shadowEnabled:e=!0,project:n}=t;if(!e||!n||!t.shadowMatrices||!t.shadowMatrices.length)return{drawShadowMap:!1,useShadowMap:!1,shadow_uShadowMap0:t.dummyShadowMap,shadow_uShadowMap1:t.dummyShadowMap};const r=kR.getUniforms(n),i=dNe({viewport:n.viewport,center:r.center}),a=[],s=hNe({shadowMatrices:t.shadowMatrices,viewport:n.viewport}).slice();for(let c=0;c<t.shadowMatrices.length;c++){const f=s[c],d=f.clone().translate(new os(n.viewport.center).negate());r.coordinateSystem===et.LNGLAT&&r.projectionMode===Hi.WEB_MERCATOR?(s[c]=d,a[c]=i):(s[c]=f.clone().multiplyRight(gNe),a[c]=d.transform(i))}const o={drawShadowMap:!!t.drawToShadowMap,useShadowMap:t.shadowMaps?t.shadowMaps.length>0:!1,color:t.shadowColor||pNe,lightId:t.shadowLightId||0,lightCount:t.shadowMatrices.length,shadow_uShadowMap0:t.dummyShadowMap,shadow_uShadowMap1:t.dummyShadowMap};for(let c=0;c<s.length;c++)o[`viewProjectionMatrix${c}`]=s[c],o[`projectCenter${c}`]=a[c];for(let c=0;c<2;c++)o[`shadow_uShadowMap${c}`]=t.shadowMaps&&t.shadowMaps[c]||t.dummyShadowMap;return o}const _U={name:"shadow",dependencies:[kR],vs:cNe,fs:fNe,inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    position = shadow_setVertexPosition(geometry.position);
    `,"fs:DECKGL_FILTER_COLOR":`
    color = shadow_filterShadowColor(color);
    `},getUniforms:bNe,uniformTypes:{drawShadowMap:"f32",useShadowMap:"f32",color:"vec4<f32>",lightId:"i32",lightCount:"f32",viewProjectionMatrix0:"mat4x4<f32>",viewProjectionMatrix1:"mat4x4<f32>",projectCenter0:"vec4<f32>",projectCenter1:"vec4<f32>"}},BR={...Qj,defaultUniforms:{...Qj.defaultUniforms,useFloatColors:!1},inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    // for picking depth values
    picking_setPickingAttribute(position.z / position.w);
  `,"vs:DECKGL_FILTER_COLOR":`
  picking_setPickingColor(geometry.pickingColor);
  `,"fs:DECKGL_FILTER_COLOR":{order:99,injection:`
  // use highlight color if this fragment belongs to the selected object.
  color = picking_filterHighlightColor(color);

  // use picking color if rendering to picking FBO.
  color = picking_filterPickingColor(color);
    `}}},xNe=[KX],_Ne=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"],wNe=[];function SNe(t){const e=oc.getDefaultShaderAssembler();for(const r of xNe)e.addDefaultModule(r);e._hookFunctions.length=0;const n=t==="glsl"?_Ne:wNe;for(const r of n)e.addShaderHook(r);return e}const TNe=[255,255,255],ANe=1;let ENe=0;class CNe{constructor(e={}){this.type="ambient";const{color:n=TNe}=e,{intensity:r=ANe}=e;this.id=e.id||`ambient-${ENe++}`,this.color=n,this.intensity=r}}const PNe=[255,255,255],RNe=1,ONe=[0,0,-1];let MNe=0;class wU{constructor(e={}){this.type="directional";const{color:n=PNe}=e,{intensity:r=RNe}=e,{direction:i=ONe}=e,{_shadow:a=!1}=e;this.id=e.id||`directional-${MNe++}`,this.color=n,this.intensity=r,this.type="directional",this.direction=new os(i).normalize().toArray(),this.shadow=a}getProjectedLight(e){return this}}class INe{constructor(e,n={id:"pass"}){const{id:r}=n;this.id=r,this.device=e,this.props={...n}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class LR extends INe{constructor(){super(...arguments),this._lastRenderIndex=-1}render(e){const[n,r]=this.device.canvasContext.getDrawingBufferSize(),i=e.clearCanvas??!0,a=e.clearColor??(i?[0,0,0,0]:!1),s=i?1:!1,o=i?0:!1,c=e.colorMask??15,f={viewport:[0,0,n,r]};e.colorMask&&(f.colorMask=c),e.scissorRect&&(f.scissorRect=e.scissorRect);const d=this.device.beginRenderPass({framebuffer:e.target,parameters:f,clearColor:a,clearDepth:s,clearStencil:o});try{return this._drawLayers(d,e)}finally{d.end(),this.device.submit()}}_drawLayers(e,n){const{target:r,shaderModuleProps:i,viewports:a,views:s,onViewportActive:o,clearStack:c=!0}=n;n.pass=n.pass||"unknown",c&&(this._lastRenderIndex=-1);const f=[];for(const d of a){const p=s&&s[d.id];o?.(d);const m=this._getDrawLayerParams(d,n),y=d.subViewports||[d];for(const v of y){const b=this._drawLayersInViewport(e,{target:r,shaderModuleProps:i,viewport:v,view:p,pass:n.pass,layers:n.layers},m);f.push(b)}}return f}_getDrawLayerParams(e,{layers:n,pass:r,isPicking:i=!1,layerFilter:a,cullRect:s,effects:o,shaderModuleProps:c},f=!1){const d=[],p=cK(this._lastRenderIndex+1),m={layer:n[0],viewport:e,isPicking:i,renderPass:r,cullRect:s},y={};for(let v=0;v<n.length;v++){const b=n[v],w=this._shouldDrawLayer(b,m,a,y),T={shouldDrawLayer:w};w&&!f&&(T.shouldDrawLayer=!0,T.layerRenderIndex=p(b,w),T.shaderModuleProps=this._getShaderModuleProps(b,o,r,c),T.layerParameters={...b.context.deck?.props.parameters,...this.getLayerParameters(b,v,e)}),d[v]=T}return d}_drawLayersInViewport(e,{layers:n,shaderModuleProps:r,pass:i,target:a,viewport:s,view:o},c){const f=kNe(this.device,{shaderModuleProps:r,target:a,viewport:s});if(o){const{clear:p,clearColor:m,clearDepth:y,clearStencil:v}=o.props;if(p){let b=[0,0,0,0],w=1,T=0;Array.isArray(m)?b=[...m.slice(0,3),m[3]||255].map(A=>A/255):m===!1&&(b=!1),y!==void 0&&(w=y),v!==void 0&&(T=v),this.device.beginRenderPass({framebuffer:a,parameters:{viewport:f,scissorRect:f},clearColor:b,clearDepth:w,clearStencil:T}).end()}}const d={totalCount:n.length,visibleCount:0,compositeCount:0,pickableCount:0};e.setParameters({viewport:f});for(let p=0;p<n.length;p++){const m=n[p],y=c[p],{shouldDrawLayer:v}=y;if(v&&m.props.pickable&&d.pickableCount++,m.isComposite&&d.compositeCount++,m.isDrawable&&y.shouldDrawLayer){const{layerRenderIndex:b,shaderModuleProps:w,layerParameters:T}=y;d.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,b),w.project&&(w.project.viewport=s),m.context.renderPass=e;try{m._drawLayer({renderPass:e,shaderModuleProps:w,uniforms:{layerIndex:b},parameters:T})}catch(C){m.raiseError(C,`drawing ${m} to ${i}`)}}}return d}shouldDrawLayer(e){return!0}getShaderModuleProps(e,n,r){return null}getLayerParameters(e,n,r){return e.props.parameters}_shouldDrawLayer(e,n,r,i){if(!(e.props.visible&&this.shouldDrawLayer(e)))return!1;n.layer=e;let s=e.parent;for(;s;){if(!s.props.visible||!s.filterSubLayer(n))return!1;n.layer=s,s=s.parent}if(r){const o=n.layer.id;if(o in i||(i[o]=r(n)),!i[o])return!1}return e.activateViewport(n.viewport),!0}_getShaderModuleProps(e,n,r,i){const a=this.device.canvasContext.cssToDeviceRatio(),s=e.internalState?.propsInTransition||e.props,o={layer:s,picking:{isActive:!1},project:{viewport:e.context.viewport,devicePixelRatio:a,modelMatrix:s.modelMatrix,coordinateSystem:s.coordinateSystem,coordinateOrigin:s.coordinateOrigin,autoWrapLongitude:e.wrapLongitude}};if(n)for(const c of n)SU(o,c.getShaderModuleProps?.(e,o));return SU(o,this.getShaderModuleProps(e,n,o),i)}}function cK(t=0,e={}){const n={},r=(i,a)=>{const s=i.props._offset,o=i.id,c=i.parent&&i.parent.id;let f;if(c&&!(c in e)&&r(i.parent,!1),c in n){const d=n[c]=n[c]||cK(e[c],e);f=d(i,a),n[o]=d}else Number.isFinite(s)?(f=s+(e[c]||0),n[o]=null):f=t;return a&&f>=t&&(t=f+1),e[o]=f,f};return r}function kNe(t,{shaderModuleProps:e,target:n,viewport:r}){const i=e?.project?.devicePixelRatio??t.canvasContext.cssToDeviceRatio(),[,a]=t.canvasContext.getDrawingBufferSize(),s=n?n.height:a,o=r;return[o.x*i,s-(o.y+o.height)*i,o.width*i,o.height*i]}function SU(t,...e){for(const n of e)if(n)for(const r in n)t[r]?Object.assign(t[r],n[r]):t[r]=n[r];return t}class NNe extends LR{constructor(e,n){super(e,n);const r=e.createTexture({format:"rgba8unorm",width:1,height:1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}}),i=e.createTexture({format:"depth16unorm",width:1,height:1});this.fbo=e.createFramebuffer({id:"shadowmap",width:1,height:1,colorAttachments:[r],depthStencilAttachment:i})}delete(){this.fbo&&(this.fbo.destroy(),this.fbo=null)}getShadowMap(){return this.fbo.colorAttachments[0].texture}render(e){const n=this.fbo,r=this.device.canvasContext.cssToDeviceRatio(),i=e.viewports[0],a=i.width*r,s=i.height*r,o=[1,1,1,1];(a!==n.width||s!==n.height)&&n.resize({width:a,height:s}),super.render({...e,clearColor:o,target:n,pass:"shadow"})}getLayerParameters(e,n,r){return{...e.props.parameters,blend:!1,depthWriteEnabled:!0,depthCompare:"less-equal"}}shouldDrawLayer(e){return e.props.shadowEnabled!==!1}getShaderModuleProps(e,n,r){return{shadow:{project:r.project,drawToShadowMap:!0}}}}const DNe={color:[255,255,255],intensity:1},TU=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],BNe=[0,0,0,200/255];class uK{constructor(e={}){this.id="lighting-effect",this.shadowColor=BNe,this.shadow=!1,this.directionalLights=[],this.pointLights=[],this.shadowPasses=[],this.dummyShadowMap=null,this.setProps(e)}setup(e){this.context=e;const{device:n,deck:r}=e;this.shadow&&!this.dummyShadowMap&&(this._createShadowPasses(n),r._addDefaultShaderModule(_U),this.dummyShadowMap=n.createTexture({width:1,height:1}))}setProps(e){this.ambientLight=void 0,this.directionalLights=[],this.pointLights=[];for(const n in e){const r=e[n];switch(r.type){case"ambient":this.ambientLight=r;break;case"directional":this.directionalLights.push(r);break;case"point":this.pointLights.push(r);break}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(n=>n.shadow),this.context&&this.setup(this.context),this.props=e}preRender({layers:e,layerFilter:n,viewports:r,onViewportActive:i,views:a}){if(this.shadow){this.shadowMatrices=this._calculateMatrices();for(let s=0;s<this.shadowPasses.length;s++)this.shadowPasses[s].render({layers:e,layerFilter:n,viewports:r,onViewportActive:i,views:a,shaderModuleProps:{shadow:{shadowLightId:s,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}}})}}getShaderModuleProps(e,n){const r=this.shadow?{project:n.project,shadowMaps:this.shadowPasses.map(s=>s.getShadowMap()),dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{},i={enabled:!0,ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(s=>s.getProjectedLight({layer:e})),pointLights:this.pointLights.map(s=>s.getProjectedLight({layer:e}))},a=e.props.material;return{shadow:r,lighting:i,phongMaterial:a,gouraudMaterial:a}}cleanup(e){for(const n of this.shadowPasses)n.delete();this.shadowPasses.length=0,this.dummyShadowMap&&(this.dummyShadowMap.destroy(),this.dummyShadowMap=null,e.deck._removeDefaultShaderModule(_U))}_calculateMatrices(){const e=[];for(const n of this.directionalLights){const r=new ls().lookAt({eye:new os(n.direction).negate()});e.push(r)}return e}_createShadowPasses(e){for(let n=0;n<this.directionalLights.length;n++){const r=new NNe(e);this.shadowPasses[n]=r}}_applyDefaultLights(){const{ambientLight:e,pointLights:n,directionalLights:r}=this;!e&&n.length===0&&r.length===0&&(this.ambientLight=new CNe(DNe),this.directionalLights.push(new wU(TU[0]),new wU(TU[1])))}}class LNe{constructor(e={}){this._pool=[],this.opts={overAlloc:2,poolSize:100},this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,n,{size:r=1,type:i,padding:a=0,copy:s=!1,initialize:o=!1,maxCount:c}){const f=i||e&&e.constructor||Float32Array,d=n*r+a;if(ArrayBuffer.isView(e)){if(d<=e.length)return e;if(d*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new f(e.buffer,0,d)}let p=1/0;c&&(p=c*r+a);const m=this._allocate(f,d,o,p);return e&&s?m.set(e):o||m.fill(0,0,4),this._release(e),m}release(e){this._release(e)}_allocate(e,n,r,i){let a=Math.max(Math.ceil(n*this.opts.overAlloc),1);a>i&&(a=i);const s=this._pool,o=e.BYTES_PER_ELEMENT*a,c=s.findIndex(f=>f.byteLength>=o);if(c>=0){const f=new e(s.splice(c,1)[0],0,a);return r&&f.fill(0),f}return new e(a)}_release(e){if(!ArrayBuffer.isView(e))return;const n=this._pool,{buffer:r}=e,{byteLength:i}=r,a=n.findIndex(s=>s.byteLength>=i);a<0?n.push(r):(a>0||n.length<this.opts.poolSize)&&n.splice(a,0,r),n.length>this.opts.poolSize&&n.shift()}}const Zp=new LNe;function Xh(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function jNe(t){return[t[12],t[13],t[14]]}function UNe(t){return{left:Gu(t[3]+t[0],t[7]+t[4],t[11]+t[8],t[15]+t[12]),right:Gu(t[3]-t[0],t[7]-t[4],t[11]-t[8],t[15]-t[12]),bottom:Gu(t[3]+t[1],t[7]+t[5],t[11]+t[9],t[15]+t[13]),top:Gu(t[3]-t[1],t[7]-t[5],t[11]-t[9],t[15]-t[13]),near:Gu(t[3]+t[2],t[7]+t[6],t[11]+t[10],t[15]+t[14]),far:Gu(t[3]-t[2],t[7]-t[6],t[11]-t[10],t[15]-t[14])}}const AU=new os;function Gu(t,e,n,r){AU.set(t,e,n);const i=AU.len();return{distance:r/i,normal:new os(-t/i,-e/i,-n/i)}}function FNe(t){return t-Math.fround(t)}let Nh;function a2(t,e){const{size:n=1,startIndex:r=0}=e,i=e.endIndex!==void 0?e.endIndex:t.length,a=(i-r)/n;Nh=Zp.allocate(Nh,a,{type:Float32Array,size:n*2});let s=r,o=0;for(;s<i;){for(let c=0;c<n;c++){const f=t[s++];Nh[o+c]=f,Nh[o+c+n]=FNe(f)}o+=n*2}return Nh.subarray(0,a*n*2)}function $Ne(t){let e=null,n=!1;for(const r of t)r&&(e?(n||(e=[[e[0][0],e[0][1]],[e[1][0],e[1][1]]],n=!0),e[0][0]=Math.min(e[0][0],r[0][0]),e[0][1]=Math.min(e[0][1],r[0][1]),e[1][0]=Math.max(e[1][0],r[1][0]),e[1][1]=Math.max(e[1][1],r[1][1])):e=r);return e}const zNe=Math.PI/180,VNe=Xh(),EU=[0,0,0],HNe={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};function WNe({width:t,height:e,orthographic:n,fovyRadians:r,focalDistance:i,padding:a,near:s,far:o}){const c=t/e,f=n?new ls().orthographic({fovy:r,aspect:c,focalDistance:i,near:s,far:o}):new ls().perspective({fovy:r,aspect:c,near:s,far:o});if(a){const{left:d=0,right:p=0,top:m=0,bottom:y=0}=a,v=Jo((d+t-p)/2,0,t)-t/2,b=Jo((m+e-y)/2,0,e)-e/2;f[8]-=v*2/t,f[9]+=b*2/e}return f}class Td{constructor(e={}){this._frustumPlanes={},this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||HNe,this.focalDistance=e.focalDistance||1,this.position=e.position||EU,this.modelMatrix=e.modelMatrix||null;const{longitude:n,latitude:r}=e;this.isGeospatial=Number.isFinite(r)&&Number.isFinite(n),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?Hi.WEB_MERCATOR:Hi.WEB_MERCATOR_AUTO_OFFSET:Hi.IDENTITY}equals(e){return e instanceof Td?this===e?!0:e.width===this.width&&e.height===this.height&&e.scale===this.scale&&Yp(e.projectionMatrix,this.projectionMatrix)&&Yp(e.viewMatrix,this.viewMatrix):!1}project(e,{topLeft:n=!0}={}){const r=this.projectPosition(e),i=oK(r,this.pixelProjectionMatrix),[a,s]=i,o=n?s:this.height-s;return e.length===2?[a,o]:[a,o,i[2]]}unproject(e,{topLeft:n=!0,targetZ:r}={}){const[i,a,s]=e,o=n?a:this.height-a,c=r&&r*this.distanceScales.unitsPerMeter[2],f=DR([i,o,s],this.pixelUnprojectionMatrix,c),[d,p,m]=this.unprojectPosition(f);return Number.isFinite(s)?[d,p,m]:Number.isFinite(r)?[d,p,r]:[d,p]}projectPosition(e){const[n,r]=this.projectFlat(e),i=(e[2]||0)*this.distanceScales.unitsPerMeter[2];return[n,r,i]}unprojectPosition(e){const[n,r]=this.unprojectFlat(e),i=(e[2]||0)*this.distanceScales.metersPerUnit[2];return[n,r,i]}projectFlat(e){if(this.isGeospatial){const n=fb(e);return n[1]=Jo(n[1],-318,830),n}return e}unprojectFlat(e){return this.isGeospatial?Xf(e):e}getBounds(e={}){const n={targetZ:e.z||0},r=this.unproject([0,0],n),i=this.unproject([this.width,0],n),a=this.unproject([0,this.height],n),s=this.unproject([this.width,this.height],n);return[Math.min(r[0],i[0],a[0],s[0]),Math.min(r[1],i[1],a[1],s[1]),Math.max(r[0],i[0],a[0],s[0]),Math.max(r[1],i[1],a[1],s[1])]}getDistanceScales(e){return e&&this.isGeospatial?BE({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:n,width:r=1,height:i=1}){return e<this.x+this.width&&this.x<e+r&&n<this.y+this.height&&this.y<n+i}getFrustumPlanes(){return this._frustumPlanes.near?this._frustumPlanes:(Object.assign(this._frustumPlanes,UNe(this.viewProjectionMatrix)),this._frustumPlanes)}panByPosition(e,n){return null}_initProps(e){const n=e.longitude,r=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=tNe({latitude:r})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||BE({latitude:r,longitude:n}));const i=Math.pow(2,this.zoom);this.scale=i;const{position:a,modelMatrix:s}=e;let o=EU;if(a&&(o=s?new ls(s).transformAsVector(a,[]):a),this.isGeospatial){const c=this.projectPosition([n,r,0]);this.center=new os(o).scale(this.distanceScales.unitsPerMeter).add(c)}else this.center=this.projectPosition(o)}_initMatrices(e){const{viewMatrix:n=VNe,projectionMatrix:r=null,orthographic:i=!1,fovyRadians:a,fovy:s=75,near:o=.1,far:c=1e3,padding:f=null,focalDistance:d=1}=e;this.viewMatrixUncentered=n,this.viewMatrix=new ls().multiplyRight(n).translate(new os(this.center).negate()),this.projectionMatrix=r||WNe({width:this.width,height:this.height,orthographic:i,fovyRadians:a||s*zNe,focalDistance:d,padding:f,near:o,far:c});const p=Xh();_c(p,p,this.projectionMatrix),_c(p,p,this.viewMatrix),this.viewProjectionMatrix=p,this.viewMatrixInverse=CE([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=jNe(this.viewMatrixInverse);const m=Xh(),y=Xh();IR(m,m,[this.width/2,-this.height/2,1]),lb(m,m,[1,-1,0]),_c(y,m,this.viewProjectionMatrix),this.pixelProjectionMatrix=y,this.pixelUnprojectionMatrix=CE(Xh(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||ut.warn("Pixel project matrix not invertible")()}}Td.displayName="Viewport";class Kf extends Td{constructor(e={}){const{latitude:n=0,longitude:r=0,zoom:i=0,pitch:a=0,bearing:s=0,nearZMultiplier:o=.1,farZMultiplier:c=1.01,nearZ:f,farZ:d,orthographic:p=!1,projectionMatrix:m,repeat:y=!1,worldOffset:v=0,position:b,padding:w,legacyMeterSizes:T=!1}=e;let{width:C,height:A,altitude:R=1.5}=e;const P=Math.pow(2,i);C=C||1,A=A||1;let O,k=null;if(m)R=m[5]/2,O=db(R);else{e.fovy?(O=e.fovy,R=sK(O)):O=db(R);let L;if(w){const{top:$=0,bottom:j=0}=w;L=[0,Jo(($+A-j)/2,0,A)-A/2]}k=rNe({width:C,height:A,scale:P,center:b&&[0,0,b[2]*i2(n)],offset:L,pitch:a,fovy:O,nearZMultiplier:o,farZMultiplier:c}),Number.isFinite(f)&&(k.near=f),Number.isFinite(d)&&(k.far=d)}let D=nNe({height:A,pitch:a,bearing:s,scale:P,altitude:R});v&&(D=new ls().translate([512*v,0,0]).multiplyLeft(D)),super({...e,width:C,height:A,viewMatrix:D,longitude:r,latitude:n,zoom:i,...k,fovy:O,focalDistance:R}),this.latitude=n,this.longitude=r,this.zoom=i,this.pitch=a,this.bearing=s,this.altitude=R,this.fovy=O,this.orthographic=p,this._subViewports=y?[]:null,this._pseudoMeters=T,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),n=Math.floor((e[0]+180)/360),r=Math.ceil((e[2]-180)/360);for(let i=n;i<=r;i++){const a=i?new Kf({...this,worldOffset:i}):this;this._subViewports.push(a)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[n,r]=this.projectFlat(e),i=(e[2]||0)*i2(e[1]);return[n,r,i]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[n,r]=this.unprojectFlat(e),i=(e[2]||0)/i2(r);return[n,r,i]}addMetersToLngLat(e,n){return aK(e,n)}panByPosition(e,n){const r=DR(n,this.pixelUnprojectionMatrix),i=this.projectFlat(e),a=Gj([],i,MMe([],r)),s=Gj([],this.center,a),[o,c]=this.unprojectFlat(s);return{longitude:o,latitude:c}}getBounds(e={}){const n=sNe(this,e.z||0);return[Math.min(n[0][0],n[1][0],n[2][0],n[3][0]),Math.min(n[0][1],n[1][1],n[2][1],n[3][1]),Math.max(n[0][0],n[1][0],n[2][0],n[3][0]),Math.max(n[0][1],n[1][1],n[2][1],n[3][1])]}fitBounds(e,n={}){const{width:r,height:i}=this,{longitude:a,latitude:s,zoom:o}=iNe({width:r,height:i,bounds:e,...n});return new Kf({width:r,height:i,longitude:a,latitude:s,zoom:o})}}Kf.displayName="WebMercatorViewport";const CU=[0,0,0];function s2(t,e,n=!1){const r=e.projectPosition(t);if(n&&e instanceof Kf){const[i,a,s=0]=t,o=e.getDistanceScales([i,a]);r[2]=s*o.unitsPerMeter[2]}return r}function qNe(t){const{viewport:e,modelMatrix:n,coordinateOrigin:r}=t;let{coordinateSystem:i,fromCoordinateSystem:a,fromCoordinateOrigin:s}=t;return i===et.DEFAULT&&(i=e.isGeospatial?et.LNGLAT:et.CARTESIAN),a===void 0&&(a=i),s===void 0&&(s=r),{viewport:e,coordinateSystem:i,coordinateOrigin:r,modelMatrix:n,fromCoordinateSystem:a,fromCoordinateOrigin:s}}function fK(t,{viewport:e,modelMatrix:n,coordinateSystem:r,coordinateOrigin:i,offsetMode:a}){let[s,o,c=0]=t;switch(n&&([s,o,c]=Zg([],[s,o,c,1],n)),r){case et.LNGLAT:return s2([s,o,c],e,a);case et.LNGLAT_OFFSETS:return s2([s+i[0],o+i[1],c+(i[2]||0)],e,a);case et.METER_OFFSETS:return s2(aK(i,[s,o,c]),e,a);case et.CARTESIAN:default:return e.isGeospatial?[s+i[0],o+i[1],c+i[2]]:e.projectPosition([s,o,c])}}function XNe(t,e){const{viewport:n,coordinateSystem:r,coordinateOrigin:i,modelMatrix:a,fromCoordinateSystem:s,fromCoordinateOrigin:o}=qNe(e),{autoOffset:c=!0}=e,{geospatialOrigin:f=CU,shaderCoordinateOrigin:d=CU,offsetMode:p=!1}=c?rK(n,r,i):{},m=fK(t,{viewport:n,modelMatrix:a,coordinateSystem:s,coordinateOrigin:o,offsetMode:p});if(p){const y=n.projectPosition(f||d);qMe(m,m,y)}return m}let KNe=1,YNe=1;class dK{time=0;channels=new Map;animations=new Map;playing=!1;lastEngineTime=-1;constructor(){}addChannel(e){const{delay:n=0,duration:r=Number.POSITIVE_INFINITY,rate:i=1,repeat:a=1}=e,s=KNe++,o={time:0,delay:n,duration:r,rate:i,repeat:a};return this._setChannelTime(o,this.time),this.channels.set(s,o),s}removeChannel(e){this.channels.delete(e);for(const[n,r]of this.animations)r.channel===e&&this.detachAnimation(n)}isFinished(e){const n=this.channels.get(e);return n===void 0?!1:this.time>=n.delay+n.duration*n.repeat}getTime(e){if(e===void 0)return this.time;const n=this.channels.get(e);return n===void 0?-1:n.time}setTime(e){this.time=Math.max(0,e);const n=this.channels.values();for(const i of n)this._setChannelTime(i,this.time);const r=this.animations.values();for(const i of r){const{animation:a,channel:s}=i;a.setTime(this.getTime(s))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,n){const r=YNe++;return this.animations.set(r,{animation:e,channel:n}),e.setTime(this.getTime(n)),r}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(this.lastEngineTime===-1&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,n){const r=n-e.delay,i=e.duration*e.repeat;r>=i?e.time=e.duration*e.rate:(e.time=Math.max(0,r)%e.duration,e.time*=e.rate)}}function GNe(t){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60)}function ZNe(t){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t)}let QNe=0;class jR{static defaultAnimationLoopProps={device:null,onAddHTML:()=>"",onInitialize:async()=>null,onRender:()=>{},onFinalize:()=>{},onError:e=>console.error(e),stats:SE.stats.get(`animation-loop-${QNe++}`),autoResizeViewport:!1};device=null;canvas=null;props;animationProps=null;timeline=null;stats;cpuTime;gpuTime;frameRate;display;needsRedraw="initialized";_initialized=!1;_running=!1;_animationFrameId=null;_nextFramePromise=null;_resolveNextFrame=null;_cpuStartTime=0;_error=null;constructor(e){if(this.props={...jR.defaultAnimationLoopProps,...e},e=this.props,!e.device)throw new Error("No device provided");this.stats=e.stats||new jx({id:"animation-loop-stats"}),this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this.setProps({autoResizeViewport:e.autoResizeViewport}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}destroy(){this.stop(),this._setDisplay(null)}delete(){this.destroy()}reportError(e){this.props.onError(e),this._error=e}setNeedsRedraw(e){return this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.props.autoResizeViewport=e.autoResizeViewport||!1),this}async start(){if(this._running)return this;this._running=!0;try{let e;return this._initialized||(this._initialized=!0,await this._initDevice(),this._initialize(),await this.props.onInitialize(this._getAnimationProps())),this._running?(e!==!1&&(this._cancelAnimationFrame(),this._requestAnimationFrame()),this):null}catch(e){const n=e instanceof Error?e:new Error("Unknown error");throw this.props.onError(n),n}}stop(){return this._running&&(this.animationProps&&!this._error&&this.props.onFinalize(this.animationProps),this._cancelAnimationFrame(),this._nextFramePromise=null,this._resolveNextFrame=null,this._running=!1),this}redraw(){return this.device?.isLost||this._error?this:(this._beginFrameTimers(),this._setupFrame(),this._updateAnimationProps(),this._renderFrame(this._getAnimationProps()),this._clearNeedsRedraw(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endFrameTimers(),this)}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(e=>{this._resolveNextFrame=e})),this._nextFramePromise}async toDataURL(){if(this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.canvas instanceof HTMLCanvasElement)return this.canvas.toDataURL();throw new Error("OffscreenCanvas")}_initialize(){this._startEventHandling(),this._initializeAnimationProps(),this._updateAnimationProps(),this._resizeViewport()}_setDisplay(e){this.display&&(this.display.destroy(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_requestAnimationFrame(){this._running&&(this._animationFrameId=GNe(this._animationFrame.bind(this)))}_cancelAnimationFrame(){this._animationFrameId!==null&&(ZNe(this._animationFrameId),this._animationFrameId=null)}_animationFrame(){this._running&&(this.redraw(),this._requestAnimationFrame())}_renderFrame(e){if(this.display){this.display._renderFrame(e);return}this.props.onRender(this._getAnimationProps()),this.device?.submit()}_clearNeedsRedraw(){this.needsRedraw=!1}_setupFrame(){this._resizeViewport()}_initializeAnimationProps(){const e=this.device?.getDefaultCanvasContext();if(!this.device||!e)throw new Error("loop");const n=e?.canvas,r=e.props.useDevicePixels;this.animationProps={animationLoop:this,device:this.device,canvasContext:e,canvas:n,useDevicePixels:r,timeline:this.timeline,needsRedraw:!1,width:1,height:1,aspect:1,time:0,startTime:Date.now(),engineTime:0,tick:0,tock:0,_mousePosition:null}}_getAnimationProps(){if(!this.animationProps)throw new Error("animationProps");return this.animationProps}_updateAnimationProps(){if(!this.animationProps)return;const{width:e,height:n,aspect:r}=this._getSizeAndAspect();(e!==this.animationProps.width||n!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),r!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=n,this.animationProps.aspect=r,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime}async _initDevice(){if(this.device=await this.props.device,!this.device)throw new Error("No device provided");this.canvas=this.device.getDefaultCanvasContext().canvas||null}_createInfoDiv(){if(this.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const n=document.createElement("div");n.style.position="absolute",n.style.left="10px",n.style.bottom="10px",n.style.width="300px",n.style.background="white",this.canvas instanceof HTMLCanvasElement&&e.appendChild(this.canvas),e.appendChild(n);const r=this.props.onAddHTML(n);r&&(n.innerHTML=r)}}_getSizeAndAspect(){if(!this.device)return{width:1,height:1,aspect:1};const[e,n]=this.device?.getDefaultCanvasContext().getDevicePixelSize()||[1,1];let r=1;const i=this.device?.getDefaultCanvasContext().canvas;return i&&i.clientHeight?r=i.clientWidth/i.clientHeight:e>0&&n>0&&(r=e/n),{width:e,height:n,aspect:r}}_resizeViewport(){this.props.autoResizeViewport&&this.device.gl&&this.device.gl.viewport(0,0,this.device.gl.drawingBufferWidth,this.device.gl.drawingBufferHeight)}_beginFrameTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this.cpuTime.timeStart()}_endFrameTimers(){this.cpuTime.timeEnd()}_startEventHandling(){this.canvas&&(this.canvas.addEventListener("mousemove",this._onMousemove.bind(this)),this.canvas.addEventListener("mouseleave",this._onMouseleave.bind(this)))}_onMousemove(e){e instanceof MouseEvent&&(this._getAnimationProps()._mousePosition=[e.offsetX,e.offsetY])}_onMouseleave(e){this._getAnimationProps()._mousePosition=null}}const o2={};function Ad(t="id"){o2[t]=o2[t]||1;const e=o2[t]++;return`${t}-${e}`}class PU{id;userData={};topology;bufferLayout=[];vertexCount;indices;attributes;constructor(e){if(this.id=e.id||Ad("geometry"),this.topology=e.topology,this.indices=e.indices||null,this.attributes=e.attributes,this.vertexCount=e.vertexCount,this.bufferLayout=e.bufferLayout||[],this.indices&&!(this.indices.usage&pn.INDEX))throw new Error("Index buffer must have INDEX usage")}destroy(){this.indices?.destroy();for(const e of Object.values(this.attributes))e.destroy()}getVertexCount(){return this.vertexCount}getAttributes(){return this.attributes}getIndexes(){return this.indices||null}_calculateVertexCount(e){return e.byteLength/12}}function JNe(t,e){if(e instanceof PU)return e;const n=eDe(t,e),{attributes:r,bufferLayout:i}=tDe(t,e);return new PU({topology:e.topology||"triangle-list",bufferLayout:i,vertexCount:e.vertexCount,indices:n,attributes:r})}function eDe(t,e){if(!e.indices)return;const n=e.indices.value;return t.createBuffer({usage:pn.INDEX,data:n})}function tDe(t,e){const n=[],r={};for(const[a,s]of Object.entries(e.attributes)){let o=a;switch(a){case"POSITION":o="positions";break;case"NORMAL":o="normals";break;case"TEXCOORD_0":o="texCoords";break;case"COLOR_0":o="colors";break}if(s){r[o]=t.createBuffer({data:s.value,id:`${a}-buffer`});const{value:c,size:f,normalized:d}=s;n.push({name:o,format:KRe(c,f,d)})}}const i=e._calculateVertexCount(e.attributes,e.indices);return{attributes:r,bufferLayout:n,vertexCount:i}}class UR{static defaultProps={...xc.defaultProps};static getDefaultPipelineFactory(e){return e._lumaData.defaultPipelineFactory=e._lumaData.defaultPipelineFactory||new UR(e),e._lumaData.defaultPipelineFactory}device;cachingEnabled;destroyPolicy;debug;_hashCounter=0;_hashes={};_renderPipelineCache={};_computePipelineCache={};get[Symbol.toStringTag](){return"PipelineFactory"}toString(){return`PipelineFactory(${this.device.id})`}constructor(e){this.device=e,this.cachingEnabled=e.props._cachePipelines,this.destroyPolicy=e.props._cacheDestroyPolicy,this.debug=e.props.debugFactories}createRenderPipeline(e){if(!this.cachingEnabled)return this.device.createRenderPipeline(e);const n={...xc.defaultProps,...e},r=this._renderPipelineCache,i=this._hashRenderPipeline(n);let a=r[i]?.pipeline;return a?(r[i].useCount++,this.debug&&ve.warn(`${this}: ${r[i].pipeline} reused, count=${r[i].useCount}, (id=${e.id})`)()):(a=this.device.createRenderPipeline({...n,id:n.id?`${n.id}-cached`:Ad("unnamed-cached")}),a.hash=i,r[i]={pipeline:a,useCount:1},this.debug&&ve.warn(`${this}: ${a} created, count=${r[i].useCount}`)()),a}createComputePipeline(e){if(!this.cachingEnabled)return this.device.createComputePipeline(e);const n={...eb.defaultProps,...e},r=this._computePipelineCache,i=this._hashComputePipeline(n);let a=r[i]?.pipeline;return a?(r[i].useCount++,this.debug&&ve.warn(`${this}: ${r[i].pipeline} reused, count=${r[i].useCount}, (id=${e.id})`)()):(a=this.device.createComputePipeline({...n,id:n.id?`${n.id}-cached`:void 0}),a.hash=i,r[i]={pipeline:a,useCount:1},this.debug&&ve.warn(`${this}: ${a} created, count=${r[i].useCount}`)()),a}release(e){if(!this.cachingEnabled){e.destroy();return}const n=this._getCache(e),r=e.hash;n[r].useCount--,n[r].useCount===0?(this._destroyPipeline(e),this.debug&&ve.warn(`${this}: ${e} released and destroyed`)()):n[r].useCount<0?(ve.error(`${this}: ${e} released, useCount < 0, resetting`)(),n[r].useCount=0):this.debug&&ve.warn(`${this}: ${e} released, count=${n[r].useCount}`)()}_destroyPipeline(e){const n=this._getCache(e);switch(this.destroyPolicy){case"never":return!1;case"unused":return delete n[e.hash],e.destroy(),!0}}_getCache(e){let n;if(e instanceof eb&&(n=this._computePipelineCache),e instanceof xc&&(n=this._renderPipelineCache),!n)throw new Error(`${this}`);if(!n[e.hash])throw new Error(`${this}: ${e} matched incorrect entry`);return n}_hashComputePipeline(e){const{type:n}=this.device,r=this._getHash(e.shader.source);return`${n}/C/${r}`}_hashRenderPipeline(e){const n=e.vs?this._getHash(e.vs.source):0,r=e.fs?this._getHash(e.fs.source):0,i="-",a=this._getHash(JSON.stringify(e.bufferLayout)),{type:s}=this.device;switch(s){case"webgl":return`${s}/R/${n}/${r}V${i}BL${a}`;case"webgpu":default:const o=this._getHash(JSON.stringify(e.parameters));return`${s}/R/${n}/${r}V${i}T${e.topology}P${o}BL${a}`}}_getHash(e){return this._hashes[e]===void 0&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}}class FR{static defaultProps={...zx.defaultProps};static getDefaultShaderFactory(e){return e._lumaData.defaultShaderFactory||=new FR(e),e._lumaData.defaultShaderFactory}device;cachingEnabled;destroyPolicy;debug;_cache={};get[Symbol.toStringTag](){return"ShaderFactory"}toString(){return`${this[Symbol.toStringTag]}(${this.device.id})`}constructor(e){this.device=e,this.cachingEnabled=e.props._cacheShaders,this.destroyPolicy=e.props._cacheDestroyPolicy,this.debug=!0}createShader(e){if(!this.cachingEnabled)return this.device.createShader(e);const n=this._hashShader(e);let r=this._cache[n];if(r)r.useCount++,this.debug&&ve.warn(`${this}: Reusing shader ${r.shader.id} count=${r.useCount}`)();else{const i=this.device.createShader({...e,id:e.id?`${e.id}-cached`:void 0});this._cache[n]=r={shader:i,useCount:1},this.debug&&ve.warn(`${this}: Created new shader ${i.id}`)()}return r.shader}release(e){if(!this.cachingEnabled){e.destroy();return}const n=this._hashShader(e),r=this._cache[n];if(r)if(r.useCount--,r.useCount===0)this.destroyPolicy==="unused"&&(delete this._cache[n],r.shader.destroy(),this.debug&&ve.warn(`${this}: Releasing shader ${e.id}, destroyed`)());else{if(r.useCount<0)throw new Error(`ShaderFactory: Shader ${e.id} released too many times`);this.debug&&ve.warn(`${this}: Releasing shader ${e.id} count=${r.useCount}`)()}}_hashShader(e){return`${e.stage}:${e.source}`}}function nDe(t,e){const n={},r="Values";if(t.attributes.length===0&&!t.varyings?.length)return{"No attributes or varyings":{[r]:"N/A"}};for(const i of t.attributes)if(i){const a=`${i.location} ${i.name}: ${i.type}`;n[`in ${a}`]={[r]:i.stepMode||"vertex"}}for(const i of t.varyings||[]){const a=`${i.location} ${i.name}`;n[`out ${a}`]={[r]:JSON.stringify(i)}}return n}let Kn=null,l2=null;function rDe(t,{id:e,minimap:n,opaque:r,top:i="0",left:a="0",rgbaScale:s=1}){Kn||(Kn=document.createElement("canvas"),Kn.id=e,Kn.title=e,Kn.style.zIndex="100",Kn.style.position="absolute",Kn.style.top=i,Kn.style.left=a,Kn.style.border="blue 5px solid",Kn.style.transform="scaleY(-1)",document.body.appendChild(Kn),l2=Kn.getContext("2d")),(Kn.width!==t.width||Kn.height!==t.height)&&(Kn.width=t.width/2,Kn.height=t.height/2,Kn.style.width="400px",Kn.style.height="400px");const o=t.device.readPixelsToArrayWebGL(t),c=l2?.createImageData(t.width,t.height);if(c){for(let d=0;d<o.length;d+=4)c.data[0+d+0]=o[d+0]*s,c.data[0+d+1]=o[d+1]*s,c.data[0+d+2]=o[d+2]*s,c.data[0+d+3]=r?255:o[d+3]*s;l2?.putImageData(c,0,0)}}function LE(t,e,n){if(t===e)return!0;if(!n||!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!LE(t[r],e[r],n-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const a of r)if(!e.hasOwnProperty(a)||!LE(t[a],e[a],n-1))return!1;return!0}return!1}class c2{bufferLayouts;constructor(e){this.bufferLayouts=e}getBufferLayout(e){return this.bufferLayouts.find(n=>n.name===e)||null}getAttributeNamesForBuffer(e){return e.attributes?e.attributes?.map(n=>n.attribute):[e.name]}mergeBufferLayouts(e,n){const r=[...e];for(const i of n){const a=r.findIndex(s=>s.name===i.name);a<0?r.push(i):r[a]=i}return r}getBufferIndex(e){const n=this.bufferLayouts.findIndex(r=>r.name===e);return n===-1&&ve.warn(`BufferLayout: Missing buffer for "${e}".`)(),n}}function iDe(t,e){const n=Object.fromEntries(t.attributes.map(i=>[i.name,i.location])),r=e.slice();return r.sort((i,a)=>{const s=i.attributes?i.attributes.map(d=>d.attribute):[i.name],o=a.attributes?a.attributes.map(d=>d.attribute):[a.name],c=Math.min(...s.map(d=>n[d])),f=Math.min(...o.map(d=>n[d]));return c-f}),r}function aDe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sDe(t){return Array.isArray(t)?t.length===0||typeof t[0]=="number":!1}function oDe(t){return aDe(t)||sDe(t)}function lDe(t){return oDe(t)||typeof t=="number"||typeof t=="boolean"}function cDe(t){const e={bindings:{},uniforms:{}};return Object.keys(t).forEach(n=>{const r=t[n];lDe(r)?e.uniforms[n]=r:e.bindings[n]=r}),e}class uDe{options={disableWarnings:!1};modules;moduleUniforms;moduleBindings;constructor(e,n){Object.assign(this.options,n);const r=hR(Object.values(e).filter(i=>i.dependencies));for(const i of r)e[i.name]=i;ve.log(1,"Creating ShaderInputs with modules",Object.keys(e))(),this.modules=e,this.moduleUniforms={},this.moduleBindings={};for(const[i,a]of Object.entries(e))this._addModule(a),a.name&&i!==a.name&&!this.options.disableWarnings&&ve.warn(`Module name: ${i} vs ${a.name}`)()}destroy(){}setProps(e){for(const n of Object.keys(e)){const r=n,i=e[r]||{},a=this.modules[r];if(!a){this.options.disableWarnings||ve.warn(`Module ${n} not found`)();continue}const s=this.moduleUniforms[r],o=this.moduleBindings[r],c=a.getUniforms?.(i,s)||i,{uniforms:f,bindings:d}=cDe(c);this.moduleUniforms[r]={...s,...f},this.moduleBindings[r]={...o,...d}}}getModules(){return Object.values(this.modules)}getUniformValues(){return this.moduleUniforms}getBindingValues(){const e={};for(const n of Object.values(this.moduleBindings))Object.assign(e,n);return e}getDebugTable(){const e={};for(const[n,r]of Object.entries(this.moduleUniforms))for(const[i,a]of Object.entries(r))e[`${n}.${i}`]={type:this.modules[n].uniformTypes?.[i],value:String(a)};return e}_addModule(e){const n=e.name;this.moduleUniforms[n]=e.defaultUniforms||{},this.moduleBindings[n]={}}}let fDe="";async function dDe(t,e){const n=new Image;return n.crossOrigin="anonymous",n.src=t.startsWith("http")?t:fDe+t,await n.decode(),e?await createImageBitmap(n,e):await createImageBitmap(n)}const hDe=["+X","-X","+Y","-Y","+Z","-Z"],pDe=["+X","-X","+Y","-Y","+Z","-Z"];class lp{device;id;props;texture;sampler;view;ready;isReady=!1;destroyed=!1;resolveReady=()=>{};rejectReady=()=>{};get[Symbol.toStringTag](){return"AsyncTexture"}toString(){return`AsyncTexture:"${this.id}"(${this.isReady?"ready":"loading"})`}constructor(e,n){this.device=e;const r=Ad("async-texture");this.props={...lp.defaultProps,id:r,...n},this.id=this.props.id,n={...n},typeof n?.data=="string"&&n.dimension==="2d"&&(n.data=dDe(n.data)),n.mipmaps&&(n.mipLevels="auto"),this.ready=new Promise((i,a)=>{this.resolveReady=()=>{this.isReady=!0,i()},this.rejectReady=a}),this.initAsync(n)}async initAsync(e){const n=e.data,r=await hK(n).then(void 0,this.rejectReady);if(this.destroyed)return;const i=this.props.width&&this.props.height?{width:this.props.width,height:this.props.height}:this.getTextureDataSize(r);if(!i)throw new Error("Texture size could not be determined");const a={...i,...e,data:void 0,mipLevels:1},s=this.device.getMipLevelCount(a.width,a.height);if(a.mipLevels=this.props.mipLevels==="auto"?s:Math.min(s,this.props.mipLevels),this.texture=this.device.createTexture(a),this.sampler=this.texture.sampler,this.view=this.texture.view,e.data)switch(this.props.dimension){case"1d":this._setTexture1DData(this.texture,r);break;case"2d":this._setTexture2DData(r);break;case"3d":this._setTexture3DData(this.texture,r);break;case"2d-array":this._setTextureArrayData(this.texture,r);break;case"cube":this._setTextureCubeData(this.texture,r);break;case"cube-array":this._setTextureCubeArrayData(this.texture,r);break}this.props.mipmaps&&this.generateMipmaps(),ve.info(1,`${this} loaded`),this.resolveReady()}destroy(){this.texture&&(this.texture.destroy(),this.texture=null),this.destroyed=!0}generateMipmaps(){this.texture.generateMipmapsWebGL()}setSampler(e={}){this.texture.setSampler(e instanceof Nc?e:this.device.createSampler(e))}resize(e){if(!this.isReady)throw new Error("Cannot resize texture before it is ready");if(e.width===this.texture.width&&e.height===this.texture.height)return!1;if(this.texture){const n=this.texture;this.texture=n.clone(e),n.destroy()}return!0}isTextureLevelData(e){const n=e?.data;return ArrayBuffer.isView(n)}getTextureDataSize(e){if(!e||ArrayBuffer.isView(e))return null;if(Array.isArray(e))return this.getTextureDataSize(e[0]);if(this.device.isExternalImage(e))return this.device.getExternalImageSize(e);if(e&&typeof e=="object"&&e.constructor===Object){const r=Object.values(e)[0];return{width:r.width,height:r.height}}throw new Error("texture size deduction failed")}getCubeFaceDepth(e){switch(e){case"+X":return 0;case"-X":return 1;case"+Y":return 2;case"-Y":return 3;case"+Z":return 4;case"-Z":return 5;default:throw new Error(e)}}setTextureData(e){}_setTexture1DData(e,n){throw new Error("setTexture1DData not supported in WebGL.")}_setTexture2DData(e,n=0){if(!this.texture)throw new Error("Texture not initialized");const r=this._normalizeTextureData(e);r.length>1&&this.props.mipmaps!==!1&&ve.warn(`Texture ${this.id} mipmap and multiple LODs.`)();for(let i=0;i<r.length;i++){const a=r[i];this.device.isExternalImage(a)?this.texture.copyExternalImage({image:a,depth:n,mipLevel:i,flipY:!0}):this.texture.copyImageData({data:a.data,mipLevel:i})}}_setTexture3DData(e,n){if(this.texture?.props.dimension!=="3d")throw new Error(this.id);for(let r=0;r<n.length;r++)this._setTexture2DData(n[r],r)}_setTextureCubeData(e,n){if(this.texture?.props.dimension!=="cube")throw new Error(this.id);for(const[r,i]of Object.entries(n)){const a=pDe.indexOf(r);this._setTexture2DData(i,a)}}_setTextureArrayData(e,n){if(this.texture?.props.dimension!=="2d-array")throw new Error(this.id);for(let r=0;r<n.length;r++)this._setTexture2DData(n[r],r)}_setTextureCubeArrayData(e,n){throw new Error("setTextureCubeArrayData not supported in WebGL2.")}_setTextureCubeFaceData(e,n,r,i=0){Array.isArray(n)&&n.length>1&&this.props.mipmaps!==!1&&ve.warn(`${this.id} has mipmap and multiple LODs.`)();const a=hDe.indexOf(r);this._setTexture2DData(n,a)}_normalizeTextureData(e){const n=this.texture;let r;return ArrayBuffer.isView(e)?r=[{data:e,width:n.width,height:n.height}]:Array.isArray(e)?r=e:r=[e],r}static defaultProps={...jn.defaultProps,data:null,mipmaps:!1}}async function hK(t){if(t=await t,Array.isArray(t))return await Promise.all(t.map(hK));if(t&&typeof t=="object"&&t.constructor===Object){const e=t,n=await Promise.all(Object.values(e)),r=Object.keys(e),i={};for(let a=0;a<r.length;a++)i[r[a]]=n[a];return i}return t}const Vl=2,gDe=1e4;class Ta{static defaultProps={...xc.defaultProps,source:void 0,vs:null,fs:null,id:"unnamed",handle:void 0,userData:{},defines:{},modules:[],geometry:null,indexBuffer:null,attributes:{},constantAttributes:{},varyings:[],isInstanced:void 0,instanceCount:0,vertexCount:0,shaderInputs:void 0,pipelineFactory:void 0,shaderFactory:void 0,transformFeedback:void 0,shaderAssembler:oc.getDefaultShaderAssembler(),debugShaders:void 0,disableWarnings:void 0};device;id;source;vs;fs;pipelineFactory;shaderFactory;userData={};parameters;topology;bufferLayout;isInstanced=void 0;instanceCount=0;vertexCount;indexBuffer=null;bufferAttributes={};constantAttributes={};bindings={};vertexArray;transformFeedback=null;pipeline;shaderInputs;_uniformStore;_attributeInfos={};_gpuGeometry=null;props;_pipelineNeedsUpdate="newly created";_needsRedraw="initializing";_destroyed=!1;_lastDrawTimestamp=-1;get[Symbol.toStringTag](){return"Model"}toString(){return`Model(${this.id})`}constructor(e,n){this.props={...Ta.defaultProps,...n},n=this.props,this.id=n.id||Ad("model"),this.device=e,Object.assign(this.userData,n.userData);const r=Object.fromEntries(this.props.modules?.map(c=>[c.name,c])||[]),i=n.shaderInputs||new uDe(r,{disableWarnings:this.props.disableWarnings});this.setShaderInputs(i);const a=yDe(e),s=(this.props.modules?.length>0?this.props.modules:this.shaderInputs?.getModules())||[];if(this.device.type==="webgpu"&&this.props.source){const{source:c,getUniforms:f}=this.props.shaderAssembler.assembleWGSLShader({platformInfo:a,...this.props,modules:s});this.source=c,this._getModuleUniforms=f,this.props.shaderLayout||=_Me(this.source)}else{const{vs:c,fs:f,getUniforms:d}=this.props.shaderAssembler.assembleGLSLShaderPair({platformInfo:a,...this.props,modules:s});this.vs=c,this.fs=f,this._getModuleUniforms=d}this.vertexCount=this.props.vertexCount,this.instanceCount=this.props.instanceCount,this.topology=this.props.topology,this.bufferLayout=this.props.bufferLayout,this.parameters=this.props.parameters,n.geometry&&this.setGeometry(n.geometry),this.pipelineFactory=n.pipelineFactory||UR.getDefaultPipelineFactory(this.device),this.shaderFactory=n.shaderFactory||FR.getDefaultShaderFactory(this.device),this.pipeline=this._updatePipeline(),this.vertexArray=e.createVertexArray({shaderLayout:this.pipeline.shaderLayout,bufferLayout:this.pipeline.bufferLayout}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry),"isInstanced"in n&&(this.isInstanced=n.isInstanced),n.instanceCount&&this.setInstanceCount(n.instanceCount),n.vertexCount&&this.setVertexCount(n.vertexCount),n.indexBuffer&&this.setIndexBuffer(n.indexBuffer),n.attributes&&this.setAttributes(n.attributes),n.constantAttributes&&this.setConstantAttributes(n.constantAttributes),n.bindings&&this.setBindings(n.bindings),n.transformFeedback&&(this.transformFeedback=n.transformFeedback),Object.seal(this)}destroy(){this._destroyed||(this.pipelineFactory.release(this.pipeline),this.shaderFactory.release(this.pipeline.vs),this.pipeline.fs&&this.shaderFactory.release(this.pipeline.fs),this._uniformStore.destroy(),this._gpuGeometry?.destroy(),this._destroyed=!0)}needsRedraw(){this._getBindingsUpdateTimestamp()>this._lastDrawTimestamp&&this.setNeedsRedraw("contents of bound textures or buffers updated");const e=this._needsRedraw;return this._needsRedraw=!1,e}setNeedsRedraw(e){this._needsRedraw||=e}predraw(){this.updateShaderInputs(),this.pipeline=this._updatePipeline()}draw(e){const n=this._areBindingsLoading();if(n)return ve.info(Vl,`>>> DRAWING ABORTED ${this.id}: ${n} not loaded`)(),!1;try{e.pushDebugGroup(`${this}.predraw(${e})`),this.predraw()}finally{e.popDebugGroup()}let r;try{e.pushDebugGroup(`${this}.draw(${e})`),this._logDrawCallStart(),this.pipeline=this._updatePipeline();const i=this._getBindings();this.pipeline.setBindings(i,{disableWarnings:this.props.disableWarnings});const{indexBuffer:a}=this.vertexArray,s=a?a.byteLength/(a.indexType==="uint32"?4:2):void 0;r=this.pipeline.draw({renderPass:e,vertexArray:this.vertexArray,isInstanced:this.isInstanced,vertexCount:this.vertexCount,instanceCount:this.instanceCount,indexCount:s,transformFeedback:this.transformFeedback||void 0,parameters:this.parameters,topology:this.topology})}finally{e.popDebugGroup(),this._logDrawCallEnd()}return this._logFramebuffer(e),r?(this._lastDrawTimestamp=this.device.timestamp,this._needsRedraw=!1):this._needsRedraw="waiting for resource initialization",r}setGeometry(e){this._gpuGeometry?.destroy();const n=e&&JNe(this.device,e);if(n){this.setTopology(n.topology||"triangle-list");const r=new c2(this.bufferLayout);this.bufferLayout=r.mergeBufferLayouts(n.bufferLayout,this.bufferLayout),this.vertexArray&&this._setGeometryAttributes(n)}this._gpuGeometry=n}setTopology(e){e!==this.topology&&(this.topology=e,this._setPipelineNeedsUpdate("topology"))}setBufferLayout(e){const n=new c2(this.bufferLayout);this.bufferLayout=this._gpuGeometry?n.mergeBufferLayouts(e,this._gpuGeometry.bufferLayout):e,this._setPipelineNeedsUpdate("bufferLayout"),this.pipeline=this._updatePipeline(),this.vertexArray=this.device.createVertexArray({shaderLayout:this.pipeline.shaderLayout,bufferLayout:this.pipeline.bufferLayout}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry)}setParameters(e){LE(e,this.parameters,2)||(this.parameters=e,this._setPipelineNeedsUpdate("parameters"))}setInstanceCount(e){this.instanceCount=e,this.isInstanced===void 0&&e>0&&(this.isInstanced=!0),this.setNeedsRedraw("instanceCount")}setVertexCount(e){this.vertexCount=e,this.setNeedsRedraw("vertexCount")}setShaderInputs(e){this.shaderInputs=e,this._uniformStore=new WOe(this.shaderInputs.modules);for(const[n,r]of Object.entries(this.shaderInputs.modules))if(mDe(r)){const i=this._uniformStore.getManagedUniformBuffer(this.device,n);this.bindings[`${n}Uniforms`]=i}this.setNeedsRedraw("shaderInputs")}updateShaderInputs(){this._uniformStore.setUniforms(this.shaderInputs.getUniformValues()),this.setBindings(this.shaderInputs.getBindingValues()),this.setNeedsRedraw("shaderInputs")}setBindings(e){Object.assign(this.bindings,e),this.setNeedsRedraw("bindings")}setTransformFeedback(e){this.transformFeedback=e,this.setNeedsRedraw("transformFeedback")}setIndexBuffer(e){this.vertexArray.setIndexBuffer(e),this.setNeedsRedraw("indexBuffer")}setAttributes(e,n){const r=n?.disableWarnings??this.props.disableWarnings;e.indices&&ve.warn(`Model:${this.id} setAttributes() - indexBuffer should be set using setIndexBuffer()`)(),this.bufferLayout=iDe(this.pipeline.shaderLayout,this.bufferLayout);const i=new c2(this.bufferLayout);for(const[a,s]of Object.entries(e)){const o=i.getBufferLayout(a);if(!o){r||ve.warn(`Model(${this.id}): Missing layout for buffer "${a}".`)();continue}const c=i.getAttributeNamesForBuffer(o);let f=!1;for(const d of c){const p=this._attributeInfos[d];if(p){const m=this.device.type==="webgpu"?i.getBufferIndex(p.bufferName):p.location;this.vertexArray.setBuffer(m,s),f=!0}}!f&&!r&&ve.warn(`Model(${this.id}): Ignoring buffer "${s.id}" for unknown attribute "${a}"`)()}this.setNeedsRedraw("attributes")}setConstantAttributes(e,n){for(const[r,i]of Object.entries(e)){const a=this._attributeInfos[r];a?this.vertexArray.setConstantWebGL(a.location,i):(n?.disableWarnings??this.props.disableWarnings)||ve.warn(`Model "${this.id}: Ignoring constant supplied for unknown attribute "${r}"`)()}this.setNeedsRedraw("constants")}_areBindingsLoading(){for(const e of Object.values(this.bindings))if(e instanceof lp&&!e.isReady)return e.id;return!1}_getBindings(){const e={};for(const[n,r]of Object.entries(this.bindings))r instanceof lp?r.isReady&&(e[n]=r.texture):e[n]=r;return e}_getBindingsUpdateTimestamp(){let e=0;for(const n of Object.values(this.bindings))n instanceof $x?e=Math.max(e,n.texture.updateTimestamp):n instanceof pn||n instanceof jn?e=Math.max(e,n.updateTimestamp):n instanceof lp?e=n.texture?Math.max(e,n.texture.updateTimestamp):1/0:n instanceof Nc||(e=Math.max(e,n.buffer.updateTimestamp));return e}_setGeometryAttributes(e){const n={...e.attributes};for(const[r]of Object.entries(n))!this.pipeline.shaderLayout.attributes.find(i=>i.name===r)&&r!=="positions"&&delete n[r];this.vertexCount=e.vertexCount,this.setIndexBuffer(e.indices||null),this.setAttributes(e.attributes,{disableWarnings:!0}),this.setAttributes(n,{disableWarnings:this.props.disableWarnings}),this.setNeedsRedraw("geometry attributes")}_setPipelineNeedsUpdate(e){this._pipelineNeedsUpdate||=e,this.setNeedsRedraw(e)}_updatePipeline(){if(this._pipelineNeedsUpdate){let e=null,n=null;this.pipeline&&(ve.log(1,`Model ${this.id}: Recreating pipeline because "${this._pipelineNeedsUpdate}".`)(),e=this.pipeline.vs,n=this.pipeline.fs),this._pipelineNeedsUpdate=!1;const r=this.shaderFactory.createShader({id:`${this.id}-vertex`,stage:"vertex",source:this.source||this.vs,debugShaders:this.props.debugShaders});let i=null;this.source?i=r:this.fs&&(i=this.shaderFactory.createShader({id:`${this.id}-fragment`,stage:"fragment",source:this.source||this.fs,debugShaders:this.props.debugShaders})),this.pipeline=this.pipelineFactory.createRenderPipeline({...this.props,bufferLayout:this.bufferLayout,topology:this.topology,parameters:this.parameters,bindings:this._getBindings(),vs:r,fs:i}),this._attributeInfos=dX(this.pipeline.shaderLayout,this.bufferLayout),e&&this.shaderFactory.release(e),n&&this.shaderFactory.release(n)}return this.pipeline}_lastLogTime=0;_logOpen=!1;_logDrawCallStart(){const e=ve.level>3?0:gDe;ve.level<2||Date.now()-this._lastLogTime<e||(this._lastLogTime=Date.now(),this._logOpen=!0,ve.group(Vl,`>>> DRAWING MODEL ${this.id}`,{collapsed:ve.level<=2})())}_logDrawCallEnd(){if(this._logOpen){const e=nDe(this.pipeline.shaderLayout,this.id);ve.table(Vl,e)();const n=this.shaderInputs.getDebugTable();ve.table(Vl,n)();const r=this._getAttributeDebugTable();ve.table(Vl,this._attributeInfos)(),ve.table(Vl,r)(),ve.groupEnd(Vl)(),this._logOpen=!1}}_drawCount=0;_logFramebuffer(e){const n=this.device.props.debugFramebuffers;if(this._drawCount++,!n)return;const r=e.props.framebuffer;r&&rDe(r,{id:r.id,minimap:!0})}_getAttributeDebugTable(){const e={};for(const[n,r]of Object.entries(this._attributeInfos)){const i=this.vertexArray.attributes[r.location];e[r.location]={name:n,type:r.shaderType,values:i?this._getBufferOrConstantValues(i,r.bufferDataType):"null"}}if(this.vertexArray.indexBuffer){const{indexBuffer:n}=this.vertexArray,r=n.indexType==="uint32"?new Uint32Array(n.debugData):new Uint16Array(n.debugData);e.indices={name:"indices",type:n.indexType,values:r.toString()}}return e}_getBufferOrConstantValues(e,n){const r=gR(n);return(e instanceof pn?new r(e.debugData):e).toString()}}function mDe(t){return!!(t.uniformTypes&&!vDe(t.uniformTypes))}function yDe(t){return{type:t.type,shaderLanguage:t.info.shadingLanguage,shaderLanguageVersion:t.info.shadingLanguageVersion,gpu:t.info.gpu,features:t.features}}function vDe(t){for(const e in t)return!1;return!0}class Lc{device;model;transformFeedback;static defaultProps={...Ta.defaultProps,outputs:void 0,feedbackBuffers:void 0};static isSupported(e){return e?.info?.type==="webgl"}constructor(e,n=Lc.defaultProps){if(!Lc.isSupported(e))throw new Error("BufferTransform not yet implemented on WebGPU");this.device=e,this.model=new Ta(this.device,{id:n.id||"buffer-transform-model",fs:n.fs||sX(),topology:n.topology||"point-list",varyings:n.outputs||n.varyings,...n}),this.transformFeedback=this.device.createTransformFeedback({layout:this.model.pipeline.shaderLayout,buffers:n.feedbackBuffers}),this.model.setTransformFeedback(this.transformFeedback),Object.seal(this)}destroy(){this.model&&this.model.destroy()}delete(){this.destroy()}run(e){e?.inputBuffers&&this.model.setAttributes(e.inputBuffers),e?.outputBuffers&&this.transformFeedback.setBuffers(e.outputBuffers);const n=this.device.beginRenderPass(e);this.model.draw(n),n.end()}getBuffer(e){return this.transformFeedback.getBuffer(e)}readAsync(e){const n=this.getBuffer(e);if(!n)throw new Error("BufferTransform#getBuffer");if(n instanceof pn)return n.readAsync();const{buffer:r,byteOffset:i=0,byteLength:a=r.byteLength}=n;return r.readAsync(i,a)}}const bDe="transform_output";class RU{device;model;sampler;currentIndex=0;samplerTextureMap=null;bindings=[];resources={};constructor(e,n){this.device=e,this.sampler=e.createSampler({addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",minFilter:"nearest",magFilter:"nearest",mipmapFilter:"nearest"}),this.model=new Ta(this.device,{id:n.id||Ad("texture-transform-model"),fs:n.fs||sX({input:n.targetTextureVarying,inputChannels:n.targetTextureChannels,output:bDe}),vertexCount:n.vertexCount,...n}),this._initialize(n),Object.seal(this)}destroy(){this.model.destroy();for(const e of this.bindings)e.framebuffer?.destroy()}delete(){this.destroy()}run(e){const{framebuffer:n}=this.bindings[this.currentIndex],r=this.device.beginRenderPass({framebuffer:n,...e});this.model.draw(r),r.end(),this.device.submit()}getTargetTexture(){const{targetTexture:e}=this.bindings[this.currentIndex];return e}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}_initialize(e){this._updateBindings(e)}_updateBindings(e){this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e)}_updateBinding(e,{sourceBuffers:n,sourceTextures:r,targetTexture:i}){if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,r),Object.assign(e.sourceBuffers,n),i){e.targetTexture=i;const{width:a,height:s}=i;e.framebuffer&&e.framebuffer.destroy(),e.framebuffer=this.device.createFramebuffer({id:"transform-framebuffer",width:a,height:s,colorAttachments:[i]}),e.framebuffer.resize({width:a,height:s})}return e}_setSourceTextureParameters(){const e=this.currentIndex,{sourceTextures:n}=this.bindings[e];for(const r in n)n[r].sampler=this.sampler}}class pK{id;topology;vertexCount;indices;attributes;userData={};constructor(e){const{attributes:n={},indices:r=null,vertexCount:i=null}=e;this.id=e.id||Ad("geometry"),this.topology=e.topology,r&&(this.indices=ArrayBuffer.isView(r)?{value:r,size:1}:r),this.attributes={};for(const[a,s]of Object.entries(n)){const o=ArrayBuffer.isView(s)?{value:s}:s;if(!ArrayBuffer.isView(o.value))throw new Error(`${this._print(a)}: must be typed array or object with value as typed array`);if((a==="POSITION"||a==="positions")&&!o.size&&(o.size=3),a==="indices"){if(this.indices)throw new Error("Multiple indices detected");this.indices=o}else this.attributes[a]=o}this.indices&&this.indices.isIndexed!==void 0&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this.vertexCount=i||this._calculateVertexCount(this.attributes,this.indices)}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return`Geometry ${this.id} attribute ${e}`}_setAttributes(e,n){return this}_calculateVertexCount(e,n){if(n)return n.value.length;let r=1/0;for(const i of Object.values(e)){const{value:a,size:s,constant:o}=i;!o&&a&&s!==void 0&&s>=1&&(r=Math.min(r,a.length/s))}return r}}const xDe={blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"zero",blendAlphaOperation:"add",blendAlphaSrcFactor:"constant",blendAlphaDstFactor:"zero"};class gK extends LR{constructor(){super(...arguments),this._colorEncoderState=null}render(e){return"pickingFBO"in e?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:n,views:r,viewports:i,onViewportActive:a,pickingFBO:s,deviceRect:{x:o,y:c,width:f,height:d},cullRect:p,effects:m,pass:y="picking",pickZ:v,shaderModuleProps:b}){this.pickZ=v;const w=this._resetColorEncoder(v),T=[o,c,f,d],C=super.render({target:s,layers:e,layerFilter:n,views:r,viewports:i,onViewportActive:a,cullRect:p,effects:m?.filter(R=>R.useInPicking),pass:y,isPicking:!0,shaderModuleProps:b,clearColor:[0,0,0,0],colorMask:15,scissorRect:T});return this._colorEncoderState=null,{decodePickingColor:w&&wDe.bind(null,w),stats:C}}shouldDrawLayer(e){const{pickable:n,operation:r}=e.props;return n&&r.includes("draw")||r.includes("terrain")||r.includes("mask")}getShaderModuleProps(e,n,r){return{picking:{isActive:1,isAttribute:this.pickZ},lighting:{enabled:!1}}}getLayerParameters(e,n,r){const i={...e.props.parameters},{pickable:a,operation:s}=e.props;return!this._colorEncoderState||s.includes("terrain")?i.blend=!1:a&&s.includes("draw")&&(Object.assign(i,xDe),i.blend=!0,i.blendColor=_De(this._colorEncoderState,e,r)),i}_resetColorEncoder(e){return this._colorEncoderState=e?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function _De(t,e,n){const{byLayer:r,byAlpha:i}=t;let a,s=r.get(e);return s?(s.viewports.push(n),a=s.a):(a=r.size+1,a<=255?(s={a,layer:e,viewports:[n]},r.set(e,s),i[a]=s):(ut.warn("Too many pickable layers, only picking the first 255")(),a=0)),[0,0,0,a/255]}function wDe(t,e){const n=t.byAlpha[e[3]];return n&&{pickedLayer:n.layer,pickedViewports:n.viewports,pickedObjectIndex:n.layer.decodePickingColor(e)}}const tf={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},hb=Symbol.for("component"),il=Symbol.for("propTypes"),u2=Symbol.for("deprecatedProps"),Cf=Symbol.for("asyncPropDefaults"),jc=Symbol.for("asyncPropOriginal"),el=Symbol.for("asyncPropResolved");function $R(t,e=()=>!0){return Array.isArray(t)?mK(t,e,[]):e(t)?[t]:[]}function mK(t,e,n){let r=-1;for(;++r<t.length;){const i=t[r];Array.isArray(i)?mK(i,e,n):e(i)&&n.push(i)}return n}function SDe({target:t,source:e,start:n=0,count:r=1}){const i=e.length,a=r*i;let s=0;for(let o=n;s<i;s++)t[o++]=e[s];for(;s<a;)s<a-s?(t.copyWithin(n+s,n,n+s),s*=2):(t.copyWithin(n+s,n,n+a-s),s=a);return t}class TDe{constructor(e,n,r){this._loadCount=0,this._subscribers=new Set,this.id=e,this.context=r,this.setData(n)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(e,n){if(e===this._data&&!n)return;this._data=e;const r=++this._loadCount;let i=e;typeof e=="string"&&(i=yE(e)),i instanceof Promise?(this.isLoaded=!1,this._loader=i.then(a=>{this._loadCount===r&&(this.isLoaded=!0,this._error=void 0,this._content=a)}).catch(a=>{this._loadCount===r&&(this.isLoaded=!0,this._error=a||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const a of this._subscribers)a.onChange(this.getData())}}class ADe{constructor(e){this.protocol=e.protocol||"resource://",this._context={device:e.device,gl:e.device?.gl,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return e.startsWith(this.protocol)?!0:e in this._resources}add({resourceId:e,data:n,forceUpdate:r=!1,persistent:i=!0}){let a=this._resources[e];a?a.setData(n,r):(a=new TDe(e,n,this._context),this._resources[e]=a),a.persistent=i}remove(e){const n=this._resources[e];n&&(n.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const n=this._consumers[e];if(n){for(const r in n){const i=n[r],a=this._resources[i.resourceId];a&&a.unsubscribe(i)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:n,consumerId:r,requestId:i="default"}){const{_resources:a,protocol:s}=this;e.startsWith(s)&&(e=e.replace(s,""),a[e]||this.add({resourceId:e,data:null,persistent:!1}));const o=a[e];if(this._track(r,i,o,n),o)return o.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,n,r,i){const a=this._consumers,s=a[e]=a[e]||{};let o=s[n];const c=o&&o.resourceId&&this._resources[o.resourceId];c&&(c.unsubscribe(o),this.prune()),r&&(o?(o.onChange=i,o.resourceId=r.id):o={onChange:i,resourceId:r.id},s[n]=o,r.subscribe(o))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const n=this._resources[e];!n.persistent&&!n.inUse()&&(n.delete(),delete this._resources[e])}}}const EDe="layerManager.setLayers",CDe="layerManager.activateViewport";class PDe{constructor(e,n){this._lastRenderedLayers=[],this._needsRedraw=!1,this._needsUpdate=!1,this._nextLayers=null,this._debug=!1,this._defaultShaderModulesChanged=!1,this.activateViewport=o=>{br(CDe,this,o),o&&(this.context.viewport=o)};const{deck:r,stats:i,viewport:a,timeline:s}=n||{};this.layers=[],this.resourceManager=new ADe({device:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,device:e,gl:e?.gl,deck:r,shaderAssembler:SNe(e?.info?.shadingLanguage||"glsl"),defaultShaderModules:[MIe],renderPass:void 0,stats:i||new jx({id:"deck.gl"}),viewport:a||new Td({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:s||new dK,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let n=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const r of this.layers){const i=r.getNeedsRedraw(e);n=n||i}return n}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._defaultShaderModulesChanged?"shader modules changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter(n=>e.find(r=>n.id.indexOf(r)===0)):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,n){br(EDe,this,n,e),this._lastRenderedLayers=e;const r=$R(e,Boolean);for(const i of r)i.context=this.context;this._updateLayers(this.layers,r)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw(`updating layers: ${e}`),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}addDefaultShaderModule(e){const{defaultShaderModules:n}=this.context;n.find(r=>r.name===e.name)||(n.push(e),this._defaultShaderModulesChanged=!0)}removeDefaultShaderModule(e){const{defaultShaderModules:n}=this.context,r=n.findIndex(i=>i.name===e.name);r>=0&&(n.splice(r,1),this._defaultShaderModulesChanged=!0)}_handleError(e,n,r){r.raiseError(n,`${e} of ${r}`)}_updateLayers(e,n){const r={};for(const s of e)r[s.id]?ut.warn(`Multiple old layers with same id ${s.id}`)():r[s.id]=s;if(this._defaultShaderModulesChanged){for(const s of e)s.setNeedsUpdate(),s.setChangeFlags({extensionsChanged:!0});this._defaultShaderModulesChanged=!1}const i=[];this._updateSublayersRecursively(n,r,i),this._finalizeOldLayers(r);let a=!1;for(const s of i)if(s.hasUniformTransition()){a=`Uniform transition in ${s}`;break}this._needsUpdate=a,this.layers=i}_updateSublayersRecursively(e,n,r){for(const i of e){i.context=this.context;const a=n[i.id];a===null&&ut.warn(`Multiple new layers with same id ${i.id}`)(),n[i.id]=null;let s=null;try{this._debug&&a!==i&&i.validateProps(),a?(this._transferLayerState(a,i),this._updateLayer(i)):this._initializeLayer(i),r.push(i),s=i.isComposite?i.getSubLayers():null}catch(o){this._handleError("matching",o,i)}s&&this._updateSublayersRecursively(s,n,r)}}_finalizeOldLayers(e){for(const n in e){const r=e[n];r&&this._finalizeLayer(r)}}_initializeLayer(e){try{e._initialize(),e.lifecycle=tf.INITIALIZED}catch(n){this._handleError("initialization",n,e)}}_transferLayerState(e,n){n._transferState(e),n.lifecycle=tf.MATCHED,n!==e&&(e.lifecycle=tf.AWAITING_GC)}_updateLayer(e){try{e._update()}catch(n){this._handleError("update",n,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||`finalized ${e}`,e.lifecycle=tf.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=tf.FINALIZED}catch(n){this._handleError("finalization",n,e)}}}function kr(t,e,n){if(t===e)return!0;if(!n||!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!kr(t[r],e[r],n-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const a of r)if(!e.hasOwnProperty(a)||!kr(t[a],e[a],n-1))return!1;return!0}return!1}class RDe{constructor(e){this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const n=this.controllers[e];n&&n.finalize()}this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const n=this.controllers[e];n&&n.updateTransition()}}getViewports(e){return e?this._viewports.filter(n=>n.containsPixel(e)):this._viewports}getViews(){const e={};return this.views.forEach(n=>{e[n.id]=n}),e}getView(e){return this.views.find(n=>n.id===e)}getViewState(e){const n=typeof e=="string"?this.getView(e):e,r=n&&this.viewState[n.getViewStateId()]||this.viewState;return n?n.filterViewState(r):r}getViewport(e){return this._viewportMap[e]}unproject(e,n){const r=this.getViewports(),i={x:e[0],y:e[1]};for(let a=r.length-1;a>=0;--a){const s=r[a];if(s.containsPixel(i)){const o=e.slice();return o[0]-=s.x,o[1]-=s.y,s.unproject(o,n)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,n){(e!==this.width||n!==this.height)&&(this.width=e,this.height=n,this.setNeedsUpdate("Size changed"))}_setViews(e){e=$R(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!kr(e,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):ut.warn("missing `viewState` or `initialViewState`")()}_createController(e,n){const r=n.type;return new r({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._eventCallbacks.onViewStateChange,onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:a=>this.getView(e.id)?.makeViewport({viewState:a,width:this.width,height:this.height})})}_updateController(e,n,r,i){const a=e.controller;if(a&&r){const s={...n,...a,id:e.id,x:r.x,y:r.y,width:r.width,height:r.height};return(!i||i.constructor!==a.type)&&(i=this._createController(e,s)),i&&i.setProps(s),i}return null}_rebuildViewports(){const{views:e}=this,n=this.controllers;this._viewports=[],this.controllers={};let r=!1;for(let i=e.length;i--;){const a=e[i],s=this.getViewState(a),o=a.makeViewport({viewState:s,width:this.width,height:this.height});let c=n[a.id];const f=!!a.controller;f&&!c&&(r=!0),(r||!f)&&c&&(c.finalize(),c=null),this.controllers[a.id]=this._updateController(a,s,o,c),o&&this._viewports.unshift(o)}for(const i in n){const a=n[i];a&&!this.controllers[i]&&a.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)})}_diffViews(e,n){return e.length!==n.length?!0:e.some((r,i)=>!e[i].equals(n[i]))}}const ODe=/([0-9]+\.?[0-9]*)(%|px)/;function zo(t){switch(typeof t){case"number":return{position:t,relative:!1};case"string":const e=ODe.exec(t);if(e&&e.length>=3){const n=e[2]==="%",r=parseFloat(e[1]);return{position:n?r/100:r,relative:n}}default:throw new Error(`Could not parse position string ${t}`)}}function Vo(t,e){return t.relative?Math.round(t.position*e):t.position}class Yf{constructor(e){const{id:n,x:r=0,y:i=0,width:a="100%",height:s="100%",padding:o=null}=e;this.id=n||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=zo(r),this._y=zo(i),this._width=zo(a),this._height=zo(s),this._padding=o&&{left:zo(o.left||0),right:zo(o.right||0),top:zo(o.top||0),bottom:zo(o.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e?!0:this.constructor===e.constructor&&kr(this.props,e.props,2)}clone(e){const n=this.constructor;return new n({...this.props,...e})}makeViewport({width:e,height:n,viewState:r}){r=this.filterViewState(r);const i=this.getDimensions({width:e,height:n});if(!i.height||!i.width)return null;const a=this.getViewportType(r);return new a({...r,...this.props,...i})}getViewStateId(){const{viewState:e}=this.props;return typeof e=="string"?e:e?.id||this.id}filterViewState(e){if(this.props.viewState&&typeof this.props.viewState=="object"){if(!this.props.viewState.id)return this.props.viewState;const n={...e};for(const r in this.props.viewState)r!=="id"&&(n[r]=this.props.viewState[r]);return n}return e}getDimensions({width:e,height:n}){const r={x:Vo(this._x,e),y:Vo(this._y,n),width:Vo(this._width,e),height:Vo(this._height,n)};return this._padding&&(r.padding={left:Vo(this._padding.left,e),top:Vo(this._padding.top,n),right:Vo(this._padding.right,e),bottom:Vo(this._padding.bottom,n)}),r}get controller(){const e=this.props.controller;return e?e===!0?{type:this.ControllerType}:typeof e=="function"?{type:e}:{type:this.ControllerType,...e}:null}}class Wx{constructor(e){this._inProgress=!1,this._handle=null,this.time=0,this.settings={duration:0},this._timeline=e}get inProgress(){return this._inProgress}start(e){this.cancel(),this.settings=e,this._inProgress=!0,this.settings.onStart?.(this)}end(){this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,this.settings.onEnd?.(this))}cancel(){this._inProgress&&(this.settings.onInterrupt?.(this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){if(!this._inProgress)return!1;if(this._handle===null){const{_timeline:e,settings:n}=this;this._handle=e.addChannel({delay:e.getTime(),duration:n.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),this.settings.onUpdate?.(this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const OU=()=>{},jE={BREAK:1,SNAP_TO_END:2,IGNORE:3},MDe=t=>t,IDe=jE.BREAK;class kDe{constructor(e){this._onTransitionUpdate=n=>{const{time:r,settings:{interpolator:i,startProps:a,endProps:s,duration:o,easing:c}}=n,f=c(r/o),d=i.interpolateProps(a,s,f);this.propsInTransition=this.getControllerState({...this.props,...d}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})},this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new Wx(e.timeline),this.onViewStateChange=e.onViewStateChange||OU,this.onStateChange=e.onStateChange||OU}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let n=!1;const r=this.props;if(this.props=e,!r||this._shouldIgnoreViewportChange(r,e))return!1;if(this._isTransitionEnabled(e)){let i=r;if(this.transition.inProgress){const{interruption:a,endProps:s}=this.transition.settings;i={...r,...a===jE.SNAP_TO_END?s:this.propsInTransition||r}}this._triggerTransition(i,e),n=!0}else this.transition.cancel();return n}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:n,transitionInterpolator:r}=e;return(n>0||n==="auto")&&!!r}_isUpdateDueToCurrentTransition(e){return this.transition.inProgress&&this.propsInTransition?this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition):!1}_shouldIgnoreViewportChange(e,n){return this.transition.inProgress?this.transition.settings.interruption===jE.IGNORE||this._isUpdateDueToCurrentTransition(n):this._isTransitionEnabled(n)?n.transitionInterpolator.arePropsEqual(e,n):!0}_triggerTransition(e,n){const r=this.getControllerState(e),i=this.getControllerState(n).shortestPathFrom(r),a=n.transitionInterpolator,s=a.getDuration?a.getDuration(e,n):n.transitionDuration;if(s===0)return;const o=a.initializeProps(e,i);this.propsInTransition={};const c={duration:s,easing:n.transitionEasing||MDe,interpolator:a,interruption:n.transitionInterruption||IDe,startProps:o.start,endProps:o.end,onStart:n.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(n.onTransitionInterrupt),onEnd:this._onTransitionEnd(n.onTransitionEnd)};this.transition.start(c),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return n=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e?.(n)}}}function _r(t,e){if(!t)throw new Error(e||"deck.gl: assertion failed.")}class NDe{constructor(e){const{compare:n,extract:r,required:i}=e;this._propsToCompare=n,this._propsToExtract=r||n,this._requiredProps=i}arePropsEqual(e,n){for(const r of this._propsToCompare)if(!(r in e)||!(r in n)||!Yp(e[r],n[r]))return!1;return!0}initializeProps(e,n){const r={},i={};for(const a of this._propsToExtract)(a in e||a in n)&&(r[a]=e[a],i[a]=n[a]);return this._checkRequiredProps(r),this._checkRequiredProps(i),{start:r,end:i}}getDuration(e,n){return n.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach(n=>{const r=e[n];_r(Number.isFinite(r)||Array.isArray(r),`${n} is required for transition`)})}}const DDe=["longitude","latitude","zoom","bearing","pitch"],BDe=["longitude","latitude","zoom"];class yK extends NDe{constructor(e={}){const n=Array.isArray(e)?e:e.transitionProps,r=Array.isArray(e)?{}:e;r.transitionProps=Array.isArray(n)?{compare:n,required:n}:n||{compare:DDe,required:BDe},super(r.transitionProps),this.opts=r}initializeProps(e,n){const r=super.initializeProps(e,n),{makeViewport:i,around:a}=this.opts;if(i&&a){const s=i(e),o=i(n),c=s.unproject(a);r.start.around=a,Object.assign(r.end,{around:o.project(c),aroundPosition:c,width:n.width,height:n.height})}return r}interpolateProps(e,n,r){const i={};for(const a of this._propsToExtract)i[a]=ob(e[a]||0,n[a]||0,r);if(n.aroundPosition&&this.opts.makeViewport){const a=this.opts.makeViewport({...n,...i});Object.assign(i,a.panByPosition(n.aroundPosition,ob(e.around,n.around,r)))}return i}}const Ns={transitionDuration:0},LDe=300,Qy=t=>1-(1-t)*(1-t),Zu={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],MULTI_PAN:["multipanstart","multipanmove","multipanend"],DOUBLE_CLICK:["dblclick"],KEYBOARD:["keydown"]},Hl={};class jDe{constructor(e){this.state={},this._events={},this._interactionState={isDragging:!1},this._customEvents=[],this._eventStartBlocked=null,this._panMove=!1,this.invertPan=!1,this.dragMode="rotate",this.inertia=0,this.scrollZoom=!0,this.dragPan=!0,this.dragRotate=!0,this.doubleClickZoom=!0,this.touchZoom=!0,this.touchRotate=!1,this.keyboard=!0,this.transitionManager=new kDe({...e,getControllerState:n=>new this.ControllerState(n),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){for(const e in this._events)this._events[e]&&this.eventManager?.off(e,this.handleEvent);this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const n=this._eventStartBlocked;switch(e.type){case"panstart":return n?!1:this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return n?!1:this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"multipanstart":return n?!1:this._onMultiPanStart(e);case"multipanmove":return this._onMultiPan(e);case"multipanend":return this._onMultiPanEnd(e);case"dblclick":return this._onDoubleClick(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:n,y:r}=this.props,{offsetCenter:i}=e;return[i.x-n,i.y-r]}isPointInBounds(e,n){const{width:r,height:i}=this.props;if(n&&n.handled)return!1;const a=e[0]>=0&&e[0]<=r&&e[1]>=0&&e[1]<=i;return a&&n&&n.stopPropagation(),a}isFunctionKeyPressed(e){const{srcEvent:n}=e;return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const n=setTimeout(()=>{this._eventStartBlocked===n&&(this._eventStartBlocked=null)},e);this._eventStartBlocked=n}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:n}=e;this.inertia=Number.isFinite(n)?n:n===!0?LDe:0;const{scrollZoom:r=!0,dragPan:i=!0,dragRotate:a=!0,doubleClickZoom:s=!0,touchZoom:o=!0,touchRotate:c=!1,keyboard:f=!0}=e,d=!!this.onViewStateChange;this.toggleEvents(Zu.WHEEL,d&&r),this.toggleEvents(Zu.PAN,d),this.toggleEvents(Zu.PINCH,d&&(o||c)),this.toggleEvents(Zu.MULTI_PAN,d&&c),this.toggleEvents(Zu.DOUBLE_CLICK,d&&s),this.toggleEvents(Zu.KEYBOARD,d&&f),this.scrollZoom=r,this.dragPan=i,this.dragRotate=a,this.doubleClickZoom=s,this.touchZoom=o,this.touchRotate=c,this.keyboard=f}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,n){this.eventManager&&e.forEach(r=>{this._events[r]!==n&&(this._events[r]=n,n?this.eventManager.on(r,this.handleEvent):this.eventManager.off(r,this.handleEvent))})}updateViewport(e,n=null,r={}){const i={...e.getViewportProps(),...n},a=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(r),a){const s=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:i,interactionState:this._interactionState,oldViewState:s,viewId:this.props.id})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState,viewId:this.props.id})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;let r=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||this.dragMode==="pan")&&(r=!r);const i=this.controllerState[r?"panStart":"rotateStart"]({pos:n});return this._panMove=r,this.updateViewport(i,Ns,{isDragging:!0}),!0}_onPan(e){return this.isDragging()?this._panMove?this._onPanMove(e):this._onPanRotate(e):!1}_onPanEnd(e){return this.isDragging()?this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e):!1}_onPanMove(e){if(!this.dragPan)return!1;const n=this.getCenter(e),r=this.controllerState.pan({pos:n});return this.updateViewport(r,Ns,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:n}=this;if(this.dragPan&&n&&e.velocity){const r=this.getCenter(e),i=[r[0]+e.velocityX*n/2,r[1]+e.velocityY*n/2],a=this.controllerState.pan({pos:i}).panEnd();this.updateViewport(a,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:Qy},{isDragging:!1,isPanning:!0})}else{const r=this.controllerState.panEnd();this.updateViewport(r,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const n=this.getCenter(e),r=this.controllerState.rotate({pos:n});return this.updateViewport(r,Ns,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:n}=this;if(this.dragRotate&&n&&e.velocity){const r=this.getCenter(e),i=[r[0]+e.velocityX*n/2,r[1]+e.velocityY*n/2],a=this.controllerState.rotate({pos:i}).rotateEnd();this.updateViewport(a,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:Qy},{isDragging:!1,isRotating:!0})}else{const r=this.controllerState.rotateEnd();this.updateViewport(r,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;e.srcEvent.preventDefault();const{speed:r=.01,smooth:i=!1}=this.scrollZoom===!0?{}:this.scrollZoom,{delta:a}=e;let s=2/(1+Math.exp(-Math.abs(a*r)));a<0&&s!==0&&(s=1/s);const o=i?{...this._getTransitionProps({around:n}),transitionDuration:250}:Ns,c=this.controllerState.zoom({pos:n,scale:s});return this.updateViewport(c,o,{isZooming:!0,isPanning:!0}),!0}_onMultiPanStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const r=this.controllerState.rotateStart({pos:n});return this.updateViewport(r,Ns,{isDragging:!0}),!0}_onMultiPan(e){if(!this.touchRotate||!this.isDragging())return!1;const n=this.getCenter(e);n[0]-=e.deltaX;const r=this.controllerState.rotate({pos:n});return this.updateViewport(r,Ns,{isDragging:!0,isRotating:!0}),!0}_onMultiPanEnd(e){if(!this.isDragging())return!1;const{inertia:n}=this;if(this.touchRotate&&n&&e.velocityY){const r=this.getCenter(e),i=[r[0],r[1]+=e.velocityY*n/2],a=this.controllerState.rotate({pos:i});this.updateViewport(a,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:Qy},{isDragging:!1,isRotating:!0}),this.blockEvents(n)}else{const r=this.controllerState.rotateEnd();this.updateViewport(r,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const r=this.controllerState.zoomStart({pos:n}).rotateStart({pos:n});return Hl._startPinchRotation=e.rotation,Hl._lastPinchEvent=e,this.updateViewport(r,Ns,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let n=this.controllerState;if(this.touchZoom){const{scale:r}=e,i=this.getCenter(e);n=n.zoom({pos:i,scale:r})}if(this.touchRotate){const{rotation:r}=e;n=n.rotate({deltaAngleX:Hl._startPinchRotation-r})}return this.updateViewport(n,Ns,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),Hl._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:n}=this,{_lastPinchEvent:r}=Hl;if(this.touchZoom&&n&&r&&e.scale!==r.scale){const i=this.getCenter(e);let a=this.controllerState.rotateEnd();const s=Math.log2(e.scale),o=(s-Math.log2(r.scale))/(e.deltaTime-r.deltaTime),c=Math.pow(2,s+o*n/2);a=a.zoom({pos:i,scale:c}).zoomEnd(),this.updateViewport(a,{...this._getTransitionProps({around:i}),transitionDuration:n,transitionEasing:Qy},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(n)}else{const i=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(i,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return Hl._startPinchRotation=null,Hl._lastPinchEvent=null,!0}_onDoubleClick(e){if(!this.doubleClickZoom)return!1;const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const r=this.isFunctionKeyPressed(e),i=this.controllerState.zoom({pos:n,scale:r?.5:2});return this.updateViewport(i,this._getTransitionProps({around:n}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const n=this.isFunctionKeyPressed(e),{zoomSpeed:r,moveSpeed:i,rotateSpeedX:a,rotateSpeedY:s}=this.keyboard===!0?{}:this.keyboard,{controllerState:o}=this;let c;const f={};switch(e.srcEvent.code){case"Minus":c=n?o.zoomOut(r).zoomOut(r):o.zoomOut(r),f.isZooming=!0;break;case"Equal":c=n?o.zoomIn(r).zoomIn(r):o.zoomIn(r),f.isZooming=!0;break;case"ArrowLeft":n?(c=o.rotateLeft(a),f.isRotating=!0):(c=o.moveLeft(i),f.isPanning=!0);break;case"ArrowRight":n?(c=o.rotateRight(a),f.isRotating=!0):(c=o.moveRight(i),f.isPanning=!0);break;case"ArrowUp":n?(c=o.rotateUp(s),f.isRotating=!0):(c=o.moveUp(i),f.isPanning=!0);break;case"ArrowDown":n?(c=o.rotateDown(s),f.isRotating=!0):(c=o.moveDown(i),f.isPanning=!0);break;default:return!1}return this.updateViewport(c,this._getTransitionProps(),f),!0}_getTransitionProps(e){const{transition:n}=this;return!n||!n.transitionInterpolator?Ns:e?{...n,transitionInterpolator:new yK({...e,...n.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:n}}class UDe{constructor(e,n){this._viewportProps=this.applyConstraints(e),this._state=n}getViewportProps(){return this._viewportProps}getState(){return this._state}}const MU=5,FDe=1.2;class $De extends UDe{constructor(e){const{width:n,height:r,latitude:i,longitude:a,zoom:s,bearing:o=0,pitch:c=0,altitude:f=1.5,position:d=[0,0,0],maxZoom:p=20,minZoom:m=0,maxPitch:y=60,minPitch:v=0,startPanLngLat:b,startZoomLngLat:w,startRotatePos:T,startBearing:C,startPitch:A,startZoom:R,normalize:P=!0}=e;_r(Number.isFinite(a)),_r(Number.isFinite(i)),_r(Number.isFinite(s)),super({width:n,height:r,latitude:i,longitude:a,zoom:s,bearing:o,pitch:c,altitude:f,maxZoom:p,minZoom:m,maxPitch:y,minPitch:v,normalize:P,position:d},{startPanLngLat:b,startZoomLngLat:w,startRotatePos:T,startBearing:C,startPitch:A,startZoom:R}),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:n}){const r=this.getState().startPanLngLat||this._unproject(n);if(!r)return this;const a=this.makeViewport(this.getViewportProps()).panByPosition(r,e);return this._getUpdatedState(a)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:e,deltaAngleX:n=0,deltaAngleY:r=0}){const{startRotatePos:i,startBearing:a,startPitch:s}=this.getState();if(!i||a===void 0||s===void 0)return this;let o;return e?o=this._getNewRotation(e,i,s,a):o={bearing:a+n,pitch:s+r},this._getUpdatedState(o)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:n,scale:r}){let{startZoom:i,startZoomLngLat:a}=this.getState();if(a||(i=this.getViewportProps().zoom,a=this._unproject(n)||this._unproject(e)),!a)return this;const{maxZoom:s,minZoom:o}=this.getViewportProps();let c=i+Math.log2(r);c=Jo(c,o,s);const f=this.makeViewport({...this.getViewportProps(),zoom:c});return this._getUpdatedState({zoom:c,...f.panByPosition(a,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const n=e.getViewportProps(),r={...this.getViewportProps()},{bearing:i,longitude:a}=r;return Math.abs(i-n.bearing)>180&&(r.bearing=i<0?i+360:i-360),Math.abs(a-n.longitude)>180&&(r.longitude=a<0?a+360:a-360),r}applyConstraints(e){const{maxZoom:n,minZoom:r,zoom:i}=e;e.zoom=Jo(i,r,n);const{maxPitch:a,minPitch:s,pitch:o}=e;e.pitch=Jo(o,s,a);const{normalize:c=!0}=e;return c&&Object.assign(e,oNe(e)),e}_zoomFromCenter(e){const{width:n,height:r}=this.getViewportProps();return this.zoom({pos:[n/2,r/2],scale:e})}_panFromCenter(e){const{width:n,height:r}=this.getViewportProps();return this.pan({startPos:[n/2,r/2],pos:[n/2+e[0],r/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const n=this.makeViewport(this.getViewportProps());return e&&n.unproject(e)}_getNewRotation(e,n,r,i){const a=e[0]-n[0],s=e[1]-n[1],o=e[1],c=n[1],{width:f,height:d}=this.getViewportProps(),p=a/f;let m=0;s>0?Math.abs(d-c)>MU&&(m=s/(c-d)*FDe):s<0&&c>MU&&(m=1-o/c),m=Jo(m,-1,1);const{minPitch:y,maxPitch:v}=this.getViewportProps(),b=i+180*p;let w=r;return m>0?w=r+m*(v-r):m<0&&(w=r-m*(y-r)),{pitch:w,bearing:b}}}class zDe extends jDe{constructor(){super(...arguments),this.ControllerState=$De,this.transition={transitionDuration:300,transitionInterpolator:new yK({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})},this.dragMode="pan"}setProps(e){e.position=e.position||[0,0,0];const n=this.props;super.setProps(e),(!n||n.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class vK extends Yf{constructor(e={}){super(e)}getViewportType(){return Kf}get ControllerType(){return zDe}}vK.displayName="MapView";const VDe=new uK;function HDe(t,e){const n=t.order??1/0,r=e.order??1/0;return n-r}class WDe{constructor(e){this._resolvedEffects=[],this._defaultEffects=[],this.effects=[],this._context=e,this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect(e){const n=this._defaultEffects;if(!n.find(r=>r.id===e.id)){const r=n.findIndex(i=>HDe(i,e)>0);r<0?n.push(e):n.splice(r,0,e),e.setup(this._context),this._setEffects(this.effects)}}setProps(e){"effects"in e&&(kr(e.effects,this.effects,1)||this._setEffects(e.effects))}needsRedraw(e={clearRedrawFlags:!1}){const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}getEffects(){return this._resolvedEffects}_setEffects(e){const n={};for(const i of this.effects)n[i.id]=i;const r=[];for(const i of e){const a=n[i.id];let s=i;a&&a!==i?a.setProps?(a.setProps(i.props),s=a):a.cleanup(this._context):a||i.setup(this._context),r.push(s),delete n[i.id]}for(const i in n)n[i].cleanup(this._context);this.effects=r,this._resolvedEffects=r.concat(this._defaultEffects),e.some(i=>i instanceof uK)||this._resolvedEffects.push(VDe),this._needsRedraw="effects changed"}finalize(){for(const e of this._resolvedEffects)e.cleanup(this._context);this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class qDe extends LR{shouldDrawLayer(e){const{operation:n}=e.props;return n.includes("draw")||n.includes("terrain")}}const XDe="deckRenderer.renderLayers";class KDe{constructor(e){this.device=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new qDe(e),this.pickLayersPass=new gK(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){if(!e.viewports.length)return;const n=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,r={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...e};r.effects&&this._preRender(r.effects,r);const i=this.lastPostProcessEffect?this.renderBuffers[0]:r.target;this.lastPostProcessEffect&&(r.clearColor=[0,0,0,0],r.clearCanvas=!0);const a=n.render({...r,target:i});r.effects&&(this.lastPostProcessEffect&&(r.clearCanvas=e.clearCanvas===void 0?!0:e.clearCanvas),this._postRender(r.effects,r)),this.renderCount++,br(XDe,this,a,e)}needsRedraw(e={clearRedrawFlags:!1}){const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}finalize(){const{renderBuffers:e}=this;for(const n of e)n.delete();e.length=0}_preRender(e,n){this.lastPostProcessEffect=null,n.preRenderStats=n.preRenderStats||{};for(const r of e)n.preRenderStats[r.id]=r.preRender(n),r.postRender&&(this.lastPostProcessEffect=r.id);this.lastPostProcessEffect&&this._resizeRenderBuffers()}_resizeRenderBuffers(){const{renderBuffers:e}=this,n=this.device.canvasContext.getDrawingBufferSize(),[r,i]=n;e.length===0&&[0,1].map(a=>{const s=this.device.createTexture({sampler:{minFilter:"linear",magFilter:"linear"},width:r,height:i});e.push(this.device.createFramebuffer({id:`deck-renderbuffer-${a}`,colorAttachments:[s]}))});for(const a of e)a.resize(n)}_postRender(e,n){const{renderBuffers:r}=this,i={...n,inputBuffer:r[0],swapBuffer:r[1]};for(const a of e)if(a.postRender){i.target=a.id===this.lastPostProcessEffect?n.target:void 0;const s=a.postRender(i);i.inputBuffer=s,i.swapBuffer=s===r[0]?r[1]:r[0]}}}const YDe={pickedColor:null,pickedObjectIndex:-1};function IU({pickedColors:t,decodePickingColor:e,deviceX:n,deviceY:r,deviceRadius:i,deviceRect:a}){const{x:s,y:o,width:c,height:f}=a;let d=i*i,p=-1,m=0;for(let y=0;y<f;y++){const v=y+o-r,b=v*v;if(b>d)m+=4*c;else for(let w=0;w<c;w++){if(t[m+3]-1>=0){const C=w+s-n,A=C*C+b;A<=d&&(d=A,p=m)}m+=4}}if(p>=0){const y=t.slice(p,p+4),v=e(y);if(v){const b=Math.floor(p/4/c),w=p/4-b*c;return{...v,pickedColor:y,pickedX:s+w,pickedY:o+b}}ut.error("Picked non-existent layer. Is picking buffer corrupt?")()}return YDe}function kU({pickedColors:t,decodePickingColor:e}){const n=new Map;if(t){for(let r=0;r<t.length;r+=4)if(t[r+3]-1>=0){const a=t.slice(r,r+4),s=a.join(",");if(!n.has(s)){const o=e(a);o?n.set(s,{...o,color:a}):ut.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(n.values())}function UE({pickInfo:t,viewports:e,pixelRatio:n,x:r,y:i,z:a}){let s=e[0];e.length>1&&(s=GDe(t?.pickedViewports||e,{x:r,y:i}));let o;if(s){const c=[r-s.x,i-s.y];a!==void 0&&(c[2]=a),o=s.unproject(c)}return{color:null,layer:null,viewport:s,index:-1,picked:!1,x:r,y:i,pixel:[r,i],coordinate:o,devicePixel:t&&"pickedX"in t?[t.pickedX,t.pickedY]:void 0,pixelRatio:n}}function NU(t){const{pickInfo:e,lastPickedInfo:n,mode:r,layers:i}=t,{pickedColor:a,pickedLayer:s,pickedObjectIndex:o}=e,c=s?[s]:[];if(r==="hover"){const p=n.index,m=n.layerId,y=s?s.props.id:null;if(y!==m||o!==p){if(y!==m){const v=i.find(b=>b.props.id===m);v&&c.unshift(v)}n.layerId=y,n.index=o,n.info=null}}const f=UE(t),d=new Map;return d.set(null,f),c.forEach(p=>{let m={...f};p===s&&(m.color=a,m.index=o,m.picked=!0),m=FE({layer:p,info:m,mode:r});const y=m.layer;p===s&&r==="hover"&&(n.info=m),d.set(y.id,m),r==="hover"&&y.updateAutoHighlight(m)}),d}function FE({layer:t,info:e,mode:n}){for(;t&&e;){const r=e.layer||null;e.sourceLayer=r,e.layer=t,e=t.getPickingInfo({info:e,mode:n,sourceLayer:r}),t=t.parent}return e}function GDe(t,e){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.containsPixel(e))return r}return t[0]}class ZDe{constructor(e){this._pickable=!0,this.device=e,this.pickLayersPass=new gK(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.destroy(),this.depthFBO&&this.depthFBO.destroy()}pickObjectAsync(e){return this._pickClosestObjectAsync(e)}pickObjectsAsync(e){return this._pickVisibleObjectsAsync(e)}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:n,layers:r,viewports:i},a=this.lastPickedInfo.info){const s=a&&a.layer&&a.layer.id,o=a&&a.viewport&&a.viewport.id,c=s?r.find(m=>m.id===s):null,f=o&&i.find(m=>m.id===o)||i[0],d=f&&f.unproject([e-f.x,n-f.y]);return{...a,...{x:e,y:n,viewport:f,coordinate:d,layer:c}}}_resizeBuffer(){if(!this.pickingFBO&&(this.pickingFBO=this.device.createFramebuffer({colorAttachments:["rgba8unorm"],depthStencilAttachment:"depth16unorm"}),this.device.isTextureFormatRenderable("rgba32float"))){const n=this.device.createFramebuffer({colorAttachments:["rgba32float"],depthStencilAttachment:"depth16unorm"});this.depthFBO=n}const{canvas:e}=this.device.getDefaultCanvasContext();this.pickingFBO?.resize({width:e.width,height:e.height}),this.depthFBO?.resize({width:e.width,height:e.height})}_getPickable(e){if(this._pickable===!1)return null;const n=e.filter(r=>this.pickLayersPass.shouldDrawLayer(r)&&!r.isComposite);return n.length?n:null}async _pickClosestObjectAsync({layers:e,views:n,viewports:r,x:i,y:a,radius:s=0,depth:o=1,mode:c="query",unproject3D:f,onViewportActive:d,effects:p}){const m=this.device.canvasContext.cssToDeviceRatio(),y=this._getPickable(e);if(!y||r.length===0)return{result:[],emptyInfo:UE({viewports:r,x:i,y:a,pixelRatio:m})};this._resizeBuffer();const v=this.device.canvasContext.cssToDevicePixels([i,a],!0),b=[v.x+Math.floor(v.width/2),v.y+Math.floor(v.height/2)],w=Math.round(s*m),{width:T,height:C}=this.pickingFBO,A=this._getPickingRect({deviceX:b[0],deviceY:b[1],deviceRadius:w,deviceWidth:T,deviceHeight:C}),R={x:i-s,y:a-s,width:s*2+1,height:s*2+1};let P;const O=[],k=new Set;for(let D=0;D<o;D++){let L;if(A){const j=this._drawAndSample({layers:y,views:n,viewports:r,onViewportActive:d,deviceRect:A,cullRect:R,effects:p,pass:`picking:${c}`});L=IU({...j,deviceX:b[0],deviceY:b[1],deviceRadius:w,deviceRect:A})}else L={pickedColor:null,pickedObjectIndex:-1};let $;if(L.pickedLayer&&f&&this.depthFBO){const{pickedColors:j}=this._drawAndSample({layers:[L.pickedLayer],views:n,viewports:r,onViewportActive:d,deviceRect:{x:L.pickedX,y:L.pickedY,width:1,height:1},cullRect:R,effects:p,pass:`picking:${c}:z`},!0);j[3]&&($=j[0])}L.pickedLayer&&D+1<o&&(k.add(L.pickedLayer),L.pickedLayer.disablePickingIndex(L.pickedObjectIndex)),P=NU({pickInfo:L,lastPickedInfo:this.lastPickedInfo,mode:c,layers:y,viewports:r,x:i,y:a,z:$,pixelRatio:m});for(const j of P.values())j.layer&&O.push(j);if(!L.pickedColor)break}for(const D of k)D.restorePickingColors();return{result:O,emptyInfo:P.get(null)}}_pickClosestObject({layers:e,views:n,viewports:r,x:i,y:a,radius:s=0,depth:o=1,mode:c="query",unproject3D:f,onViewportActive:d,effects:p}){const m=this.device.canvasContext.cssToDeviceRatio(),y=this._getPickable(e);if(!y||r.length===0)return{result:[],emptyInfo:UE({viewports:r,x:i,y:a,pixelRatio:m})};this._resizeBuffer();const v=this.device.canvasContext.cssToDevicePixels([i,a],!0),b=[v.x+Math.floor(v.width/2),v.y+Math.floor(v.height/2)],w=Math.round(s*m),{width:T,height:C}=this.pickingFBO,A=this._getPickingRect({deviceX:b[0],deviceY:b[1],deviceRadius:w,deviceWidth:T,deviceHeight:C}),R={x:i-s,y:a-s,width:s*2+1,height:s*2+1};let P;const O=[],k=new Set;for(let D=0;D<o;D++){let L;if(A){const j=this._drawAndSample({layers:y,views:n,viewports:r,onViewportActive:d,deviceRect:A,cullRect:R,effects:p,pass:`picking:${c}`});L=IU({...j,deviceX:b[0],deviceY:b[1],deviceRadius:w,deviceRect:A})}else L={pickedColor:null,pickedObjectIndex:-1};let $;if(L.pickedLayer&&f&&this.depthFBO){const{pickedColors:j}=this._drawAndSample({layers:[L.pickedLayer],views:n,viewports:r,onViewportActive:d,deviceRect:{x:L.pickedX,y:L.pickedY,width:1,height:1},cullRect:R,effects:p,pass:`picking:${c}:z`},!0);j[3]&&($=j[0])}L.pickedLayer&&D+1<o&&(k.add(L.pickedLayer),L.pickedLayer.disablePickingIndex(L.pickedObjectIndex)),P=NU({pickInfo:L,lastPickedInfo:this.lastPickedInfo,mode:c,layers:y,viewports:r,x:i,y:a,z:$,pixelRatio:m});for(const j of P.values())j.layer&&O.push(j);if(!L.pickedColor)break}for(const D of k)D.restorePickingColors();return{result:O,emptyInfo:P.get(null)}}async _pickVisibleObjectsAsync({layers:e,views:n,viewports:r,x:i,y:a,width:s=1,height:o=1,mode:c="query",maxObjects:f=null,onViewportActive:d,effects:p}){const m=this._getPickable(e);if(!m||r.length===0)return[];this._resizeBuffer();const y=this.device.canvasContext.cssToDeviceRatio(),v=this.device.canvasContext.cssToDevicePixels([i,a],!0),b=v.x,w=v.y+v.height,T=this.device.canvasContext.cssToDevicePixels([i+s,a+o],!0),C=T.x+T.width,A=T.y,R={x:b,y:A,width:C-b,height:w-A},P=this._drawAndSample({layers:m,views:n,viewports:r,onViewportActive:d,deviceRect:R,cullRect:{x:i,y:a,width:s,height:o},effects:p,pass:`picking:${c}`}),O=kU(P),k=new Map,D=[],L=Number.isFinite(f);for(let $=0;$<O.length&&!(L&&D.length>=f);$++){const j=O[$];let I={color:j.pickedColor,layer:null,index:j.pickedObjectIndex,picked:!0,x:i,y:a,pixelRatio:y};I=FE({layer:j.pickedLayer,info:I,mode:c});const W=I.layer.id;k.has(W)||k.set(W,new Set);const H=k.get(W),J=I.object??I.index;H.has(J)||(H.add(J),D.push(I))}return D}_pickVisibleObjects({layers:e,views:n,viewports:r,x:i,y:a,width:s=1,height:o=1,mode:c="query",maxObjects:f=null,onViewportActive:d,effects:p}){const m=this._getPickable(e);if(!m||r.length===0)return[];this._resizeBuffer();const y=this.device.canvasContext.cssToDeviceRatio(),v=this.device.canvasContext.cssToDevicePixels([i,a],!0),b=v.x,w=v.y+v.height,T=this.device.canvasContext.cssToDevicePixels([i+s,a+o],!0),C=T.x+T.width,A=T.y,R={x:b,y:A,width:C-b,height:w-A},P=this._drawAndSample({layers:m,views:n,viewports:r,onViewportActive:d,deviceRect:R,cullRect:{x:i,y:a,width:s,height:o},effects:p,pass:`picking:${c}`}),O=kU(P),k=new Map,D=[],L=Number.isFinite(f);for(let $=0;$<O.length&&!(L&&D.length>=f);$++){const j=O[$];let I={color:j.pickedColor,layer:null,index:j.pickedObjectIndex,picked:!0,x:i,y:a,pixelRatio:y};I=FE({layer:j.pickedLayer,info:I,mode:c});const W=I.layer.id;k.has(W)||k.set(W,new Set);const H=k.get(W),J=I.object??I.index;H.has(J)||(H.add(J),D.push(I))}return D}async _drawAndSampleAsync({layers:e,views:n,viewports:r,onViewportActive:i,deviceRect:a,cullRect:s,effects:o,pass:c},f=!1){const d=f?this.depthFBO:this.pickingFBO,p={layers:e,layerFilter:this.layerFilter,views:n,viewports:r,onViewportActive:i,pickingFBO:d,deviceRect:a,cullRect:s,effects:o,pass:c,pickZ:f,preRenderStats:{},isPicking:!0};for(const C of o)C.useInPicking&&(p.preRenderStats[C.id]=C.preRender(p));const{decodePickingColor:m}=this.pickLayersPass.render(p),{x:y,y:v,width:b,height:w}=a,T=new(f?Float32Array:Uint8Array)(b*w*4);return this.device.readPixelsToArrayWebGL(d,{sourceX:y,sourceY:v,sourceWidth:b,sourceHeight:w,target:T}),{pickedColors:T,decodePickingColor:m}}_drawAndSample({layers:e,views:n,viewports:r,onViewportActive:i,deviceRect:a,cullRect:s,effects:o,pass:c},f=!1){const d=f?this.depthFBO:this.pickingFBO,p={layers:e,layerFilter:this.layerFilter,views:n,viewports:r,onViewportActive:i,pickingFBO:d,deviceRect:a,cullRect:s,effects:o,pass:c,pickZ:f,preRenderStats:{},isPicking:!0};for(const C of o)C.useInPicking&&(p.preRenderStats[C.id]=C.preRender(p));const{decodePickingColor:m}=this.pickLayersPass.render(p),{x:y,y:v,width:b,height:w}=a,T=new(f?Float32Array:Uint8Array)(b*w*4);return this.device.readPixelsToArrayWebGL(d,{sourceX:y,sourceY:v,sourceWidth:b,sourceHeight:w,target:T}),{pickedColors:T,decodePickingColor:m}}_getPickingRect({deviceX:e,deviceY:n,deviceRadius:r,deviceWidth:i,deviceHeight:a}){const s=Math.max(0,e-r),o=Math.max(0,n-r),c=Math.min(i,e+r+1)-s,f=Math.min(a,n+r+1)-o;return c<=0||f<=0?null:{x:s,y:o,width:c,height:f}}}const QDe={"top-left":{top:0,left:0},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},fill:{top:0,left:0,bottom:0,right:0}},JDe="top-left",DU="__root";class e4e{constructor({deck:e,parentElement:n}){this.defaultWidgets=[],this.widgets=[],this.resolvedWidgets=[],this.containers={},this.lastViewports={},this.deck=e,n?.classList.add("deck-widget-container"),this.parentElement=n}getWidgets(){return this.resolvedWidgets}setProps(e){if(e.widgets&&!kr(e.widgets,this.widgets,1)){const n=e.widgets.filter(Boolean);this._setWidgets(n)}}finalize(){for(const e of this.getWidgets())this._removeWidget(e);this.defaultWidgets.length=0,this.resolvedWidgets.length=0;for(const e in this.containers)this.containers[e].remove()}addDefault(e){this.defaultWidgets.find(n=>n.id===e.id)||(this._addWidget(e),this.defaultWidgets.push(e),this._setWidgets(this.widgets))}onRedraw({viewports:e,layers:n}){const r=e.reduce((i,a)=>(i[a.id]=a,i),{});for(const i of this.getWidgets()){const{viewId:a}=i;if(a){const s=r[a];s&&(i.onViewportChange&&i.onViewportChange(s),i.onRedraw?.({viewports:[s],layers:n}))}else{if(i.onViewportChange)for(const s of e)i.onViewportChange(s);i.onRedraw?.({viewports:e,layers:n})}}this.lastViewports=r,this._updateContainers()}onHover(e,n){for(const r of this.getWidgets()){const{viewId:i}=r;(!i||i===e.viewport?.id)&&r.onHover?.(e,n)}}onEvent(e,n){const r=kE[n.type];if(r)for(const i of this.getWidgets()){const{viewId:a}=i;(!a||a===e.viewport?.id)&&i[r]?.(e,n)}}_setWidgets(e){const n={};for(const r of this.resolvedWidgets)n[r.id]=r;this.resolvedWidgets.length=0;for(const r of this.defaultWidgets)n[r.id]=null,this.resolvedWidgets.push(r);for(let r of e){const i=n[r.id];i?i.viewId!==r.viewId||i.placement!==r.placement?(this._removeWidget(i),this._addWidget(r)):r!==i&&(i.setProps(r.props),r=i):this._addWidget(r),n[r.id]=null,this.resolvedWidgets.push(r)}for(const r in n){const i=n[r];i&&this._removeWidget(i)}this.widgets=e}_addWidget(e){const{viewId:n=null,placement:r=JDe}=e;e.widgetManager=this,e.deck=this.deck,e.rootElement=e._onAdd({deck:this.deck,viewId:n}),e.rootElement&&this._getContainer(n,r).append(e.rootElement),e.updateHTML()}_removeWidget(e){e.onRemove?.(),e.rootElement&&e.rootElement.remove(),e.rootElement=void 0,e.deck=void 0,e.widgetManager=void 0}_getContainer(e,n){const r=e||DU;let i=this.containers[r];i||(i=document.createElement("div"),i.style.pointerEvents="none",i.style.position="absolute",i.style.overflow="hidden",this.parentElement?.append(i),this.containers[r]=i);let a=i.querySelector(`.${n}`);return a||(a=globalThis.document.createElement("div"),a.className=n,a.style.position="absolute",a.style.zIndex="2",Object.assign(a.style,QDe[n]),i.append(a)),a}_updateContainers(){const e=this.deck.width,n=this.deck.height;for(const r in this.containers){const i=this.lastViewports[r]||null,a=r===DU||i,s=this.containers[r];a?(s.style.display="block",s.style.left=`${i?i.x:0}px`,s.style.top=`${i?i.y:0}px`,s.style.width=`${i?i.width:e}px`,s.style.height=`${i?i.height:n}px`):s.style.display="none"}}}function BU(t,e){e&&Object.entries(e).map(([n,r])=>{n.startsWith("--")?t.style.setProperty(n,r):t.style[n]=r})}function t4e(t,e){e&&Object.keys(e).map(n=>{n.startsWith("--")?t.style.removeProperty(n):t.style[n]=""})}class zR{constructor(e){this.viewId=null,this.props={...this.constructor.defaultProps,...e},this.id=this.props.id}setProps(e){const n=this.props,r=this.rootElement;r&&n.className!==e.className&&(n.className&&r.classList.remove(n.className),e.className&&r.classList.add(e.className)),r&&!kr(n.style,e.style,1)&&(t4e(r,n.style),BU(r,e.style)),Object.assign(this.props,e),this.updateHTML()}updateHTML(){this.rootElement&&this.onRenderHTML(this.rootElement)}onCreateRootElement(){const e=["deck-widget",this.className,this.props.className],n=document.createElement("div");return e.filter(r=>typeof r=="string"&&r.length>0).forEach(r=>n.classList.add(r)),BU(n,this.props.style),n}_onAdd(e){return this.onAdd(e)??this.onCreateRootElement()}onAdd(e){}onRemove(){}onViewportChange(e){}onRedraw(e){}onHover(e,n){}onClick(e,n){}onDrag(e,n){}onDragStart(e,n){}onDragEnd(e,n){}}zR.defaultProps={id:"widget",style:{},className:""};const n4e={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class bK extends zR{constructor(e={}){super(e),this.id="default-tooltip",this.placement="fill",this.className="deck-tooltip",this.isVisible=!1,this.setProps(e)}onCreateRootElement(){const e=document.createElement("div");return e.className=this.className,Object.assign(e.style,n4e),e}onRenderHTML(e){}onViewportChange(e){this.isVisible&&e.id===this.lastViewport?.id&&e!==this.lastViewport&&this.setTooltip(null)}onHover(e){const{deck:n}=this,r=n&&n.props.getTooltip;if(!r)return;const i=r(e);this.lastViewport=e.viewport,this.setTooltip(i,e.x,e.y)}setTooltip(e,n,r){const i=this.rootElement;if(i){if(typeof e=="string")i.innerText=e;else if(e)e.text&&(i.innerText=e.text),e.html&&(i.innerHTML=e.html),e.className&&(i.className=e.className);else{this.isVisible=!1,i.style.display="none";return}this.isVisible=!0,i.style.display="block",i.style.transform=`translate(${n}px, ${r}px)`,e&&typeof e=="object"&&"style"in e&&Object.assign(i.style,e.style)}}}bK.defaultProps={...zR.defaultProps};const r4e="modulepreload",i4e=function(t){return"/"+t},LU={},$E=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");i=c(n.map(f=>{if(f=i4e(f),f in LU)return;LU[f]=!0;const d=f.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":r4e,d||(m.as="script"),m.crossOrigin="",m.href=f,o&&m.setAttribute("nonce",o),document.head.appendChild(m),d)return new Promise((y,v)=>{m.addEventListener("load",y),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var pf;(function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",t[t.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.CULL_FACE=2884]="CULL_FACE",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.BLEND=3042]="BLEND",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.DITHER=3024]="DITHER",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DOUBLE=5130]="DOUBLE",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",t[t.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.READ_BUFFER=3074]="READ_BUFFER",t[t.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",t[t.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",t[t.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",t[t.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",t[t.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",t[t.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",t[t.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",t[t.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",t[t.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",t[t.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",t[t.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",t[t.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",t[t.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",t[t.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",t[t.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",t[t.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",t[t.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",t[t.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",t[t.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",t[t.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",t[t.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",t[t.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",t[t.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",t[t.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",t[t.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",t[t.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",t[t.RED=6403]="RED",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB10_A2=32857]="RGB10_A2",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",t[t.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",t[t.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",t[t.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",t[t.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",t[t.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",t[t.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",t[t.SRGB=35904]="SRGB",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",t[t.RGBA32F=34836]="RGBA32F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.RGB16F=34843]="RGB16F",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R16F=33325]="R16F",t[t.R32F=33326]="R32F",t[t.RG16F=33327]="RG16F",t[t.RG32F=33328]="RG32F",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2UI=36975]="RGB10_A2UI",t[t.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",t[t.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.RG=33319]="RG",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",t[t.CURRENT_QUERY=34917]="CURRENT_QUERY",t[t.QUERY_RESULT=34918]="QUERY_RESULT",t[t.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",t[t.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",t[t.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",t[t.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",t[t.DRAW_BUFFER0=34853]="DRAW_BUFFER0",t[t.DRAW_BUFFER1=34854]="DRAW_BUFFER1",t[t.DRAW_BUFFER2=34855]="DRAW_BUFFER2",t[t.DRAW_BUFFER3=34856]="DRAW_BUFFER3",t[t.DRAW_BUFFER4=34857]="DRAW_BUFFER4",t[t.DRAW_BUFFER5=34858]="DRAW_BUFFER5",t[t.DRAW_BUFFER6=34859]="DRAW_BUFFER6",t[t.DRAW_BUFFER7=34860]="DRAW_BUFFER7",t[t.DRAW_BUFFER8=34861]="DRAW_BUFFER8",t[t.DRAW_BUFFER9=34862]="DRAW_BUFFER9",t[t.DRAW_BUFFER10=34863]="DRAW_BUFFER10",t[t.DRAW_BUFFER11=34864]="DRAW_BUFFER11",t[t.DRAW_BUFFER12=34865]="DRAW_BUFFER12",t[t.DRAW_BUFFER13=34866]="DRAW_BUFFER13",t[t.DRAW_BUFFER14=34867]="DRAW_BUFFER14",t[t.DRAW_BUFFER15=34868]="DRAW_BUFFER15",t[t.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",t[t.MAX_SAMPLES=36183]="MAX_SAMPLES",t[t.SAMPLER_BINDING=35097]="SAMPLER_BINDING",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",t[t.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",t[t.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",t[t.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",t[t.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",t[t.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",t[t.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",t[t.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",t[t.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",t[t.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",t[t.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",t[t.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",t[t.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",t[t.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",t[t.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",t[t.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",t[t.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",t[t.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",t[t.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",t[t.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",t[t.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",t[t.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",t[t.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",t[t.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",t[t.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",t[t.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",t[t.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",t[t.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",t[t.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",t[t.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",t[t.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",t[t.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",t[t.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",t[t.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",t[t.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",t[t.UNIFORM_TYPE=35383]="UNIFORM_TYPE",t[t.UNIFORM_SIZE=35384]="UNIFORM_SIZE",t[t.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",t[t.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",t[t.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",t[t.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",t[t.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",t[t.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",t[t.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",t[t.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",t[t.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",t[t.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",t[t.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS",t[t.SYNC_FENCE=37142]="SYNC_FENCE",t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED",t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED",t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",t[t.COLOR=6144]="COLOR",t[t.DEPTH=6145]="DEPTH",t[t.STENCIL=6146]="STENCIL",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STREAM_COPY=35042]="STREAM_COPY",t[t.STATIC_READ=35045]="STATIC_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",t[t.INVALID_INDEX=4294967295]="INVALID_INDEX",t[t.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",t[t.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",t[t.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",t[t.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",t[t.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",t[t.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",t[t.R16_EXT=33322]="R16_EXT",t[t.RG16_EXT=33324]="RG16_EXT",t[t.RGB16_EXT=32852]="RGB16_EXT",t[t.RGBA16_EXT=32859]="RGBA16_EXT",t[t.R16_SNORM_EXT=36760]="R16_SNORM_EXT",t[t.RG16_SNORM_EXT=36761]="RG16_SNORM_EXT",t[t.RGB16_SNORM_EXT=36762]="RGB16_SNORM_EXT",t[t.RGBA16_SNORM_EXT=36763]="RGBA16_SNORM_EXT",t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",t[t.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",t[t.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",t[t.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",t[t.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",t[t.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",t[t.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",t[t.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",t[t.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",t[t.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",t[t.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",t[t.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",t[t.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT",t[t.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR",t[t.DEPTH_CLAMP_EXT=34383]="DEPTH_CLAMP_EXT",t[t.FIRST_VERTEX_CONVENTION_WEBGL=36429]="FIRST_VERTEX_CONVENTION_WEBGL",t[t.LAST_VERTEX_CONVENTION_WEBGL=36430]="LAST_VERTEX_CONVENTION_WEBGL",t[t.PROVOKING_VERTEX_WEBL=36431]="PROVOKING_VERTEX_WEBL",t[t.POLYGON_MODE_WEBGL=2880]="POLYGON_MODE_WEBGL",t[t.POLYGON_OFFSET_LINE_WEBGL=10754]="POLYGON_OFFSET_LINE_WEBGL",t[t.LINE_WEBGL=6913]="LINE_WEBGL",t[t.FILL_WEBGL=6914]="FILL_WEBGL",t[t.MAX_CLIP_DISTANCES_WEBGL=3378]="MAX_CLIP_DISTANCES_WEBGL",t[t.MAX_CULL_DISTANCES_WEBGL=33529]="MAX_CULL_DISTANCES_WEBGL",t[t.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL=33530]="MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL",t[t.CLIP_DISTANCE0_WEBGL=12288]="CLIP_DISTANCE0_WEBGL",t[t.CLIP_DISTANCE1_WEBGL=12289]="CLIP_DISTANCE1_WEBGL",t[t.CLIP_DISTANCE2_WEBGL=12290]="CLIP_DISTANCE2_WEBGL",t[t.CLIP_DISTANCE3_WEBGL=12291]="CLIP_DISTANCE3_WEBGL",t[t.CLIP_DISTANCE4_WEBGL=12292]="CLIP_DISTANCE4_WEBGL",t[t.CLIP_DISTANCE5_WEBGL=12293]="CLIP_DISTANCE5_WEBGL",t[t.CLIP_DISTANCE6_WEBGL=12294]="CLIP_DISTANCE6_WEBGL",t[t.CLIP_DISTANCE7_WEBGL=12295]="CLIP_DISTANCE7_WEBGL",t[t.POLYGON_OFFSET_CLAMP_EXT=36379]="POLYGON_OFFSET_CLAMP_EXT",t[t.LOWER_LEFT_EXT=36001]="LOWER_LEFT_EXT",t[t.UPPER_LEFT_EXT=36002]="UPPER_LEFT_EXT",t[t.NEGATIVE_ONE_TO_ONE_EXT=37726]="NEGATIVE_ONE_TO_ONE_EXT",t[t.ZERO_TO_ONE_EXT=37727]="ZERO_TO_ONE_EXT",t[t.CLIP_ORIGIN_EXT=37724]="CLIP_ORIGIN_EXT",t[t.CLIP_DEPTH_MODE_EXT=37725]="CLIP_DEPTH_MODE_EXT",t[t.SRC1_COLOR_WEBGL=35065]="SRC1_COLOR_WEBGL",t[t.SRC1_ALPHA_WEBGL=34185]="SRC1_ALPHA_WEBGL",t[t.ONE_MINUS_SRC1_COLOR_WEBGL=35066]="ONE_MINUS_SRC1_COLOR_WEBGL",t[t.ONE_MINUS_SRC1_ALPHA_WEBGL=35067]="ONE_MINUS_SRC1_ALPHA_WEBGL",t[t.MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL=35068]="MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL",t[t.MIRROR_CLAMP_TO_EDGE_EXT=34627]="MIRROR_CLAMP_TO_EDGE_EXT"})(pf||(pf={}));const a4e={WEBGL_depth_texture:{UNSIGNED_INT_24_8_WEBGL:34042},OES_element_index_uint:{},OES_texture_float:{},OES_texture_half_float:{HALF_FLOAT_OES:5131},EXT_color_buffer_float:{},OES_standard_derivatives:{FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723},EXT_frag_depth:{},EXT_blend_minmax:{MIN_EXT:32775,MAX_EXT:32776},EXT_shader_texture_lod:{}},s4e=t=>({drawBuffersWEBGL(e){return t.drawBuffers(e)},COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067}),o4e=t=>({VERTEX_ARRAY_BINDING_OES:34229,createVertexArrayOES(){return t.createVertexArray()},deleteVertexArrayOES(e){return t.deleteVertexArray(e)},isVertexArrayOES(e){return t.isVertexArray(e)},bindVertexArrayOES(e){return t.bindVertexArray(e)}}),l4e=t=>({VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,drawArraysInstancedANGLE(...e){return t.drawArraysInstanced(...e)},drawElementsInstancedANGLE(...e){return t.drawElementsInstanced(...e)},vertexAttribDivisorANGLE(...e){return t.vertexAttribDivisor(...e)}});function c4e(t=!0){const e=HTMLCanvasElement.prototype;if(!t&&e.originalGetContext){e.getContext=e.originalGetContext,e.originalGetContext=void 0;return}e.originalGetContext=e.getContext,e.getContext=function(n,r){if(n==="webgl"||n==="experimental-webgl"){const i=this.originalGetContext("webgl2",r);return i instanceof HTMLElement&&u4e(i),i}return this.originalGetContext(n,r)}}function u4e(t){t.getExtension("EXT_color_buffer_float");const e={...a4e,WEBGL_disjoint_timer_query:t.getExtension("EXT_disjoint_timer_query_webgl2"),WEBGL_draw_buffers:s4e(t),OES_vertex_array_object:o4e(t),ANGLE_instanced_arrays:l4e(t)},n=t.getExtension;t.getExtension=function(i){const a=n.call(t,i);return a||(i in e?e[i]:null)};const r=t.getSupportedExtensions;t.getSupportedExtensions=function(){return(r.apply(t)||[])?.concat(Object.keys(e))}}async function xK(t,e){const n=document.getElementsByTagName("head")[0];if(!n)throw new Error("loadScript");const r=document.createElement("script");return r.setAttribute("type","text/javascript"),r.setAttribute("src",t),new Promise((i,a)=>{r.onload=i,r.onerror=s=>a(new Error(`Unable to load script '${t}': ${s}`)),n.appendChild(r)})}const f4e=1;let li=null,jU=!1;const VR={debugSpectorJS:ve.get("debug-spectorjs"),debugSpectorJSUrl:"https://cdn.jsdelivr.net/npm/spectorjs@0.9.30/dist/spector.bundle.js",gl:void 0};async function d4e(t){if(!globalThis.SPECTOR)try{await xK(t.debugSpectorJSUrl||VR.debugSpectorJSUrl)}catch(e){ve.warn(String(e))}}function h4e(t){if(t={...VR,...t},!t.debugSpectorJS)return null;if(!li&&globalThis.SPECTOR&&!globalThis.luma?.spector){ve.probe(f4e,"SPECTOR found and initialized. Start with `luma.spector.displayUI()`")();const{Spector:e}=globalThis.SPECTOR;li=new e,globalThis.luma&&(globalThis.luma.spector=li)}if(!li)return null;if(jU||(jU=!0,li.spyCanvases(),li?.onCaptureStarted.add(e=>ve.info("Spector capture started:",e)()),li?.onCapture.add(e=>{ve.info("Spector capture complete:",e)(),li?.getResultUI(),li?.resultView.display(),li?.resultView.addCapture(e)})),t.gl){const e=t.gl,n=e.device;li?.startCapture(t.gl,500),e.device=n,new Promise(r=>setTimeout(r,2e3)).then(r=>{ve.info("Spector capture stopped after 2 seconds")(),li?.stopCapture()})}return li}const p4e="https://unpkg.com/webgl-debug@2.0.1/index.js";function _K(t){return t.luma=t.luma||{},t.luma}async function g4e(){Hc()&&!globalThis.WebGLDebugUtils&&(globalThis.global=globalThis.global||globalThis,globalThis.global.module={},await xK(p4e))}function m4e(t,e={}){return e.debugWebGL||e.traceWebGL?v4e(t,e):y4e(t)}function y4e(t){const e=_K(t);return e.realContext?e.realContext:t}function v4e(t,e){if(!globalThis.WebGLDebugUtils)return ve.warn("webgl-debug not loaded")(),t;const n=_K(t);if(n.debugContext)return n.debugContext;globalThis.WebGLDebugUtils.init({...pf,...t});const r=globalThis.WebGLDebugUtils.makeDebugContext(t,b4e.bind(null,e),x4e.bind(null,e));for(const s in pf)!(s in r)&&typeof pf[s]=="number"&&(r[s]=pf[s]);class i{}Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.setPrototypeOf(i,r);const a=Object.create(i);return n.realContext=t,n.debugContext=a,a.debug=!0,a}function UU(t,e){e=Array.from(e).map(r=>r===void 0?"undefined":r);let n=globalThis.WebGLDebugUtils.glFunctionArgsToString(t,e);return n=`${n.slice(0,100)}${n.length>100?"...":""}`,`gl.${t}(${n})`}function b4e(t,e,n,r){r=Array.from(r).map(o=>o===void 0?"undefined":o);const i=globalThis.WebGLDebugUtils.glEnumToString(e),a=globalThis.WebGLDebugUtils.glFunctionArgsToString(n,r),s=`${i} in gl.${n}(${a})`;ve.error(s)();debugger}function x4e(t,e,n){let r="";ve.level>=1&&(r=UU(e,n),t.traceWebGL&&ve.log(1,r)());for(const i of n)if(i===void 0){r=r||UU(e,n);debugger}}const Jy=1;class _4e extends fOe{type="webgl";constructor(){super(),kc.defaultProps={...kc.defaultProps,...VR}}enforceWebGL2(e){c4e(e)}isSupported(){return typeof WebGL2RenderingContext<"u"}isDeviceHandle(e){return typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext?!0:(typeof WebGLRenderingContext<"u"&&e instanceof WebGLRenderingContext&&ve.warn("WebGL1 is not supported",e)(),!1)}async attach(e,n={}){const{WebGLDevice:r}=await $E(async()=>{const{WebGLDevice:a}=await Promise.resolve().then(()=>tF);return{WebGLDevice:a}},[]);if(e instanceof r)return e;if(e?.device instanceof r)return e.device;if(!w4e(e))throw new Error("Invalid WebGL2RenderingContext");const i=n.createCanvasContext===!0?{}:n.createCanvasContext;return new r({...n,_handle:e,createCanvasContext:{canvas:e.canvas,autoResize:!1,...i}})}async create(e={}){const{WebGLDevice:n}=await $E(async()=>{const{WebGLDevice:r}=await Promise.resolve().then(()=>tF);return{WebGLDevice:r}},void 0);ve.groupCollapsed(Jy,"WebGLDevice created")();try{const r=[];(e.debugWebGL||e.debug)&&r.push(g4e()),e.debugSpectorJS&&r.push(d4e(e));const i=await Promise.allSettled(r);for(const o of i)o.status==="rejected"&&ve.error(`Failed to initialize debug libraries ${o.reason}`)();const a=new n(e),s=`${a._reused?"Reusing":"Created"} device with WebGL2 ${a.props.debug?"debug ":""}context: ${a.info.vendor}, ${a.info.renderer} for canvas: ${a.canvasContext.id}`;return ve.probe(Jy,s)(),ve.table(Jy,a.info)(),a}finally{ve.groupEnd(Jy)()}}}function w4e(t){return typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?!0:!!(t&&Number.isFinite(t._version))}const f2=new _4e,HR={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,35725:null,36006:null,36007:null,34229:null,34964:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32926:!1,32928:!1,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],36389:null,36662:null,36663:null,35053:null,35055:null,35723:4352,36010:null,35977:!1,3333:4,3317:4,37440:!1,37441:!1,37443:37444,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},An=(t,e,n)=>e?t.enable(n):t.disable(n),FU=(t,e,n)=>t.hint(n,e),ci=(t,e,n)=>t.pixelStorei(n,e),$U=(t,e,n)=>{const r=n===36006?36009:36008;return t.bindFramebuffer(r,e)},Dh=(t,e,n)=>{const i={34964:34962,36662:36662,36663:36663,35053:35051,35055:35052}[n];t.bindBuffer(i,e)};function d2(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}const S4e={3042:An,32773:(t,e)=>t.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(t,e)=>t.clearColor(...e),3107:(t,e)=>t.colorMask(...e),2884:An,2885:(t,e)=>t.cullFace(e),2929:An,2931:(t,e)=>t.clearDepth(e),2932:(t,e)=>t.depthFunc(e),2928:(t,e)=>t.depthRange(...e),2930:(t,e)=>t.depthMask(e),3024:An,35723:FU,35725:(t,e)=>t.useProgram(e),36007:(t,e)=>t.bindRenderbuffer(36161,e),36389:(t,e)=>t.bindTransformFeedback?.(36386,e),34229:(t,e)=>t.bindVertexArray(e),36006:$U,36010:$U,34964:Dh,36662:Dh,36663:Dh,35053:Dh,35055:Dh,2886:(t,e)=>t.frontFace(e),33170:FU,2849:(t,e)=>t.lineWidth(e),32823:An,32824:"polygonOffset",10752:"polygonOffset",35977:An,32926:An,32928:An,32938:"sampleCoverage",32939:"sampleCoverage",3089:An,3088:(t,e)=>t.scissor(...e),2960:An,2961:(t,e)=>t.clearStencil(e),2968:(t,e)=>t.stencilMaskSeparate(1028,e),36005:(t,e)=>t.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(t,e)=>t.viewport(...e),34383:An,10754:An,12288:An,12289:An,12290:An,12291:An,12292:An,12293:An,12294:An,12295:An,3333:ci,3317:ci,37440:ci,37441:ci,37443:ci,3330:ci,3332:ci,3331:ci,3314:ci,32878:ci,3316:ci,3315:ci,32877:ci,framebuffer:(t,e)=>{const n=e&&"handle"in e?e.handle:e;return t.bindFramebuffer(36160,n)},blend:(t,e)=>e?t.enable(3042):t.disable(3042),blendColor:(t,e)=>t.blendColor(...e),blendEquation:(t,e)=>{const n=typeof e=="number"?[e,e]:e;t.blendEquationSeparate(...n)},blendFunc:(t,e)=>{const n=e?.length===2?[...e,...e]:e;t.blendFuncSeparate(...n)},clearColor:(t,e)=>t.clearColor(...e),clearDepth:(t,e)=>t.clearDepth(e),clearStencil:(t,e)=>t.clearStencil(e),colorMask:(t,e)=>t.colorMask(...e),cull:(t,e)=>e?t.enable(2884):t.disable(2884),cullFace:(t,e)=>t.cullFace(e),depthTest:(t,e)=>e?t.enable(2929):t.disable(2929),depthFunc:(t,e)=>t.depthFunc(e),depthMask:(t,e)=>t.depthMask(e),depthRange:(t,e)=>t.depthRange(...e),dither:(t,e)=>e?t.enable(3024):t.disable(3024),derivativeHint:(t,e)=>{t.hint(35723,e)},frontFace:(t,e)=>t.frontFace(e),mipmapHint:(t,e)=>t.hint(33170,e),lineWidth:(t,e)=>t.lineWidth(e),polygonOffsetFill:(t,e)=>e?t.enable(32823):t.disable(32823),polygonOffset:(t,e)=>t.polygonOffset(...e),sampleCoverage:(t,e)=>t.sampleCoverage(e[0],e[1]||!1),scissorTest:(t,e)=>e?t.enable(3089):t.disable(3089),scissor:(t,e)=>t.scissor(...e),stencilTest:(t,e)=>e?t.enable(2960):t.disable(2960),stencilMask:(t,e)=>{e=d2(e)?e:[e,e];const[n,r]=e;t.stencilMaskSeparate(1028,n),t.stencilMaskSeparate(1029,r)},stencilFunc:(t,e)=>{e=d2(e)&&e.length===3?[...e,...e]:e;const[n,r,i,a,s,o]=e;t.stencilFuncSeparate(1028,n,r,i),t.stencilFuncSeparate(1029,a,s,o)},stencilOp:(t,e)=>{e=d2(e)&&e.length===3?[...e,...e]:e;const[n,r,i,a,s,o]=e;t.stencilOpSeparate(1028,n,r,i),t.stencilOpSeparate(1029,a,s,o)},viewport:(t,e)=>t.viewport(...e)};function ln(t,e,n){return e[t]!==void 0?e[t]:n[t]}const T4e={blendEquation:(t,e,n)=>t.blendEquationSeparate(ln(32777,e,n),ln(34877,e,n)),blendFunc:(t,e,n)=>t.blendFuncSeparate(ln(32969,e,n),ln(32968,e,n),ln(32971,e,n),ln(32970,e,n)),polygonOffset:(t,e,n)=>t.polygonOffset(ln(32824,e,n),ln(10752,e,n)),sampleCoverage:(t,e,n)=>t.sampleCoverage(ln(32938,e,n),ln(32939,e,n)),stencilFuncFront:(t,e,n)=>t.stencilFuncSeparate(1028,ln(2962,e,n),ln(2967,e,n),ln(2963,e,n)),stencilFuncBack:(t,e,n)=>t.stencilFuncSeparate(1029,ln(34816,e,n),ln(36003,e,n),ln(36004,e,n)),stencilOpFront:(t,e,n)=>t.stencilOpSeparate(1028,ln(2964,e,n),ln(2965,e,n),ln(2966,e,n)),stencilOpBack:(t,e,n)=>t.stencilOpSeparate(1029,ln(34817,e,n),ln(34818,e,n),ln(34819,e,n))},zU={enable:(t,e)=>t({[e]:!0}),disable:(t,e)=>t({[e]:!1}),pixelStorei:(t,e,n)=>t({[e]:n}),hint:(t,e,n)=>t({[e]:n}),useProgram:(t,e)=>t({35725:e}),bindRenderbuffer:(t,e,n)=>t({36007:n}),bindTransformFeedback:(t,e,n)=>t({36389:n}),bindVertexArray:(t,e)=>t({34229:e}),bindFramebuffer:(t,e,n)=>{switch(e){case 36160:return t({36006:n,36010:n});case 36009:return t({36006:n});case 36008:return t({36010:n});default:return null}},bindBuffer:(t,e,n)=>{const r={34962:[34964],36662:[36662],36663:[36663],35051:[35053],35052:[35055]}[e];return r?t({[r]:n}):{valueChanged:!0}},blendColor:(t,e,n,r,i)=>t({32773:new Float32Array([e,n,r,i])}),blendEquation:(t,e)=>t({32777:e,34877:e}),blendEquationSeparate:(t,e,n)=>t({32777:e,34877:n}),blendFunc:(t,e,n)=>t({32969:e,32968:n,32971:e,32970:n}),blendFuncSeparate:(t,e,n,r,i)=>t({32969:e,32968:n,32971:r,32970:i}),clearColor:(t,e,n,r,i)=>t({3106:new Float32Array([e,n,r,i])}),clearDepth:(t,e)=>t({2931:e}),clearStencil:(t,e)=>t({2961:e}),colorMask:(t,e,n,r,i)=>t({3107:[e,n,r,i]}),cullFace:(t,e)=>t({2885:e}),depthFunc:(t,e)=>t({2932:e}),depthRange:(t,e,n)=>t({2928:new Float32Array([e,n])}),depthMask:(t,e)=>t({2930:e}),frontFace:(t,e)=>t({2886:e}),lineWidth:(t,e)=>t({2849:e}),polygonOffset:(t,e,n)=>t({32824:e,10752:n}),sampleCoverage:(t,e,n)=>t({32938:e,32939:n}),scissor:(t,e,n,r,i)=>t({3088:new Int32Array([e,n,r,i])}),stencilMask:(t,e)=>t({2968:e,36005:e}),stencilMaskSeparate:(t,e,n)=>t({[e===1028?2968:36005]:n}),stencilFunc:(t,e,n,r)=>t({2962:e,2967:n,2963:r,34816:e,36003:n,36004:r}),stencilFuncSeparate:(t,e,n,r,i)=>t({[e===1028?2962:34816]:n,[e===1028?2967:36003]:r,[e===1028?2963:36004]:i}),stencilOp:(t,e,n,r)=>t({2964:e,2965:n,2966:r,34817:e,34818:n,34819:r}),stencilOpSeparate:(t,e,n,r,i)=>t({[e===1028?2964:34817]:n,[e===1028?2965:34818]:r,[e===1028?2966:34819]:i}),viewport:(t,e,n,r,i)=>t({2978:[e,n,r,i]})},Ua=(t,e)=>t.isEnabled(e),VU={3042:Ua,2884:Ua,2929:Ua,3024:Ua,32823:Ua,32926:Ua,32928:Ua,3089:Ua,2960:Ua,35977:Ua},A4e=new Set([34016,36388,36387,35983,35368,34965,35739,35738,3074,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34866,34867,34868,35097,32873,35869,32874,34068]);function Ed(t,e){if(C4e(e))return;const n={};for(const i in e){const a=Number(i),s=S4e[i];s&&(typeof s=="string"?n[s]=!0:s(t,e[i],a))}const r=t.state&&t.state.cache;if(r)for(const i in n){const a=T4e[i];a(t,e,r)}}function wK(t,e=HR){if(typeof e=="number"){const i=e,a=VU[i];return a?a(t,i):t.getParameter(i)}const n=Array.isArray(e)?e:Object.keys(e),r={};for(const i of n){const a=VU[i];r[i]=a?a(t,Number(i)):t.getParameter(Number(i))}return r}function E4e(t){Ed(t,HR)}function C4e(t){for(const e in t)return!1;return!0}function P4e(t,e){if(t===e)return!0;if(HU(t)&&HU(e)&&t.length===e.length){for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}return!1}function HU(t){return Array.isArray(t)||ArrayBuffer.isView(t)}class wc{static get(e){return e.state}gl;program=null;stateStack=[];enable=!0;cache=null;log;initialized=!1;constructor(e,n){this.gl=e,this.log=n?.log||(()=>{}),this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(e={}){this.stateStack.push({})}pop(){const e=this.stateStack[this.stateStack.length-1];Ed(this.gl,e),this.stateStack.pop()}trackState(e,n){if(this.cache=n?.copyState?wK(e):Object.assign({},HR),this.initialized)throw new Error("WebGLStateTracker");this.initialized=!0,this.gl.state=this,O4e(e);for(const r in zU){const i=zU[r];R4e(e,r,i)}WU(e,"getParameter"),WU(e,"isEnabled")}_updateCache(e){let n=!1,r;const i=this.stateStack.length>0?this.stateStack[this.stateStack.length-1]:null;for(const a in e){const s=e[a],o=this.cache[a];P4e(s,o)||(n=!0,r=o,i&&!(a in i)&&(i[a]=o),this.cache[a]=s)}return{valueChanged:n,oldValue:r}}}function WU(t,e){const n=t[e].bind(t);t[e]=function(i){if(i===void 0||A4e.has(i))return n(i);const a=wc.get(t);return i in a.cache||(a.cache[i]=n(i)),a.enable?a.cache[i]:n(i)},Object.defineProperty(t[e],"name",{value:`${e}-from-cache`,configurable:!1})}function R4e(t,e,n){if(!t[e])return;const r=t[e].bind(t);t[e]=function(...a){const s=wc.get(t),{valueChanged:o,oldValue:c}=n(s._updateCache,...a);return o&&r(...a),c},Object.defineProperty(t[e],"name",{value:`${e}-to-cache`,configurable:!1})}function O4e(t){const e=t.useProgram.bind(t);t.useProgram=function(r){const i=wc.get(t);i.program!==r&&(e(r),i.program=r)}}function M4e(t,e,n){let r="";const i={preserveDrawingBuffer:!0,...n};let a=null;if(a||=t.getContext("webgl2",i),i.failIfMajorPerformanceCaveat&&(r||="Only software GPU is available. Set `failIfMajorPerformanceCaveat: false` to allow."),!a&&!n.failIfMajorPerformanceCaveat&&(i.failIfMajorPerformanceCaveat=!1,a=t.getContext("webgl2",i),a.luma||={},a.luma.softwareRenderer=!0),a||(a=t.getContext("webgl",{}),a&&(a=null,r||="Your browser only supports WebGL1")),!a)throw r||="Your browser does not support WebGL",new Error(`Failed to create WebGL context: ${r}`);const{onContextLost:s,onContextRestored:o}=e;return t.addEventListener("webglcontextlost",c=>s(c),!1),t.addEventListener("webglcontextrestored",c=>o(c),!1),a.luma||={},a}function Gf(t,e,n){return n[e]===void 0&&(n[e]=t.getExtension(e)||null),n[e]}function I4e(t,e){const n=t.getParameter(7936),r=t.getParameter(7937);Gf(t,"WEBGL_debug_renderer_info",e);const i=e.WEBGL_debug_renderer_info,a=t.getParameter(i?i.UNMASKED_VENDOR_WEBGL:7936),s=t.getParameter(i?i.UNMASKED_RENDERER_WEBGL:7937),o=a||n,c=s||r,f=t.getParameter(7938),d=SK(o,c),p=k4e(o,c),m=N4e(o,c);return{type:"webgl",gpu:d,gpuType:m,gpuBackend:p,vendor:o,renderer:c,version:f,shadingLanguage:"glsl",shadingLanguageVersion:300}}function SK(t,e){return/NVIDIA/i.exec(t)||/NVIDIA/i.exec(e)?"nvidia":/INTEL/i.exec(t)||/INTEL/i.exec(e)?"intel":/Apple/i.exec(t)||/Apple/i.exec(e)?"apple":/AMD/i.exec(t)||/AMD/i.exec(e)||/ATI/i.exec(t)||/ATI/i.exec(e)?"amd":/SwiftShader/i.exec(t)||/SwiftShader/i.exec(e)?"software":"unknown"}function k4e(t,e){return/Metal/i.exec(t)||/Metal/i.exec(e)?"metal":/ANGLE/i.exec(t)||/ANGLE/i.exec(e)?"opengl":"unknown"}function N4e(t,e){if(/SwiftShader/i.exec(t)||/SwiftShader/i.exec(e))return"cpu";switch(SK(t,e)){case"intel":return"integrated";case"software":return"cpu";case"unknown":return"unknown";default:return"discrete"}}function TK(t){switch(t){case"uint8":return 5121;case"sint8":return 5120;case"unorm8":return 5121;case"snorm8":return 5120;case"uint16":return 5123;case"sint16":return 5122;case"unorm16":return 5123;case"snorm16":return 5122;case"uint32":return 5125;case"sint32":return 5124;case"float16":return 5131;case"float32":return 5126}throw new Error(String(t))}const Kh="WEBGL_compressed_texture_s3tc",Yh="WEBGL_compressed_texture_s3tc_srgb",gf="EXT_texture_compression_rgtc",mf="EXT_texture_compression_bptc",D4e="WEBGL_compressed_texture_etc",B4e="WEBGL_compressed_texture_astc",L4e="WEBGL_compressed_texture_etc1",j4e="WEBGL_compressed_texture_pvrtc",U4e="WEBGL_compressed_texture_atc",qU="EXT_texture_norm16",XU="EXT_render_snorm",F4e="EXT_color_buffer_float",WR={"float32-renderable-webgl":["EXT_color_buffer_float"],"float16-renderable-webgl":["EXT_color_buffer_half_float"],"rgb9e5ufloat-renderable-webgl":["WEBGL_render_shared_exponent"],"snorm8-renderable-webgl":[XU],"norm16-renderable-webgl":[qU],"snorm16-renderable-webgl":[qU,XU],"float32-filterable":["OES_texture_float_linear"],"float16-filterable-webgl":["OES_texture_half_float_linear"],"texture-filterable-anisotropic-webgl":["EXT_texture_filter_anisotropic"],"texture-blend-float-webgl":["EXT_float_blend"],"texture-compression-bc":[Kh,Yh,gf,mf],"texture-compression-bc5-webgl":[gf],"texture-compression-bc7-webgl":[mf],"texture-compression-etc2":[D4e],"texture-compression-astc":[B4e],"texture-compression-etc1-webgl":[L4e],"texture-compression-pvrtc-webgl":[j4e],"texture-compression-atc-webgl":[U4e]};function $4e(t){return t in WR}function z4e(t,e,n){return(WR[e]||[]).every(i=>Gf(t,i,n))}const qR={r8unorm:{gl:33321,rb:!0},r8snorm:{gl:36756},r8uint:{gl:33330,rb:!0},r8sint:{gl:33329,rb:!0},rg8unorm:{gl:33323,rb:!0},rg8snorm:{gl:36757},rg8uint:{gl:33336,rb:!0},rg8sint:{gl:33335,rb:!0},r16uint:{gl:33332,rb:!0},r16sint:{gl:33331,rb:!0},r16float:{gl:33325,rb:!0},r16unorm:{gl:33322,rb:!0},r16snorm:{gl:36760},"rgba4unorm-webgl":{gl:32854,rb:!0},"rgb565unorm-webgl":{gl:36194,rb:!0},"rgb5a1unorm-webgl":{gl:32855,rb:!0},"rgb8unorm-webgl":{gl:32849},"rgb8snorm-webgl":{gl:36758},rgba8unorm:{gl:32856},"rgba8unorm-srgb":{gl:35907},rgba8snorm:{gl:36759},rgba8uint:{gl:36220},rgba8sint:{gl:36238},bgra8unorm:{},"bgra8unorm-srgb":{},rg16uint:{gl:33338},rg16sint:{gl:33337},rg16float:{gl:33327,rb:!0},rg16unorm:{gl:33324},rg16snorm:{gl:36761},r32uint:{gl:33334,rb:!0},r32sint:{gl:33333,rb:!0},r32float:{gl:33326},rgb9e5ufloat:{gl:35901},rg11b10ufloat:{gl:35898,rb:!0},rgb10a2unorm:{gl:32857,rb:!0},rgb10a2uint:{gl:36975,rb:!0},"rgb16unorm-webgl":{gl:32852},"rgb16snorm-webgl":{gl:36762},rg32uint:{gl:33340,rb:!0},rg32sint:{gl:33339,rb:!0},rg32float:{gl:33328,rb:!0},rgba16uint:{gl:36214,rb:!0},rgba16sint:{gl:36232,rb:!0},rgba16float:{gl:34842},rgba16unorm:{gl:32859,rb:!0},rgba16snorm:{gl:36763},"rgb32float-webgl":{gl:34837,x:F4e,dataFormat:6407,types:[5126]},rgba32uint:{gl:36208,rb:!0},rgba32sint:{gl:36226,rb:!0},rgba32float:{gl:34836,rb:!0},stencil8:{gl:36168,rb:!0},depth16unorm:{gl:33189,dataFormat:6402,types:[5123],rb:!0},depth24plus:{gl:33190,dataFormat:6402,types:[5125]},depth32float:{gl:36012,dataFormat:6402,types:[5126],rb:!0},"depth24plus-stencil8":{gl:35056,rb:!0,depthTexture:!0,dataFormat:34041,types:[34042]},"depth32float-stencil8":{gl:36013,dataFormat:34041,types:[36269],rb:!0},"bc1-rgb-unorm-webgl":{gl:33776,x:Kh},"bc1-rgb-unorm-srgb-webgl":{gl:35916,x:Yh},"bc1-rgba-unorm":{gl:33777,x:Kh},"bc1-rgba-unorm-srgb":{gl:35916,x:Yh},"bc2-rgba-unorm":{gl:33778,x:Kh},"bc2-rgba-unorm-srgb":{gl:35918,x:Yh},"bc3-rgba-unorm":{gl:33779,x:Kh},"bc3-rgba-unorm-srgb":{gl:35919,x:Yh},"bc4-r-unorm":{gl:36283,x:gf},"bc4-r-snorm":{gl:36284,x:gf},"bc5-rg-unorm":{gl:36285,x:gf},"bc5-rg-snorm":{gl:36286,x:gf},"bc6h-rgb-ufloat":{gl:36495,x:mf},"bc6h-rgb-float":{gl:36494,x:mf},"bc7-rgba-unorm":{gl:36492,x:mf},"bc7-rgba-unorm-srgb":{gl:36493,x:mf},"etc2-rgb8unorm":{gl:37492},"etc2-rgb8unorm-srgb":{gl:37494},"etc2-rgb8a1unorm":{gl:37496},"etc2-rgb8a1unorm-srgb":{gl:37497},"etc2-rgba8unorm":{gl:37493},"etc2-rgba8unorm-srgb":{gl:37495},"eac-r11unorm":{gl:37488},"eac-r11snorm":{gl:37489},"eac-rg11unorm":{gl:37490},"eac-rg11snorm":{gl:37491},"astc-4x4-unorm":{gl:37808},"astc-4x4-unorm-srgb":{gl:37840},"astc-5x4-unorm":{gl:37809},"astc-5x4-unorm-srgb":{gl:37841},"astc-5x5-unorm":{gl:37810},"astc-5x5-unorm-srgb":{gl:37842},"astc-6x5-unorm":{gl:37811},"astc-6x5-unorm-srgb":{gl:37843},"astc-6x6-unorm":{gl:37812},"astc-6x6-unorm-srgb":{gl:37844},"astc-8x5-unorm":{gl:37813},"astc-8x5-unorm-srgb":{gl:37845},"astc-8x6-unorm":{gl:37814},"astc-8x6-unorm-srgb":{gl:37846},"astc-8x8-unorm":{gl:37815},"astc-8x8-unorm-srgb":{gl:37847},"astc-10x5-unorm":{gl:37819},"astc-10x5-unorm-srgb":{gl:37851},"astc-10x6-unorm":{gl:37817},"astc-10x6-unorm-srgb":{gl:37849},"astc-10x8-unorm":{gl:37818},"astc-10x8-unorm-srgb":{gl:37850},"astc-10x10-unorm":{gl:37819},"astc-10x10-unorm-srgb":{gl:37851},"astc-12x10-unorm":{gl:37820},"astc-12x10-unorm-srgb":{gl:37852},"astc-12x12-unorm":{gl:37821},"astc-12x12-unorm-srgb":{gl:37853},"pvrtc-rgb4unorm-webgl":{gl:35840},"pvrtc-rgba4unorm-webgl":{gl:35842},"pvrtc-rbg2unorm-webgl":{gl:35841},"pvrtc-rgba2unorm-webgl":{gl:35843},"etc1-rbg-unorm-webgl":{gl:36196},"atc-rgb-unorm-webgl":{gl:35986},"atc-rgba-unorm-webgl":{gl:35986},"atc-rgbai-unorm-webgl":{gl:34798}};function V4e(t,e,n){let r=e.create;const i=qR[e.format];return i?.gl===void 0&&(r=!1),i?.x&&(r=r&&!!Gf(t,i.x,n)),{format:e.format,create:r&&e.create,render:r&&e.render,filter:r&&e.filter,blend:r&&e.blend,store:r&&e.store}}function AK(t){const e=qR[t],n=q4e(t),r=Af.getInfo(t);return r.compressed&&(e.dataFormat=n),{internalFormat:n,format:e?.dataFormat||W4e(r.channels,r.integer,r.normalized,n),type:r.dataType?TK(r.dataType):e?.types?.[0]||5121,compressed:r.compressed||!1}}function H4e(t){switch(Af.getInfo(t).attachment){case"depth":return 36096;case"stencil":return 36128;case"depth-stencil":return 33306;default:throw new Error(`Not a depth stencil format: ${t}`)}}function W4e(t,e,n,r){if(r===6408||r===6407)return r;switch(t){case"r":return e&&!n?36244:6403;case"rg":return e&&!n?33320:33319;case"rgb":return e&&!n?36248:6407;case"rgba":return e&&!n?36249:6408;case"bgra":throw new Error("bgra pixels not supported by WebGL");default:return 6408}}function q4e(t){const n=qR[t]?.gl;if(n===void 0)throw new Error(`Unsupported texture format ${t}`);return n}const KU={"depth-clip-control":"EXT_depth_clamp","timer-query-webgl":"EXT_disjoint_timer_query_webgl2","compilation-status-async-webgl":"KHR_parallel_shader_compile","polygon-mode-webgl":"WEBGL_polygon_mode","provoking-vertex-webgl":"WEBGL_provoking_vertex","shader-clip-cull-distance-webgl":"WEBGL_clip_cull_distance","shader-noperspective-interpolation-webgl":"NV_shader_noperspective_interpolation","shader-conservative-depth-webgl":"EXT_conservative_depth"};class X4e extends cOe{gl;extensions;testedFeatures=new Set;constructor(e,n,r){super([],r),this.gl=e,this.extensions=n,Gf(e,"EXT_color_buffer_float",n)}*[Symbol.iterator](){const e=this.getFeatures();for(const n of e)this.has(n)&&(yield n);return[]}has(e){return this.disabledFeatures?.[e]?!1:(this.testedFeatures.has(e)||(this.testedFeatures.add(e),$4e(e)&&z4e(this.gl,e,this.extensions)&&this.features.add(e),this.getWebGLFeature(e)&&this.features.add(e)),this.features.has(e))}initializeFeatures(){const e=this.getFeatures().filter(n=>n!=="polygon-mode-webgl");for(const n of e)this.has(n)}getFeatures(){return[...Object.keys(KU),...Object.keys(WR)]}getWebGLFeature(e){const n=KU[e];return typeof n=="string"?!!Gf(this.gl,n,this.extensions):!!n}}class K4e extends lOe{get maxTextureDimension1D(){return 0}get maxTextureDimension2D(){return this.getParameter(3379)}get maxTextureDimension3D(){return this.getParameter(32883)}get maxTextureArrayLayers(){return this.getParameter(35071)}get maxBindGroups(){return 0}get maxDynamicUniformBuffersPerPipelineLayout(){return 0}get maxDynamicStorageBuffersPerPipelineLayout(){return 0}get maxSampledTexturesPerShaderStage(){return this.getParameter(35660)}get maxSamplersPerShaderStage(){return this.getParameter(35661)}get maxStorageBuffersPerShaderStage(){return 0}get maxStorageTexturesPerShaderStage(){return 0}get maxUniformBuffersPerShaderStage(){return this.getParameter(35375)}get maxUniformBufferBindingSize(){return this.getParameter(35376)}get maxStorageBufferBindingSize(){return 0}get minUniformBufferOffsetAlignment(){return this.getParameter(35380)}get minStorageBufferOffsetAlignment(){return 0}get maxVertexBuffers(){return 16}get maxVertexAttributes(){return this.getParameter(34921)}get maxVertexBufferArrayStride(){return 2048}get maxInterStageShaderVariables(){return this.getParameter(35659)}get maxComputeWorkgroupStorageSize(){return 0}get maxComputeInvocationsPerWorkgroup(){return 0}get maxComputeWorkgroupSizeX(){return 0}get maxComputeWorkgroupSizeY(){return 0}get maxComputeWorkgroupSizeZ(){return 0}get maxComputeWorkgroupsPerDimension(){return 0}gl;limits={};constructor(e){super(),this.gl=e}getParameter(e){return this.limits[e]===void 0&&(this.limits[e]=this.gl.getParameter(e)),this.limits[e]||0}}class cp extends Vx{device;gl;handle;colorAttachments=[];depthStencilAttachment=null;constructor(e,n){super(e,n);const r=n.handle===null;this.device=e,this.gl=e.gl,this.handle=this.props.handle||r?this.props.handle:this.gl.createFramebuffer(),r||(e._setWebGLDebugMetadata(this.handle,this,{spector:this.props}),this.autoCreateAttachmentTextures(),this.updateAttachments())}destroy(){super.destroy(),!this.destroyed&&this.handle!==null&&this.gl.deleteFramebuffer(this.handle)}updateAttachments(){const e=this.gl.bindFramebuffer(36160,this.handle);for(let n=0;n<this.colorAttachments.length;++n){const r=this.colorAttachments[n];if(r){const i=36064+n;this._attachTextureView(i,r)}}if(this.depthStencilAttachment){const n=H4e(this.depthStencilAttachment.props.format);this._attachTextureView(n,this.depthStencilAttachment)}if(this.device.props.debug){const n=this.gl.checkFramebufferStatus(36160);if(n!==36053)throw new Error(`Framebuffer ${G4e(n)}`)}this.gl.bindFramebuffer(36160,e)}_attachTextureView(e,n){const{gl:r}=this.device,{texture:i}=n,a=n.props.baseMipLevel,s=n.props.baseArrayLayer;switch(r.bindTexture(i.glTarget,i.handle),i.glTarget){case 35866:case 32879:r.framebufferTextureLayer(36160,e,i.handle,a,s);break;case 34067:const o=Y4e(s);r.framebufferTexture2D(36160,e,o,i.handle,a);break;case 3553:r.framebufferTexture2D(36160,e,3553,i.handle,a);break;default:throw new Error("Illegal texture type")}r.bindTexture(i.glTarget,null)}}function Y4e(t){return t<34069?t+34069:t}function G4e(t){switch(t){case 36053:return"success";case 36054:return"Mismatched attachments";case 36055:return"No attachments";case 36057:return"Height/width mismatch";case 36061:return"Unsupported or split attachments";case 36182:return"Samples mismatch";default:return`${t}`}}class Z4e extends lc{device;handle=null;_framebuffer=null;get[Symbol.toStringTag](){return"WebGLCanvasContext"}constructor(e,n){super(n),this.device=e,this._setAutoCreatedCanvasId(`${this.device.id}-canvas`),this._updateDevice()}getCurrentFramebuffer(){return this._framebuffer=this._framebuffer||new cp(this.device,{handle:null}),this._framebuffer}_updateDevice(){}}const h2={};function Q4e(t="id"){h2[t]=h2[t]||1;const e=h2[t]++;return`${t}-${e}`}class up extends pn{device;gl;handle;glTarget;glUsage;glIndexType=5123;byteLength=0;bytesUsed=0;constructor(e,n={}){super(e,n),this.device=e,this.gl=this.device.gl;const r=typeof n=="object"?n.handle:void 0;this.handle=r||this.gl.createBuffer(),e._setWebGLDebugMetadata(this.handle,this,{spector:{...this.props,data:typeof this.props.data}}),this.glTarget=J4e(this.props.usage),this.glUsage=eBe(this.props.usage),this.glIndexType=this.props.indexType==="uint32"?5125:5123,n.data?this._initWithData(n.data,n.byteOffset,n.byteLength):this._initWithByteLength(n.byteLength||0)}destroy(){!this.destroyed&&this.handle&&(this.removeStats(),this.trackDeallocatedMemory(),this.gl.deleteBuffer(this.handle),this.destroyed=!0,this.handle=null)}_initWithData(e,n=0,r=e.byteLength+n){const i=this.glTarget;this.gl.bindBuffer(i,this.handle),this.gl.bufferData(i,r,this.glUsage),this.gl.bufferSubData(i,n,e),this.gl.bindBuffer(i,null),this.bytesUsed=r,this.byteLength=r,this._setDebugData(e,n,r),this.trackAllocatedMemory(r)}_initWithByteLength(e){let n=e;e===0&&(n=new Float32Array(0));const r=this.glTarget;return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,this.glUsage),this.gl.bindBuffer(r,null),this.bytesUsed=e,this.byteLength=e,this._setDebugData(null,0,e),this.trackAllocatedMemory(e),this}write(e,n=0){const r=ArrayBuffer.isView(e)?e:new Uint8Array(e),i=36663;this.gl.bindBuffer(i,this.handle),this.gl.bufferSubData(i,n,r),this.gl.bindBuffer(i,null),this._setDebugData(e,n,e.byteLength)}async mapAndWriteAsync(e,n=0,r=this.byteLength-n){const i=new ArrayBuffer(r);await e(i,"copied"),this.write(i,n)}async readAsync(e=0,n){return this.readSyncWebGL(e,n)}async mapAndReadAsync(e,n=0,r){const i=await this.readAsync(n,r);return await e(i.buffer,"copied")}readSyncWebGL(e=0,n){n=n??this.byteLength-e;const r=new Uint8Array(n),i=0;return this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,e,r,i,n),this.gl.bindBuffer(36662,null),this._setDebugData(r,e,n),r}}function J4e(t){return t&pn.INDEX?34963:t&pn.VERTEX?34962:t&pn.UNIFORM?35345:34962}function eBe(t){return t&pn.INDEX||t&pn.VERTEX?35044:t&pn.UNIFORM?35048:35044}function tBe(t){const e=t.split(/\r?\n/),n=[];for(const r of e){if(r.length<=1)continue;const i=r.split(":");if(i.length===2){const[p,m]=i;n.push({message:m.trim(),type:YU(p),lineNum:0,linePos:0});continue}const[a,s,o,...c]=i;let f=parseInt(o,10);isNaN(f)&&(f=0);let d=parseInt(s,10);isNaN(d)&&(d=0),n.push({message:c.join(":").trim(),type:YU(a),lineNum:f,linePos:d})}return n}function YU(t){const e=["warning","error","info"],n=t.toLowerCase();return e.includes(n)?n:"info"}class nBe extends zx{device;handle;constructor(e,n){switch(super(e,n),this.device=e,this.props.stage){case"vertex":this.handle=this.props.handle||this.device.gl.createShader(35633);break;case"fragment":this.handle=this.props.handle||this.device.gl.createShader(35632);break;default:throw new Error(this.props.stage)}e._setWebGLDebugMetadata(this.handle,this,{spector:this.props}),this._compile(this.source)}destroy(){this.handle&&(this.removeStats(),this.device.gl.deleteShader(this.handle),this.destroyed=!0,this.handle.destroyed=!0)}get asyncCompilationStatus(){return this._waitForCompilationComplete().then(()=>(this._getCompilationStatus(),this.compilationStatus))}async getCompilationInfo(){return await this._waitForCompilationComplete(),this.getCompilationInfoSync()}getCompilationInfoSync(){const e=this.device.gl.getShaderInfoLog(this.handle);return e?tBe(e):[]}getTranslatedSource(){return this.device.getExtension("WEBGL_debug_shaders").WEBGL_debug_shaders?.getTranslatedShaderSource(this.handle)||null}async _compile(e){e=e.startsWith("#version ")?e:`#version 300 es
${e}`;const{gl:n}=this.device;if(n.shaderSource(this.handle,e),n.compileShader(this.handle),!this.device.props.debug){this.compilationStatus="pending";return}if(!this.device.features.has("compilation-status-async-webgl")){if(this._getCompilationStatus(),this.debugShader(),this.compilationStatus==="error")throw new Error(`GLSL compilation errors in ${this.props.stage} shader ${this.props.id}`);return}ve.once(1,"Shader compilation is asynchronous")(),await this._waitForCompilationComplete(),ve.info(2,`Shader ${this.id} - async compilation complete: ${this.compilationStatus}`)(),this._getCompilationStatus(),this.debugShader()}async _waitForCompilationComplete(){const e=async i=>await new Promise(a=>setTimeout(a,i));if(!this.device.features.has("compilation-status-async-webgl")){await e(10);return}const{gl:r}=this.device;for(;;){if(r.getShaderParameter(this.handle,37297))return;await e(10)}}_getCompilationStatus(){this.compilationStatus=this.device.gl.getShaderParameter(this.handle,35713)?"success":"error"}}function rBe(t,e,n,r){if(oBe(e))return r(t);const i=t;i.pushState();try{return iBe(t,e),Ed(i.gl,n),r(t)}finally{i.popState()}}function iBe(t,e){const n=t,{gl:r}=n;if(e.cullMode)switch(e.cullMode){case"none":r.disable(2884);break;case"front":r.enable(2884),r.cullFace(1028);break;case"back":r.enable(2884),r.cullFace(1029);break}if(e.frontFace&&r.frontFace(Sc("frontFace",e.frontFace,{ccw:2305,cw:2304})),e.unclippedDepth&&t.features.has("depth-clip-control")&&r.enable(34383),e.depthBias!==void 0&&(r.enable(32823),r.polygonOffset(e.depthBias,e.depthBiasSlopeScale||0)),e.provokingVertex&&t.features.has("provoking-vertex-webgl")){const a=n.getExtension("WEBGL_provoking_vertex").WEBGL_provoking_vertex,s=Sc("provokingVertex",e.provokingVertex,{first:36429,last:36430});a?.provokingVertexWEBGL(s)}if((e.polygonMode||e.polygonOffsetLine)&&t.features.has("polygon-mode-webgl")){if(e.polygonMode){const a=n.getExtension("WEBGL_polygon_mode").WEBGL_polygon_mode,s=Sc("polygonMode",e.polygonMode,{fill:6914,line:6913});a?.polygonModeWEBGL(1028,s),a?.polygonModeWEBGL(1029,s)}e.polygonOffsetLine&&r.enable(10754)}if(t.features.has("shader-clip-cull-distance-webgl")&&(e.clipDistance0&&r.enable(12288),e.clipDistance1&&r.enable(12289),e.clipDistance2&&r.enable(12290),e.clipDistance3&&r.enable(12291),e.clipDistance4&&r.enable(12292),e.clipDistance5&&r.enable(12293),e.clipDistance6&&r.enable(12294),e.clipDistance7&&r.enable(12295)),e.depthWriteEnabled!==void 0&&r.depthMask(sBe("depthWriteEnabled",e.depthWriteEnabled)),e.depthCompare&&(e.depthCompare!=="always"?r.enable(2929):r.disable(2929),r.depthFunc(zE("depthCompare",e.depthCompare))),e.stencilWriteMask){const i=e.stencilWriteMask;r.stencilMaskSeparate(1028,i),r.stencilMaskSeparate(1029,i)}if(e.stencilReadMask&&ve.warn("stencilReadMask not supported under WebGL"),e.stencilCompare){const i=e.stencilReadMask||4294967295,a=zE("depthCompare",e.stencilCompare);e.stencilCompare!=="always"?r.enable(2960):r.disable(2960),r.stencilFuncSeparate(1028,a,0,i),r.stencilFuncSeparate(1029,a,0,i)}if(e.stencilPassOperation&&e.stencilFailOperation&&e.stencilDepthFailOperation){const i=p2("stencilPassOperation",e.stencilPassOperation),a=p2("stencilFailOperation",e.stencilFailOperation),s=p2("stencilDepthFailOperation",e.stencilDepthFailOperation);r.stencilOpSeparate(1028,a,s,i),r.stencilOpSeparate(1029,a,s,i)}switch(e.blend){case!0:r.enable(3042);break;case!1:r.disable(3042);break}if(e.blendColorOperation||e.blendAlphaOperation){const i=GU("blendColorOperation",e.blendColorOperation||"add"),a=GU("blendAlphaOperation",e.blendAlphaOperation||"add");r.blendEquationSeparate(i,a);const s=ev("blendColorSrcFactor",e.blendColorSrcFactor||"one"),o=ev("blendColorDstFactor",e.blendColorDstFactor||"zero"),c=ev("blendAlphaSrcFactor",e.blendAlphaSrcFactor||"one"),f=ev("blendAlphaDstFactor",e.blendAlphaDstFactor||"zero");r.blendFuncSeparate(s,o,c,f)}}function zE(t,e){return Sc(t,e,{never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519})}function p2(t,e){return Sc(t,e,{keep:7680,zero:0,replace:7681,invert:5386,"increment-clamp":7682,"decrement-clamp":7683,"increment-wrap":34055,"decrement-wrap":34056})}function GU(t,e){return Sc(t,e,{add:32774,subtract:32778,"reverse-subtract":32779,min:32775,max:32776})}function ev(t,e,n="color"){return Sc(t,e,{one:1,zero:0,src:768,"one-minus-src":769,dst:774,"one-minus-dst":775,"src-alpha":770,"one-minus-src-alpha":771,"dst-alpha":772,"one-minus-dst-alpha":773,"src-alpha-saturated":776,constant:n==="color"?32769:32771,"one-minus-constant":n==="color"?32770:32772,src1:768,"one-minus-src1":769,"src1-alpha":770,"one-minus-src1-alpha":771})}function aBe(t,e){return`Illegal parameter ${e} for ${t}`}function Sc(t,e,n){if(!(e in n))throw new Error(aBe(t,e));return n[e]}function sBe(t,e){return e}function oBe(t){let e=!0;for(const n in t){e=!1;break}return e}function EK(t){const e={};return t.addressModeU&&(e[10242]=g2(t.addressModeU)),t.addressModeV&&(e[10243]=g2(t.addressModeV)),t.addressModeW&&(e[32882]=g2(t.addressModeW)),t.magFilter&&(e[10240]=VE(t.magFilter)),(t.minFilter||t.mipmapFilter)&&(e[10241]=lBe(t.minFilter||"linear",t.mipmapFilter)),t.lodMinClamp!==void 0&&(e[33082]=t.lodMinClamp),t.lodMaxClamp!==void 0&&(e[33083]=t.lodMaxClamp),t.type==="comparison-sampler"&&(e[34892]=34894),t.compare&&(e[34893]=zE("compare",t.compare)),t.maxAnisotropy&&(e[34046]=t.maxAnisotropy),e}function g2(t){switch(t){case"clamp-to-edge":return 33071;case"repeat":return 10497;case"mirror-repeat":return 33648}}function VE(t){switch(t){case"nearest":return 9728;case"linear":return 9729}}function lBe(t,e="none"){if(!e)return VE(t);switch(e){case"none":return VE(t);case"nearest":switch(t){case"nearest":return 9984;case"linear":return 9985}break;case"linear":switch(t){case"nearest":return 9986;case"linear":return 9987}}}class cBe extends Nc{device;handle;parameters;constructor(e,n){super(e,n),this.device=e,this.parameters=EK(n),this.handle=n.handle||this.device.gl.createSampler(),this._setSamplerParameters(this.parameters)}destroy(){this.handle&&(this.device.gl.deleteSampler(this.handle),this.handle=void 0)}toString(){return`Sampler(${this.id},${JSON.stringify(this.props)})`}_setSamplerParameters(e){for(const[n,r]of Object.entries(e)){const i=Number(n);switch(i){case 33082:case 33083:this.device.gl.samplerParameterf(this.handle,i,r);break;default:this.device.gl.samplerParameteri(this.handle,i,r);break}}}}function Qp(t,e,n){if(uBe(e))return n(t);const{nocatch:r=!0}=e,i=wc.get(t);i.push(),Ed(t,e);let a;if(r)a=n(t),i.pop();else try{a=n(t)}finally{i.pop()}return a}function uBe(t){for(const e in t)return!1;return!0}class yf extends $x{device;gl;handle;texture;constructor(e,n){super(e,{...jn.defaultProps,...n}),this.device=e,this.gl=this.device.gl,this.handle=null,this.texture=n.texture}}class fp extends jn{device;gl;handle;sampler=void 0;view;glTarget;glFormat;glType;glInternalFormat;compressed;_textureUnit=0;constructor(e,n){super(e,n),this.device=e,this.gl=this.device.gl;const r=AK(this.props.format);this.glTarget=fBe(this.props.dimension),this.glInternalFormat=r.internalFormat,this.glFormat=r.format,this.glType=r.type,this.compressed=r.compressed,this.handle=this.props.handle||this.gl.createTexture(),this.device._setWebGLDebugMetadata(this.handle,this,{spector:this.props}),this.gl.bindTexture(this.glTarget,this.handle);const{dimension:i,width:a,height:s,depth:o,mipLevels:c,glTarget:f,glInternalFormat:d}=this;switch(i){case"2d":case"cube":this.gl.texStorage2D(f,c,d,a,s);break;case"2d-array":case"3d":this.gl.texStorage3D(f,c,d,a,s,o);break;default:throw new Error(i)}this.gl.bindTexture(this.glTarget,null),this._initializeData(n.data),this.setSampler(this.props.sampler),this.view=new yf(this.device,{...this.props,texture:this}),Object.seal(this)}destroy(){this.handle&&(this.gl.deleteTexture(this.handle),this.removeStats(),this.trackDeallocatedMemory("Texture"),this.destroyed=!0)}createView(e){return new yf(this.device,{...e,texture:this})}setSampler(e={}){super.setSampler(e);const n=EK(this.sampler.props);this._setSamplerParameters(n)}copyImageData(e){const n=this._normalizeCopyImageDataOptions(e),r=n.data,{width:i,height:a,depth:s}=this,{mipLevel:o=0,byteOffset:c=0,x:f=0,y:d=0,z:p=0}=n,{glFormat:m,glType:y,compressed:v}=this,b=ZU(this.glTarget,this.dimension,p);let w;if(!this.compressed){const{bytesPerPixel:C}=this.device.getTextureFormatInfo(this.format);if(C){if(n.bytesPerRow%C!==0)throw new Error(`bytesPerRow (${n.bytesPerRow}) must be a multiple of bytesPerPixel (${C}) for ${this.format}`);w=n.bytesPerRow/C}}const T=this.compressed?{}:{...w!==void 0?{3314:w}:{},32878:n.rowsPerImage};this.gl.bindTexture(b,this.handle),Qp(this.gl,T,()=>{switch(this.dimension){case"2d":case"cube":v?this.gl.compressedTexSubImage2D(b,o,f,d,i,a,m,r,c):this.gl.texSubImage2D(b,o,f,d,i,a,m,y,r,c);break;case"2d-array":case"3d":v?this.gl.compressedTexSubImage3D(b,o,f,d,p,i,a,s,m,r,c):this.gl.texSubImage3D(b,o,f,d,p,i,a,s,m,y,r,c);break;default:}}),this.gl.bindTexture(b,null)}copyExternalImage(e){const n=this._normalizeCopyExternalImageOptions(e);if(n.sourceX||n.sourceY)throw new Error("WebGL does not support sourceX/sourceY)");const{glFormat:r,glType:i}=this,{image:a,depth:s,mipLevel:o,x:c,y:f,z:d,width:p,height:m}=n,y=ZU(this.glTarget,this.dimension,s),v=n.flipY?{37440:!0}:{};return this.gl.bindTexture(this.glTarget,this.handle),Qp(this.gl,v,()=>{switch(this.dimension){case"2d":case"cube":this.gl.texSubImage2D(y,o,c,f,p,m,r,i,a);break;case"2d-array":case"3d":this.gl.texSubImage3D(y,o,c,f,d,p,m,s,r,i,a);break;default:}}),this.gl.bindTexture(this.glTarget,null),{width:n.width,height:n.height}}generateMipmapsWebGL(e){if(!(!(this.device.isTextureFormatRenderable(this.props.format)&&this.device.isTextureFormatFilterable(this.props.format))&&(ve.warn(`${this} is not renderable or filterable, may not be able to generate mipmaps`)(),!e?.force)))try{this.gl.bindTexture(this.glTarget,this.handle),this.gl.generateMipmap(this.glTarget)}catch(r){ve.warn(`Error generating mipmap for ${this}: ${r.message}`)()}finally{this.gl.bindTexture(this.glTarget,null)}}_setSamplerParameters(e){ve.log(2,`${this.id} sampler parameters`,this.device.getGLKeys(e))(),this.gl.bindTexture(this.glTarget,this.handle);for(const[n,r]of Object.entries(e)){const i=Number(n),a=r;switch(i){case 33082:case 33083:this.gl.texParameterf(this.glTarget,i,a);break;case 10240:case 10241:this.gl.texParameteri(this.glTarget,i,a);break;case 10242:case 10243:case 32882:this.gl.texParameteri(this.glTarget,i,a);break;case 34046:this.device.features.has("texture-filterable-anisotropic-webgl")&&this.gl.texParameteri(this.glTarget,i,a);break;case 34892:case 34893:this.gl.texParameteri(this.glTarget,i,a);break}}this.gl.bindTexture(this.glTarget,null)}_getActiveUnit(){return this.gl.getParameter(34016)-33984}_bind(e){const{gl:n}=this;return e!==void 0&&(this._textureUnit=e,n.activeTexture(33984+e)),n.bindTexture(this.glTarget,this.handle),e}_unbind(e){const{gl:n}=this;return e!==void 0&&(this._textureUnit=e,n.activeTexture(33984+e)),n.bindTexture(this.glTarget,null),e}}function fBe(t){switch(t){case"1d":break;case"2d":return 3553;case"3d":return 32879;case"cube":return 34067;case"2d-array":return 35866}throw new Error(t)}function ZU(t,e,n){return e==="cube"?34069+n:t}function dBe(t){return mBe[t]}function XR(t){return gBe[t]}function hBe(t){return!!CK[t]}function pBe(t){return CK[t]}const gBe={5126:"f32",35664:"vec2<f32>",35665:"vec3<f32>",35666:"vec4<f32>",5124:"i32",35667:"vec2<i32>",35668:"vec3<i32>",35669:"vec4<i32>",5125:"u32",36294:"vec2<u32>",36295:"vec3<u32>",36296:"vec4<u32>",35670:"f32",35671:"vec2<f32>",35672:"vec3<f32>",35673:"vec4<f32>",35674:"mat2x2<f32>",35685:"mat2x3<f32>",35686:"mat2x4<f32>",35687:"mat3x2<f32>",35675:"mat3x3<f32>",35688:"mat3x4<f32>",35689:"mat4x2<f32>",35690:"mat4x3<f32>",35676:"mat4x4<f32>"},CK={35678:{viewDimension:"2d",sampleType:"float"},35680:{viewDimension:"cube",sampleType:"float"},35679:{viewDimension:"3d",sampleType:"float"},35682:{viewDimension:"3d",sampleType:"depth"},36289:{viewDimension:"2d-array",sampleType:"float"},36292:{viewDimension:"2d-array",sampleType:"depth"},36293:{viewDimension:"cube",sampleType:"float"},36298:{viewDimension:"2d",sampleType:"sint"},36299:{viewDimension:"3d",sampleType:"sint"},36300:{viewDimension:"cube",sampleType:"sint"},36303:{viewDimension:"2d-array",sampleType:"uint"},36306:{viewDimension:"2d",sampleType:"uint"},36307:{viewDimension:"3d",sampleType:"uint"},36308:{viewDimension:"cube",sampleType:"uint"},36311:{viewDimension:"2d-array",sampleType:"uint"}},mBe={uint8:5121,sint8:5120,unorm8:5121,snorm8:5120,uint16:5123,sint16:5122,unorm16:5123,snorm16:5122,uint32:5125,sint32:5124,float16:5131,float32:5126};function yBe(t,e){const n={attributes:[],bindings:[]};n.attributes=vBe(t,e);const r=_Be(t,e);for(const o of r){const c=o.uniforms.map(f=>({name:f.name,format:f.format,byteOffset:f.byteOffset,byteStride:f.byteStride,arrayLength:f.arrayLength}));n.bindings.push({type:"uniform",name:o.name,group:0,location:o.location,visibility:(o.vertex?1:0)&(o.fragment?2:0),minBindingSize:o.byteLength,uniforms:c})}const i=xBe(t,e);let a=0;for(const o of i)if(hBe(o.type)){const{viewDimension:c,sampleType:f}=pBe(o.type);n.bindings.push({type:"texture",name:o.name,group:0,location:a,viewDimension:c,sampleType:f}),o.textureUnit=a,a+=1}i.length&&(n.uniforms=i);const s=bBe(t,e);return s?.length&&(n.varyings=s),n}function vBe(t,e){const n=[],r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const a=t.getActiveAttrib(e,i);if(!a)throw new Error("activeInfo");const{name:s,type:o}=a,c=t.getAttribLocation(e,s);if(c>=0){const f=XR(o),d=/instance/i.test(s)?"instance":"vertex";n.push({name:s,location:c,stepMode:d,type:f})}}return n.sort((i,a)=>i.location-a.location),n}function bBe(t,e){const n=[],r=t.getProgramParameter(e,35971);for(let i=0;i<r;i++){const a=t.getTransformFeedbackVarying(e,i);if(!a)throw new Error("activeInfo");const{name:s,type:o,size:c}=a,f=XR(o),{type:d,components:p}=fX(f);n.push({location:i,name:s,type:d,size:c*p})}return n.sort((i,a)=>i.location-a.location),n}function xBe(t,e){const n=[],r=t.getProgramParameter(e,35718);for(let i=0;i<r;i++){const a=t.getActiveUniform(e,i);if(!a)throw new Error("activeInfo");const{name:s,size:o,type:c}=a,{name:f,isArray:d}=wBe(s);let p=t.getUniformLocation(e,f);const m={location:p,name:f,size:o,type:c,isArray:d};if(n.push(m),m.size>1)for(let y=0;y<m.size;y++){const v=`${f}[${y}]`;p=t.getUniformLocation(e,v);const b={...m,name:v,location:p};n.push(b)}}return n}function _Be(t,e){const n=(a,s)=>t.getActiveUniformBlockParameter(e,a,s),r=[],i=t.getProgramParameter(e,35382);for(let a=0;a<i;a++){const s={name:t.getActiveUniformBlockName(e,a)||"",location:n(a,35391),byteLength:n(a,35392),vertex:n(a,35396),fragment:n(a,35398),uniformCount:n(a,35394),uniforms:[]},o=n(a,35395)||[],c=t.getActiveUniforms(e,o,35383),f=t.getActiveUniforms(e,o,35384),d=t.getActiveUniforms(e,o,35387),p=t.getActiveUniforms(e,o,35388);for(let m=0;m<s.uniformCount;++m){const y=t.getActiveUniform(e,o[m]);if(!y)throw new Error("activeInfo");const v=XR(c[m]);s.uniforms.push({name:y.name,format:v,type:c[m],arrayLength:f[m],byteOffset:d[m],byteStride:p[m]})}r.push(s)}return r.sort((a,s)=>a.location-s.location),r}function wBe(t){if(t[t.length-1]!=="]")return{name:t,length:1,isArray:!1};const n=/([^[]*)(\[[0-9]+\])?/.exec(t);if(!n||n.length<2)throw new Error(`Failed to parse GLSL uniform name ${t}`);return{name:n[1],length:n[2]?1:0,isArray:!!n[2]}}function SBe(t,e,n,r){const i=t;let a=r;a===!0&&(a=1),a===!1&&(a=0);const s=typeof a=="number"?[a]:a;switch(n){case 35678:case 35680:case 35679:case 35682:case 36289:case 36292:case 36293:case 36298:case 36299:case 36300:case 36303:case 36306:case 36307:case 36308:case 36311:if(typeof r!="number")throw new Error("samplers must be set to integers");return t.uniform1i(e,r);case 5126:return t.uniform1fv(e,s);case 35664:return t.uniform2fv(e,s);case 35665:return t.uniform3fv(e,s);case 35666:return t.uniform4fv(e,s);case 5124:return t.uniform1iv(e,s);case 35667:return t.uniform2iv(e,s);case 35668:return t.uniform3iv(e,s);case 35669:return t.uniform4iv(e,s);case 35670:return t.uniform1iv(e,s);case 35671:return t.uniform2iv(e,s);case 35672:return t.uniform3iv(e,s);case 35673:return t.uniform4iv(e,s);case 5125:return i.uniform1uiv(e,s,1);case 36294:return i.uniform2uiv(e,s,2);case 36295:return i.uniform3uiv(e,s,3);case 36296:return i.uniform4uiv(e,s,4);case 35674:return t.uniformMatrix2fv(e,!1,s);case 35675:return t.uniformMatrix3fv(e,!1,s);case 35676:return t.uniformMatrix4fv(e,!1,s);case 35685:return i.uniformMatrix2x3fv(e,!1,s);case 35686:return i.uniformMatrix2x4fv(e,!1,s);case 35687:return i.uniformMatrix3x2fv(e,!1,s);case 35688:return i.uniformMatrix3x4fv(e,!1,s);case 35689:return i.uniformMatrix4x2fv(e,!1,s);case 35690:return i.uniformMatrix4x3fv(e,!1,s)}throw new Error("Illegal uniform")}function TBe(t){switch(t){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 3;case"triangle-list":return 4;case"triangle-strip":return 5;default:throw new Error(t)}}function ABe(t){switch(t){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 1;case"triangle-list":return 4;case"triangle-strip":return 4;default:throw new Error(t)}}const QU=4;class EBe extends xc{device;handle;vs;fs;introspectedLayout;uniforms={};bindings={};varyings=null;_uniformCount=0;_uniformSetters={};get[Symbol.toStringTag](){return"WEBGLRenderPipeline"}constructor(e,n){super(e,n),this.device=e,this.handle=this.props.handle||this.device.gl.createProgram(),this.device._setWebGLDebugMetadata(this.handle,this,{spector:{id:this.props.id}}),this.vs=n.vs,this.fs=n.fs;const{varyings:r,bufferMode:i=35981}=n;r&&r.length>0&&(this.varyings=r,this.device.gl.transformFeedbackVaryings(this.handle,r,i)),this._linkShaders(),ve.time(3,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.introspectedLayout=yBe(this.device.gl,this.handle),ve.timeEnd(3,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.shaderLayout=n.shaderLayout?CBe(this.introspectedLayout,n.shaderLayout):this.introspectedLayout}destroy(){this.handle&&(this.device.gl.useProgram(null),this.device.gl.deleteProgram(this.handle),this.destroyed=!0,this.handle.destroyed=!0,this.handle=null)}setBindings(e,n){for(const[r,i]of Object.entries(e)){const a=this.shaderLayout.bindings.find(s=>s.name===r)||this.shaderLayout.bindings.find(s=>s.name===`${r}Uniforms`);if(!a){const s=this.shaderLayout.bindings.map(o=>`"${o.name}"`).join(", ");n?.disableWarnings||ve.warn(`No binding "${r}" in render pipeline "${this.id}", expected one of ${s}`,i)();continue}switch(i||ve.warn(`Unsetting binding "${r}" in render pipeline "${this.id}"`)(),a.type){case"uniform":if(!(i instanceof up)&&!(i.buffer instanceof up))throw new Error("buffer value");break;case"texture":if(!(i instanceof yf||i instanceof fp||i instanceof cp))throw new Error(`${this} Bad texture binding for ${r}`);break;case"sampler":ve.warn(`Ignoring sampler ${r}`)();break;default:throw new Error(a.type)}this.bindings[r]=i}}draw(e){const{renderPass:n,parameters:r=this.props.parameters,topology:i=this.props.topology,vertexArray:a,vertexCount:s,instanceCount:o,isInstanced:c=!1,firstVertex:f=0,transformFeedback:d}=e,p=TBe(i),m=!!a.indexBuffer,y=a.indexBuffer?.glIndexType;if(this.linkStatus!=="success")return ve.info(2,`RenderPipeline:${this.id}.draw() aborted - waiting for shader linking`)(),!1;if(!this._areTexturesRenderable())return ve.info(2,`RenderPipeline:${this.id}.draw() aborted - textures not yet loaded`)(),!1;this.device.gl.useProgram(this.handle),a.bindBeforeRender(n),d&&d.begin(this.props.topology),this._applyBindings(),this._applyUniforms();const v=n;return rBe(this.device,r,v.glParameters,()=>{m&&c?this.device.gl.drawElementsInstanced(p,s||0,y,f,o||0):m?this.device.gl.drawElements(p,s||0,y,f):c?this.device.gl.drawArraysInstanced(p,f,s||0,o||0):this.device.gl.drawArrays(p,f,s||0),d&&d.end()}),a.unbindAfterRender(n),!0}async _linkShaders(){const{gl:e}=this.device;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),ve.time(QU,`linkProgram for ${this.id}`)(),e.linkProgram(this.handle),ve.timeEnd(QU,`linkProgram for ${this.id}`)(),ve.level,!this.device.features.has("compilation-status-async-webgl")){const r=this._getLinkStatus();this._reportLinkStatus(r);return}ve.once(1,"RenderPipeline linking is asynchronous")(),await this._waitForLinkComplete(),ve.info(2,`RenderPipeline ${this.id} - async linking complete: ${this.linkStatus}`)();const n=this._getLinkStatus();this._reportLinkStatus(n)}async _reportLinkStatus(e){switch(e){case"success":return;default:const n=e==="link-error"?"Link error":"Validation error";switch(this.vs.compilationStatus){case"error":throw this.vs.debugShader(),new Error(`${this} ${n} during compilation of ${this.vs}`);case"pending":await this.vs.asyncCompilationStatus,this.vs.debugShader();break}switch(this.fs?.compilationStatus){case"error":throw this.fs.debugShader(),new Error(`${this} ${n} during compilation of ${this.fs}`);case"pending":await this.fs.asyncCompilationStatus,this.fs.debugShader();break}const r=this.device.gl.getProgramInfoLog(this.handle);this.device.reportError(new Error(`${n} during ${e}: ${r}`),this)(),this.device.debug()}}_getLinkStatus(){const{gl:e}=this.device;return e.getProgramParameter(this.handle,35714)?(e.validateProgram(this.handle),e.getProgramParameter(this.handle,35715)?(this.linkStatus="success","success"):(this.linkStatus="error","validation-error")):(this.linkStatus="error","link-error")}async _waitForLinkComplete(){const e=async i=>await new Promise(a=>setTimeout(a,i));if(!this.device.features.has("compilation-status-async-webgl")){await e(10);return}const{gl:r}=this.device;for(;;){if(r.getProgramParameter(this.handle,37297))return;await e(10)}}_areTexturesRenderable(){let e=!0;for(const n of this.shaderLayout.bindings)!this.bindings[n.name]&&!this.bindings[n.name.replace(/Uniforms$/,"")]&&(ve.warn(`Binding ${n.name} not found in ${this.id}`)(),e=!1);return e}_applyBindings(){if(this.linkStatus!=="success")return;const{gl:e}=this.device;e.useProgram(this.handle);let n=0,r=0;for(const i of this.shaderLayout.bindings){const a=this.bindings[i.name]||this.bindings[i.name.replace(/Uniforms$/,"")];if(!a)throw new Error(`No value for binding ${i.name} in ${this.id}`);switch(i.type){case"uniform":const{name:s}=i,o=e.getUniformBlockIndex(this.handle,s);if(o===4294967295)throw new Error(`Invalid uniform block name ${s}`);e.uniformBlockBinding(this.handle,r,o),a instanceof up?e.bindBufferBase(35345,r,a.handle):e.bindBufferRange(35345,r,a.buffer.handle,a.offset||0,a.size||a.buffer.byteLength-a.offset),r+=1;break;case"texture":if(!(a instanceof yf||a instanceof fp||a instanceof cp))throw new Error("texture");let c;if(a instanceof yf)c=a.texture;else if(a instanceof fp)c=a;else if(a instanceof cp&&a.colorAttachments[0]instanceof yf)ve.warn("Passing framebuffer in texture binding may be deprecated. Use fbo.colorAttachments[0] instead")(),c=a.colorAttachments[0].texture;else throw new Error("No texture");e.activeTexture(33984+n),e.bindTexture(c.glTarget,c.handle),n+=1;break;case"sampler":break;case"storage":case"read-only-storage":throw new Error(`binding type '${i.type}' not supported in WebGL`)}}}_applyUniforms(){for(const e of this.shaderLayout.uniforms||[]){const{name:n,location:r,type:i,textureUnit:a}=e,s=this.uniforms[n]??a;s!==void 0&&SBe(this.device.gl,r,i,s)}}}function CBe(t,e){const n={...t,attributes:t.attributes.map(r=>({...r}))};for(const r of e?.attributes||[]){const i=n.attributes.find(a=>a.name===r.name);i?(i.type=r.type||i.type,i.stepMode=r.stepMode||i.stepMode):ve.warn(`shader layout attribute ${r.name} not present in shader`)}return n}class PBe extends bR{device;handle=null;commands=[];constructor(e){super(e,{}),this.device=e}_executeCommands(e=this.commands){for(const n of e)switch(n.name){case"copy-buffer-to-buffer":RBe(this.device,n.options);break;case"copy-buffer-to-texture":OBe(this.device,n.options);break;case"copy-texture-to-buffer":MBe(this.device,n.options);break;case"copy-texture-to-texture":IBe(this.device,n.options);break;default:throw new Error(n.name)}}}function RBe(t,e){const n=e.sourceBuffer,r=e.destinationBuffer;t.gl.bindBuffer(36662,n.handle),t.gl.bindBuffer(36663,r.handle),t.gl.copyBufferSubData(36662,36663,e.sourceOffset??0,e.destinationOffset??0,e.size),t.gl.bindBuffer(36662,null),t.gl.bindBuffer(36663,null)}function OBe(t,e){throw new Error("Not implemented")}function MBe(t,e){const{sourceTexture:n,mipLevel:r=0,aspect:i="all",width:a=e.sourceTexture.width,height:s=e.sourceTexture.height,depthOrArrayLayers:o=0,origin:c=[0,0],destinationBuffer:f,byteOffset:d=0,bytesPerRow:p,rowsPerImage:m}=e;if(i!=="all")throw new Error("aspect not supported in WebGL");if(r!==0||o!==0||p||m)throw new Error("not implemented");const{framebuffer:y,destroyFramebuffer:v}=PK(n);let b;try{const w=f,T=a||y.width,C=s||y.height,A=AK(y.colorAttachments[0].texture.props.format),R=A.format,P=A.type;t.gl.bindBuffer(35051,w.handle),b=t.gl.bindFramebuffer(36160,y.handle),t.gl.readPixels(c[0],c[1],T,C,R,P,d)}finally{t.gl.bindBuffer(35051,null),b!==void 0&&t.gl.bindFramebuffer(36160,b),v&&y.destroy()}}function IBe(t,e){const{sourceTexture:n,destinationMipLevel:r=0,origin:i=[0,0],destinationOrigin:a=[0,0],destinationTexture:s}=e;let{width:o=e.destinationTexture.width,height:c=e.destinationTexture.height}=e;const{framebuffer:f,destroyFramebuffer:d}=PK(n),[p,m]=i,[y,v,b]=a,w=t.gl.bindFramebuffer(36160,f.handle);let T,C;if(s instanceof fp)T=s,o=Number.isFinite(o)?o:T.width,c=Number.isFinite(c)?c:T.height,T._bind(0),C=T.glTarget;else throw new Error("invalid destination");switch(C){case 3553:case 34067:t.gl.copyTexSubImage2D(C,r,y,v,p,m,o,c);break;case 35866:case 32879:t.gl.copyTexSubImage3D(C,r,y,v,b,p,m,o,c);break}T&&T._unbind(),t.gl.bindFramebuffer(36160,w),d&&f.destroy()}function PK(t){if(t instanceof jn){const{width:e,height:n,id:r}=t;return{framebuffer:t.device.createFramebuffer({id:`framebuffer-for-${r}`,width:e,height:n,colorAttachments:[t]}),destroyFramebuffer:!0}}return{framebuffer:t,destroyFramebuffer:!1}}const kBe=[1,2,4,8];class NBe extends Ql{device;handle=null;glParameters={};constructor(e,n){super(e,n),this.device=e;let r;if(!n?.parameters?.viewport)if(n?.framebuffer){const{width:a,height:s}=n.framebuffer;r=[0,0,a,s]}else{const[a,s]=e.getDefaultCanvasContext().getDrawingBufferSize();r=[0,0,a,s]}this.device.pushState(),this.setParameters({viewport:r,...this.props.parameters});const i=this.props.framebuffer;if(this.props.framebuffer&&i?.handle){const a=this.props.framebuffer.colorAttachments.map((s,o)=>36064+o);this.device.gl.drawBuffers(a)}else this.device.gl.drawBuffers([1029]);this.clear()}end(){this.device.popState()}pushDebugGroup(e){}popDebugGroup(){}insertDebugMarker(e){}setParameters(e={}){const n={...this.glParameters};n.framebuffer=this.props.framebuffer||null,this.props.depthReadOnly&&(n.depthMask=!this.props.depthReadOnly),n.stencilMask=this.props.stencilReadOnly?0:1,n[35977]=this.props.discard,e.viewport&&(e.viewport.length>=6?(n.viewport=e.viewport.slice(0,4),n.depthRange=[e.viewport[4],e.viewport[5]]):n.viewport=e.viewport),e.scissorRect&&(n.scissorTest=!0,n.scissor=e.scissorRect),e.blendConstant&&(n.blendColor=e.blendConstant),e.stencilReference&&(console.warn("RenderPassParameters.stencilReference not yet implemented in WebGL"),n[2967]=e.stencilReference),"colorMask"in e&&(n.colorMask=kBe.map(r=>!!(r&e.colorMask))),this.glParameters=n,Ed(this.device.gl,n)}beginOcclusionQuery(e){this.props.occlusionQuerySet?.beginOcclusionQuery()}endOcclusionQuery(){this.props.occlusionQuerySet?.endOcclusionQuery()}clear(){const e={...this.glParameters};let n=0;this.props.clearColors&&this.props.clearColors.forEach((r,i)=>{r&&this.clearColorBuffer(i,r)}),this.props.clearColor!==!1&&this.props.clearColors===void 0&&(n|=16384,e.clearColor=this.props.clearColor),this.props.clearDepth!==!1&&(n|=256,e.clearDepth=this.props.clearDepth),this.props.clearStencil!==!1&&(n|=1024,e.clearStencil=this.props.clearStencil),n!==0&&Qp(this.device.gl,e,()=>{this.device.gl.clear(n)})}clearColorBuffer(e=0,n=[0,0,0,0]){Qp(this.device.gl,{framebuffer:this.props.framebuffer},()=>{switch(n.constructor){case Int8Array:case Int16Array:case Int32Array:this.device.gl.clearBufferiv(6144,e,n);break;case Uint8Array:case Uint8ClampedArray:case Uint16Array:case Uint32Array:this.device.gl.clearBufferuiv(6144,e,n);break;case Float32Array:this.device.gl.clearBufferfv(6144,e,n);break;default:throw new Error("clearColorBuffer: color must be typed array")}})}}class JU extends vR{device;handle=null;commandBuffer;constructor(e,n){super(e,n),this.device=e,this.commandBuffer=new PBe(e)}destroy(){}finish(){return this.commandBuffer}beginRenderPass(e){return new NBe(this.device,e)}beginComputePass(e){throw new Error("ComputePass not supported in WebGL")}copyBufferToBuffer(e){this.commandBuffer.commands.push({name:"copy-buffer-to-buffer",options:e})}copyBufferToTexture(e){this.commandBuffer.commands.push({name:"copy-buffer-to-texture",options:e})}copyTextureToBuffer(e){this.commandBuffer.commands.push({name:"copy-texture-to-buffer",options:e})}copyTextureToTexture(e){this.commandBuffer.commands.push({name:"copy-texture-to-texture",options:e})}pushDebugGroup(e){}popDebugGroup(){}insertDebugMarker(e){}resolveQuerySet(e,n,r){}}function DBe(t){const{target:e,source:n,start:r=0,count:i=1}=t,a=n.length,s=i*a;let o=0;for(let c=r;o<a;o++)e[c++]=n[o];for(;o<s;)o<s-o?(e.copyWithin(r+o,r,r+o),o*=2):(e.copyWithin(r+o,r,r+s-o),o=s);return t.target}class KR extends xR{get[Symbol.toStringTag](){return"VertexArray"}device;handle;buffer=null;bufferValue=null;static isConstantAttributeZeroSupported(e){return XCe()==="Chrome"}constructor(e,n){super(e,n),this.device=e,this.handle=this.device.gl.createVertexArray()}destroy(){super.destroy(),this.buffer&&this.buffer?.destroy(),this.handle&&(this.device.gl.deleteVertexArray(this.handle),this.handle=void 0)}setIndexBuffer(e){const n=e;if(n&&n.glTarget!==34963)throw new Error("Use .setBuffer()");this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34963,n?n.handle:null),this.indexBuffer=n,this.device.gl.bindVertexArray(null)}setBuffer(e,n){const r=n;if(r.glTarget===34963)throw new Error("Use .setIndexBuffer()");const{size:i,type:a,stride:s,offset:o,normalized:c,integer:f,divisor:d}=this._getAccessor(e);this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34962,r.handle),f?this.device.gl.vertexAttribIPointer(e,i,a,s,o):this.device.gl.vertexAttribPointer(e,i,a,c,s,o),this.device.gl.bindBuffer(34962,null),this.device.gl.enableVertexAttribArray(e),this.device.gl.vertexAttribDivisor(e,d||0),this.attributes[e]=r,this.device.gl.bindVertexArray(null)}setConstantWebGL(e,n){this._enable(e,!1),this.attributes[e]=n}bindBeforeRender(){this.device.gl.bindVertexArray(this.handle),this._applyConstantAttributes()}unbindAfterRender(){this.device.gl.bindVertexArray(null)}_applyConstantAttributes(){for(let e=0;e<this.maxVertexAttributes;++e){const n=this.attributes[e];ArrayBuffer.isView(n)&&this.device.setConstantAttributeWebGL(e,n)}}_getAccessor(e){const n=this.attributeInfos[e];if(!n)throw new Error(`Unknown attribute location ${e}`);const r=TK(n.bufferDataType);return{size:n.bufferComponents,type:r,stride:n.byteStride,offset:n.byteOffset,normalized:n.normalized,integer:n.integer,divisor:n.stepMode==="instance"?1:0}}_enable(e,n=!0){const i=KR.isConstantAttributeZeroSupported(this.device)||e!==0;(n||i)&&(e=Number(e),this.device.gl.bindVertexArray(this.handle),n?this.device.gl.enableVertexAttribArray(e):this.device.gl.disableVertexAttribArray(e),this.device.gl.bindVertexArray(null))}getConstantBuffer(e,n){const r=BBe(n),i=r.byteLength*e,a=r.length*e;if(this.buffer&&i!==this.buffer.byteLength)throw new Error(`Buffer size is immutable, byte length ${i} !== ${this.buffer.byteLength}.`);let s=!this.buffer;if(this.buffer=this.buffer||this.device.createBuffer({byteLength:i}),s||=!LBe(r,this.bufferValue),s){const o=jOe(n.constructor,a);DBe({target:o,source:r,start:0,count:a}),this.buffer.write(o),this.bufferValue=n}return this.buffer}}function BBe(t){return Array.isArray(t)?new Float32Array(t):t}function LBe(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}class jBe extends _R{device;gl;handle;layout;buffers={};unusedBuffers={};bindOnUse=!0;_bound=!1;constructor(e,n){super(e,n),this.device=e,this.gl=e.gl,this.handle=this.props.handle||this.gl.createTransformFeedback(),this.layout=this.props.layout,n.buffers&&this.setBuffers(n.buffers),Object.seal(this)}destroy(){this.gl.deleteTransformFeedback(this.handle),super.destroy()}begin(e="point-list"){this.gl.bindTransformFeedback(36386,this.handle),this.bindOnUse&&this._bindBuffers(),this.gl.beginTransformFeedback(ABe(e))}end(){this.gl.endTransformFeedback(),this.bindOnUse&&this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null)}setBuffers(e){this.buffers={},this.unusedBuffers={},this.bind(()=>{for(const n in e)this.setBuffer(n,e[n])})}setBuffer(e,n){const r=this._getVaryingIndex(e),{buffer:i,byteLength:a,byteOffset:s}=this._getBufferRange(n);if(r<0){this.unusedBuffers[e]=i,ve.warn(`${this.id} unusedBuffers varying buffer ${e}`)();return}this.buffers[r]={buffer:i,byteLength:a,byteOffset:s},this.bindOnUse||this._bindBuffer(r,i,s,a)}getBuffer(e){if(eF(e))return this.buffers[e]||null;const n=this._getVaryingIndex(e);return n>=0?this.buffers[n]:null}bind(e=this.handle){if(typeof e!="function")return this.gl.bindTransformFeedback(36386,e),this;let n;return this._bound?n=e():(this.gl.bindTransformFeedback(36386,this.handle),this._bound=!0,n=e(),this._bound=!1,this.gl.bindTransformFeedback(36386,null)),n}unbind(){this.bind(null)}_getBufferRange(e){if(e instanceof up)return{buffer:e,byteOffset:0,byteLength:e.byteLength};const{buffer:n,byteOffset:r=0,byteLength:i=e.buffer.byteLength}=e;return{buffer:n,byteOffset:r,byteLength:i}}_getVaryingIndex(e){if(eF(e))return Number(e);for(const n of this.layout.varyings||[])if(e===n.name)return n.location;return-1}_bindBuffers(){for(const e in this.buffers){const{buffer:n,byteLength:r,byteOffset:i}=this._getBufferRange(this.buffers[e]);this._bindBuffer(Number(e),n,i,r)}}_unbindBuffers(){for(const e in this.buffers)this.gl.bindBufferBase(35982,Number(e),null)}_bindBuffer(e,n,r=0,i){const a=n&&n.handle;!a||i===void 0?this.gl.bindBufferBase(35982,e,a):this.gl.bindBufferRange(35982,e,a,r,i)}}function eF(t){return typeof t=="number"?Number.isInteger(t):/^\d+$/.test(t)}class UBe extends wR{device;handle;target=null;_queryPending=!1;_pollingPromise=null;get[Symbol.toStringTag](){return"Query"}constructor(e,n){if(super(e,n),this.device=e,n.count>1)throw new Error("WebGL QuerySet can only have one value");const r=this.device.gl.createQuery();if(!r)throw new Error("WebGL query not supported");this.handle=r,Object.seal(this)}destroy(){this.device.gl.deleteQuery(this.handle)}beginTimestampQuery(){return this._begin(35007)}endTimestampQuery(){this._end()}beginOcclusionQuery(e){return this._begin(e?.conservative?36202:35887)}endOcclusionQuery(){this._end()}beginTransformFeedbackQuery(){return this._begin(35976)}endTransformFeedbackQuery(){this._end()}async resolveQuery(){return[await this.pollQuery()]}_begin(e){this._queryPending||(this.target=e,this.device.gl.beginQuery(this.target,this.handle))}_end(){this._queryPending||this.target&&(this.device.gl.endQuery(this.target),this.target=null,this._queryPending=!0)}isResultAvailable(){if(!this._queryPending)return!1;const e=this.device.gl.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}isTimerDisjoint(){return this.device.gl.getParameter(36795)}getResult(){return this.device.gl.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}pollQuery(e=Number.POSITIVE_INFINITY){if(this._pollingPromise)return this._pollingPromise;let n=0;return this._pollingPromise=new Promise((r,i)=>{const a=()=>{this.isResultAvailable()?(r(this.getResult()),this._pollingPromise=null):n++>e?(i("Timed out"),this._pollingPromise=null):requestAnimationFrame(a)};requestAnimationFrame(a)}),this._pollingPromise}}function RK(t){switch(t){case 6406:case 33326:case 6403:case 36244:return 1;case 33339:case 33340:case 33328:case 33320:case 33319:return 2;case 6407:case 36248:case 34837:return 3;case 6408:case 36249:case 34836:return 4;default:return 0}}function FBe(t){switch(t){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return 0}}function $Be(t){return zBe[t]}const zBe={5124:"sint32",5125:"uint32",5122:"sint16",5123:"uint16",5120:"sint8",5121:"uint8",5126:"float32",5131:"float16",33635:"uint16",32819:"uint16",32820:"uint16",33640:"uint32",35899:"uint32",35902:"uint32",34042:"uint32",36269:"uint32"};function VBe(t,e){const{sourceX:n=0,sourceY:r=0,sourceAttachment:i=0}=e||{};let{target:a=null,sourceWidth:s,sourceHeight:o,sourceDepth:c,sourceFormat:f,sourceType:d}=e||{};const{framebuffer:p,deleteFramebuffer:m}=OK(t),{gl:y,handle:v}=p;s||=p.width,o||=p.height;const b=p.colorAttachments[i]?.texture;if(!b)throw new Error(`Invalid framebuffer attachment ${i}`);c=b?.depth||1,f||=b?.glFormat||6408,d||=b?.glType||5121,a=qBe(a,d,f,s,o);const w=pR(a);d=d||dBe(w);const T=y.bindFramebuffer(36160,v);return y.readBuffer(36064+i),y.readPixels(n,r,s,o,f,d,a),y.readBuffer(36064),y.bindFramebuffer(36160,T||null),m&&p.destroy(),a}function HBe(t,e){const{target:n,sourceX:r=0,sourceY:i=0,sourceFormat:a=6408,targetByteOffset:s=0}=e||{};let{sourceWidth:o,sourceHeight:c,sourceType:f}=e||{};const{framebuffer:d,deleteFramebuffer:p}=OK(t);o=o||d.width,c=c||d.height;const m=d;f=f||5121;let y=n;if(!y){const b=RK(a),w=FBe(f),T=s+o*c*b*w;y=m.device.createBuffer({byteLength:T})}const v=t.device.createCommandEncoder();return v.copyTextureToBuffer({sourceTexture:t,width:o,height:c,origin:[r,i],destinationBuffer:y,byteOffset:s}),v.destroy(),p&&d.destroy(),y}function OK(t){return t instanceof Vx?{framebuffer:t,deleteFramebuffer:!1}:{framebuffer:WBe(t),deleteFramebuffer:!0}}function WBe(t,e){const{device:n,width:r,height:i,id:a}=t;return n.createFramebuffer({...e,id:`framebuffer-for-${a}`,width:r,height:i,colorAttachments:[t]})}function qBe(t,e,n,r,i,a){if(t)return t;e||=5121;const s=$Be(e),o=gR(s),c=RK(n);return new o(r*i*c)}class HE extends kc{type="webgl";handle;features;limits;info;canvasContext;preferredColorFormat="rgba8unorm";preferredDepthFormat="depth24plus";commandEncoder;lost;_resolveContextLost;gl;_constants;_extensions={};_polyfilled=!1;spectorJS;get[Symbol.toStringTag](){return"WebGLDevice"}toString(){return`${this[Symbol.toStringTag]}(${this.id})`}isVertexFormatSupported(e){switch(e){case"unorm8x4-bgra":return!1;default:return!0}}constructor(e){super({...e,id:e.id||Q4e("webgl-device")});const n=kc._getCanvasContextProps(e);if(!n)throw new Error("WebGLDevice requires props.createCanvasContext to be set");let r=n.canvas?.gl?.device;if(r)throw new Error(`WebGL context already attached to device ${r.id}`);this.canvasContext=new Z4e(this,n),this.lost=new Promise(d=>{this._resolveContextLost=d});const i={...e.webgl};n.alphaMode==="premultiplied"&&(i.premultipliedAlpha=!0),e.powerPreference!==void 0&&(i.powerPreference=e.powerPreference);const s=this.props._handle||M4e(this.canvasContext.canvas,{onContextLost:d=>this._resolveContextLost?.({reason:"destroyed",message:"Entered sleep mode, or too many apps or browser tabs are using the GPU."}),onContextRestored:d=>console.log("WebGL context restored")},i);if(!s)throw new Error("WebGL context creation failed");if(r=s.device,r){if(e._reuseDevices)return ve.log(1,`Not creating a new Device, instead returning a reference to Device ${r.id} already attached to WebGL context`,r)(),r._reused=!0,r;throw new Error(`WebGL context already attached to device ${r.id}`)}this.handle=s,this.gl=s,this.spectorJS=h4e({...this.props,gl:this.handle}),this.gl.device=this,this.gl._version=2,this.info=I4e(this.gl,this._extensions),this.limits=new K4e(this.gl),this.features=new X4e(this.gl,this._extensions,this.props._disabledFeatures),this.props._initializeFeatures&&this.features.initializeFeatures(),new wc(this.gl,{log:(...d)=>ve.log(1,...d)()}).trackState(this.gl,{copyState:!1});const c=e.debugWebGL||e.debug,f=e.debugWebGL;c&&(this.gl=m4e(this.gl,{debugWebGL:c,traceWebGL:f}),ve.warn("WebGL debug mode activated. Performance reduced.")(),e.debugWebGL&&(ve.level=Math.max(ve.level,1))),this.commandEncoder=new JU(this,{id:`${this}-command-encoder`})}destroy(){!this.props._reuseDevices&&!this._reused&&delete this.gl.device}get isLost(){return this.gl.isContextLost()}getTextureByteAlignment(){return 4}createCanvasContext(e){throw new Error("WebGL only supports a single canvas")}createBuffer(e){const n=this._normalizeBufferProps(e);return new up(this,n)}createTexture(e){return new fp(this,e)}createExternalTexture(e){throw new Error("createExternalTexture() not implemented")}createSampler(e){return new cBe(this,e)}createShader(e){return new nBe(this,e)}createFramebuffer(e){return new cp(this,e)}createVertexArray(e){return new KR(this,e)}createTransformFeedback(e){return new jBe(this,e)}createQuerySet(e){return new UBe(this,e)}createRenderPipeline(e){return new EBe(this,e)}createComputePipeline(e){throw new Error("ComputePipeline not supported in WebGL")}createCommandEncoder(e={}){return new JU(this,e)}submit(e){e||(e=this.commandEncoder.finish(),this.commandEncoder.destroy(),this.commandEncoder=this.createCommandEncoder({id:`${this.id}-default-encoder`})),e._executeCommands()}readPixelsToArrayWebGL(e,n){return VBe(e,n)}readPixelsToBufferWebGL(e,n){return HBe(e,n)}setParametersWebGL(e){Ed(this.gl,e)}getParametersWebGL(e){return wK(this.gl,e)}withParametersWebGL(e,n){return Qp(this.gl,e,n)}resetWebGL(){ve.warn("WebGLDevice.resetWebGL is deprecated, use only for debugging")(),E4e(this.gl)}_getDeviceSpecificTextureFormatCapabilities(e){return V4e(this.gl,e,this._extensions)}loseDevice(){let e=!1;const r=this.getExtension("WEBGL_lose_context").WEBGL_lose_context;return r&&(e=!0,r.loseContext()),this._resolveContextLost?.({reason:"destroyed",message:"Application triggered context loss"}),e}pushState(){wc.get(this.gl).push()}popState(){wc.get(this.gl).pop()}getGLKey(e,n){const r=Number(e);for(const i in this.gl)if(this.gl[i]===r)return`GL.${i}`;return n?.emptyIfUnknown?"":String(e)}getGLKeys(e){const n={emptyIfUnknown:!0};return Object.entries(e).reduce((r,[i,a])=>(r[`${i}:${this.getGLKey(i,n)}`]=`${a}:${this.getGLKey(a,n)}`,r),{})}setConstantAttributeWebGL(e,n){const r=this.limits.maxVertexAttributes;this._constants=this._constants||new Array(r).fill(null);const i=this._constants[e];switch(i&&GBe(i,n)&&ve.info(1,`setConstantAttributeWebGL(${e}) could have been skipped, value unchanged`)(),this._constants[e]=n,n.constructor){case Float32Array:XBe(this,e,n);break;case Int32Array:KBe(this,e,n);break;case Uint32Array:YBe(this,e,n);break;default:throw new Error("constant")}}getExtension(e){return Gf(this.gl,e,this._extensions),this._extensions}_setWebGLDebugMetadata(e,n,r){e.luma=n;const i={props:r.spector,id:r.spector.id};e.__SPECTOR_Metadata=i}}function XBe(t,e,n){switch(n.length){case 1:t.gl.vertexAttrib1fv(e,n);break;case 2:t.gl.vertexAttrib2fv(e,n);break;case 3:t.gl.vertexAttrib3fv(e,n);break;case 4:t.gl.vertexAttrib4fv(e,n);break}}function KBe(t,e,n){t.gl.vertexAttribI4iv(e,n)}function YBe(t,e,n){t.gl.vertexAttribI4uiv(e,n)}function GBe(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}const tF=Object.freeze(Object.defineProperty({__proto__:null,WebGLDevice:HE},Symbol.toStringTag,{value:"Module"}));function Ho(){}const ZBe=({isDragging:t})=>t?"grabbing":"grab",MK={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,parameters:{},parent:null,device:null,deviceProps:{},gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,widgets:[],onDeviceInitialized:Ho,onWebGLInitialized:Ho,onResize:Ho,onViewStateChange:Ho,onInteractionStateChange:Ho,onBeforeRender:Ho,onAfterRender:Ho,onLoad:Ho,onError:t=>ut.error(t.message,t.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:ZBe,getTooltip:null,debug:!1,drawPickingColors:!1};class YR{constructor(e){this.width=0,this.height=0,this.userData={},this.device=null,this.canvas=null,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this.eventManager=null,this.widgetManager=null,this.tooltip=null,this.animationLoop=null,this.cursorState={isHovering:!1,isDragging:!1},this.stats=new jx({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this._lastPointerDownInfo=null,this._onPointerMove=r=>{const{_pickRequest:i}=this;if(r.type==="pointerleave")i.x=-1,i.y=-1,i.radius=0;else{if(r.leftButton||r.rightButton)return;{const a=r.offsetCenter;if(!a)return;i.x=a.x,i.y=a.y,i.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:i.x,y:i.y}),i.event=r},this._onEvent=r=>{const i=kE[r.type],a=r.offsetCenter;if(!i||!a||!this.layerManager)return;const s=this.layerManager.getLayers(),o=this.deckPicker.getLastPickedObject({x:a.x,y:a.y,layers:s,viewports:this.getViewports(a)},this._lastPointerDownInfo),{layer:c}=o,f=c&&(c[i]||c.props[i]),d=this.props[i];let p=!1;f&&(p=f.call(c,o,r)),p||(d?.(o,r),this.widgetManager.onEvent(o,r))},this._onPointerDown=r=>{if(this.device?.type==="webgpu")return;const i=r.offsetCenter,a=this._pick("pickObject","pickObject Time",{x:i.x,y:i.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=a.result[0]||a.emptyInfo},this.props={...MK,...e},e=this.props,e.viewState&&e.initialViewState&&ut.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),this.viewState=this.props.initialViewState,e.device&&(this.device=e.device);let n=this.device;!n&&e.gl&&(e.gl instanceof WebGLRenderingContext&&ut.error("WebGL1 context not supported.")(),n=f2.attach(e.gl,this.props.deviceProps)),n||(n=this._createDevice(e)),this.animationLoop=this._createAnimationLoop(n,e),this.setProps(e),e._typedArrayManagerProps&&Zp.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){this.animationLoop?.stop(),this.animationLoop?.destroy(),this.animationLoop=null,this._lastPointerDownInfo=null,this.layerManager?.finalize(),this.layerManager=null,this.viewManager?.finalize(),this.viewManager=null,this.effectManager?.finalize(),this.effectManager=null,this.deckRenderer?.finalize(),this.deckRenderer=null,this.deckPicker?.finalize(),this.deckPicker=null,this.eventManager?.destroy(),this.eventManager=null,this.widgetManager?.finalize(),this.widgetManager=null,!this.props.canvas&&!this.props.device&&!this.props.gl&&this.canvas&&(this.canvas.parentElement?.removeChild(this.canvas),this.canvas=null)}setProps(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&ut.removed("onLayerHover","onHover")(),"onLayerClick"in e&&ut.removed("onLayerClick","onClick")(),e.initialViewState&&!kr(this.props.initialViewState,e.initialViewState,3)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const n=Object.create(this.props);if(Object.assign(n,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),e.device&&e.device.id!==this.device?.id&&(this.animationLoop?.stop(),this.canvas!==e.device.canvasContext?.canvas&&(this.canvas?.remove(),this.eventManager?.destroy(),this.canvas=null),ut.log(`recreating animation loop for new device! id=${e.device.id}`)(),this.animationLoop=this._createAnimationLoop(e.device,e),this.animationLoop.start()),this.animationLoop?.setProps(n),e.useDevicePixels!==void 0&&this.device?.canvasContext?.canvas instanceof HTMLCanvasElement){this.device.canvasContext.props.useDevicePixels=e.useDevicePixels;const r=this.device.canvasContext.canvas,i={target:r,contentBoxSize:[{inlineSize:r.clientWidth,blockSize:r.clientHeight}],devicePixelContentBoxSize:[{inlineSize:r.clientWidth,blockSize:r.clientHeight}],borderBoxSize:[{inlineSize:r.clientWidth,blockSize:r.clientHeight}]};this.device.canvasContext._handleResize([i])}this.layerManager&&(this.viewManager.setProps(n),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(n),this.effectManager.setProps(n),this.deckRenderer.setProps(n),this.deckPicker.setProps(n),this.widgetManager.setProps(n)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let n=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const r=this.viewManager.needsRedraw(e),i=this.layerManager.needsRedraw(e),a=this.effectManager.needsRedraw(e),s=this.deckRenderer.needsRedraw(e);return n=n||r||i||a||s,n}redraw(e){if(!this.layerManager)return;let n=this.needsRedraw({clearRedrawFlags:!0});n=e||n,n&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(n):this._drawLayers(n))}get isInitialized(){return this.viewManager!==null}getViews(){return _r(this.viewManager),this.viewManager.views}getViewports(e){return _r(this.viewManager),this.viewManager.getViewports(e)}getCanvas(){return this.canvas}pickObject(e){const n=this._pick("pickObject","pickObject Time",e).result;return n.length?n[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,n=!1){for(const r in e)this.layerManager.resourceManager.add({resourceId:r,data:e[r],forceUpdate:n})}_removeResources(e){for(const n of e)this.layerManager.resourceManager.remove(n)}_addDefaultEffect(e){this.effectManager.addDefaultEffect(e)}_addDefaultShaderModule(e){this.layerManager.addDefaultShaderModule(e)}_removeDefaultShaderModule(e){this.layerManager?.removeDefaultShaderModule(e)}_pick(e,n,r){_r(this.deckPicker);const{stats:i}=this;i.get("Pick Count").incrementCount(),i.get(n).timeStart();const a=this.deckPicker[e]({layers:this.layerManager.getLayers(r),views:this.viewManager.getViews(),viewports:this.getViewports(r),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...r});return i.get(n).timeEnd(),a}_createCanvas(e){let n=e.canvas;return typeof n=="string"&&(n=document.getElementById(n),_r(n)),n||(n=document.createElement("canvas"),n.id=e.id||"deckgl-overlay",e.width&&typeof e.width=="number"&&(n.width=e.width),e.height&&typeof e.height=="number"&&(n.height=e.height),(e.parent||document.body).appendChild(n)),Object.assign(n.style,e.style),n}_setCanvasSize(e){if(!this.canvas)return;const{width:n,height:r}=e;if(n||n===0){const i=Number.isFinite(n)?`${n}px`:n;this.canvas.style.width=i}if(r||r===0){const i=Number.isFinite(r)?`${r}px`:r;this.canvas.style.position=e.style?.position||"absolute",this.canvas.style.height=i}}_updateCanvasSize(){const{canvas:e}=this;if(!e)return;const n=e.clientWidth??e.width,r=e.clientHeight??e.height;(n!==this.width||r!==this.height)&&(this.width=n,this.height=r,this.viewManager?.setProps({width:n,height:r}),this.layerManager?.activateViewport(this.getViewports()[0]),this.props.onResize({width:n,height:r}))}_createAnimationLoop(e,n){const{gl:r,onError:i}=n;return new jR({device:e,autoResizeDrawingBuffer:!r,autoResizeViewport:!1,onInitialize:a=>this._setDevice(a.device),onRender:this._onRenderFrame.bind(this),onError:i})}_createDevice(e){const n=this.props.deviceProps?.createCanvasContext,r=typeof n=="object"?n:void 0,i={adapters:[],...e.deviceProps};i.adapters.includes(f2)||i.adapters.push(f2);const a={alphaMode:this.props.deviceProps?.type==="webgpu"?"premultiplied":void 0};return SE.createDevice({_reuseDevices:!0,type:"webgl",...i,createCanvasContext:{...a,...r,canvas:this._createCanvas(e),useDevicePixels:this.props.useDevicePixels,autoResize:!0}})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){const{views:e}=this.props,n=Array.isArray(e)?e:e?[e]:[new vK({id:"default-view"})];return n.length&&this.props.controller&&(n[0].props.controller=this.props.controller),n}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){if(this.device?.type==="webgpu")return;const{_pickRequest:e}=this;if(e.event){const{result:n,emptyInfo:r}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=n.length>0;let i=r,a=!1;for(const s of n)i=s,a=s.layer?.onHover(s,e.event)||a;a||(this.props.onHover?.(i,e.event),this.widgetManager.onHover(i,e.event)),e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setDevice(e){if(this.device=e,!this.animationLoop)return;this.canvas||(this.canvas=this.device.canvasContext?.canvas,!this.canvas.isConnected&&this.props.parent&&this.props.parent.insertBefore(this.canvas,this.props.parent.firstChild)),this.device.type==="webgl"&&this.device.setParametersWebGL({blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onDeviceInitialized(this.device),this.device.type==="webgl"&&this.props.onWebGLInitialized(this.device.gl);const n=new dK;n.play(),this.animationLoop.attachTimeline(n),this.eventManager=new Oke(this.props.parent||this.canvas,{touchAction:this.props.touchAction,recognizers:Object.keys(gU).map(i=>{const[a,s,o,c]=gU[i],f=this.props.eventRecognizerOptions?.[i],d={...s,...f,event:i};return{recognizer:new a(d),recognizeWith:o,requestFailure:c}}),events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const i in kE)this.eventManager.on(i,this._onEvent);this.viewManager=new RDe({timeline:n,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const r=this.viewManager.getViewports()[0];this.layerManager=new PDe(this.device,{deck:this,stats:this.stats,viewport:r,timeline:n}),this.effectManager=new WDe({deck:this,device:this.device}),this.deckRenderer=new KDe(this.device),this.deckPicker=new ZDe(this.device),this.widgetManager=new e4e({deck:this,parentElement:this.canvas?.parentElement}),this.widgetManager.addDefault(new bK),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,n){const{device:r,gl:i}=this.layerManager.context;this.props.onBeforeRender({device:r,gl:i});const a={target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...n};this.deckRenderer?.renderLayers(a),a.pass==="screen"&&this.widgetManager.onRedraw({viewports:a.viewports,layers:a.layers}),this.props.onAfterRender({device:r,gl:i})}_onRenderFrame(){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),ut.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),this.device?.type!=="webgpu"&&this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const n=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:n},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const n=this.animationLoop.stats;e.get("GPU Time").addTime(n.get("GPU Time").lastTiming),e.get("CPU Time").addTime(n.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:n}=this;e.fps=n.get("frameRate").getHz(),e.setPropsTime=n.get("setProps Time").time,e.updateAttributesTime=n.get("Update Attributes").time,e.framesRedrawn=n.get("Redraw Count").count,e.pickTime=n.get("pickObject Time").time+n.get("pickMultipleObjects Time").time+n.get("pickObjects Time").time,e.pickCount=n.get("Pick Count").count,e.gpuTime=n.get("GPU Time").time,e.cpuTime=n.get("CPU Time").time,e.gpuTimePerFrame=n.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=n.get("CPU Time").getAverageTime();const r=SE.stats.get("Memory Usage");e.bufferMemory=r.get("Buffer Memory").count,e.textureMemory=r.get("Texture Memory").count,e.renderbufferMemory=r.get("Renderbuffer Memory").count,e.gpuMemory=r.get("GPU Memory").count}}YR.defaultProps=MK;YR.VERSION=pRe;function QBe(t){switch(t){case"float64":return Float64Array;case"uint8":case"unorm8":return Uint8ClampedArray;default:return gR(t)}}const JBe=pR;function tv(t,e,n){const r=n==="webgpu"&&e.type==="uint8"?"unorm8":e.type;return{attribute:t,format:e.size>1?`${r}x${e.size}`:e.type,byteOffset:e.offset||0}}function cc(t){return t.stride||t.size*t.bytesPerElement}function eLe(t,e){return t.type===e.type&&t.size===e.size&&cc(t)===cc(e)&&(t.offset||0)===(e.offset||0)}function WE(t,e){e.offset&&ut.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const n=cc(t),r=e.vertexOffset!==void 0?e.vertexOffset:t.vertexOffset||0,i=e.elementOffset||0,a=r*n+i*t.bytesPerElement+(t.offset||0);return{...e,offset:a,stride:n}}function tLe(t,e){const n=WE(t,e);return{high:n,low:{...n,offset:n.offset+t.size*4}}}class nLe{constructor(e,n,r){this._buffer=null,this.device=e,this.id=n.id||"",this.size=n.size||1;const i=n.logicalType||n.type,a=i==="float64";let{defaultValue:s}=n;s=Number.isFinite(s)?[s]:s||new Array(this.size).fill(0);let o;a?o="float32":!i&&n.isIndexed?o="uint32":o=i||"float32";let c=QBe(i||o);this.doublePrecision=a,a&&n.fp64===!1&&(c=Float32Array),this.value=null,this.settings={...n,defaultType:c,defaultValue:s,logicalType:i,type:o,normalized:o.includes("norm"),size:this.size,bytesPerElement:c.BYTES_PER_ELEMENT},this.state={...r,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}}get isConstant(){return this.state.constant}get buffer(){return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*cc(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),Zp.release(this.state.allocatedValue)}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(e=this.id,n=null){const r={};if(this.state.constant){const i=this.value;if(n){const a=WE(this.getAccessor(),n),s=a.offset/i.BYTES_PER_ELEMENT,o=a.size||this.size;r[e]=i.subarray(s,s+o)}else r[e]=i}else r[e]=this.getBuffer();return this.doublePrecision&&(this.value instanceof Float64Array?r[`${e}64Low`]=r[e]:r[`${e}64Low`]=new Float32Array(this.size)),r}_getBufferLayout(e=this.id,n=null){const r=this.getAccessor(),i=[],a={name:this.id,byteStride:cc(r),attributes:i};if(this.doublePrecision){const s=tLe(r,n||{});i.push(tv(e,{...r,...s.high},this.device.type),tv(`${e}64Low`,{...r,...s.low},this.device.type))}else if(n){const s=WE(r,n);i.push(tv(e,{...r,...s},this.device.type))}else i.push(tv(e,r,this.device.type));return a}setAccessor(e){this.state.bufferAccessor=e}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const n=Array.from(this.value);e=[n,n]}else{const{value:n,numInstances:r,size:i}=this,a=r*i;if(n&&a&&n.length>=a){const s=new Array(i).fill(1/0),o=new Array(i).fill(-1/0);for(let c=0;c<a;)for(let f=0;f<i;f++){const d=n[c++];d<s[f]&&(s[f]=d),d>o[f]&&(o[f]=d)}e=[s,o]}}return this.state.bounds=e,e}setData(e){const{state:n}=this;let r;ArrayBuffer.isView(e)?r={value:e}:e instanceof pn?r={buffer:e}:r=e;const i={...this.settings,...r};if(ArrayBuffer.isView(r.value)){if(!r.type)if(this.doublePrecision&&r.value instanceof Float64Array)i.type="float32";else{const s=JBe(r.value);i.type=i.normalized?s.replace("int","norm"):s}i.bytesPerElement=r.value.BYTES_PER_ELEMENT,i.stride=cc(i)}if(n.bounds=null,r.constant){let a=r.value;if(a=this._normalizeValue(a,[],0),this.settings.normalized&&(a=this.normalizeConstant(a)),!(!n.constant||!this._areValuesEqual(a,this.value)))return!1;n.externalBuffer=null,n.constant=!0,this.value=ArrayBuffer.isView(a)?a:new Float32Array(a)}else if(r.buffer){const a=r.buffer;n.externalBuffer=a,n.constant=!1,this.value=r.value||null}else if(r.value){this._checkExternalBuffer(r);let a=r.value;n.externalBuffer=null,n.constant=!1,this.value=a;let{buffer:s}=this;const o=cc(i),c=(i.vertexOffset||0)*o;if(this.doublePrecision&&a instanceof Float64Array&&(a=a2(a,i)),this.settings.isIndexed){const d=this.settings.defaultType;a.constructor!==d&&(a=new d(a))}const f=a.byteLength+c+o*2;(!s||s.byteLength<f)&&(s=this._createBuffer(f)),s.write(a,c)}return this.setAccessor(i),!0}updateSubBuffer(e={}){this.state.bounds=null;const n=this.value,{startOffset:r=0,endOffset:i}=e;this.buffer.write(this.doublePrecision&&n instanceof Float64Array?a2(n,{size:this.size,startIndex:r,endIndex:i}):n.subarray(r,i),r*n.BYTES_PER_ELEMENT+this.byteOffset)}allocate(e,n=!1){const{state:r}=this,i=r.allocatedValue,a=Zp.allocate(i,e+1,{size:this.size,type:this.settings.defaultType,copy:n});this.value=a;const{byteOffset:s}=this;let{buffer:o}=this;return(!o||o.byteLength<a.byteLength+s)&&(o=this._createBuffer(a.byteLength+s),n&&i&&o.write(i instanceof Float64Array?a2(i,this):i,s)),r.allocatedValue=a,r.constant=!1,r.externalBuffer=null,this.setAccessor(this.settings),!0}_checkExternalBuffer(e){const{value:n}=e;if(!ArrayBuffer.isView(n))throw new Error(`Attribute ${this.id} value is not TypedArray`);const r=this.settings.defaultType;let i=!1;if(this.doublePrecision&&(i=n.BYTES_PER_ELEMENT<4),i)throw new Error(`Attribute ${this.id} does not support ${n.constructor.name}`);!(n instanceof r)&&this.settings.normalized&&!("normalized"in e)&&ut.warn(`Attribute ${this.id} is normalized`)()}normalizeConstant(e){switch(this.settings.type){case"snorm8":return new Float32Array(e).map(n=>(n+128)/255*2-1);case"snorm16":return new Float32Array(e).map(n=>(n+32768)/65535*2-1);case"unorm8":return new Float32Array(e).map(n=>n/255);case"unorm16":return new Float32Array(e).map(n=>n/65535);default:return e}}_normalizeValue(e,n,r){const{defaultValue:i,size:a}=this.settings;if(Number.isFinite(e))return n[r]=e,n;if(!e){let s=a;for(;--s>=0;)n[r+s]=i[s];return n}switch(a){case 4:n[r+3]=Number.isFinite(e[3])?e[3]:i[3];case 3:n[r+2]=Number.isFinite(e[2])?e[2]:i[2];case 2:n[r+1]=Number.isFinite(e[1])?e[1]:i[1];case 1:n[r+0]=Number.isFinite(e[0])?e[0]:i[0];break;default:let s=a;for(;--s>=0;)n[r+s]=Number.isFinite(e[s])?e[s]:i[s]}return n}_areValuesEqual(e,n){if(!e||!n)return!1;const{size:r}=this;for(let i=0;i<r;i++)if(e[i]!==n[i])return!1;return!0}_createBuffer(e){this._buffer&&this._buffer.destroy();const{isIndexed:n,type:r}=this.settings;return this._buffer=this.device.createBuffer({...this._buffer?.props,id:this.id,usage:(n?pn.INDEX:pn.VERTEX)|pn.COPY_DST,indexType:n?r:void 0,byteLength:e}),this._buffer}}const nF=[],rF=[];function IK(t,e=0,n=1/0){let r=nF;const i={index:-1,data:t,target:[]};return t?typeof t[Symbol.iterator]=="function"?r=t:t.length>0&&(rF.length=t.length,r=rF):r=nF,(e>0||Number.isFinite(n))&&(r=(Array.isArray(r)?r:Array.from(r)).slice(e,n),i.index=e-1),{iterable:r,objectInfo:i}}function kK(t){return t&&t[Symbol.asyncIterator]}function rLe(t,e){const{size:n,stride:r,offset:i,startIndices:a,nested:s}=e,o=t.BYTES_PER_ELEMENT,c=r?r/o:n,f=i?i/o:0,d=Math.floor((t.length-f)/c);return(p,{index:m,target:y})=>{if(!a){const T=m*c+f;for(let C=0;C<n;C++)y[C]=t[T+C];return y}const v=a[m],b=a[m+1]||d;let w;if(s){w=new Array(b-v);for(let T=v;T<b;T++){const C=T*c+f;y=new Array(n);for(let A=0;A<n;A++)y[A]=t[C+A];w[T-v]=y}}else if(c===n)w=t.subarray(v*n+f,b*n+f);else{w=new t.constructor((b-v)*n);let T=0;for(let C=v;C<b;C++){const A=C*c+f;for(let R=0;R<n;R++)w[T++]=t[A+R]}}return w}}const iLe=[],kv=[[0,1/0]];function aLe(t,e){if(t===kv||(e[0]<0&&(e[0]=0),e[0]>=e[1]))return t;const n=[],r=t.length;let i=0;for(let a=0;a<r;a++){const s=t[a];s[1]<e[0]?(n.push(s),i=a+1):s[0]>e[1]?n.push(s):e=[Math.min(s[0],e[0]),Math.max(s[1],e[1])]}return n.splice(i,0,e),n}const sLe={interpolation:{duration:0,easing:t=>t},spring:{stiffness:.05,damping:.5}};function NK(t,e){if(!t)return null;Number.isFinite(t)&&(t={type:"interpolation",duration:t});const n=t.type||"interpolation";return{...sLe[n],...e,...t,type:n}}class DK extends nLe{constructor(e,n){super(e,n,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,layoutChanged:!1,updateRanges:kv}),this.constant=!1,this.settings.update=n.update||(n.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const n=this.state.needsRedraw;return this.state.needsRedraw=n&&!e,n}layoutChanged(){return this.state.layoutChanged}setAccessor(e){var n;(n=this.state).layoutChanged||(n.layoutChanged=!eLe(e,this.getAccessor())),super.setAccessor(e)}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat(typeof e!="function"&&e||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:n}=this.settings,r=this.settings.transition,i=Array.isArray(n)?e[n.find(a=>e[a])]:e[n];return NK(i,r)}setNeedsUpdate(e=this.id,n){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),n){const{startRow:r=0,endRow:i=1/0}=n;this.state.updateRanges=aLe(this.state.updateRanges,[r,i])}else this.state.updateRanges=kv}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=iLe}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:n,settings:r}=this;return r.noAlloc?!1:r.update?(super.allocate(e,n.updateRanges!==kv),!0):!1}updateBuffer({numInstances:e,data:n,props:r,context:i}){if(!this.needsUpdate())return!1;const{state:{updateRanges:a},settings:{update:s,noAlloc:o}}=this;let c=!0;if(s){for(const[f,d]of a)s.call(i,this,{data:n,startRow:f,endRow:d,props:r,numInstances:e});if(this.value)if(this.constant||!this.buffer||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[f,d]of a){const p=Number.isFinite(f)?this.getVertexOffset(f):0,m=Number.isFinite(d)?this.getVertexOffset(d):o||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:p,endOffset:m})}this._checkAttributeArray()}else c=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),c}setConstantValue(e,n){const r=this.device.type==="webgpu";if(r||n===void 0||typeof n=="function"){if(r&&typeof n!="function"){const s=this._normalizeValue(n,[],0);this._areValuesEqual(s,this.value)||this.setNeedsUpdate("WebGPU constant updated")}return!1}const i=this.settings.transform&&e?this.settings.transform.call(e,n):n;return this.setData({constant:!0,value:i})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0}setExternalBuffer(e){const{state:n}=this;return e?(this.clearNeedsUpdate(),n.lastExternalBuffer===e||(n.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(n.lastExternalBuffer=null,!1)}setBinaryValue(e,n=null){const{state:r,settings:i}=this;if(!e)return r.binaryValue=null,r.binaryAccessor=null,!1;if(i.noAlloc)return!1;if(r.binaryValue===e)return this.clearNeedsUpdate(),!0;if(r.binaryValue=e,this.setNeedsRedraw(),i.transform||n!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const s=e;_r(ArrayBuffer.isView(s.value),`invalid ${i.accessor}`);const o=!!s.size&&s.size!==this.size;return r.binaryAccessor=rLe(s.value,{size:s.size||this.size,stride:s.stride,offset:s.offset,startIndices:n,nested:o}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:n}=this;return(n?e<n.length?n[e]:this.numInstances:e)*this.size}getValue(){const e=this.settings.shaderAttributes,n=super.getValue();if(!e)return n;for(const r in e)Object.assign(n,super.getValue(r,e[r]));return n}getBufferLayout(e){this.state.layoutChanged=!1;const n=this.settings.shaderAttributes,r=super._getBufferLayout(),{stepMode:i}=this.settings;if(i==="dynamic"?r.stepMode=e?e.isInstanced?"instance":"vertex":"instance":r.stepMode=i??"vertex",!n)return r;for(const a in n){const s=super._getBufferLayout(a,n[a]);r.attributes.push(...s.attributes)}return r}_autoUpdater(e,{data:n,startRow:r,endRow:i,props:a,numInstances:s}){if(e.constant&&this.context.device.type!=="webgpu")return;const{settings:o,state:c,value:f,size:d,startIndices:p}=e,{accessor:m,transform:y}=o;let v=c.binaryAccessor||(typeof m=="function"?m:a[m]);typeof v!="function"&&typeof m=="string"&&(v=()=>a[m]),_r(typeof v=="function",`accessor "${m}" is not a function`);let b=e.getVertexOffset(r);const{iterable:w,objectInfo:T}=IK(n,r,i);for(const C of w){T.index++;let A=v(C,T);if(y&&(A=y.call(this,A)),p){const R=(T.index<p.length-1?p[T.index+1]:s)-p[T.index];if(A&&Array.isArray(A[0])){let P=b;for(const O of A)e._normalizeValue(O,f,P),P+=d}else A&&A.length>d?f.set(A,b):(e._normalizeValue(A,T.target,0),SDe({target:f,source:T.target,start:b,count:R}));b+=R*d}else e._normalizeValue(A,f,b),b+=d}}_validateAttributeUpdaters(){const{settings:e}=this;if(!(e.noAlloc||typeof e.update=="function"))throw new Error(`Attribute ${this.id} missing update or accessor`)}_checkAttributeArray(){const{value:e}=this,n=Math.min(4,this.size);if(e&&e.length>=n){let r=!0;switch(n){case 4:r=r&&Number.isFinite(e[3]);case 3:r=r&&Number.isFinite(e[2]);case 2:r=r&&Number.isFinite(e[1]);case 1:r=r&&Number.isFinite(e[0]);break;default:r=!1}if(!r)throw new Error(`Illegal attribute generated for ${this.id}`)}}}function m2(t){const{source:e,target:n,start:r=0,size:i,getData:a}=t,s=t.end||n.length,o=e.length,c=s-r;if(o>c){n.set(e.subarray(0,c),r);return}if(n.set(e,r),!a)return;let f=o;for(;f<c;){const d=a(f,e);for(let p=0;p<i;p++)n[r+f]=d[p]||0,f++}}function oLe({source:t,target:e,size:n,getData:r,sourceStartIndices:i,targetStartIndices:a}){if(!i||!a)return m2({source:t,target:e,size:n,getData:r}),e;let s=0,o=0;const c=r&&((d,p)=>r(d+o,p)),f=Math.min(i.length,a.length);for(let d=1;d<f;d++){const p=i[d]*n,m=a[d]*n;m2({source:t.subarray(s,p),target:e,start:o,end:m,size:n,getData:c}),s=p,o=m}return o<e.length&&m2({source:[],target:e,start:o,size:n,getData:c}),e}function lLe(t){const{device:e,settings:n,value:r}=t,i=new DK(e,n);return i.setData({value:r instanceof Float64Array?new Float64Array(0):new Float32Array(0),normalized:n.normalized}),i}function BK(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`No defined attribute type for size "${t}"`)}}function LK(t){switch(t){case 1:return"float32";case 2:return"float32x2";case 3:return"float32x3";case 4:return"float32x4";default:throw new Error("invalid type size")}}function jK(t){t.push(t.shift())}function cLe(t,e){const{doublePrecision:n,settings:r,value:i,size:a}=t,s=n&&i instanceof Float64Array?2:1;let o=0;const{shaderAttributes:c}=t.settings;if(c)for(const f of Object.values(c))o=Math.max(o,f.vertexOffset??0);return(r.noAlloc?i.length:(e+o)*a)*s}function UK({device:t,source:e,target:n}){return(!n||n.byteLength<e.byteLength)&&(n?.destroy(),n=t.createBuffer({byteLength:e.byteLength,usage:e.usage})),n}function FK({device:t,buffer:e,attribute:n,fromLength:r,toLength:i,fromStartIndices:a,getData:s=o=>o}){const o=n.doublePrecision&&n.value instanceof Float64Array?2:1,c=n.size*o,f=n.byteOffset,d=n.settings.bytesPerElement<4?f/n.settings.bytesPerElement*4:f,p=n.startIndices,m=a&&p,y=n.isConstant;if(!m&&e&&r>=i)return e;const v=n.value instanceof Float64Array?Float32Array:n.value.constructor,b=y?n.value:new v(n.getBuffer().readSyncWebGL(f,i*v.BYTES_PER_ELEMENT).buffer);if(n.settings.normalized&&!y){const A=s;s=(R,P)=>n.normalizeConstant(A(R,P))}const w=y?(A,R)=>s(b,R):(A,R)=>s(b.subarray(A+f,A+f+c),R),T=e?new Float32Array(e.readSyncWebGL(d,r*4).buffer):new Float32Array(0),C=new Float32Array(i);return oLe({source:T,target:C,sourceStartIndices:a,targetStartIndices:p,size:c,getData:w}),(!e||e.byteLength<C.byteLength+d)&&(e?.destroy(),e=t.createBuffer({byteLength:C.byteLength+d,usage:35050})),e.write(C,d),e}class $K{constructor({device:e,attribute:n,timeline:r}){this.buffers=[],this.currentLength=0,this.device=e,this.transition=new Wx(r),this.attribute=n,this.attributeInTransition=lLe(n),this.currentStartIndices=n.startIndices}get inProgress(){return this.transition.inProgress}start(e,n,r=1/0){this.settings=e,this.currentStartIndices=this.attribute.startIndices,this.currentLength=cLe(this.attribute,n),this.transition.start({...e,duration:r})}update(){const e=this.transition.update();return e&&this.onUpdate(),e}setBuffer(e){this.attributeInTransition.setData({buffer:e,normalized:this.attribute.settings.normalized,value:this.attributeInTransition.value})}cancel(){this.transition.cancel()}delete(){this.cancel();for(const e of this.buffers)e.destroy();this.buffers.length=0}}class uLe extends $K{constructor({device:e,attribute:n,timeline:r}){super({device:e,attribute:n,timeline:r}),this.type="interpolation",this.transform=pLe(e,n)}start(e,n){const r=this.currentLength,i=this.currentStartIndices;if(super.start(e,n,e.duration),e.duration<=0){this.transition.cancel();return}const{buffers:a,attribute:s}=this;jK(a),a[0]=FK({device:this.device,buffer:a[0],attribute:s,fromLength:r,toLength:this.currentLength,fromStartIndices:i,getData:e.enter}),a[1]=UK({device:this.device,source:a[0],target:a[1]}),this.setBuffer(a[1]);const{transform:o}=this,c=o.model;let f=Math.floor(this.currentLength/s.size);zK(s)&&(f/=2),c.setVertexCount(f),s.isConstant?(c.setAttributes({aFrom:a[0]}),c.setConstantAttributes({aTo:s.value})):c.setAttributes({aFrom:a[0],aTo:s.getBuffer()}),o.transformFeedback.setBuffers({vCurrent:a[1]})}onUpdate(){const{duration:e,easing:n}=this.settings,{time:r}=this.transition;let i=r/e;n&&(i=n(i));const{model:a}=this.transform,s={time:i};a.shaderInputs.setProps({interpolation:s}),this.transform.run({discard:!0})}delete(){super.delete(),this.transform.destroy()}}const fLe=`uniform interpolationUniforms {
  float time;
} interpolation;
`,iF={name:"interpolation",vs:fLe,uniformTypes:{time:"f32"}},dLe=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vCurrent;

void main(void) {
  vCurrent = mix(aFrom, aTo, interpolation.time);
  gl_Position = vec4(0.0);
}
`,hLe=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aFrom64Low;
in ATTRIBUTE_TYPE aTo;
in ATTRIBUTE_TYPE aTo64Low;
out ATTRIBUTE_TYPE vCurrent;
out ATTRIBUTE_TYPE vCurrent64Low;

vec2 mix_fp64(vec2 a, vec2 b, float x) {
  vec2 range = sub_fp64(b, a);
  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));
}

void main(void) {
  for (int i=0; i<ATTRIBUTE_SIZE; i++) {
    vec2 value = mix_fp64(vec2(aFrom[i], aFrom64Low[i]), vec2(aTo[i], aTo64Low[i]), interpolation.time);
    vCurrent[i] = value.x;
    vCurrent64Low[i] = value.y;
  }
  gl_Position = vec4(0.0);
}
`;function zK(t){return t.doublePrecision&&t.value instanceof Float64Array}function pLe(t,e){const n=e.size,r=BK(n),i=LK(n),a=e.getBufferLayout();return zK(e)?new Lc(t,{vs:hLe,bufferLayout:[{name:"aFrom",byteStride:8*n,attributes:[{attribute:"aFrom",format:i,byteOffset:0},{attribute:"aFrom64Low",format:i,byteOffset:4*n}]},{name:"aTo",byteStride:8*n,attributes:[{attribute:"aTo",format:i,byteOffset:0},{attribute:"aTo64Low",format:i,byteOffset:4*n}]}],modules:[xIe,iF],defines:{ATTRIBUTE_TYPE:r,ATTRIBUTE_SIZE:n},moduleSettings:{},varyings:["vCurrent","vCurrent64Low"],bufferMode:35980,disableWarnings:!0}):new Lc(t,{vs:dLe,bufferLayout:[{name:"aFrom",format:i},{name:"aTo",format:a.attributes[0].format}],modules:[iF],defines:{ATTRIBUTE_TYPE:r},varyings:["vCurrent"],disableWarnings:!0})}class gLe extends $K{constructor({device:e,attribute:n,timeline:r}){super({device:e,attribute:n,timeline:r}),this.type="spring",this.texture=_Le(e),this.framebuffer=wLe(e,this.texture),this.transform=xLe(e,n)}start(e,n){const r=this.currentLength,i=this.currentStartIndices;super.start(e,n);const{buffers:a,attribute:s}=this;for(let c=0;c<2;c++)a[c]=FK({device:this.device,buffer:a[c],attribute:s,fromLength:r,toLength:this.currentLength,fromStartIndices:i,getData:e.enter});a[2]=UK({device:this.device,source:a[0],target:a[2]}),this.setBuffer(a[1]);const{model:o}=this.transform;o.setVertexCount(Math.floor(this.currentLength/s.size)),s.isConstant?o.setConstantAttributes({aTo:s.value}):o.setAttributes({aTo:s.getBuffer()})}onUpdate(){const{buffers:e,transform:n,framebuffer:r,transition:i}=this,a=this.settings;n.model.setAttributes({aPrev:e[0],aCur:e[1]}),n.transformFeedback.setBuffers({vNext:e[2]});const s={stiffness:a.stiffness,damping:a.damping};n.model.shaderInputs.setProps({spring:s}),n.run({framebuffer:r,discard:!1,parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]}),jK(e),this.setBuffer(e[1]),this.device.readPixelsToArrayWebGL(r)[0]>0||i.end()}delete(){super.delete(),this.transform.destroy(),this.texture.destroy(),this.framebuffer.destroy()}}const mLe=`uniform springUniforms {
  float damping;
  float stiffness;
} spring;
`,yLe={name:"spring",vs:mLe,uniformTypes:{damping:"f32",stiffness:"f32"}},vLe=`#version 300 es
#define SHADER_NAME spring-transition-vertex-shader

#define EPSILON 0.00001

in ATTRIBUTE_TYPE aPrev;
in ATTRIBUTE_TYPE aCur;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vNext;
out float vIsTransitioningFlag;

ATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {
  ATTRIBUTE_TYPE velocity = cur - prev;
  ATTRIBUTE_TYPE delta = dest - cur;
  ATTRIBUTE_TYPE force = delta * spring.stiffness;
  ATTRIBUTE_TYPE resistance = velocity * spring.damping;
  return force - resistance + velocity + cur;
}

void main(void) {
  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;
  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;

  vNext = getNextValue(aCur, aPrev, aTo);
  gl_Position = vec4(0, 0, 0, 1);
  gl_PointSize = 100.0;
}
`,bLe=`#version 300 es
#define SHADER_NAME spring-transition-is-transitioning-fragment-shader

in float vIsTransitioningFlag;

out vec4 fragColor;

void main(void) {
  if (vIsTransitioningFlag == 0.0) {
    discard;
  }
  fragColor = vec4(1.0);
}`;function xLe(t,e){const n=BK(e.size),r=LK(e.size);return new Lc(t,{vs:vLe,fs:bLe,bufferLayout:[{name:"aPrev",format:r},{name:"aCur",format:r},{name:"aTo",format:e.getBufferLayout().attributes[0].format}],varyings:["vNext"],modules:[yLe],defines:{ATTRIBUTE_TYPE:n},parameters:{depthCompare:"always",blendColorOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}})}function _Le(t){return t.createTexture({data:new Uint8Array(4),format:"rgba8unorm",width:1,height:1})}function wLe(t,e){return t.createFramebuffer({id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,colorAttachments:[e]})}const SLe={interpolation:uLe,spring:gLe};class TLe{constructor(e,{id:n,timeline:r}){if(!e)throw new Error("AttributeTransitionManager is constructed without device");this.id=n,this.device=e,this.timeline=r,this.transitions={},this.needsRedraw=!1,this.numInstances=1}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:n,numInstances:r}){this.numInstances=r||1;for(const i in e){const a=e[i],s=a.getTransitionSetting(n);s&&this._updateAttribute(i,a,s)}for(const i in this.transitions){const a=e[i];(!a||!a.getTransitionSetting(n))&&this._removeTransition(i)}}hasAttribute(e){const n=this.transitions[e];return n&&n.inProgress}getAttributes(){const e={};for(const n in this.transitions){const r=this.transitions[n];r.inProgress&&(e[n]=r.attributeInTransition)}return e}run(){if(this.numInstances===0)return!1;for(const n in this.transitions)this.transitions[n].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].delete(),delete this.transitions[e]}_updateAttribute(e,n,r){const i=this.transitions[e];let a=!i||i.type!==r.type;if(a){i&&this._removeTransition(e);const s=SLe[r.type];s?this.transitions[e]=new s({attribute:n,timeline:this.timeline,device:this.device}):(ut.error(`unsupported transition type '${r.type}'`)(),a=!1)}(a||n.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(r,this.numInstances))}}const aF="attributeManager.invalidate",ALe="attributeManager.updateStart",ELe="attributeManager.updateEnd",CLe="attribute.updateStart",PLe="attribute.allocate",RLe="attribute.updateEnd";class qx{constructor(e,{id:n="attribute-manager",stats:r,timeline:i}={}){this.mergeBoundsMemoized=Qg($Ne),this.id=n,this.device=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=r,this.attributeTransitionManager=new TLe(e,{id:`${n}-transitions`,timeline:i}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const n=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,n&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{stepMode:"instance"})}remove(e){for(const n of e)this.attributes[n]!==void 0&&(this.attributes[n].delete(),delete this.attributes[n])}invalidate(e,n){const r=this._invalidateTrigger(e,n);br(aF,this,e,r)}invalidateAll(e){for(const n in this.attributes)this.attributes[n].setNeedsUpdate(n,e);br(aF,this,"all")}update({data:e,numInstances:n,startIndices:r=null,transitions:i,props:a={},buffers:s={},context:o={}}){let c=!1;br(ALe,this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const f in this.attributes){const d=this.attributes[f],p=d.settings.accessor;d.startIndices=r,d.numInstances=n,a[f]&&ut.removed(`props.${f}`,`data.attributes.${f}`)(),d.setExternalBuffer(s[f])||d.setBinaryValue(typeof p=="string"?s[p]:void 0,e.startIndices)||typeof p=="string"&&!s[p]&&d.setConstantValue(o,a[p])||d.needsUpdate()&&(c=!0,this._updateAttribute({attribute:d,numInstances:n,data:e,props:a,context:o})),this.needsRedraw=this.needsRedraw||d.needsRedraw()}c&&br(ELe,this,n),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:n,transitions:i})}updateTransition(){const{attributeTransitionManager:e}=this,n=e.run();return this.needsRedraw=this.needsRedraw||n,n}getAttributes(){return{...this.attributes,...this.attributeTransitionManager.getAttributes()}}getBounds(e){const n=e.map(r=>this.attributes[r]?.getBounds());return this.mergeBoundsMemoized(n)}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:n,attributeTransitionManager:r}=this,i={...r.getAttributes()};for(const a in n){const s=n[a];s.needsRedraw(e)&&!r.hasAttribute(a)&&(i[a]=s)}return i}getBufferLayouts(e){return Object.values(this.getAttributes()).map(n=>n.getBufferLayout(e))}_add(e,n){for(const r in e){const i=e[r],a={...i,id:r,size:i.isIndexed&&1||i.size||1,...n};this.attributes[r]=new DK(this.device,a)}this._mapUpdateTriggersToAttributes()}_mapUpdateTriggersToAttributes(){const e={};for(const n in this.attributes)this.attributes[n].getUpdateTriggers().forEach(i=>{e[i]||(e[i]=[]),e[i].push(n)});this.updateTriggers=e}_invalidateTrigger(e,n){const{attributes:r,updateTriggers:i}=this,a=i[e];return a&&a.forEach(s=>{const o=r[s];o&&o.setNeedsUpdate(o.id,n)}),a}_updateAttribute(e){const{attribute:n,numInstances:r}=e;if(br(CLe,n),n.constant){n.setConstantValue(e.context,n.value);return}n.allocate(r)&&br(PLe,n,r),n.updateBuffer(e)&&(this.needsRedraw=!0,br(RLe,n,r))}}class OLe extends Wx{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:n,toValue:r,duration:i,easing:a}}=this,s=a(e/i);this._value=ob(n,r,s)}}const sF=1e-5;function oF(t,e,n,r,i){const a=e-t,o=(n-e)*i,c=-a*r;return o+c+a+e}function MLe(t,e,n,r,i){if(Array.isArray(n)){const a=[];for(let s=0;s<n.length;s++)a[s]=oF(t[s],e[s],n[s],r,i);return a}return oF(t,e,n,r,i)}function lF(t,e){if(Array.isArray(t)){let n=0;for(let r=0;r<t.length;r++){const i=t[r]-e[r];n+=i*i}return Math.sqrt(n)}return Math.abs(t-e)}class ILe extends Wx{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:n,damping:r,stiffness:i}=this.settings,{_prevValue:a=e,_currValue:s=e}=this;let o=MLe(a,s,n,r,i);const c=lF(o,n),f=lF(o,s);c<sF&&f<sF&&(o=n,this.end()),this._prevValue=s,this._currValue=o}}const kLe={interpolation:OLe,spring:ILe};class NLe{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,n,r,i){const{transitions:a}=this;if(a.has(e)){const c=a.get(e),{value:f=c.settings.fromValue}=c;n=f,this.remove(e)}if(i=NK(i),!i)return;const s=kLe[i.type];if(!s){ut.error(`unsupported transition type '${i.type}'`)();return}const o=new s(this.timeline);o.start({...i,fromValue:n,toValue:r}),a.set(e,o)}remove(e){const{transitions:n}=this;n.has(e)&&(n.get(e).cancel(),n.delete(e))}update(){const e={};for(const[n,r]of this.transitions)r.update(),e[n]=r.value,r.inProgress||this.remove(n);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}function DLe(t){const e=t[il];for(const n in e){const r=e[n],{validate:i}=r;if(i&&!i(t[n],r))throw new Error(`Invalid prop ${n}: ${t[n]}`)}}function BLe(t,e){const n=GR({newProps:t,oldProps:e,propTypes:t[il],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),r=jLe(t,e);let i=!1;return r||(i=ULe(t,e)),{dataChanged:r,propsChanged:n,updateTriggersChanged:i,extensionsChanged:FLe(t,e),transitionsChanged:LLe(t,e)}}function LLe(t,e){if(!t.transitions)return!1;const n={},r=t[il];let i=!1;for(const a in t.transitions){const s=r[a],o=s&&s.type;(o==="number"||o==="color"||o==="array")&&qE(t[a],e[a],s)&&(n[a]=!0,i=!0)}return i?n:!1}function GR({newProps:t,oldProps:e,ignoreProps:n={},propTypes:r={},triggerName:i="props"}){if(e===t)return!1;if(typeof t!="object"||t===null)return`${i} changed shallowly`;if(typeof e!="object"||e===null)return`${i} changed shallowly`;for(const a of Object.keys(t))if(!(a in n)){if(!(a in e))return`${i}.${a} added`;const s=qE(t[a],e[a],r[a]);if(s)return`${i}.${a} ${s}`}for(const a of Object.keys(e))if(!(a in n)){if(!(a in t))return`${i}.${a} dropped`;if(!Object.hasOwnProperty.call(t,a)){const s=qE(t[a],e[a],r[a]);if(s)return`${i}.${a} ${s}`}}return!1}function qE(t,e,n){let r=n&&n.equal;return r&&!r(t,e,n)||!r&&(r=t&&e&&t.equals,r&&!r.call(t,e))?"changed deeply":!r&&e!==t?"changed shallowly":null}function jLe(t,e){if(e===null)return"oldProps is null, initial diff";let n=!1;const{dataComparator:r,_dataDiff:i}=t;return r?r(t.data,e.data)||(n="Data comparator detected a change"):t.data!==e.data&&(n="A new data container was supplied"),n&&i&&(n=i(t.data,e.data)||n),n}function ULe(t,e){if(e===null)return{all:!0};if("all"in t.updateTriggers&&cF(t,e,"all"))return{all:!0};const n={};let r=!1;for(const i in t.updateTriggers)i!=="all"&&cF(t,e,i)&&(n[i]=!0,r=!0);return r?n:!1}function FLe(t,e){if(e===null)return!0;const n=e.extensions,{extensions:r}=t;if(r===n)return!1;if(!n||!r||r.length!==n.length)return!0;for(let i=0;i<r.length;i++)if(!r[i].equals(n[i]))return!0;return!1}function cF(t,e,n){let r=t.updateTriggers[n];r=r??{};let i=e.updateTriggers[n];return i=i??{},GR({oldProps:i,newProps:r,triggerName:n})}const $Le="count(): argument not an object",zLe="count(): argument not a container";function VLe(t){if(!WLe(t))throw new Error($Le);if(typeof t.count=="function")return t.count();if(Number.isFinite(t.size))return t.size;if(Number.isFinite(t.length))return t.length;if(HLe(t))return Object.keys(t).length;throw new Error(zLe)}function HLe(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function WLe(t){return t!==null&&typeof t=="object"}function uF(t,e){if(!e)return t;const n={...t,...e};if("defines"in e&&(n.defines={...t.defines,...e.defines}),"modules"in e&&(n.modules=(t.modules||[]).concat(e.modules),e.modules.some(r=>r.name==="project64"))){const r=n.modules.findIndex(i=>i.name==="project32");r>=0&&n.modules.splice(r,1)}if("inject"in e)if(!t.inject)n.inject=e.inject;else{const r={...t.inject};for(const i in e.inject)r[i]=(r[i]||"")+e.inject[i];n.inject=r}return n}const qLe={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},XE={};function XLe(t,e,n,r){if(n instanceof jn)return n;n.constructor&&n.constructor.name!=="Object"&&(n={data:n});let i=null;n.compressed&&(i={minFilter:"linear",mipmapFilter:n.data.length>1?"nearest":"linear"});const{width:a,height:s}=n.data,o=e.createTexture({...n,sampler:{...qLe,...i,...r},mipLevels:e.getMipLevelCount(a,s)});return o.generateMipmapsWebGL(),XE[o.id]=t,o}function KLe(t,e){!e||!(e instanceof jn)||XE[e.id]===t&&(e.delete(),delete XE[e.id])}const YLe={boolean:{validate(t,e){return!0},equal(t,e,n){return!!t==!!e}},number:{validate(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},color:{validate(t,e){return e.optional&&!t||KE(t)&&(t.length===3||t.length===4)},equal(t,e,n){return kr(t,e,1)}},accessor:{validate(t,e){const n=pb(t);return n==="function"||n===pb(e.value)},equal(t,e,n){return typeof e=="function"?!0:kr(t,e,1)}},array:{validate(t,e){return e.optional&&!t||KE(t)},equal(t,e,n){const{compare:r}=n,i=Number.isInteger(r)?r:r?1:0;return r?kr(t,e,i):t===e}},object:{equal(t,e,n){if(n.ignore)return!0;const{compare:r}=n,i=Number.isInteger(r)?r:r?1:0;return r?kr(t,e,i):t===e}},function:{validate(t,e){return e.optional&&!t||typeof t=="function"},equal(t,e,n){return!n.compare&&n.ignore!==!1||t===e}},data:{transform:(t,e,n)=>{if(!t)return t;const{dataTransform:r}=n.props;return r?r(t):typeof t.shape=="string"&&t.shape.endsWith("-table")&&Array.isArray(t.data)?t.data:t}},image:{transform:(t,e,n)=>{const r=n.context;return!r||!r.device?null:XLe(n.id,r.device,t,{...e.parameters,...n.props.textureParameters})},release:(t,e,n)=>{KLe(n.id,t)}}};function GLe(t){const e={},n={},r={};for(const[i,a]of Object.entries(t)){const s=a?.deprecatedFor;if(s)r[i]=Array.isArray(s)?s:[s];else{const o=ZLe(i,a);e[i]=o,n[i]=o.value}}return{propTypes:e,defaultProps:n,deprecatedProps:r}}function ZLe(t,e){switch(pb(e)){case"object":return Bh(t,e);case"array":return Bh(t,{type:"array",value:e,compare:!1});case"boolean":return Bh(t,{type:"boolean",value:e});case"number":return Bh(t,{type:"number",value:e});case"function":return Bh(t,{type:"function",value:e,compare:!0});default:return{name:t,type:"unknown",value:e}}}function Bh(t,e){return"type"in e?{name:t,...YLe[e.type],...e}:"value"in e?{name:t,type:pb(e.value),...e}:{name:t,type:"object",value:e}}function KE(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function pb(t){return KE(t)?"array":t===null?"null":typeof t}function QLe(t,e){let n;for(let a=e.length-1;a>=0;a--){const s=e[a];"extensions"in s&&(n=s.extensions)}const r=YE(t.constructor,n),i=Object.create(r);i[hb]=t,i[jc]={},i[el]={};for(let a=0;a<e.length;++a){const s=e[a];for(const o in s)i[o]=s[o]}return Object.freeze(i),i}const JLe="_mergedDefaultProps";function YE(t,e){if(!(t instanceof Xx.constructor))return{};let n=JLe;if(e)for(const i of e){const a=i.constructor;a&&(n+=`:${a.extensionName||a.name}`)}const r=VK(t,n);return r||(t[n]=e5e(t,e||[]))}function e5e(t,e){if(!t.prototype)return null;const r=Object.getPrototypeOf(t),i=YE(r),a=VK(t,"defaultProps")||{},s=GLe(a),o=Object.assign(Object.create(null),i,s.defaultProps),c=Object.assign(Object.create(null),i?.[il],s.propTypes),f=Object.assign(Object.create(null),i?.[u2],s.deprecatedProps);for(const d of e){const p=YE(d.constructor);p&&(Object.assign(o,p),Object.assign(c,p[il]),Object.assign(f,p[u2]))}return t5e(o,t),r5e(o,c),n5e(o,f),o[il]=c,o[u2]=f,e.length===0&&!ZR(t,"_propTypes")&&(t._propTypes=c),o}function t5e(t,e){const n=a5e(e);Object.defineProperties(t,{id:{writable:!0,value:n}})}function n5e(t,e){for(const n in e)Object.defineProperty(t,n,{enumerable:!1,set(r){const i=`${this.id}: ${n}`;for(const a of e[n])ZR(this,a)||(this[a]=r);ut.deprecated(i,e[n].join("/"))()}})}function r5e(t,e){const n={},r={};for(const i in e){const a=e[i],{name:s,value:o}=a;a.async&&(n[s]=o,r[s]=i5e(s))}t[Cf]=n,t[jc]={},Object.defineProperties(t,r)}function i5e(t){return{enumerable:!0,set(e){typeof e=="string"||e instanceof Promise||kK(e)?this[jc][t]=e:this[el][t]=e},get(){if(this[el]){if(t in this[el])return this[el][t]||this[Cf][t];if(t in this[jc]){const e=this[hb]&&this[hb].internalState;if(e&&e.hasAsyncProp(t))return e.getAsyncProp(t)||this[Cf][t]}}return this[Cf][t]}}}function ZR(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function VK(t,e){return ZR(t,e)&&t[e]}function a5e(t){const e=t.componentName;return e||ut.warn(`${t.name}.componentName not specified`)(),e||t.name}let s5e=0;class Xx{constructor(...e){this.props=QLe(this,e),this.id=this.props.id,this.count=s5e++}clone(e){const{props:n}=this,r={};for(const i in n[Cf])i in n[el]?r[i]=n[el][i]:i in n[jc]&&(r[i]=n[jc][i]);return new this.constructor({...n,...r,...e})}}Xx.componentName="Component";Xx.defaultProps={};const o5e=Object.freeze({});class l5e{constructor(e){this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const n=this.asyncProps[e];n&&n.type&&n.type.release&&n.type.release(n.resolvedValue,n.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||o5e}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const n=this.asyncProps[e];return n&&n.resolvedValue}isAsyncPropLoading(e){if(e){const n=this.asyncProps[e];return!!(n&&n.pendingLoadCount>0&&n.pendingLoadCount!==n.resolvedLoadCount)}for(const n in this.asyncProps)if(this.isAsyncPropLoading(n))return!0;return!1}reloadAsyncProp(e,n){this._watchPromise(e,Promise.resolve(n))}setAsyncProps(e){this.component=e[hb]||this.component;const n=e[el]||{},r=e[jc]||e,i=e[Cf]||{};for(const a in n){const s=n[a];this._createAsyncPropData(a,i[a]),this._updateAsyncProp(a,s),n[a]=this.getAsyncProp(a)}for(const a in r){const s=r[a];this._createAsyncPropData(a,i[a]),this._updateAsyncProp(a,s)}}_fetch(e,n){return null}_onResolve(e,n){}_onError(e,n){}_updateAsyncProp(e,n){if(this._didAsyncInputValueChange(e,n)){if(typeof n=="string"&&(n=this._fetch(e,n)),n instanceof Promise){this._watchPromise(e,n);return}if(kK(n)){this._resolveAsyncIterable(e,n);return}this._setPropValue(e,n)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,n){const r=this.asyncProps[e];return n===r.resolvedValue||n===r.lastValue?!1:(r.lastValue=n,!0)}_setPropValue(e,n){this._freezeAsyncOldProps();const r=this.asyncProps[e];r&&(n=this._postProcessValue(r,n),r.resolvedValue=n,r.pendingLoadCount++,r.resolvedLoadCount=r.pendingLoadCount)}_setAsyncPropValue(e,n,r){const i=this.asyncProps[e];i&&r>=i.resolvedLoadCount&&n!==void 0&&(this._freezeAsyncOldProps(),i.resolvedValue=n,i.resolvedLoadCount=r,this.onAsyncPropUpdated(e,n))}_watchPromise(e,n){const r=this.asyncProps[e];if(r){r.pendingLoadCount++;const i=r.pendingLoadCount;n.then(a=>{this.component&&(a=this._postProcessValue(r,a),this._setAsyncPropValue(e,a,i),this._onResolve(e,a))}).catch(a=>{this._onError(e,a)})}}async _resolveAsyncIterable(e,n){if(e!=="data"){this._setPropValue(e,n);return}const r=this.asyncProps[e];if(!r)return;r.pendingLoadCount++;const i=r.pendingLoadCount;let a=[],s=0;for await(const o of n){if(!this.component)return;const{dataTransform:c}=this.component.props;c?a=c(o,a):a=a.concat(o),Object.defineProperty(a,"__diff",{enumerable:!1,value:[{startRow:s,endRow:a.length}]}),s=a.length,this._setAsyncPropValue(e,a,i)}this._onResolve(e,a)}_postProcessValue(e,n){const r=e.type;return r&&this.component&&(r.release&&r.release(e.resolvedValue,r,this.component),r.transform)?r.transform(n,r,this.component):n}_createAsyncPropData(e,n){if(!this.asyncProps[e]){const i=this.component&&this.component.props[il];this.asyncProps[e]={type:i&&i[e],lastValue:null,resolvedValue:n,pendingLoadCount:0,resolvedLoadCount:0}}}}class c5e extends l5e{constructor({attributeManager:e,layer:n}){super(n),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch(e,n){const r=this.layer,i=r?.props.fetch;return i?i(n,{propName:e,layer:r}):super._fetch(e,n)}_onResolve(e,n){const r=this.layer;if(r){const i=r.props.onDataLoad;e==="data"&&i&&i(n,{propName:e,layer:r})}}_onError(e,n){const r=this.layer;r&&r.raiseError(n,`loading ${e} of ${this.layer}`)}}const u5e="layer.changeFlag",f5e="layer.initialize",d5e="layer.update",h5e="layer.finalize",p5e="layer.matched",fF=2**24-1,g5e=Object.freeze([]),m5e=Qg(({oldViewport:t,viewport:e})=>t.equals(e));let ua=new Uint8ClampedArray(0);const y5e={data:{type:"data",value:g5e,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:t=>t&&t.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:(t,{propName:e,layer:n,loaders:r,loadOptions:i,signal:a})=>{const{resourceManager:s}=n.context;i=i||n.getLoadOptions(),r=r||n.props.loaders,a&&(i={...i,fetch:{...i?.fetch,signal:a}});let o=s.contains(t);return!o&&!i&&(s.add({resourceId:t,data:yE(t,r),persistent:!1}),o=!0),o?s.subscribe({resourceId:t,onChange:c=>n.internalState?.reloadAsyncProp(e,c),consumerId:n.id,requestId:e}):yE(t,r,i)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:et.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:t})=>[0,-t*100]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class xl extends Xx{constructor(){super(...arguments),this.internalState=null,this.lifecycle=tf.NO_STATE,this.parent=null}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){return`${this.constructor.layerName||this.constructor.name}({id: '${this.props.id}'})`}project(e){_r(this.internalState);const n=this.internalState.viewport||this.context.viewport,r=fK(e,{viewport:n,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[i,a,s]=oK(r,n.pixelProjectionMatrix);return e.length===2?[i,a]:[i,a,s]}unproject(e){return _r(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,n){_r(this.internalState);const r=this.internalState.viewport||this.context.viewport;return XNe(e,{viewport:r,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...n})}get isComposite(){return!1}get isDrawable(){return!0}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return this.internalState?!this.internalState.isAsyncPropLoading():!1}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){const e=this.state;return e&&(e.models||e.model&&[e.model])||[]}setShaderModuleProps(...e){for(const n of this.getModels())n.shaderInputs.setProps(...e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===et.DEFAULT||e===et.LNGLAT||e===et.CARTESIAN}onHover(e,n){return this.props.onHover&&this.props.onHover(e,n)||!1}onClick(e,n){return this.props.onClick&&this.props.onClick(e,n)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e,n=[]){return n[0]=e+1&255,n[1]=e+1>>8&255,n[2]=e+1>>8>>8&255,n}decodePickingColor(e){_r(e instanceof Uint8Array);const[n,r,i]=e;return n+r*256+i*65536-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&this.state.numInstances!==void 0?this.state.numInstances:VLe(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){return this.getAttributeManager()?.getBounds(["positions","instancePositions"])}getShaders(e){e=uF(e,{disableWarnings:!0,modules:this.context.defaultShaderModules});for(const n of this.props.extensions)e=uF(e,n.getShaders.call(this,n));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const n=this.getAttributeManager(),{dataChanged:r}=e.changeFlags;if(r&&n)if(Array.isArray(r))for(const i of r)n.invalidateAll(i);else n.invalidateAll();if(n){const{props:i}=e,a=this.internalState.hasPickingBuffer,s=Number.isInteger(i.highlightedObjectIndex)||i.pickable||i.extensions.some(o=>o.getNeedsPickingBuffer.call(this,o));if(a!==s){this.internalState.hasPickingBuffer=s;const{pickingColors:o,instancePickingColors:c}=n.attributes,f=o||c;f&&(s&&f.constant&&(f.constant=!1,n.invalidate(f.id)),!f.value&&!s&&(f.constant=!0,f.value=[0,0,0]))}}}finalizeState(e){for(const r of this.getModels())r.destroy();const n=this.getAttributeManager();n&&n.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const n of this.getModels())n.draw(e.renderPass)}getPickingInfo({info:e,mode:n,sourceLayer:r}){const{index:i}=e;return i>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[i]),e}raiseError(e,n){n&&(e=new Error(`${n}: ${e.message}`,{cause:e})),this.props.onError?.(e)||this.context?.onError?.(e,this)}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return this.internalState?this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()):!1}hasUniformTransition(){return this.internalState?.uniformTransitions.active||!1}activateViewport(e){if(!this.internalState)return;const n=this.internalState.viewport;this.internalState.viewport=e,(!n||!m5e({oldViewport:n,viewport:e}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all"){const n=this.getAttributeManager();n&&(e==="all"?n.invalidateAll():n.invalidate(e))}updateAttributes(e){let n=!1;for(const r in e)e[r].layoutChanged()&&(n=!0);for(const r of this.getModels())this._setModelAttributes(r,e,n)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const n=this.props,r=this.getNumInstances(),i=this.getStartIndices();e.update({data:n.data,numInstances:r,startIndices:i,props:n,transitions:n.transitions,buffers:n.data.attributes,context:this});const a=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(a)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const n=e.update(),r=Object.create(this.props);for(const i in n)Object.defineProperty(r,i,{value:n[i]});return r}return this.props}calculateInstancePickingColors(e,{numInstances:n}){if(e.constant)return;const r=Math.floor(ua.length/4);if(this.internalState.usesPickingColorCache=!0,r<n){n>fF&&ut.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),ua=Zp.allocate(ua,n,{size:4,copy:!0,maxCount:Math.max(n,fF)});const i=Math.floor(ua.length/4),a=[0,0,0];for(let s=r;s<i;s++)this.encodePickingColor(s,a),ua[s*4+0]=a[0],ua[s*4+1]=a[1],ua[s*4+2]=a[2],ua[s*4+3]=0}e.value=ua.subarray(0,n*4)}_setModelAttributes(e,n,r=!1){if(!Object.keys(n).length)return;if(r){const o=this.getAttributeManager();e.setBufferLayout(o.getBufferLayouts(e)),n=o.getAttributes()}const i=e.userData?.excludeAttributes||{},a={},s={};for(const o in n){if(i[o])continue;const c=n[o].getValue();for(const f in c){const d=c[f];d instanceof pn?n[o].settings.isIndexed?e.setIndexBuffer(d):a[f]=d:d&&(s[f]=d)}}e.setAttributes(a),e.setConstantAttributes(s)}disablePickingIndex(e){const n=this.props.data;if(!("attributes"in n)){this._disablePickingIndex(e);return}const{pickingColors:r,instancePickingColors:i}=this.getAttributeManager().attributes,a=r||i,s=a&&n.attributes&&n.attributes[a.id];if(s&&s.value){const o=s.value,c=this.encodePickingColor(e);for(let f=0;f<n.length;f++){const d=a.getVertexOffset(f);o[d]===c[0]&&o[d+1]===c[1]&&o[d+2]===c[2]&&this._disablePickingIndex(f)}}else this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:n,instancePickingColors:r}=this.getAttributeManager().attributes,i=n||r;if(!i)return;const a=i.getVertexOffset(e),s=i.getVertexOffset(e+1);i.buffer.write(new Uint8Array(s-a),a)}restorePickingColors(){const{pickingColors:e,instancePickingColors:n}=this.getAttributeManager().attributes,r=e||n;r&&(this.internalState.usesPickingColorCache&&r.value.buffer!==ua.buffer&&(r.value=ua.subarray(0,r.value.length)),r.updateSubBuffer({startOffset:0}))}_initialize(){_r(!this.internalState),_r(Number.isFinite(this.props.coordinateSystem)),br(f5e,this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:"uint8",size:4,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new c5e({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(ut.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.uniformTransitions=new NLe(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const n of this.props.extensions)n.initializeState.call(this,this.context,n);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){br(p5e,this,this===e);const{state:n,internalState:r}=e;this!==e&&(this.internalState=r,this.state=n,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(br(d5e,this,e),!e)return;const n=this.props,r=this.context,i=this.internalState,a=r.viewport,s=this._updateUniformTransition();i.propsInTransition=s,r.viewport=i.viewport||a,this.props=s;try{const o=this._getUpdateParams(),c=this.getModels();if(r.device)this.updateState(o);else try{this.updateState(o)}catch{}for(const d of this.props.extensions)d.updateState.call(this,o,d);this.setNeedsRedraw(),this._updateAttributes();const f=this.getModels()[0]!==c[0];this._postUpdate(o,f)}finally{r.viewport=a,this.props=n,this._clearChangeFlags(),i.needsUpdate=!1,i.resetOldProps()}}_finalize(){br(h5e,this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,this.context,e)}_drawLayer({renderPass:e,shaderModuleProps:n=null,uniforms:r={},parameters:i={}}){this._updateAttributeTransition();const a=this.props,s=this.context;this.props=this.internalState.propsInTransition||a;try{n&&this.setShaderModuleProps(n);const{getPolygonOffset:o}=this.props,c=o&&o(r)||[0,0];s.device instanceof HE&&s.device.setParametersWebGL({polygonOffset:c});for(const f of this.getModels())f.device.type==="webgpu"?f.setParameters({...f.parameters,...i}):f.setParameters(i);if(s.device instanceof HE)s.device.withParametersWebGL(i,()=>{const f={renderPass:e,shaderModuleProps:n,uniforms:r,parameters:i,context:s};for(const d of this.props.extensions)d.draw.call(this,f,d);this.draw(f)});else{const f={renderPass:e,shaderModuleProps:n,uniforms:r,parameters:i,context:s};for(const d of this.props.extensions)d.draw.call(this,f,d);this.draw(f)}}finally{this.props=a}}getChangeFlags(){return this.internalState?.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:n}=this.internalState;for(const i in e)if(e[i]){let a=!1;switch(i){case"dataChanged":const s=e[i],o=n[i];s&&Array.isArray(o)&&(n.dataChanged=Array.isArray(s)?o.concat(s):s,a=!0);default:n[i]||(n[i]=e[i],a=!0)}a&&br(u5e,this,i,e)}const r=!!(n.dataChanged||n.updateTriggersChanged||n.propsChanged||n.extensionsChanged);n.propsOrDataChanged=r,n.somethingChanged=r||n.viewportChanged||n.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,n){const r=BLe(e,n);if(r.updateTriggersChanged)for(const i in r.updateTriggersChanged)r.updateTriggersChanged[i]&&this.invalidateAttribute(i);if(r.transitionsChanged)for(const i in r.transitionsChanged)this.internalState.uniformTransitions.add(i,n[i],e[i],e.transitions?.[i]);return this.setChangeFlags(r)}validateProps(){DLe(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const n={highlightedObjectColor:e.picked?e.color:null},{highlightColor:r}=this.props;e.picked&&typeof r=="function"&&(n.highlightColor=r(e)),this.setShaderModuleProps({picking:n}),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new qx(e.device,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,n){const{props:r,oldProps:i}=e,a=this.state.model;a?.isInstanced&&a.setInstanceCount(this.getNumInstances());const{autoHighlight:s,highlightedObjectIndex:o,highlightColor:c}=r;if(n||i.autoHighlight!==s||i.highlightedObjectIndex!==o||i.highlightColor!==c){const f={};Array.isArray(c)&&(f.highlightColor=c),(n||i.autoHighlight!==s||o!==i.highlightedObjectIndex)&&(f.highlightedObjectColor=Number.isFinite(o)&&o>=0?this.encodePickingColor(o):null),this.setShaderModuleProps({picking:f})}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let n=!1;n=n||this.internalState.needsRedraw&&this.id;const r=this.getAttributeManager(),i=r?r.getNeedsRedraw(e):!1;if(n=n||i,n)for(const a of this.props.extensions)a.onNeedsRedraw.call(this,a);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags,n}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}xl.defaultProps=y5e;xl.layerName="Layer";const v5e="compositeLayer.renderLayers";class QR extends xl{get isComposite(){return!0}get isDrawable(){return!1}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(e=>e.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(e){}setState(e){super.setState(e),this.setNeedsUpdate()}getPickingInfo({info:e}){const{object:n}=e;return n&&n.__source&&n.__source.parent&&n.__source.parent.id===this.id&&(e.object=n.__source.object,e.index=n.__source.index),e}filterSubLayer(e){return!0}shouldRenderSubLayer(e,n){return n&&n.length}getSubLayerClass(e,n){const{_subLayerProps:r}=this.props;return r&&r[e]&&r[e].type||n}getSubLayerRow(e,n,r){return e.__source={parent:this,object:n,index:r},e}getSubLayerAccessor(e){if(typeof e=="function"){const n={index:-1,data:this.props.data,target:[]};return(r,i)=>r&&r.__source?(n.index=r.__source.index,e(r.__source.object,n)):e(r,i)}return e}getSubLayerProps(e={}){const{opacity:n,pickable:r,visible:i,parameters:a,getPolygonOffset:s,highlightedObjectIndex:o,autoHighlight:c,highlightColor:f,coordinateSystem:d,coordinateOrigin:p,wrapLongitude:m,positionFormat:y,modelMatrix:v,extensions:b,fetch:w,operation:T,_subLayerProps:C}=this.props,A={id:"",updateTriggers:{},opacity:n,pickable:r,visible:i,parameters:a,getPolygonOffset:s,highlightedObjectIndex:o,autoHighlight:c,highlightColor:f,coordinateSystem:d,coordinateOrigin:p,wrapLongitude:m,positionFormat:y,modelMatrix:v,extensions:b,fetch:w,operation:T},R=C&&e.id&&C[e.id],P=R&&R.updateTriggers,O=e.id||"sublayer";if(R){const k=this.props[il],D=e.type?e.type._propTypes:{};for(const L in R){const $=D[L]||k[L];$&&$.type==="accessor"&&(R[L]=this.getSubLayerAccessor(R[L]))}}Object.assign(A,e,R),A.id=`${this.props.id}-${O}`,A.updateTriggers={all:this.props.updateTriggers?.all,...e.updateTriggers,...P};for(const k of b){const D=k.getSubLayerProps.call(this,k);D&&Object.assign(A,D,{updateTriggers:Object.assign(A.updateTriggers,D.updateTriggers)})}return A}_updateAutoHighlight(e){for(const n of this.getSubLayers())n.updateAutoHighlight(e)}_getAttributeManager(){return null}_postUpdate(e,n){let r=this.internalState.subLayers;const i=!r||this.needsUpdate();if(i){const a=this.renderLayers();r=$R(a,Boolean),this.internalState.subLayers=r}br(v5e,this,i,r);for(const a of r)a.parent=this}}QR.layerName="CompositeLayer";const b5e=typeof window<"u"?x.useLayoutEffect:x.useEffect;function gb(t,e){for(;t;){if(t===e)return!0;t=Object.getPrototypeOf(t)}return!1}const x5e={position:"absolute",zIndex:-1};function HK(t,e){if(typeof t=="function")return t(e);if(Array.isArray(t))return t.map(n=>HK(n,e));if(Kx(t)){if(_5e(t))return e.style=x5e,x.cloneElement(t,e);if(w5e(t))return x.cloneElement(t,e)}return t}function Kx(t){return t&&typeof t=="object"&&"type"in t||!1}function _5e(t){return t.props?.mapStyle}function w5e(t){const e=t.type;return e&&e.deckGLViewProps}function GE(t){if(typeof t=="function")return x.createElement(Yf,{},t);if(Array.isArray(t))return t.map(GE);if(Kx(t)){if(t.type===x.Fragment)return GE(t.props.children);if(gb(t.type,Yf))return t}return t}function S5e({children:t,layers:e=[],views:n=null}){const r=[],i=[],a={};return x.Children.forEach(GE(t),s=>{if(Kx(s)){const o=s.type;if(gb(o,xl)){const c=T5e(o,s.props);i.push(c)}else r.push(s);if(gb(o,Yf)&&o!==Yf&&s.props.id){const c=new o(s.props);a[c.id]=c}}else s&&r.push(s)}),Object.keys(a).length>0&&(Array.isArray(n)?n.forEach(s=>{a[s.id]=s}):n&&(a[n.id]=n),n=Object.values(a)),e=i.length>0?[...i,...e]:e,{layers:e,children:r,views:n}}function T5e(t,e){const n={},r=t.defaultProps||{};for(const i in e)r[i]!==e[i]&&(n[i]=e[i]);return new t(n)}const A5e=x.createContext();function E5e({children:t,deck:e,ContextProvider:n=A5e.Provider}){const{viewManager:r}=e||{};if(!r||!r.views.length)return[];const i={},a=r.views[0].id;for(const s of t){let o=a,c=s;Kx(s)&&gb(s.type,Yf)&&(o=s.props.id||a,c=s.props.children);const f=r.getViewport(o),d=r.getViewState(o);if(f){d.padding=f.padding;const{x:p,y:m,width:y,height:v}=f;c=HK(c,{x:p,y:m,width:y,height:v,viewport:f,viewState:d}),i[o]||(i[o]={viewport:f,children:[]}),i[o].children.push(c)}}return Object.keys(i).map(s=>{const{viewport:o,children:c}=i[s],{x:f,y:d,width:p,height:m}=o,y={position:"absolute",left:f,top:d,width:p,height:m},v=`view-${s}`,b=x.createElement("div",{key:v,id:v,style:y},...c),w={deck:e,viewport:o,container:e.canvas.offsetParent,eventManager:e.eventManager,onViewStateChange:C=>{C.viewId=s,e._onViewStateChange(C)},widgets:[]},T=`view-${s}-context`;return x.createElement(n,{key:T,value:w},b)})}const C5e={mixBlendMode:null};function P5e({width:t,height:e,style:n}){const r={position:"absolute",zIndex:0,left:0,top:0,width:t,height:e},i={left:0,top:0};if(n)for(const a in n)a in C5e?i[a]=n[a]:r[a]=n[a];return{containerStyle:r,canvasStyle:i}}function R5e(t){return{get deck(){return t.deck},pickObject:e=>t.deck.pickObject(e),pickMultipleObjects:e=>t.deck.pickMultipleObjects(e),pickObjects:e=>t.deck.pickObjects(e)}}function WK(t){t.redrawReason&&(t.deck._drawLayers(t.redrawReason),t.redrawReason=null)}function O5e(t,e,n){const r=new e({...n,_customRender:n.deviceProps?.adapters?.[0]?.type==="webgpu"?void 0:i=>{t.redrawReason=i;const a=r.getViewports();t.lastRenderedViewports!==a?t.forceUpdate():WK(t)}});return r}function M5e(t,e){const[n,r]=x.useState(0),a=x.useRef({control:null,version:n,forceUpdate:()=>r(P=>P+1)}).current,s=x.useRef(null),o=x.useRef(null),c=x.useMemo(()=>S5e(t),[t.layers,t.views,t.children]);let f=!0;const d=P=>f&&t.viewState?(a.viewStateUpdateRequested=P,null):(a.viewStateUpdateRequested=null,t.onViewStateChange?.(P)),p=P=>{f?a.interactionStateUpdateRequested=P:(a.interactionStateUpdateRequested=null,t.onInteractionStateChange?.(P))},m=x.useMemo(()=>{const P={widgets:[],...t,style:null,width:"100%",height:"100%",parent:s.current,canvas:o.current,layers:c.layers,views:c.views,onViewStateChange:d,onInteractionStateChange:p};return delete P._customRender,a.deck&&a.deck.setProps(P),P},[t]);x.useEffect(()=>{const P=t.Deck||YR;return a.deck=O5e(a,P,{...m,parent:s.current,canvas:o.current}),()=>a.deck?.finalize()},[]),b5e(()=>{WK(a);const{viewStateUpdateRequested:P,interactionStateUpdateRequested:O}=a;P&&d(P),O&&p(O),a.deck?.isInitialized&&a.deck.redraw("Initial render")}),x.useImperativeHandle(e,()=>R5e(a),[]);const y=a.deck&&a.deck.isInitialized?a.deck.getViewports():void 0,{ContextProvider:v,width:b="100%",height:w="100%",id:T,style:C}=t,{containerStyle:A,canvasStyle:R}=x.useMemo(()=>P5e({width:b,height:w,style:C}),[b,w,C]);if(!a.viewStateUpdateRequested&&a.lastRenderedViewports===y||a.version!==n){a.lastRenderedViewports=y,a.version=n;const P=E5e({children:c.children,deck:a.deck,ContextProvider:v}),O=x.createElement("canvas",{key:"canvas",id:T||"deckgl-overlay",ref:o,style:R});a.control=x.createElement("div",{id:`${T||"deckgl"}-wrapper`,ref:s,style:A},[O,P])}return f=!1,a.control}const Yx=x.forwardRef(M5e),dF=`uniform arcUniforms {
  bool greatCircle;
  bool useShortestPath;
  float numSegments;
  float widthScale;
  float widthMinPixels;
  float widthMaxPixels;
  highp int widthUnits;
} arc;
`,I5e={name:"arc",vs:dF,fs:dF,uniformTypes:{greatCircle:"f32",useShortestPath:"f32",numSegments:"f32",widthScale:"f32",widthMinPixels:"f32",widthMaxPixels:"f32",widthUnits:"i32"}},k5e=`#version 300 es
#define SHADER_NAME arc-layer-vertex-shader
in vec4 instanceSourceColors;
in vec4 instanceTargetColors;
in vec3 instanceSourcePositions;
in vec3 instanceSourcePositions64Low;
in vec3 instanceTargetPositions;
in vec3 instanceTargetPositions64Low;
in vec3 instancePickingColors;
in float instanceWidths;
in float instanceHeights;
in float instanceTilts;
out vec4 vColor;
out vec2 uv;
out float isValid;
float paraboloid(float distance, float sourceZ, float targetZ, float ratio) {
float deltaZ = targetZ - sourceZ;
float dh = distance * instanceHeights;
if (dh == 0.0) {
return sourceZ + deltaZ * ratio;
}
float unitZ = deltaZ / dh;
float p2 = unitZ * unitZ + 1.0;
float dir = step(deltaZ, 0.0);
float z0 = mix(sourceZ, targetZ, dir);
float r = mix(ratio, 1.0 - ratio, dir);
return sqrt(r * (p2 - r)) * dh + z0;
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {
vec2 dir_screenspace = normalize(line_clipspace * project.viewportSize);
dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
return dir_screenspace * offset_direction * width / 2.0;
}
float getSegmentRatio(float index) {
return smoothstep(0.0, 1.0, index / (arc.numSegments - 1.0));
}
vec3 interpolateFlat(vec3 source, vec3 target, float segmentRatio) {
float distance = length(source.xy - target.xy);
float z = paraboloid(distance, source.z, target.z, segmentRatio);
float tiltAngle = radians(instanceTilts);
vec2 tiltDirection = normalize(target.xy - source.xy);
vec2 tilt = vec2(-tiltDirection.y, tiltDirection.x) * z * sin(tiltAngle);
return vec3(
mix(source.xy, target.xy, segmentRatio) + tilt,
z * cos(tiltAngle)
);
}
float getAngularDist (vec2 source, vec2 target) {
vec2 sourceRadians = radians(source);
vec2 targetRadians = radians(target);
vec2 sin_half_delta = sin((sourceRadians - targetRadians) / 2.0);
vec2 shd_sq = sin_half_delta * sin_half_delta;
float a = shd_sq.y + cos(sourceRadians.y) * cos(targetRadians.y) * shd_sq.x;
return 2.0 * asin(sqrt(a));
}
vec3 interpolateGreatCircle(vec3 source, vec3 target, vec3 source3D, vec3 target3D, float angularDist, float t) {
vec2 lngLat;
if(abs(angularDist - PI) < 0.001) {
lngLat = (1.0 - t) * source.xy + t * target.xy;
} else {
float a = sin((1.0 - t) * angularDist);
float b = sin(t * angularDist);
vec3 p = source3D.yxz * a + target3D.yxz * b;
lngLat = degrees(vec2(atan(p.y, -p.x), atan(p.z, length(p.xy))));
}
float z = paraboloid(angularDist * EARTH_RADIUS, source.z, target.z, t);
return vec3(lngLat, z);
}
void main(void) {
geometry.worldPosition = instanceSourcePositions;
geometry.worldPositionAlt = instanceTargetPositions;
float segmentIndex = float(gl_VertexID / 2);
float segmentSide = mod(float(gl_VertexID), 2.) == 0. ? -1. : 1.;
float segmentRatio = getSegmentRatio(segmentIndex);
float prevSegmentRatio = getSegmentRatio(max(0.0, segmentIndex - 1.0));
float nextSegmentRatio = getSegmentRatio(min(arc.numSegments - 1.0, segmentIndex + 1.0));
float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
isValid = 1.0;
uv = vec2(segmentRatio, segmentSide);
geometry.uv = uv;
geometry.pickingColor = instancePickingColors;
vec4 curr;
vec4 next;
vec3 source;
vec3 target;
if ((arc.greatCircle || project.projectionMode == PROJECTION_MODE_GLOBE) && project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
source = project_globe_(vec3(instanceSourcePositions.xy, 0.0));
target = project_globe_(vec3(instanceTargetPositions.xy, 0.0));
float angularDist = getAngularDist(instanceSourcePositions.xy, instanceTargetPositions.xy);
vec3 prevPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, prevSegmentRatio);
vec3 currPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, segmentRatio);
vec3 nextPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, nextSegmentRatio);
if (abs(currPos.x - prevPos.x) > 180.0) {
indexDir = -1.0;
isValid = 0.0;
} else if (abs(currPos.x - nextPos.x) > 180.0) {
indexDir = 1.0;
isValid = 0.0;
}
nextPos = indexDir < 0.0 ? prevPos : nextPos;
nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;
if (isValid == 0.0) {
nextPos.x += nextPos.x > 0.0 ? -360.0 : 360.0;
float t = ((currPos.x > 0.0 ? 180.0 : -180.0) - currPos.x) / (nextPos.x - currPos.x);
currPos = mix(currPos, nextPos, t);
segmentRatio = mix(segmentRatio, nextSegmentRatio, t);
}
vec3 currPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, segmentRatio);
vec3 nextPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, nextSegmentRatio);
curr = project_position_to_clipspace(currPos, currPos64Low, vec3(0.0), geometry.position);
next = project_position_to_clipspace(nextPos, nextPos64Low, vec3(0.0));
} else {
vec3 source_world = instanceSourcePositions;
vec3 target_world = instanceTargetPositions;
if (arc.useShortestPath) {
source_world.x = mod(source_world.x + 180., 360.0) - 180.;
target_world.x = mod(target_world.x + 180., 360.0) - 180.;
float deltaLng = target_world.x - source_world.x;
if (deltaLng > 180.) target_world.x -= 360.;
if (deltaLng < -180.) source_world.x -= 360.;
}
source = project_position(source_world, instanceSourcePositions64Low);
target = project_position(target_world, instanceTargetPositions64Low);
float antiMeridianX = 0.0;
if (arc.useShortestPath) {
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
antiMeridianX = -(project.coordinateOrigin.x + 180.) / 360. * TILE_SIZE;
}
float thresholdRatio = (antiMeridianX - source.x) / (target.x - source.x);
if (prevSegmentRatio <= thresholdRatio && nextSegmentRatio > thresholdRatio) {
isValid = 0.0;
indexDir = sign(segmentRatio - thresholdRatio);
segmentRatio = thresholdRatio;
}
}
nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;
vec3 currPos = interpolateFlat(source, target, segmentRatio);
vec3 nextPos = interpolateFlat(source, target, nextSegmentRatio);
if (arc.useShortestPath) {
if (nextPos.x < antiMeridianX) {
currPos.x += TILE_SIZE;
nextPos.x += TILE_SIZE;
}
}
curr = project_common_position_to_clipspace(vec4(currPos, 1.0));
next = project_common_position_to_clipspace(vec4(nextPos, 1.0));
geometry.position = vec4(currPos, 1.0);
}
float widthPixels = clamp(
project_size_to_pixel(instanceWidths * arc.widthScale, arc.widthUnits),
arc.widthMinPixels, arc.widthMaxPixels
);
vec3 offset = vec3(
getExtrusionOffset((next.xy - curr.xy) * indexDir, segmentSide, widthPixels),
0.0);
DECKGL_FILTER_SIZE(offset, geometry);
DECKGL_FILTER_GL_POSITION(curr, geometry);
gl_Position = curr + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);
vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio);
vColor = vec4(color.rgb, color.a * layer.opacity);
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,N5e=`#version 300 es
#define SHADER_NAME arc-layer-fragment-shader
precision highp float;
in vec4 vColor;
in vec2 uv;
in float isValid;
out vec4 fragColor;
void main(void) {
if (isValid == 0.0) {
discard;
}
fragColor = vColor;
geometry.uv = uv;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,mb=[0,0,0,255],D5e={getSourcePosition:{type:"accessor",value:t=>t.sourcePosition},getTargetPosition:{type:"accessor",value:t=>t.targetPosition},getSourceColor:{type:"accessor",value:mb},getTargetColor:{type:"accessor",value:mb},getWidth:{type:"accessor",value:1},getHeight:{type:"accessor",value:1},getTilt:{type:"accessor",value:0},greatCircle:!1,numSegments:{type:"number",value:50,min:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class JR extends xl{getBounds(){return this.getAttributeManager()?.getBounds(["instanceSourcePositions","instanceTargetPositions"])}getShaders(){return super.getShaders({vs:k5e,fs:N5e,modules:[Sd,BR,I5e]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceSourceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getSourceColor",defaultValue:mb},instanceTargetColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getTargetColor",defaultValue:mb},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1},instanceHeights:{size:1,transition:!0,accessor:"getHeight",defaultValue:1},instanceTilts:{size:1,transition:!0,accessor:"getTilt",defaultValue:0}})}updateState(e){super.updateState(e),e.changeFlags.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:e}){const{widthUnits:n,widthScale:r,widthMinPixels:i,widthMaxPixels:a,greatCircle:s,wrapLongitude:o,numSegments:c}=this.props,f={numSegments:c,widthUnits:io[n],widthScale:r,widthMinPixels:i,widthMaxPixels:a,greatCircle:s,useShortestPath:o},d=this.state.model;d.shaderInputs.setProps({arc:f}),d.setVertexCount(c*2),d.draw(this.context.renderPass)}_getModel(){return new Ta(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),topology:"triangle-strip",isInstanced:!0})}}JR.layerName="ArcLayer";JR.defaultProps=D5e;const hF=`uniform scatterplotUniforms {
  float radiusScale;
  float radiusMinPixels;
  float radiusMaxPixels;
  float lineWidthScale;
  float lineWidthMinPixels;
  float lineWidthMaxPixels;
  float stroked;
  float filled;
  bool antialiasing;
  bool billboard;
  highp int radiusUnits;
  highp int lineWidthUnits;
} scatterplot;
`,B5e={name:"scatterplot",vs:hF,fs:hF,source:"",uniformTypes:{radiusScale:"f32",radiusMinPixels:"f32",radiusMaxPixels:"f32",lineWidthScale:"f32",lineWidthMinPixels:"f32",lineWidthMaxPixels:"f32",stroked:"f32",filled:"f32",antialiasing:"f32",billboard:"f32",radiusUnits:"i32",lineWidthUnits:"i32"}},L5e=`#version 300 es
#define SHADER_NAME scatterplot-layer-vertex-shader
in vec3 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in float instanceRadius;
in float instanceLineWidths;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in vec3 instancePickingColors;
out vec4 vFillColor;
out vec4 vLineColor;
out vec2 unitPosition;
out float innerUnitRadius;
out float outerRadiusPixels;
void main(void) {
geometry.worldPosition = instancePositions;
outerRadiusPixels = clamp(
project_size_to_pixel(scatterplot.radiusScale * instanceRadius, scatterplot.radiusUnits),
scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
);
float lineWidthPixels = clamp(
project_size_to_pixel(scatterplot.lineWidthScale * instanceLineWidths, scatterplot.lineWidthUnits),
scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
);
outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
float edgePadding = scatterplot.antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;
unitPosition = edgePadding * positions.xy;
geometry.uv = unitPosition;
geometry.pickingColor = instancePickingColors;
innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / outerRadiusPixels;
if (scatterplot.billboard) {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = edgePadding * positions * outerRadiusPixels;
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vFillColor, geometry);
vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`,j5e=`#version 300 es
#define SHADER_NAME scatterplot-layer-fragment-shader
precision highp float;
in vec4 vFillColor;
in vec4 vLineColor;
in vec2 unitPosition;
in float innerUnitRadius;
in float outerRadiusPixels;
out vec4 fragColor;
void main(void) {
geometry.uv = unitPosition;
float distToCenter = length(unitPosition) * outerRadiusPixels;
float inCircle = scatterplot.antialiasing ?
smoothedge(distToCenter, outerRadiusPixels) :
step(distToCenter, outerRadiusPixels);
if (inCircle == 0.0) {
discard;
}
if (scatterplot.stroked > 0.5) {
float isLine = scatterplot.antialiasing ?
smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :
step(innerUnitRadius * outerRadiusPixels, distToCenter);
if (scatterplot.filled > 0.5) {
fragColor = mix(vFillColor, vLineColor, isLine);
} else {
if (isLine == 0.0) {
discard;
}
fragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);
}
} else if (scatterplot.filled < 0.5) {
discard;
} else {
fragColor = vFillColor;
}
fragColor.a *= inCircle;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,U5e=`// Main shaders

struct ScatterplotUniforms {
  radiusScale: f32,
  radiusMinPixels: f32,
  radiusMaxPixels: f32,
  lineWidthScale: f32,
  lineWidthMinPixels: f32,
  lineWidthMaxPixels: f32,
  stroked: f32,
  filled: i32,
  antialiasing: i32,
  billboard: i32,
  radiusUnits: i32,
  lineWidthUnits: i32,
};

struct ConstantAttributeUniforms {
 instancePositions: vec3<f32>,
 instancePositions64Low: vec3<f32>,
 instanceRadius: f32,
 instanceLineWidths: f32,
 instanceFillColors: vec4<f32>,
 instanceLineColors: vec4<f32>,
 instancePickingColors: vec3<f32>,

 instancePositionsConstant: i32,
 instancePositions64LowConstant: i32,
 instanceRadiusConstant: i32,
 instanceLineWidthsConstant: i32,
 instanceFillColorsConstant: i32,
 instanceLineColorsConstant: i32,
 instancePickingColorsConstant: i32
};

@group(0) @binding(2) var<uniform> scatterplot: ScatterplotUniforms;

struct ConstantAttributes {
  instancePositions: vec3<f32>,
  instancePositions64Low: vec3<f32>,
  instanceRadius: f32,
  instanceLineWidths: f32,
  instanceFillColors: vec4<f32>,
  instanceLineColors: vec4<f32>,
  instancePickingColors: vec3<f32>
};

const constants = ConstantAttributes(
  vec3<f32>(0.0),
  vec3<f32>(0.0),
  0.0,
  0.0,
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec3<f32>(0.0)
);

struct Attributes {
  @builtin(instance_index) instanceIndex : u32,
  @builtin(vertex_index) vertexIndex : u32,
  @location(0) positions: vec3<f32>,
  @location(1) instancePositions: vec3<f32>,
  @location(2) instancePositions64Low: vec3<f32>,
  @location(3) instanceRadius: f32,
  @location(4) instanceLineWidths: f32,
  @location(5) instanceFillColors: vec4<f32>,
  @location(6) instanceLineColors: vec4<f32>,
  @location(7) instancePickingColors: vec3<f32>
};

struct Varyings {
  @builtin(position) position: vec4<f32>,
  @location(0) vFillColor: vec4<f32>,
  @location(1) vLineColor: vec4<f32>,
  @location(2) unitPosition: vec2<f32>,
  @location(3) innerUnitRadius: f32,
  @location(4) outerRadiusPixels: f32,
};

@vertex
fn vertexMain(attributes: Attributes) -> Varyings {
  var varyings: Varyings;

  // Draw an inline geometry constant array clip space triangle to verify that rendering works.
  // var positions = array<vec2<f32>, 3>(vec2(0.0, 0.5), vec2(-0.5, -0.5), vec2(0.5, -0.5));
  // if (attributes.instanceIndex == 0) {
  //   varyings.position = vec4<f32>(positions[attributes.vertexIndex], 0.0, 1.0);
  //   return varyings;
  // }

  // var geometry: Geometry;
  // geometry.worldPosition = instancePositions;

  // Multiply out radius and clamp to limits
  varyings.outerRadiusPixels = clamp(
    project_unit_size_to_pixel(scatterplot.radiusScale * attributes.instanceRadius, scatterplot.radiusUnits),
    scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
  );

  // Multiply out line width and clamp to limits
  let lineWidthPixels = clamp(
    project_unit_size_to_pixel(scatterplot.lineWidthScale * attributes.instanceLineWidths, scatterplot.lineWidthUnits),
    scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
  );

  // outer radius needs to offset by half stroke width
  varyings.outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
  // Expand geometry to accommodate edge smoothing
  let edgePadding = select(
    (varyings.outerRadiusPixels + SMOOTH_EDGE_RADIUS) / varyings.outerRadiusPixels,
    1.0,
    scatterplot.antialiasing != 0
  );

  // position on the containing square in [-1, 1] space
  varyings.unitPosition = edgePadding * attributes.positions.xy;
  geometry.uv = varyings.unitPosition;
  geometry.pickingColor = attributes.instancePickingColors;

  varyings.innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / varyings.outerRadiusPixels;

  if (scatterplot.billboard != 0) {
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, vec3<f32>(0.0)); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
    let offset = attributes.positions; // * edgePadding * varyings.outerRadiusPixels;
    // DECKGL_FILTER_SIZE(offset, geometry);
    let clipPixels = project_pixel_size_to_clipspace(offset.xy);
    varyings.position.x = clipPixels.x;
    varyings.position.y = clipPixels.y;
  } else {
    let offset = edgePadding * attributes.positions * project_pixel_size_float(varyings.outerRadiusPixels);
    // DECKGL_FILTER_SIZE(offset, geometry);
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, offset); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
  }

  // Apply opacity to instance color, or return instance picking color
  varyings.vFillColor = vec4<f32>(attributes.instanceFillColors.rgb, attributes.instanceFillColors.a * color.opacity);
  // DECKGL_FILTER_COLOR(varyings.vFillColor, geometry);
  varyings.vLineColor = vec4<f32>(attributes.instanceLineColors.rgb, attributes.instanceLineColors.a * color.opacity);
  // DECKGL_FILTER_COLOR(varyings.vLineColor, geometry);

  return varyings;
}

@fragment
fn fragmentMain(varyings: Varyings) -> @location(0) vec4<f32> {
  // var geometry: Geometry;
  // geometry.uv = unitPosition;

  let distToCenter = length(varyings.unitPosition) * varyings.outerRadiusPixels;
  let inCircle = select(
    smoothedge(distToCenter, varyings.outerRadiusPixels),
    step(distToCenter, varyings.outerRadiusPixels),
    scatterplot.antialiasing != 0
  );

  if (inCircle == 0.0) {
    discard;
  }

  var fragColor: vec4<f32>;

  if (scatterplot.stroked != 0) {
    let isLine = select(
      smoothedge(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      step(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      scatterplot.antialiasing != 0
    );

    if (scatterplot.filled != 0) {
      fragColor = mix(varyings.vFillColor, varyings.vLineColor, isLine);
    } else {
      if (isLine == 0.0) {
        discard;
      }
      fragColor = vec4<f32>(varyings.vLineColor.rgb, varyings.vLineColor.a * isLine);
    }
  } else if (scatterplot.filled == 0) {
    discard;
  } else {
    fragColor = varyings.vFillColor;
  }

  fragColor.a *= inCircle;
  // DECKGL_FILTER_COLOR(fragColor, geometry);

  // Apply premultiplied alpha as required by transparent canvas
  fragColor = deckgl_premultiplied_alpha(fragColor);

  return fragColor;
  // return vec4<f32>(0, 0, 1, 1);
}
`,pF=[0,0,0,255],F5e={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:t=>t.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:pF},getLineColor:{type:"accessor",value:pF},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class hl extends xl{getShaders(){return super.getShaders({vs:L5e,fs:j5e,source:U5e,modules:[Sd,kIe,BR,B5e]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){super.updateState(e),e.changeFlags.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:e}){const{radiusUnits:n,radiusScale:r,radiusMinPixels:i,radiusMaxPixels:a,stroked:s,filled:o,billboard:c,antialiasing:f,lineWidthUnits:d,lineWidthScale:p,lineWidthMinPixels:m,lineWidthMaxPixels:y}=this.props,v={stroked:s,filled:o,billboard:c,antialiasing:f,radiusUnits:io[n],radiusScale:r,radiusMinPixels:i,radiusMaxPixels:a,lineWidthUnits:io[d],lineWidthScale:p,lineWidthMinPixels:m,lineWidthMaxPixels:y},b=this.state.model;b.shaderInputs.setProps({scatterplot:v}),this.context.device.type==="webgpu"&&(b.instanceCount=this.props.data.length),b.draw(this.context.renderPass)}_getModel(){const e=this.context.device.type==="webgpu"?{depthWriteEnabled:!0,depthCompare:"less-equal"}:void 0,n=[-1,-1,0,1,-1,0,-1,1,0,1,1,0];return new Ta(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new pK({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array(n)}}}),isInstanced:!0,parameters:e})}}hl.defaultProps=F5e;hl.layerName="ScatterplotLayer";const $5e={COUNTER_CLOCKWISE:-1};function z5e(t,e,n={}){return V5e(t,n)!==e?(W5e(t,n),!0):!1}function V5e(t,e={}){return Math.sign(H5e(t,e))}const gF={x:0,y:1,z:2};function H5e(t,e={}){const{start:n=0,end:r=t.length,plane:i="xy"}=e,a=e.size||2;let s=0;const o=gF[i[0]],c=gF[i[1]];for(let f=n,d=r-a;f<r;f+=a)s+=(t[f+o]-t[d+o])*(t[f+c]+t[d+c]),d=f;return s/2}function W5e(t,e){const{start:n=0,end:r=t.length,size:i=2}=e,a=(r-n)/i,s=Math.floor(a/2);for(let o=0;o<s;++o){const c=n+o*i,f=n+(a-1-o)*i;for(let d=0;d<i;++d){const p=t[c+d];t[c+d]=t[f+d],t[f+d]=p}}}class q5e extends pK{constructor(e){const{indices:n,attributes:r}=X5e(e);super({...e,indices:n,attributes:r})}}function X5e(t){const{radius:e,height:n=1,nradial:r=10}=t;let{vertices:i}=t;i&&(ut.assert(i.length>=r),i=i.flatMap(y=>[y[0],y[1]]),z5e(i,$5e.COUNTER_CLOCKWISE));const a=n>0,s=r+1,o=a?s*3+1:r,c=Math.PI*2/r,f=new Uint16Array(a?r*3*2:0),d=new Float32Array(o*3),p=new Float32Array(o*3);let m=0;if(a){for(let y=0;y<s;y++){const v=y*c,b=y%r,w=Math.sin(v),T=Math.cos(v);for(let C=0;C<2;C++)d[m+0]=i?i[b*2]:T*e,d[m+1]=i?i[b*2+1]:w*e,d[m+2]=(1/2-C)*n,p[m+0]=i?i[b*2]:T,p[m+1]=i?i[b*2+1]:w,m+=3}d[m+0]=d[m-3],d[m+1]=d[m-2],d[m+2]=d[m-1],m+=3}for(let y=a?0:1;y<s;y++){const v=Math.floor(y/2)*Math.sign(.5-y%2),b=v*c,w=(v+r)%r,T=Math.sin(b),C=Math.cos(b);d[m+0]=i?i[w*2]:C*e,d[m+1]=i?i[w*2+1]:T*e,d[m+2]=n/2,p[m+2]=1,m+=3}if(a){let y=0;for(let v=0;v<r;v++)f[y++]=v*2+0,f[y++]=v*2+2,f[y++]=v*2+0,f[y++]=v*2+1,f[y++]=v*2+1,f[y++]=v*2+3}return{indices:f,attributes:{POSITION:{size:3,value:d},NORMAL:{size:3,value:p}}}}const mF=`uniform columnUniforms {
  float radius;
  float angle;
  vec2 offset;
  bool extruded;
  bool stroked;
  bool isStroke;
  float coverage;
  float elevationScale;
  float edgeDistance;
  float widthScale;
  float widthMinPixels;
  float widthMaxPixels;
  highp int radiusUnits;
  highp int widthUnits;
} column;
`,K5e={name:"column",vs:mF,fs:mF,uniformTypes:{radius:"f32",angle:"f32",offset:"vec2<f32>",extruded:"f32",stroked:"f32",isStroke:"f32",coverage:"f32",elevationScale:"f32",edgeDistance:"f32",widthScale:"f32",widthMinPixels:"f32",widthMaxPixels:"f32",radiusUnits:"i32",widthUnits:"i32"}},Y5e=`#version 300 es
#define SHADER_NAME column-layer-vertex-shader
in vec3 positions;
in vec3 normals;
in vec3 instancePositions;
in float instanceElevations;
in vec3 instancePositions64Low;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in float instanceStrokeWidths;
in vec3 instancePickingColors;
out vec4 vColor;
#ifdef FLAT_SHADING
out vec3 cameraPosition;
out vec4 position_commonspace;
#endif
void main(void) {
geometry.worldPosition = instancePositions;
vec4 color = column.isStroke ? instanceLineColors : instanceFillColors;
mat2 rotationMatrix = mat2(cos(column.angle), sin(column.angle), -sin(column.angle), cos(column.angle));
float elevation = 0.0;
float strokeOffsetRatio = 1.0;
if (column.extruded) {
elevation = instanceElevations * (positions.z + 1.0) / 2.0 * column.elevationScale;
} else if (column.stroked) {
float widthPixels = clamp(
project_size_to_pixel(instanceStrokeWidths * column.widthScale, column.widthUnits),
column.widthMinPixels, column.widthMaxPixels) / 2.0;
float halfOffset = project_pixel_size(widthPixels) / project_size(column.edgeDistance * column.coverage * column.radius);
if (column.isStroke) {
strokeOffsetRatio -= sign(positions.z) * halfOffset;
} else {
strokeOffsetRatio -= halfOffset;
}
}
float shouldRender = float(color.a > 0.0 && instanceElevations >= 0.0);
float dotRadius = column.radius * column.coverage * shouldRender;
geometry.pickingColor = instancePickingColors;
vec3 centroidPosition = vec3(instancePositions.xy, instancePositions.z + elevation);
vec3 centroidPosition64Low = instancePositions64Low;
vec2 offset = (rotationMatrix * positions.xy * strokeOffsetRatio + column.offset) * dotRadius;
if (column.radiusUnits == UNIT_METERS) {
offset = project_size(offset);
}
vec3 pos = vec3(offset, 0.);
DECKGL_FILTER_SIZE(pos, geometry);
gl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64Low, pos, geometry.position);
geometry.normal = project_normal(vec3(rotationMatrix * normals.xy, normals.z));
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
if (column.extruded && !column.isStroke) {
#ifdef FLAT_SHADING
cameraPosition = project.cameraPosition;
position_commonspace = geometry.position;
vColor = vec4(color.rgb, color.a * layer.opacity);
#else
vec3 lightColor = lighting_getLightColor(color.rgb, project.cameraPosition, geometry.position.xyz, geometry.normal);
vColor = vec4(lightColor, color.a * layer.opacity);
#endif
} else {
vColor = vec4(color.rgb, color.a * layer.opacity);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,G5e=`#version 300 es
#define SHADER_NAME column-layer-fragment-shader
precision highp float;
out vec4 fragColor;
in vec4 vColor;
#ifdef FLAT_SHADING
in vec3 cameraPosition;
in vec4 position_commonspace;
#endif
void main(void) {
fragColor = vColor;
geometry.uv = vec2(0.);
#ifdef FLAT_SHADING
if (column.extruded && !column.isStroke && !bool(picking.isActive)) {
vec3 normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));
fragColor.rgb = lighting_getLightColor(vColor.rgb, cameraPosition, position_commonspace.xyz, normal);
}
#endif
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,yb=[0,0,0,255],Z5e={diskResolution:{type:"number",min:4,value:20},vertices:null,radius:{type:"number",min:0,value:1e3},angle:{type:"number",value:0},offset:{type:"array",value:[0,0]},coverage:{type:"number",min:0,max:1,value:1},elevationScale:{type:"number",min:0,value:1},radiusUnits:"meters",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,extruded:!0,wireframe:!1,filled:!0,stroked:!1,flatShading:!1,getPosition:{type:"accessor",value:t=>t.position},getFillColor:{type:"accessor",value:yb},getLineColor:{type:"accessor",value:yb},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0,getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class Gx extends xl{getShaders(){const e={},{flatShading:n}=this.props;return n&&(e.FLAT_SHADING=1),super.getShaders({vs:Y5e,fs:G5e,defines:e,modules:[Sd,n?qX:WX,BR,K5e]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceElevations:{size:1,transition:!0,accessor:"getElevation"},instanceFillColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getFillColor",defaultValue:yb},instanceLineColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getLineColor",defaultValue:yb},instanceStrokeWidths:{size:1,accessor:"getLineWidth",transition:!0}})}updateState(e){super.updateState(e);const{props:n,oldProps:r,changeFlags:i}=e,a=i.extensionsChanged||n.flatShading!==r.flatShading;a&&(this.state.models?.forEach(o=>o.destroy()),this.setState(this._getModels()),this.getAttributeManager().invalidateAll());const s=this.getNumInstances();this.state.fillModel.setInstanceCount(s),this.state.wireframeModel.setInstanceCount(s),(a||n.diskResolution!==r.diskResolution||n.vertices!==r.vertices||(n.extruded||n.stroked)!==(r.extruded||r.stroked))&&this._updateGeometry(n)}getGeometry(e,n,r){const i=new q5e({radius:1,height:r?2:0,vertices:n,nradial:e});let a=0;if(n)for(let s=0;s<e;s++){const o=n[s],c=Math.sqrt(o[0]*o[0]+o[1]*o[1]);a+=c/e}else a=1;return this.setState({edgeDistance:Math.cos(Math.PI/e)*a}),i}_getModels(){const e=this.getShaders(),n=this.getAttributeManager().getBufferLayouts(),r=new Ta(this.context.device,{...e,id:`${this.props.id}-fill`,bufferLayout:n,isInstanced:!0}),i=new Ta(this.context.device,{...e,id:`${this.props.id}-wireframe`,bufferLayout:n,isInstanced:!0});return{fillModel:r,wireframeModel:i,models:[i,r]}}_updateGeometry({diskResolution:e,vertices:n,extruded:r,stroked:i}){const a=this.getGeometry(e,n,r||i);this.setState({fillVertexCount:a.attributes.POSITION.value.length/3});const s=this.state.fillModel,o=this.state.wireframeModel;s.setGeometry(a),s.setTopology("triangle-strip"),s.setIndexBuffer(null),o.setGeometry(a),o.setTopology("line-list")}draw({uniforms:e}){const{lineWidthUnits:n,lineWidthScale:r,lineWidthMinPixels:i,lineWidthMaxPixels:a,radiusUnits:s,elevationScale:o,extruded:c,filled:f,stroked:d,wireframe:p,offset:m,coverage:y,radius:v,angle:b}=this.props,w=this.state.fillModel,T=this.state.wireframeModel,{fillVertexCount:C,edgeDistance:A}=this.state,R={radius:v,angle:b/180*Math.PI,offset:m,extruded:c,stroked:d,coverage:y,elevationScale:o,edgeDistance:A,radiusUnits:io[s],widthUnits:io[n],widthScale:r,widthMinPixels:i,widthMaxPixels:a};c&&p&&(T.shaderInputs.setProps({column:{...R,isStroke:!0}}),T.draw(this.context.renderPass)),f&&(w.setVertexCount(C),w.shaderInputs.setProps({column:{...R,isStroke:!1}}),w.draw(this.context.renderPass)),!c&&d&&(w.setVertexCount(C*2/3),w.shaderInputs.setProps({column:{...R,isStroke:!0}}),w.draw(this.context.renderPass))}}Gx.layerName="ColumnLayer";Gx.defaultProps=Z5e;function Q5e({pointCount:t,getBinId:e}){const n=new Map;for(let r=0;r<t;r++){const i=e(r);if(i===null)continue;let a=n.get(String(i));a?a.points.push(r):(a={id:i,index:n.size,points:[r]},n.set(String(i),a))}return Array.from(n.values())}function J5e({bins:t,dimensions:e,target:n}){const r=t.length*e;(!n||n.length<r)&&(n=new Float32Array(r));for(let i=0;i<t.length;i++){const{id:a}=t[i];Array.isArray(a)?n.set(a,i*e):n[i]=a}return n}const e6e=t=>t.length,qK=(t,e)=>{let n=0;for(const r of t)n+=e(r);return n},t6e=(t,e)=>t.length===0?NaN:qK(t,e)/t.length,n6e=(t,e)=>{let n=1/0;for(const r of t){const i=e(r);i<n&&(n=i)}return n},r6e=(t,e)=>{let n=-1/0;for(const r of t){const i=e(r);i>n&&(n=i)}return n},i6e={COUNT:e6e,SUM:qK,MEAN:t6e,MIN:n6e,MAX:r6e};function a6e({bins:t,getValue:e,operation:n,target:r}){(!r||r.length<t.length)&&(r=new Float32Array(t.length));let i=1/0,a=-1/0;for(let s=0;s<t.length;s++){const{points:o}=t[s];r[s]=n(o,e),r[s]<i&&(i=r[s]),r[s]>a&&(a=r[s])}return{value:r,domain:[i,a]}}function yF(t,e,n){const r={};for(const a of t.sources||[]){const s=e[a];if(s)r[a]=s6e(s);else throw new Error(`Cannot find attribute ${a}`)}const i={};return a=>{for(const s in r)i[s]=r[s](a);return t.getValue(i,a,n)}}function s6e(t){const e=t.value,{offset:n=0,stride:r,size:i}=t.getAccessor(),a=e.BYTES_PER_ELEMENT,s=n/a,o=r?r/a:i;if(i===1)return t.isConstant?()=>e[0]:f=>{const d=s+o*f;return e[d]};let c;return t.isConstant?(c=Array.from(e),()=>c):(c=new Array(i),f=>{const d=s+o*f;for(let p=0;p<i;p++)c[p]=e[d+p];return c})}class o6e{constructor(e){this.bins=[],this.binIds=null,this.results=[],this.dimensions=e.dimensions,this.channelCount=e.getValue.length,this.props={...e,binOptions:{},pointCount:0,operations:[],customOperations:[],attributes:{}},this.needsUpdate=!0,this.setProps(e)}destroy(){}get binCount(){return this.bins.length}setProps(e){const n=this.props;if(e.binOptions&&(kr(e.binOptions,n.binOptions,2)||this.setNeedsUpdate()),e.operations)for(let r=0;r<this.channelCount;r++)e.operations[r]!==n.operations[r]&&this.setNeedsUpdate(r);if(e.customOperations)for(let r=0;r<this.channelCount;r++)!!e.customOperations[r]!=!!n.customOperations[r]&&this.setNeedsUpdate(r);e.pointCount!==void 0&&e.pointCount!==n.pointCount&&this.setNeedsUpdate(),e.attributes&&(e.attributes={...n.attributes,...e.attributes}),Object.assign(this.props,e)}setNeedsUpdate(e){e===void 0?this.needsUpdate=!0:this.needsUpdate!==!0&&(this.needsUpdate=this.needsUpdate||[],this.needsUpdate[e]=!0)}update(){if(this.needsUpdate===!0){this.bins=Q5e({pointCount:this.props.pointCount,getBinId:yF(this.props.getBin,this.props.attributes,this.props.binOptions)});const e=J5e({bins:this.bins,dimensions:this.dimensions,target:this.binIds?.value});this.binIds={value:e,type:"float32",size:this.dimensions}}for(let e=0;e<this.channelCount;e++)if(this.needsUpdate===!0||this.needsUpdate[e]){const n=this.props.customOperations[e]||i6e[this.props.operations[e]],{value:r,domain:i}=a6e({bins:this.bins,getValue:yF(this.props.getValue[e],this.props.attributes,void 0),operation:n,target:this.results[e]?.value});this.results[e]={value:r,domain:i,type:"float32",size:1},this.props.onUpdate?.({channel:e})}this.needsUpdate=!1}preDraw(){}getBins(){return this.binIds}getResult(e){return this.results[e]}getResultDomain(e){return this.results[e]?.domain??[1/0,-1/0]}getBin(e){const n=this.bins[e];if(!n)return null;const r=new Array(this.channelCount);for(let i=0;i<r.length;i++){const a=this.results[i];r[i]=a?.value[e]}return{id:n.id,value:r,count:n.points.length,pointIndices:n.points}}}function XK(t,e,n){return t.createFramebuffer({width:e,height:n,colorAttachments:[t.createTexture({width:e,height:n,format:"rgba32float",sampler:{minFilter:"nearest",magFilter:"nearest"}})]})}const l6e=`uniform binSorterUniforms {
  ivec4 binIdRange;
  ivec2 targetSize;
} binSorter;
`,c6e={name:"binSorter",vs:l6e,uniformTypes:{binIdRange:"vec4<i32>",targetSize:"vec2<i32>"}},KK=[1,2,4,8],vF=3e38,u6e={SUM:0,MEAN:0,MIN:0,MAX:0,COUNT:0},Nv=1024;class f6e{constructor(e,n){this.binsFBO=null,this.device=e,this.model=h6e(e,n)}get texture(){return this.binsFBO?this.binsFBO.colorAttachments[0].texture:null}destroy(){this.model.destroy(),this.binsFBO?.colorAttachments[0].texture.destroy(),this.binsFBO?.destroy()}getBinValues(e){if(!this.binsFBO)return null;const n=e%Nv,r=Math.floor(e/Nv),i=this.device.readPixelsToArrayWebGL(this.binsFBO,{sourceX:n,sourceY:r,sourceWidth:1,sourceHeight:1}).buffer;return new Float32Array(i)}setDimensions(e,n){const r=Nv,i=Math.ceil(e/r);this.binsFBO?this.binsFBO.height<i&&this.binsFBO.resize({width:r,height:i}):this.binsFBO=XK(this.device,r,i);const a={binIdRange:[n[0][0],n[0][1],n[1]?.[0]||0,n[1]?.[1]||0],targetSize:[this.binsFBO.width,this.binsFBO.height]};this.model.shaderInputs.setProps({binSorter:a})}setModelProps(e){const n=this.model;e.attributes&&n.setAttributes(e.attributes),e.constantAttributes&&n.setConstantAttributes(e.constantAttributes),e.vertexCount!==void 0&&n.setVertexCount(e.vertexCount),e.shaderModuleProps&&n.shaderInputs.setProps(e.shaderModuleProps)}update(e){if(!this.binsFBO)return;const n=d6e(e);this._updateBins("SUM",n.SUM+n.MEAN),this._updateBins("MIN",n.MIN),this._updateBins("MAX",n.MAX)}_updateBins(e,n){if(n===0)return;n|=KK[3];const r=this.model,i=this.binsFBO,a=e==="MAX"?-vF:e==="MIN"?vF:0,s=this.device.beginRenderPass({id:`gpu-aggregation-${e}`,framebuffer:i,parameters:{viewport:[0,0,i.width,i.height],colorMask:n},clearColor:[a,a,a,0],clearDepth:!1,clearStencil:!1});r.setParameters({blend:!0,blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one",blendColorOperation:e==="MAX"?"max":e==="MIN"?"min":"add",blendAlphaOperation:"add"}),r.draw(s),s.end()}}function d6e(t){const e={...u6e};for(let n=0;n<t.length;n++){const r=t[n];r&&(e[r]+=KK[n])}return e}function h6e(t,e){let n=e.vs;e.dimensions===2&&(n+=`
void getBin(out int binId) {
  ivec2 binId2;
  getBin(binId2);
  if (binId2.x < binSorter.binIdRange.x || binId2.x >= binSorter.binIdRange.y) {
    binId = -1;
  } else {
    binId = (binId2.y - binSorter.binIdRange.z) * (binSorter.binIdRange.y - binSorter.binIdRange.x) + binId2.x;
  }
}
`);const r=`#version 300 es
#define SHADER_NAME gpu-aggregation-sort-bins-vertex

${n}

out vec3 v_Value;

void main() {
  int binIndex;
  getBin(binIndex);
  binIndex = binIndex - binSorter.binIdRange.x;
  if (binIndex < 0) {
    gl_Position = vec4(0.);
    return;
  }
  int row = binIndex / binSorter.targetSize.x;
  int col = binIndex - row * binSorter.targetSize.x;
  vec2 position = (vec2(col, row) + 0.5) / vec2(binSorter.targetSize) * 2.0 - 1.0;
  gl_Position = vec4(position, 0.0, 1.0);
  gl_PointSize = 1.0;

#if NUM_CHANNELS == 3
  getValue(v_Value);
#elif NUM_CHANNELS == 2
  getValue(v_Value.xy);
#else
  getValue(v_Value.x);
#endif
}
`,i=`#version 300 es
#define SHADER_NAME gpu-aggregation-sort-bins-fragment

precision highp float;

in vec3 v_Value;
out vec4 fragColor;

void main() {
  fragColor.xyz = v_Value;

  #ifdef MODULE_GEOMETRY
  geometry.uv = vec2(0.);
  DECKGL_FILTER_COLOR(fragColor, geometry);
  #endif

  fragColor.w = 1.0;
}
`;return new Ta(t,{bufferLayout:e.bufferLayout,modules:[...e.modules||[],c6e],defines:{...e.defines,NON_INSTANCED_MODEL:1,NUM_CHANNELS:e.channelCount},isInstanced:!1,vs:r,fs:i,topology:"point-list",disableWarnings:!0})}const p6e=`uniform aggregatorTransformUniforms {
  ivec4 binIdRange;
  bvec3 isCount;
  bvec3 isMean;
  float naN;
} aggregatorTransform;
`,g6e={name:"aggregatorTransform",vs:p6e,uniformTypes:{binIdRange:"vec4<i32>",isCount:"vec3<f32>",isMean:"vec3<f32>"}};class m6e{constructor(e,n){this.binBuffer=null,this.valueBuffer=null,this._domains=null,this.device=e,this.channelCount=n.channelCount,this.transform=y6e(e,n),this.domainFBO=XK(e,2,1)}destroy(){this.transform.destroy(),this.binBuffer?.destroy(),this.valueBuffer?.destroy(),this.domainFBO.colorAttachments[0].texture.destroy(),this.domainFBO.destroy()}get domains(){if(!this._domains){const e=this.device.readPixelsToArrayWebGL(this.domainFBO).buffer,n=new Float32Array(e);this._domains=[[-n[4],n[0]],[-n[5],n[1]],[-n[6],n[2]]].slice(0,this.channelCount)}return this._domains}setDimensions(e,n){const{model:r,transformFeedback:i}=this.transform;r.setVertexCount(e);const a={binIdRange:[n[0][0],n[0][1],n[1]?.[0]||0,n[1]?.[1]||0]};r.shaderInputs.setProps({aggregatorTransform:a});const s=e*n.length*4;(!this.binBuffer||this.binBuffer.byteLength<s)&&(this.binBuffer?.destroy(),this.binBuffer=this.device.createBuffer({byteLength:s}),i.setBuffer("binIds",this.binBuffer));const o=e*this.channelCount*4;(!this.valueBuffer||this.valueBuffer.byteLength<o)&&(this.valueBuffer?.destroy(),this.valueBuffer=this.device.createBuffer({byteLength:o}),i.setBuffer("values",this.valueBuffer))}update(e,n){if(!e)return;const r=this.transform,i=this.domainFBO,a=[0,1,2].map(c=>n[c]==="COUNT"?1:0),s=[0,1,2].map(c=>n[c]==="MEAN"?1:0),o={isCount:a,isMean:s,bins:e};r.model.shaderInputs.setProps({aggregatorTransform:o}),r.run({id:"gpu-aggregation-domain",framebuffer:i,parameters:{viewport:[0,0,2,1]},clearColor:[-3e38,-3e38,-3e38,0],clearDepth:!1,clearStencil:!1}),this._domains=null}}function y6e(t,e){const n=`#version 300 es
#define SHADER_NAME gpu-aggregation-domain-vertex

uniform sampler2D bins;

#if NUM_DIMS == 1
out float binIds;
#else
out vec2 binIds;
#endif

#if NUM_CHANNELS == 1
flat out float values;
#elif NUM_CHANNELS == 2
flat out vec2 values;
#else
flat out vec3 values;
#endif

const float NAN = intBitsToFloat(-1);

void main() {
  int row = gl_VertexID / SAMPLER_WIDTH;
  int col = gl_VertexID - row * SAMPLER_WIDTH;
  vec4 weights = texelFetch(bins, ivec2(col, row), 0);
  vec3 value3 = mix(
    mix(weights.rgb, vec3(weights.a), aggregatorTransform.isCount),
    weights.rgb / max(weights.a, 1.0),
    aggregatorTransform.isMean
  );
  if (weights.a == 0.0) {
    value3 = vec3(NAN);
  }

#if NUM_DIMS == 1
  binIds = float(gl_VertexID + aggregatorTransform.binIdRange.x);
#else
  int y = gl_VertexID / (aggregatorTransform.binIdRange.y - aggregatorTransform.binIdRange.x);
  int x = gl_VertexID - y * (aggregatorTransform.binIdRange.y - aggregatorTransform.binIdRange.x);
  binIds.y = float(y + aggregatorTransform.binIdRange.z);
  binIds.x = float(x + aggregatorTransform.binIdRange.x);
#endif

#if NUM_CHANNELS == 3
  values = value3;
#elif NUM_CHANNELS == 2
  values = value3.xy;
#else
  values = value3.x;
#endif

  gl_Position = vec4(0., 0., 0., 1.);
  // This model renders into a 2x1 texture to obtain min and max simultaneously.
  // See comments in fragment shader
  gl_PointSize = 2.0;
}
`,r=`#version 300 es
#define SHADER_NAME gpu-aggregation-domain-fragment

precision highp float;

#if NUM_CHANNELS == 1
flat in float values;
#elif NUM_CHANNELS == 2
flat in vec2 values;
#else
flat in vec3 values;
#endif

out vec4 fragColor;

void main() {
  vec3 value3;
#if NUM_CHANNELS == 3
  value3 = values;
#elif NUM_CHANNELS == 2
  value3.xy = values;
#else
  value3.x = values;
#endif
  if (isnan(value3.x)) discard;
  // This shader renders into a 2x1 texture with blending=max
  // The left pixel yields the max value of each channel
  // The right pixel yields the min value of each channel
  if (gl_FragCoord.x < 1.0) {
    fragColor = vec4(value3, 1.0);
  } else {
    fragColor = vec4(-value3, 1.0);
  }
}
`;return new Lc(t,{vs:n,fs:r,topology:"point-list",modules:[g6e],parameters:{blend:!0,blendColorSrcFactor:"one",blendColorDstFactor:"one",blendColorOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one",blendAlphaOperation:"max"},defines:{NUM_DIMS:e.dimensions,NUM_CHANNELS:e.channelCount,SAMPLER_WIDTH:Nv},varyings:["binIds","values"],disableWarnings:!0})}class bF{static isSupported(e){return e.features.has("float32-renderable-webgl")&&e.features.has("texture-blend-float-webgl")}constructor(e,n){this.binCount=0,this.binIds=null,this.results=[],this.device=e,this.dimensions=n.dimensions,this.channelCount=n.channelCount,this.props={...n,pointCount:0,binIdRange:[[0,0]],operations:[],attributes:{},binOptions:{}},this.needsUpdate=new Array(this.channelCount).fill(!0),this.binSorter=new f6e(e,n),this.aggregationTransform=new m6e(e,n),this.setProps(n)}getBins(){const e=this.aggregationTransform.binBuffer;return e?(this.binIds?.buffer!==e&&(this.binIds={buffer:e,type:"float32",size:this.dimensions}),this.binIds):null}getResult(e){const n=this.aggregationTransform.valueBuffer;return!n||e>=this.channelCount?null:(this.results[e]?.buffer!==n&&(this.results[e]={buffer:n,type:"float32",size:1,stride:this.channelCount*4,offset:e*4}),this.results[e])}getResultDomain(e){return this.aggregationTransform.domains[e]}getBin(e){if(e<0||e>=this.binCount)return null;const{binIdRange:n}=this.props;let r;if(this.dimensions===1)r=[e+n[0][0]];else{const[[o,c],[f]]=n,d=c-o;r=[e%d+o,Math.floor(e/d)+f]}const i=this.binSorter.getBinValues(e);if(!i)return null;const a=i[3],s=[];for(let o=0;o<this.channelCount;o++){const c=this.props.operations[o];c==="COUNT"?s[o]=a:a===0?s[o]=NaN:s[o]=c==="MEAN"?i[o]/a:i[o]}return{id:r,value:s,count:a}}destroy(){this.binSorter.destroy(),this.aggregationTransform.destroy()}setProps(e){const n=this.props;if("binIdRange"in e&&!kr(e.binIdRange,n.binIdRange,2)){const r=e.binIdRange;if(ut.assert(r.length===this.dimensions),this.dimensions===1){const[[i,a]]=r;this.binCount=a-i}else{const[[i,a],[s,o]]=r;this.binCount=(a-i)*(o-s)}this.binSorter.setDimensions(this.binCount,r),this.aggregationTransform.setDimensions(this.binCount,r),this.setNeedsUpdate()}if(e.operations)for(let r=0;r<this.channelCount;r++)e.operations[r]!==n.operations[r]&&this.setNeedsUpdate(r);if(e.pointCount!==void 0&&e.pointCount!==n.pointCount&&(this.binSorter.setModelProps({vertexCount:e.pointCount}),this.setNeedsUpdate()),e.binOptions&&(kr(e.binOptions,n.binOptions,2)||this.setNeedsUpdate(),this.binSorter.model.shaderInputs.setProps({binOptions:e.binOptions})),e.attributes){const r={},i={};for(const a of Object.values(e.attributes))for(const[s,o]of Object.entries(a.getValue()))ArrayBuffer.isView(o)?i[s]=o:o&&(r[s]=o);this.binSorter.setModelProps({attributes:r,constantAttributes:i})}e.shaderModuleProps&&this.binSorter.setModelProps({shaderModuleProps:e.shaderModuleProps}),Object.assign(this.props,e)}setNeedsUpdate(e){e===void 0?this.needsUpdate.fill(!0):this.needsUpdate[e]=!0}update(){}preDraw(){if(!this.needsUpdate.some(Boolean))return;const{operations:e}=this.props,n=this.needsUpdate.map((r,i)=>r?e[i]:null);this.binSorter.update(n),this.aggregationTransform.update(this.binSorter.texture,e);for(let r=0;r<this.channelCount;r++)this.needsUpdate[r]&&(this.needsUpdate[r]=!1,this.props.onUpdate?.({channel:r}))}}let YK=class extends QR{get isDrawable(){return!0}initializeState(){this.getAttributeManager().remove(["instancePickingColors"])}updateState(e){super.updateState(e);const n=this.getAggregatorType();if(e.changeFlags.extensionsChanged||this.state.aggregatorType!==n){this.state.aggregator?.destroy();const r=this.createAggregator(n);return r.setProps({attributes:this.getAttributeManager()?.attributes}),this.setState({aggregator:r,aggregatorType:n}),!0}return!1}finalizeState(e){super.finalizeState(e),this.state.aggregator.destroy()}updateAttributes(e){const{aggregator:n}=this.state;n.setProps({attributes:e});for(const r in e)this.onAttributeChange(r);n.update()}draw({shaderModuleProps:e}){const{aggregator:n}=this.state;n.setProps({shaderModuleProps:e}),n.preDraw()}_getAttributeManager(){return new qx(this.context.device,{id:this.props.id,stats:this.context.stats})}};YK.layerName="AggregationLayer";const GK=[[255,255,178],[254,217,118],[254,178,76],[253,141,60],[240,59,32],[189,0,38]];function ZK(t,e=!1,n=Float32Array){let r;if(Number.isFinite(t[0]))r=new n(t);else{r=new n(t.length*4);let i=0;for(let a=0;a<t.length;a++){const s=t[a];r[i++]=s[0],r[i++]=s[1],r[i++]=s[2],r[i++]=Number.isFinite(s[3])?s[3]:255}}if(e)for(let i=0;i<r.length;i++)r[i]/=255;return r}const vb={linear:"linear",quantile:"nearest",quantize:"nearest",ordinal:"nearest"};function v6e(t,e){t.setSampler({minFilter:vb[e],magFilter:vb[e]})}function b6e(t,e,n="linear"){const r=ZK(e,!1,Uint8Array);return t.createTexture({format:"rgba8unorm",sampler:{minFilter:vb[n],magFilter:vb[n],addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},data:r,width:r.length/4,height:1})}class xF{constructor(e,n){this.props={scaleType:"linear",lowerPercentile:0,upperPercentile:100},this.domain=null,this.cutoff=null,this.input=e,this.inputLength=n,this.attribute=e}getScalePercentile(){if(!this._percentile){const e=_F(this.input,this.inputLength);this._percentile=_6e(e)}return this._percentile}getScaleOrdinal(){if(!this._ordinal){const e=_F(this.input,this.inputLength);this._ordinal=x6e(e)}return this._ordinal}getCutoff({scaleType:e,lowerPercentile:n,upperPercentile:r}){if(e==="quantile")return[n,r-1];if(n>0||r<100){const{domain:i}=this.getScalePercentile();let a=i[Math.floor(n)-1]??-1/0,s=i[Math.floor(r)-1]??1/0;if(e==="ordinal"){const{domain:o}=this.getScaleOrdinal();a=o.findIndex(c=>c>=a),s=o.findIndex(c=>c>s)-1,s===-2&&(s=o.length-1)}return[a,s]}return null}update(e){const n=this.props;if(e.scaleType!==n.scaleType)switch(e.scaleType){case"quantile":{const{attribute:r}=this.getScalePercentile();this.attribute=r,this.domain=[0,99];break}case"ordinal":{const{attribute:r,domain:i}=this.getScaleOrdinal();this.attribute=r,this.domain=[0,i.length-1];break}default:this.attribute=this.input,this.domain=null}return(e.scaleType!==n.scaleType||e.lowerPercentile!==n.lowerPercentile||e.upperPercentile!==n.upperPercentile)&&(this.cutoff=this.getCutoff(e)),this.props=e,this}}function x6e(t){const e=new Set;for(const i of t)Number.isFinite(i)&&e.add(i);const n=Array.from(e).sort(),r=new Map;for(let i=0;i<n.length;i++)r.set(n[i],i);return{attribute:{value:t.map(i=>Number.isFinite(i)?r.get(i):NaN),type:"float32",size:1},domain:n}}function _6e(t,e=100){const n=Array.from(t).filter(Number.isFinite).sort(w6e);let r=0;const i=Math.max(1,e),a=new Array(i-1);for(;++r<i;)a[r-1]=S6e(n,r/i);return{attribute:{value:t.map(s=>Number.isFinite(s)?T6e(a,s):NaN),type:"float32",size:1},domain:a}}function _F(t,e){const n=(t.stride??4)/4,r=(t.offset??0)/4;let i=t.value;if(!i){const s=t.buffer?.readSyncWebGL(0,n*4*e);s&&(i=new Float32Array(s.buffer),t.value=i)}if(n===1)return i.subarray(0,e);const a=new Float32Array(e);for(let s=0;s<e;s++)a[s]=i[s*n+r];return a}function w6e(t,e){return t-e}function S6e(t,e){const n=t.length;if(e<=0||n<2)return t[0];if(e>=1)return t[n-1];const r=(n-1)*e,i=Math.floor(r),a=t[i],s=t[i+1];return a+(s-a)*(r-i)}function T6e(t,e){let n=0,r=t.length;for(;n<r;){const i=n+r>>>1;t[i]>e?r=i:n=i+1}return n}function A6e({dataBounds:t,getBinId:e,padding:n=0}){const r=[t[0],t[1],[t[0][0],t[1][1]],[t[1][0],t[0][1]]].map(c=>e(c)),i=Math.min(...r.map(c=>c[0]))-n,a=Math.min(...r.map(c=>c[1]))-n,s=Math.max(...r.map(c=>c[0]))+n+1,o=Math.max(...r.map(c=>c[1]))+n+1;return[[i,s],[a,o]]}const QK=Math.PI/3,Zx=2*Math.sin(QK),Qx=1.5,E6e=Array.from({length:6},(t,e)=>{const n=e*QK;return[Math.sin(n),-Math.cos(n)]});function y2([t,e],n){let r=Math.round(e=e/n/Qx),i=Math.round(t=t/n/Zx-(r&1)/2);const a=e-r;if(Math.abs(a)*3>1){const s=t-i,o=i+(t<i?-1:1)/2,c=r+(e<r?-1:1),f=t-o,d=e-c;s*s+a*a>f*f+d*d&&(i=o+(r&1?1:-1)/2,r=c)}return[i,r]}const C6e=`
const vec2 DIST = vec2(${Zx}, ${Qx});

ivec2 pointToHexbin(vec2 p, float radius) {
  p /= radius * DIST;
  float pj = round(p.y);
  float pjm2 = mod(pj, 2.0);
  p.x -= pjm2 * 0.5;
  float pi = round(p.x);
  vec2 d1 = p - vec2(pi, pj);

  if (abs(d1.y) * 3. > 1.) {
    vec2 v2 = step(0.0, d1) - 0.5;
    v2.y *= 2.0;
    vec2 d2 = d1 - v2;
    if (dot(d1, d1) > dot(d2, d2)) {
      pi += v2.x + pjm2 - 0.5;
      pj += v2.y;
    }
  }
  return ivec2(pi, pj);
}
`;function wF([t,e],n){return[(t+(e&1)/2)*n*Zx,e*n*Qx]}const P6e=`
const vec2 DIST = vec2(${Zx}, ${Qx});

vec2 hexbinCentroid(vec2 binId, float radius) {
  binId.x += fract(binId.y * 0.5);
  return binId * DIST * radius;
}
`,R6e=`#version 300 es
#define SHADER_NAME hexagon-cell-layer-vertex-shader
in vec3 positions;
in vec3 normals;
in vec2 instancePositions;
in float instanceElevationValues;
in float instanceColorValues;
in vec3 instancePickingColors;
uniform sampler2D colorRange;
out vec4 vColor;
${P6e}
float interp(float value, vec2 domain, vec2 range) {
float r = min(max((value - domain.x) / (domain.y - domain.x), 0.), 1.);
return mix(range.x, range.y, r);
}
vec4 interp(float value, vec2 domain, sampler2D range) {
float r = (value - domain.x) / (domain.y - domain.x);
return texture(range, vec2(r, 0.5));
}
void main(void) {
geometry.pickingColor = instancePickingColors;
if (isnan(instanceColorValues) ||
instanceColorValues < hexagon.colorDomain.z ||
instanceColorValues > hexagon.colorDomain.w ||
instanceElevationValues < hexagon.elevationDomain.z ||
instanceElevationValues > hexagon.elevationDomain.w
) {
gl_Position = vec4(0.);
return;
}
vec2 commonPosition = hexbinCentroid(instancePositions, column.radius) + (hexagon.originCommon - project.commonOrigin.xy);
commonPosition += positions.xy * column.radius * column.coverage;
geometry.position = vec4(commonPosition, 0.0, 1.0);
geometry.normal = project_normal(normals);
float elevation = 0.0;
if (column.extruded) {
elevation = interp(instanceElevationValues, hexagon.elevationDomain.xy, hexagon.elevationRange);
elevation = project_size(elevation);
geometry.position.z = (positions.z + 1.0) / 2.0 * elevation;
}
gl_Position = project_common_position_to_clipspace(geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vColor = interp(instanceColorValues, hexagon.colorDomain.xy, colorRange);
vColor.a *= layer.opacity;
if (column.extruded) {
vColor.rgb = lighting_getLightColor(vColor.rgb, project.cameraPosition, geometry.position.xyz, geometry.normal);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,O6e=`uniform hexagonUniforms {
  vec4 colorDomain;
  vec4 elevationDomain;
  vec2 elevationRange;
  vec2 originCommon;
} hexagon;
`,M6e={name:"hexagon",vs:O6e,uniformTypes:{colorDomain:"vec4<f32>",elevationDomain:"vec4<f32>",elevationRange:"vec2<f32>",originCommon:"vec2<f32>"}};class JK extends Gx{getShaders(){const e=super.getShaders();return e.modules.push(M6e),{...e,vs:R6e}}initializeState(){super.initializeState();const e=this.getAttributeManager();e.remove(["instanceElevations","instanceFillColors","instanceLineColors","instanceStrokeWidths"]),e.addInstanced({instancePositions:{size:2,type:"float32",accessor:"getBin"},instanceColorValues:{size:1,type:"float32",accessor:"getColorValue"},instanceElevationValues:{size:1,type:"float32",accessor:"getElevationValue"}})}updateState(e){super.updateState(e);const{props:n,oldProps:r}=e,i=this.state.fillModel;if(r.colorRange!==n.colorRange){this.state.colorTexture?.destroy(),this.state.colorTexture=b6e(this.context.device,n.colorRange,n.colorScaleType);const a={colorRange:this.state.colorTexture};i.shaderInputs.setProps({hexagon:a})}else r.colorScaleType!==n.colorScaleType&&v6e(this.state.colorTexture,n.colorScaleType)}finalizeState(e){super.finalizeState(e),this.state.colorTexture?.destroy()}draw({uniforms:e}){const{radius:n,hexOriginCommon:r,elevationRange:i,elevationScale:a,extruded:s,coverage:o,colorDomain:c,elevationDomain:f}=this.props,d=this.props.colorCutoff||[-1/0,1/0],p=this.props.elevationCutoff||[-1/0,1/0],m=this.state.fillModel;m.vertexArray.indexBuffer&&m.setIndexBuffer(null),m.setVertexCount(this.state.fillVertexCount);const y={colorDomain:[Math.max(c[0],d[0]),Math.min(c[1],d[1]),Math.max(c[0]-1,d[0]),Math.min(c[1]+1,d[1])],elevationDomain:[Math.max(f[0],p[0]),Math.min(f[1],p[1]),Math.max(f[0]-1,p[0]),Math.min(f[1]+1,p[1])],elevationRange:[i[0]*a,i[1]*a],originCommon:r};m.shaderInputs.setProps({column:{extruded:s,coverage:o,radius:n},hexagon:y}),m.draw(this.context.renderPass)}}JK.layerName="HexagonCellLayer";const I6e=`uniform binOptionsUniforms {
  vec2 hexOriginCommon;
  float radiusCommon;
} binOptions;
`,k6e={name:"binOptions",vs:I6e,uniformTypes:{hexOriginCommon:"vec2<f32>",radiusCommon:"f32"}};function SF(){}const N6e={gpuAggregation:!0,colorDomain:null,colorRange:GK,getColorValue:{type:"accessor",value:null},getColorWeight:{type:"accessor",value:1},colorAggregation:"SUM",lowerPercentile:{type:"number",min:0,max:100,value:0},upperPercentile:{type:"number",min:0,max:100,value:100},colorScaleType:"quantize",onSetColorDomain:SF,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:{type:"accessor",value:null},getElevationWeight:{type:"accessor",value:1},elevationAggregation:"SUM",elevationScale:{type:"number",min:0,value:1},elevationLowerPercentile:{type:"number",min:0,max:100,value:0},elevationUpperPercentile:{type:"number",min:0,max:100,value:100},elevationScaleType:"linear",onSetElevationDomain:SF,radius:{type:"number",min:1,value:1e3},coverage:{type:"number",min:0,max:1,value:1},getPosition:{type:"accessor",value:t=>t.position},hexagonAggregator:{type:"function",optional:!0,value:null},extruded:!1,material:!0};class eO extends YK{getAggregatorType(){const{gpuAggregation:e,hexagonAggregator:n,getColorValue:r,getElevationValue:i}=this.props;return e&&(n||r||i)?(ut.warn("Features not supported by GPU aggregation, falling back to CPU")(),"cpu"):e&&bF.isSupported(this.context.device)?"gpu":"cpu"}createAggregator(e){if(e==="cpu"){const{hexagonAggregator:n,radius:r}=this.props;return new o6e({dimensions:2,getBin:{sources:["positions"],getValue:({positions:i},a,s)=>{if(n)return n(i,r);const c=this.state.aggregatorViewport.projectPosition(i),{radiusCommon:f,hexOriginCommon:d}=s;return y2([c[0]-d[0],c[1]-d[1]],f)}},getValue:[{sources:["colorWeights"],getValue:({colorWeights:i})=>i},{sources:["elevationWeights"],getValue:({elevationWeights:i})=>i}]})}return new bF(this.context.device,{dimensions:2,channelCount:2,bufferLayout:this.getAttributeManager().getBufferLayouts({isInstanced:!1}),...super.getShaders({modules:[Sd,k6e],vs:`
  in vec3 positions;
  in vec3 positions64Low;
  in float colorWeights;
  in float elevationWeights;
  
  ${C6e}

  void getBin(out ivec2 binId) {
    vec3 positionCommon = project_position(positions, positions64Low);
    binId = pointToHexbin(positionCommon.xy, binOptions.radiusCommon);
  }
  void getValue(out vec2 value) {
    value = vec2(colorWeights, elevationWeights);
  }
  `})})}initializeState(){super.initializeState(),this.getAttributeManager().add({positions:{size:3,accessor:"getPosition",type:"float64",fp64:this.use64bitPositions()},colorWeights:{size:1,accessor:"getColorWeight"},elevationWeights:{size:1,accessor:"getElevationWeight"}})}updateState(e){const n=super.updateState(e),{props:r,oldProps:i,changeFlags:a}=e,{aggregator:s}=this.state;if((a.dataChanged||!this.state.dataAsArray)&&(r.getColorValue||r.getElevationValue)&&(this.state.dataAsArray=Array.from(IK(r.data).iterable)),n||a.dataChanged||r.radius!==i.radius||r.getColorValue!==i.getColorValue||r.getElevationValue!==i.getElevationValue||r.colorAggregation!==i.colorAggregation||r.elevationAggregation!==i.elevationAggregation){this._updateBinOptions();const{radiusCommon:o,hexOriginCommon:c,binIdRange:f,dataAsArray:d}=this.state;if(s.setProps({binIdRange:f,pointCount:this.getNumInstances(),operations:[r.colorAggregation,r.elevationAggregation],binOptions:{radiusCommon:o,hexOriginCommon:c},onUpdate:this._onAggregationUpdate.bind(this)}),d){const{getColorValue:p,getElevationValue:m}=this.props;s.setProps({customOperations:[p&&(y=>p(y.map(v=>d[v]),{indices:y,data:r.data})),m&&(y=>m(y.map(v=>d[v]),{indices:y,data:r.data}))]})}}return a.updateTriggersChanged&&a.updateTriggersChanged.getColorValue&&s.setNeedsUpdate(0),a.updateTriggersChanged&&a.updateTriggersChanged.getElevationValue&&s.setNeedsUpdate(1),n}_updateBinOptions(){const e=this.getBounds();let n=1,r=[0,0],i=[[0,1],[0,1]],a=this.context.viewport;if(e&&Number.isFinite(e[0][0])){let s=[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2];const{radius:o}=this.props,{unitsPerMeter:c}=a.getDistanceScales(s);n=c[0]*o;const f=y2(a.projectFlat(s),n);s=a.unprojectFlat(wF(f,n));const d=a.constructor;a=a.isGeospatial?new d({longitude:s[0],latitude:s[1],zoom:12}):new Td({position:[s[0],s[1],0],zoom:12}),r=[Math.fround(a.center[0]),Math.fround(a.center[1])],i=A6e({dataBounds:e,getBinId:p=>{const m=a.projectFlat(p);return m[0]-=r[0],m[1]-=r[1],y2(m,n)},padding:1})}this.setState({radiusCommon:n,hexOriginCommon:r,binIdRange:i,aggregatorViewport:a})}draw(e){e.shaderModuleProps.project&&(e.shaderModuleProps.project.viewport=this.state.aggregatorViewport),super.draw(e)}_onAggregationUpdate({channel:e}){const n=this.getCurrentLayer().props,{aggregator:r}=this.state;if(e===0){const i=r.getResult(0);this.setState({colors:new xF(i,r.binCount)}),n.onSetColorDomain(r.getResultDomain(0))}else if(e===1){const i=r.getResult(1);this.setState({elevations:new xF(i,r.binCount)}),n.onSetElevationDomain(r.getResultDomain(1))}}onAttributeChange(e){const{aggregator:n}=this.state;switch(e){case"positions":n.setNeedsUpdate(),this._updateBinOptions();const{radiusCommon:r,hexOriginCommon:i,binIdRange:a}=this.state;n.setProps({binIdRange:a,binOptions:{radiusCommon:r,hexOriginCommon:i}});break;case"colorWeights":n.setNeedsUpdate(0);break;case"elevationWeights":n.setNeedsUpdate(1);break}}renderLayers(){const{aggregator:e,radiusCommon:n,hexOriginCommon:r}=this.state,{elevationScale:i,colorRange:a,elevationRange:s,extruded:o,coverage:c,material:f,transitions:d,colorScaleType:p,lowerPercentile:m,upperPercentile:y,colorDomain:v,elevationScaleType:b,elevationLowerPercentile:w,elevationUpperPercentile:T,elevationDomain:C}=this.props,A=this.getSubLayerClass("cells",JK),R=e.getBins(),P=this.state.colors?.update({scaleType:p,lowerPercentile:m,upperPercentile:y}),O=this.state.elevations?.update({scaleType:b,lowerPercentile:w,upperPercentile:T});return!P||!O?null:new A(this.getSubLayerProps({id:"cells"}),{data:{length:e.binCount,attributes:{getBin:R,getColorValue:P.attribute,getElevationValue:O.attribute}},dataComparator:(k,D)=>k.length===D.length,updateTriggers:{getBin:[R],getColorValue:[P.attribute],getElevationValue:[O.attribute]},diskResolution:6,vertices:E6e,radius:n,hexOriginCommon:r,elevationScale:i,colorRange:a,colorScaleType:p,elevationRange:s,extruded:o,coverage:c,material:f,colorDomain:P.domain||v||e.getResultDomain(0),elevationDomain:O.domain||C||e.getResultDomain(1),colorCutoff:P.cutoff,elevationCutoff:O.cutoff,transitions:d&&{getFillColor:d.getColorValue||d.getColorWeight,getElevation:d.getElevationValue||d.getElevationWeight},extensions:[]})}getPickingInfo(e){const n=e.info,{index:r}=n;if(r>=0){const i=this.state.aggregator.getBin(r);let a;if(i){const s=wF(i.id,this.state.radiusCommon),o=this.context.viewport.unprojectFlat(s);a={col:i.id[0],row:i.id[1],position:o,colorValue:i.value[0],elevationValue:i.value[1],count:i.count},i.pointIndices&&(a.pointIndices=i.pointIndices,a.points=Array.isArray(this.props.data)?i.pointIndices.map(c=>this.props.data[c]):[])}n.object=a}return n}}eO.layerName="HexagonLayer";eO.defaultProps=N6e;function D6e(t){const e=t.map(o=>o[0]),n=t.map(o=>o[1]),r=Math.min.apply(null,e),i=Math.max.apply(null,e),a=Math.min.apply(null,n),s=Math.max.apply(null,n);return[r,a,i,s]}function B6e(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}const TF=new Float32Array(12);function AF(t,e=2){let n=0;for(const r of t)for(let i=0;i<e;i++)TF[n++]=r[i]||0;return TF}function L6e(t,e,n){const[r,i,a,s]=t,o=a-r,c=s-i;let f=o,d=c;o/c<e/n?f=e/n*c:d=n/e*o,f<e&&(f=e,d=n);const p=(a+r)/2,m=(s+i)/2;return[p-f/2,m-d/2,p+f/2,m+d/2]}function j6e(t,e){const[n,r,i,a]=e;return[(t[0]-n)/(i-n),(t[1]-r)/(a-r)]}const U6e=`#version 300 es
#define SHADER_NAME heatp-map-layer-vertex-shader
uniform sampler2D maxTexture;
in vec3 positions;
in vec2 texCoords;
out vec2 vTexCoords;
out float vIntensityMin;
out float vIntensityMax;
void main(void) {
gl_Position = project_position_to_clipspace(positions, vec3(0.0), vec3(0.0));
vTexCoords = texCoords;
vec4 maxTexture = texture(maxTexture, vec2(0.5));
float maxValue = triangle.aggregationMode < 0.5 ? maxTexture.r : maxTexture.g;
float minValue = maxValue * triangle.threshold;
if (triangle.colorDomain[1] > 0.) {
maxValue = triangle.colorDomain[1];
minValue = triangle.colorDomain[0];
}
vIntensityMax = triangle.intensity / maxValue;
vIntensityMin = triangle.intensity / minValue;
}
`,F6e=`#version 300 es
#define SHADER_NAME triangle-layer-fragment-shader
precision highp float;
uniform sampler2D weightsTexture;
uniform sampler2D colorTexture;
in vec2 vTexCoords;
in float vIntensityMin;
in float vIntensityMax;
out vec4 fragColor;
vec4 getLinearColor(float value) {
float factor = clamp(value * vIntensityMax, 0., 1.);
vec4 color = texture(colorTexture, vec2(factor, 0.5));
color.a *= min(value * vIntensityMin, 1.0);
return color;
}
void main(void) {
vec4 weights = texture(weightsTexture, vTexCoords);
float weight = weights.r;
if (triangle.aggregationMode > 0.5) {
weight /= max(1.0, weights.a);
}
if (weight <= 0.) {
discard;
}
vec4 linearColor = getLinearColor(weight);
linearColor.a *= layer.opacity;
fragColor = linearColor;
}
`,EF=`uniform triangleUniforms {
  float aggregationMode;
  vec2 colorDomain;
  float intensity;
  float threshold;
} triangle;
`,$6e={name:"triangle",vs:EF,fs:EF,uniformTypes:{aggregationMode:"f32",colorDomain:"vec2<f32>",intensity:"f32",threshold:"f32"}};class eY extends xl{getShaders(){return super.getShaders({vs:U6e,fs:F6e,modules:[Sd,$6e]})}initializeState({device:e}){this.setState({model:this._getModel(e)})}_getModel(e){const{vertexCount:n,data:r}=this.props;return new Ta(e,{...this.getShaders(),id:this.props.id,attributes:r.attributes,bufferLayout:[{name:"positions",format:"float32x3"},{name:"texCoords",format:"float32x2"}],topology:"triangle-strip",vertexCount:n})}draw(){const{model:e}=this.state,{aggregationMode:n,colorDomain:r,intensity:i,threshold:a,colorTexture:s,maxTexture:o,weightsTexture:c}=this.props,f={aggregationMode:n,colorDomain:r,intensity:i,threshold:a,colorTexture:s,maxTexture:o,weightsTexture:c};e.shaderInputs.setProps({triangle:f}),e.draw(this.context.renderPass)}}eY.layerName="TriangleLayer";function z6e(t,e){const n={};for(const r in t)e.includes(r)||(n[r]=t[r]);return n}class tY extends QR{initializeAggregationLayer(e){super.initializeState(this.context),this.setState({ignoreProps:z6e(this.constructor._propTypes,e.data.props),dimensions:e})}updateState(e){super.updateState(e);const{changeFlags:n}=e;if(n.extensionsChanged){const r=this.getShaders({});r&&r.defines&&(r.defines.NON_INSTANCED_MODEL=1),this.updateShaders(r)}this._updateAttributes()}updateAttributes(e){this.setState({changedAttributes:e})}getAttributes(){return this.getAttributeManager().getAttributes()}getModuleSettings(){const{viewport:e,mousePosition:n,device:r}=this.context;return Object.assign(Object.create(this.props),{viewport:e,mousePosition:n,picking:{isActive:0},devicePixelRatio:r.canvasContext.cssToDeviceRatio()})}updateShaders(e){}isAggregationDirty(e,n={}){const{props:r,oldProps:i,changeFlags:a}=e,{compareAll:s=!1,dimension:o}=n,{ignoreProps:c}=this.state,{props:f,accessors:d=[]}=o,{updateTriggersChanged:p}=a;if(a.dataChanged)return!0;if(p){if(p.all)return!0;for(const m of d)if(p[m])return!0}if(s)return a.extensionsChanged?!0:GR({oldProps:i,newProps:r,ignoreProps:c,propTypes:this.constructor._propTypes});for(const m of f)if(r[m]!==i[m])return!0;return!1}isAttributeChanged(e){const{changedAttributes:n}=this.state;return e?n&&n[e]!==void 0:!V6e(n)}_getAttributeManager(){return new qx(this.context.device,{id:this.props.id,stats:this.context.stats})}}tY.layerName="AggregationLayer";function V6e(t){let e=!0;for(const n in t){e=!1;break}return e}const v2=`#version 300 es
in vec3 positions;
in vec3 positions64Low;
in float weights;
out vec4 weightsTexture;
void main()
{
weightsTexture = vec4(weights * weight.weightsScale, 0., 0., 1.);
float radiusTexels = project_pixel_size(weight.radiusPixels) * weight.textureWidth / (weight.commonBounds.z - weight.commonBounds.x);
gl_PointSize = radiusTexels * 2.;
vec3 commonPosition = project_position(positions, positions64Low);
gl_Position.xy = (commonPosition.xy - weight.commonBounds.xy) / (weight.commonBounds.zw - weight.commonBounds.xy) ;
gl_Position.xy = (gl_Position.xy * 2.) - (1.);
gl_Position.w = 1.0;
}
`,b2=`#version 300 es
in vec4 weightsTexture;
out vec4 fragColor;
float gaussianKDE(float u){
return pow(2.71828, -u*u/0.05555)/(1.77245385*0.166666);
}
void main()
{
float dist = length(gl_PointCoord - vec2(0.5, 0.5));
if (dist > 0.5) {
discard;
}
fragColor = weightsTexture * gaussianKDE(2. * dist);
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,H6e=`#version 300 es
uniform sampler2D inTexture;
out vec4 outTexture;
void main()
{
int yIndex = gl_VertexID / int(maxWeight.textureSize);
int xIndex = gl_VertexID - (yIndex * int(maxWeight.textureSize));
vec2 uv = (0.5 + vec2(float(xIndex), float(yIndex))) / maxWeight.textureSize;
outTexture = texture(inTexture, uv);
gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
gl_PointSize = 1.0;
}
`,W6e=`#version 300 es
in vec4 outTexture;
out vec4 fragColor;
void main() {
fragColor = outTexture;
fragColor.g = outTexture.r / max(1.0, outTexture.a);
}
`,q6e=`uniform weightUniforms {
  vec4 commonBounds;
  float radiusPixels;
  float textureWidth;
  float weightsScale;
} weight;
`,X6e={name:"weight",vs:q6e,uniformTypes:{commonBounds:"vec4<f32>",radiusPixels:"f32",textureWidth:"f32",weightsScale:"f32"}},K6e={name:"maxWeight",vs:`uniform maxWeightUniforms {
  float textureSize;
} maxWeight;
`,uniformTypes:{textureSize:"f32"}},Y6e=2,x2={format:"rgba8unorm",dimension:"2d",width:1,height:1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}},CF=[0,0],G6e={SUM:0,MEAN:1},Z6e={getPosition:{type:"accessor",value:t=>t.position},getWeight:{type:"accessor",value:1},intensity:{type:"number",min:0,value:1},radiusPixels:{type:"number",min:1,max:100,value:50},colorRange:GK,threshold:{type:"number",min:0,max:1,value:.05},colorDomain:{type:"array",value:null,optional:!0},aggregation:"SUM",weightsTextureSize:{type:"number",min:128,max:2048,value:2048},debounceTimeout:{type:"number",min:0,max:1e3,value:500}},Q6e=["float32-renderable-webgl","texture-blend-float-webgl"],J6e={data:{props:["radiusPixels"]}};class Jx extends tY{getShaders(e){let n=[Sd];return e.modules&&(n=[...n,...e.modules]),super.getShaders({...e,modules:n})}initializeState(){super.initializeAggregationLayer(J6e),this.setState({colorDomain:CF}),this._setupTextureParams(),this._setupAttributes(),this._setupResources()}shouldUpdateState({changeFlags:e}){return e.somethingChanged}updateState(e){super.updateState(e),this._updateHeatmapState(e)}_updateHeatmapState(e){const{props:n,oldProps:r}=e,i=this._getChangeFlags(e);if((i.dataChanged||i.viewportChanged)&&(i.boundsChanged=this._updateBounds(i.dataChanged),this._updateTextureRenderingBounds()),i.dataChanged||i.boundsChanged){if(clearTimeout(this.state.updateTimer),this.setState({isWeightMapDirty:!0}),i.dataChanged){const a=this.getShaders({vs:v2,fs:b2});this._createWeightsTransform(a)}}else i.viewportZoomChanged&&this._debouncedUpdateWeightmap();n.colorRange!==r.colorRange&&this._updateColorTexture(e),this.state.isWeightMapDirty&&this._updateWeightmap(),this.setState({zoom:e.context.viewport.zoom})}renderLayers(){const{weightsTexture:e,triPositionBuffer:n,triTexCoordBuffer:r,maxWeightsTexture:i,colorTexture:a,colorDomain:s}=this.state,{updateTriggers:o,intensity:c,threshold:f,aggregation:d}=this.props,p=this.getSubLayerClass("triangle",eY);return new p(this.getSubLayerProps({id:"triangle-layer",updateTriggers:o}),{coordinateSystem:et.DEFAULT,data:{attributes:{positions:n,texCoords:r}},vertexCount:4,maxTexture:i,colorTexture:a,aggregationMode:G6e[d]||0,weightsTexture:e,intensity:c,threshold:f,colorDomain:s})}finalizeState(e){super.finalizeState(e);const{weightsTransform:n,weightsTexture:r,maxWeightTransform:i,maxWeightsTexture:a,triPositionBuffer:s,triTexCoordBuffer:o,colorTexture:c,updateTimer:f}=this.state;n?.destroy(),r?.destroy(),i?.destroy(),a?.destroy(),s?.destroy(),o?.destroy(),c?.destroy(),f&&clearTimeout(f)}_getAttributeManager(){return new qx(this.context.device,{id:this.props.id,stats:this.context.stats})}_getChangeFlags(e){const n={},{dimensions:r}=this.state;n.dataChanged=this.isAttributeChanged()&&"attribute changed"||this.isAggregationDirty(e,{compareAll:!0,dimension:r.data})&&"aggregation is dirty",n.viewportChanged=e.changeFlags.viewportChanged;const{zoom:i}=this.state;return(!e.context.viewport||e.context.viewport.zoom!==i)&&(n.viewportZoomChanged=!0),n}_createTextures(){const{textureSize:e,format:n}=this.state;this.setState({weightsTexture:this.context.device.createTexture({...x2,width:e,height:e,format:n}),maxWeightsTexture:this.context.device.createTexture({...x2,width:1,height:1,format:n})})}_setupAttributes(){this.getAttributeManager().add({positions:{size:3,type:"float64",accessor:"getPosition"},weights:{size:1,accessor:"getWeight"}}),this.setState({positionAttributeName:"positions"})}_setupTextureParams(){const{device:e}=this.context,{weightsTextureSize:n}=this.props,r=Math.min(n,e.limits.maxTextureDimension2D),i=Q6e.every(o=>e.features.has(o)),a=i?"rgba32float":"rgba8unorm",s=i?1:1/255;this.setState({textureSize:r,format:a,weightsScale:s}),i||ut.warn(`HeatmapLayer: ${this.id} rendering to float texture not supported, falling back to low precision format`)()}_createWeightsTransform(e){let{weightsTransform:n}=this.state;const{weightsTexture:r}=this.state,i=this.getAttributeManager();n?.destroy(),n=new RU(this.context.device,{id:`${this.id}-weights-transform`,bufferLayout:i.getBufferLayouts(),vertexCount:1,targetTexture:r,parameters:{depthWriteEnabled:!1,blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"},topology:"point-list",...e,modules:[...e.modules,X6e]}),this.setState({weightsTransform:n})}_setupResources(){this._createTextures();const{device:e}=this.context,{textureSize:n,weightsTexture:r,maxWeightsTexture:i}=this.state,a=this.getShaders({vs:v2,fs:b2});this._createWeightsTransform(a);const s=this.getShaders({vs:H6e,fs:W6e,modules:[K6e]}),o=new RU(e,{id:`${this.id}-max-weights-transform`,targetTexture:i,...s,vertexCount:n*n,topology:"point-list",parameters:{depthWriteEnabled:!1,blendColorOperation:"max",blendAlphaOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}}),c={inTexture:r,textureSize:n};o.model.shaderInputs.setProps({maxWeight:c}),this.setState({weightsTexture:r,maxWeightsTexture:i,maxWeightTransform:o,zoom:null,triPositionBuffer:e.createBuffer({byteLength:48}),triTexCoordBuffer:e.createBuffer({byteLength:48})})}updateShaders(e){this._createWeightsTransform({vs:v2,fs:b2,...e})}_updateMaxWeightValue(){const{maxWeightTransform:e}=this.state;e.run({parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]})}_updateBounds(e=!1){const{viewport:n}=this.context,r=[n.unproject([0,0]),n.unproject([n.width,0]),n.unproject([0,n.height]),n.unproject([n.width,n.height])].map(o=>o.map(Math.fround)),i=D6e(r),a={visibleWorldBounds:i,viewportCorners:r};let s=!1;if(e||!this.state.worldBounds||!B6e(this.state.worldBounds,i)){const o=this._worldToCommonBounds(i),c=this._commonToWorldBounds(o);this.props.coordinateSystem===et.LNGLAT&&(c[1]=Math.max(c[1],-85.051129),c[3]=Math.min(c[3],85.051129),c[0]=Math.max(c[0],-360),c[2]=Math.min(c[2],360));const f=this._worldToCommonBounds(c);a.worldBounds=c,a.normalizedCommonBounds=f,s=!0}return this.setState(a),s}_updateTextureRenderingBounds(){const{triPositionBuffer:e,triTexCoordBuffer:n,normalizedCommonBounds:r,viewportCorners:i}=this.state,{viewport:a}=this.context;e.write(AF(i,3));const s=i.map(o=>j6e(a.projectPosition(o),r));n.write(AF(s,2))}_updateColorTexture(e){const{colorRange:n}=e.props;let{colorTexture:r}=this.state;const i=ZK(n,!1,Uint8Array);r?.destroy(),r=this.context.device.createTexture({...x2,data:i,width:n.length,height:1}),this.setState({colorTexture:r})}_updateWeightmap(){const{radiusPixels:e,colorDomain:n,aggregation:r}=this.props,{worldBounds:i,textureSize:a,weightsScale:s,weightsTexture:o}=this.state,c=this.state.weightsTransform;this.state.isWeightMapDirty=!1;const f=this._worldToCommonBounds(i,{useLayerCoordinateSystem:!0});if(n&&r==="SUM"){const{viewport:A}=this.context,R=A.distanceScales.metersPerUnit[2]*(f[2]-f[0])/a;this.state.colorDomain=n.map(P=>P*R*s)}else this.state.colorDomain=n||CF;const p=this.getAttributeManager().getAttributes(),m=this.getModuleSettings();this._setModelAttributes(c.model,p),c.model.setVertexCount(this.getNumInstances());const y={radiusPixels:e,commonBounds:f,textureWidth:a,weightsScale:s,weightsTexture:o},{viewport:v,devicePixelRatio:b,coordinateSystem:w,coordinateOrigin:T}=m,{modelMatrix:C}=this.props;c.model.shaderInputs.setProps({project:{viewport:v,devicePixelRatio:b,modelMatrix:C,coordinateSystem:w,coordinateOrigin:T},weight:y}),c.run({parameters:{viewport:[0,0,a,a]},clearColor:[0,0,0,0]}),this._updateMaxWeightValue()}_debouncedUpdateWeightmap(e=!1){let{updateTimer:n}=this.state;const{debounceTimeout:r}=this.props;e?(n=null,this._updateBounds(!0),this._updateTextureRenderingBounds(),this.setState({isWeightMapDirty:!0})):(this.setState({isWeightMapDirty:!1}),clearTimeout(n),n=setTimeout(this._debouncedUpdateWeightmap.bind(this,!0),r)),this.setState({updateTimer:n})}_worldToCommonBounds(e,n={}){const{useLayerCoordinateSystem:r=!1}=n,[i,a,s,o]=e,{viewport:c}=this.context,{textureSize:f}=this.state,{coordinateSystem:d}=this.props,p=r&&(d===et.LNGLAT_OFFSETS||d===et.METER_OFFSETS),m=p?c.projectPosition(this.props.coordinateOrigin):[0,0],y=f*Y6e/c.scale;let v,b;return r&&!p?(v=this.projectPosition([i,a,0]),b=this.projectPosition([s,o,0])):(v=c.projectPosition([i,a,0]),b=c.projectPosition([s,o,0])),L6e([v[0]-m[0],v[1]-m[1],b[0]-m[0],b[1]-m[1]],y,y)}_commonToWorldBounds(e){const[n,r,i,a]=e,{viewport:s}=this.context,o=s.unprojectPosition([n,r]),c=s.unprojectPosition([i,a]);return o.slice(0,2).concat(c.slice(0,2))}}Jx.layerName="HeatmapLayer";Jx.defaultProps=Z6e;const eje=x.createContext(null);function tje(t,e){const n=Array.isArray(t)?t[0]:t?t.x:0,r=Array.isArray(t)?t[1]:t?t.y:0,i=Array.isArray(e)?e[0]:e?e.x:0,a=Array.isArray(e)?e[1]:e?e.y:0;return n===i&&r===a}function Ha(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Ha(t[n],e[n]))return!1;return!0}else if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n)if(!e.hasOwnProperty(i)||!Ha(t[i],e[i]))return!1;return!0}return!1}function PF(t){return{longitude:t.center.lng,latitude:t.center.lat,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,padding:t.padding}}function RF(t,e){const n=e.viewState||e,r={};if("longitude"in n&&"latitude"in n&&(n.longitude!==t.center.lng||n.latitude!==t.center.lat)){const i=t.center.constructor;r.center=new i(n.longitude,n.latitude)}return"zoom"in n&&n.zoom!==t.zoom&&(r.zoom=n.zoom),"bearing"in n&&n.bearing!==t.bearing&&(r.bearing=n.bearing),"pitch"in n&&n.pitch!==t.pitch&&(r.pitch=n.pitch),n.padding&&t.padding&&!Ha(n.padding,t.padding)&&(r.padding=n.padding),r}const nje=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function OF(t){if(!t)return null;if(typeof t=="string"||("toJS"in t&&(t=t.toJS()),!t.layers))return t;const e={};for(const r of t.layers)e[r.id]=r;const n=t.layers.map(r=>{let i=null;"interactive"in r&&(i=Object.assign({},r),delete i.interactive);const a=e[r.ref];if(a){i=i||Object.assign({},r),delete i.ref;for(const s of nje)s in a&&(i[s]=a[s])}return i||r});return{...t,layers:n}}const MF={version:8,sources:{},layers:[]},IF={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},kF={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},NF={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},rje=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],ije=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class Zf{constructor(e,n,r){this._map=null,this._internalUpdate=!1,this._hoveredFeatures=null,this._propsedCameraUpdate=null,this._styleComponents={},this._onEvent=i=>{const a=this.props[NF[i.type]];a?a(i):i.type==="error"&&console.error(i.error)},this._onCameraEvent=i=>{if(this._internalUpdate)return;i.viewState=this._propsedCameraUpdate||PF(this._map.transform);const a=this.props[kF[i.type]];a&&a(i)},this._onCameraUpdate=i=>this._internalUpdate?i:(this._propsedCameraUpdate=PF(i),RF(i,this.props)),this._onPointerEvent=i=>{(i.type==="mousemove"||i.type==="mouseout")&&this._updateHover(i);const a=this.props[IF[i.type]];a&&(this.props.interactiveLayerIds&&i.type!=="mouseover"&&i.type!=="mouseout"&&(i.features=this._hoveredFeatures||this._queryRenderedFeatures(i.point)),a(i),delete i.features)},this._MapClass=e,this.props=n,this._initialize(r)}get map(){return this._map}setProps(e){const n=this.props;this.props=e;const r=this._updateSettings(e,n),i=this._updateSize(e),a=this._updateViewState(e);this._updateStyle(e,n),this._updateStyleComponents(e),this._updateHandlers(e,n),(r||i||a&&!this._map.isMoving())&&this.redraw()}static reuse(e,n){const r=Zf.savedMaps.pop();if(!r)return null;const i=r.map,a=i.getContainer();for(n.className=a.className;a.childNodes.length>0;)n.appendChild(a.childNodes[0]);i._container=n;const s=i._resizeObserver;s&&(s.disconnect(),s.observe(n)),r.setProps({...e,styleDiffing:!1}),i.resize();const{initialViewState:o}=e;return o&&(o.bounds?i.fitBounds(o.bounds,{...o.fitBoundsOptions,duration:0}):r._updateViewState(o)),i.isStyleLoaded()?i.fire("load"):i.once("style.load",()=>i.fire("load")),i._update(),r}_initialize(e){const{props:n}=this,{mapStyle:r=MF}=n,i={...n,...n.initialViewState,container:e,style:OF(r)},a=i.initialViewState||i.viewState||i;if(Object.assign(i,{center:[a.longitude||0,a.latitude||0],zoom:a.zoom||0,pitch:a.pitch||0,bearing:a.bearing||0}),n.gl){const o=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=o,n.gl)}const s=new this._MapClass(i);a.padding&&s.setPadding(a.padding),n.cursor&&(s.getCanvas().style.cursor=n.cursor),s.transformCameraUpdate=this._onCameraUpdate,s.on("style.load",()=>{this._styleComponents={light:s.getLight(),sky:s.getSky(),projection:s.getProjection?.(),terrain:s.getTerrain()},this._updateStyleComponents(this.props)}),s.on("sourcedata",()=>{this._updateStyleComponents(this.props)});for(const o in IF)s.on(o,this._onPointerEvent);for(const o in kF)s.on(o,this._onCameraEvent);for(const o in NF)s.on(o,this._onEvent);this._map=s}recycle(){this.map.getContainer().querySelector("[mapboxgl-children]")?.remove(),Zf.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_updateSize(e){const{viewState:n}=e;if(n){const r=this._map;if(n.width!==r.transform.width||n.height!==r.transform.height)return r.resize(),!0}return!1}_updateViewState(e){const n=this._map,r=n.transform;if(!n.isMoving()){const a=RF(r,e);if(Object.keys(a).length>0)return this._internalUpdate=!0,n.jumpTo(a),this._internalUpdate=!1,!0}return!1}_updateSettings(e,n){const r=this._map;let i=!1;for(const a of rje)a in e&&!Ha(e[a],n[a])&&(i=!0,r[`set${a[0].toUpperCase()}${a.slice(1)}`]?.call(r,e[a]));return i}_updateStyle(e,n){if(e.cursor!==n.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==n.mapStyle){const{mapStyle:r=MF,styleDiffing:i=!0}=e,a={diff:i};"localIdeographFontFamily"in e&&(a.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(OF(r),a)}}_updateStyleComponents({light:e,projection:n,sky:r,terrain:i}){const a=this._map,s=this._styleComponents;a.style._loaded&&(e&&!Ha(e,s.light)&&(s.light=e,a.setLight(e)),n&&!Ha(n,s.projection)&&n!==s.projection?.type&&(s.projection=typeof n=="string"?{type:n}:n,a.setProjection?.(s.projection)),r&&!Ha(r,s.sky)&&(s.sky=r,a.setSky(r)),i!==void 0&&!Ha(i,s.terrain)&&(!i||a.getSource(i.source))&&(s.terrain=i,a.setTerrain(i)))}_updateHandlers(e,n){const r=this._map;for(const i of ije){const a=e[i]??!0,s=n[i]??!0;Ha(a,s)||(a?r[i].enable(a):r[i].disable())}}_queryRenderedFeatures(e){const n=this._map,{interactiveLayerIds:r=[]}=this.props;try{return n.queryRenderedFeatures(e,{layers:r.filter(n.getLayer.bind(n))})}catch{return[]}}_updateHover(e){const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const i=e.type,a=this._hoveredFeatures?.length>0,s=this._queryRenderedFeatures(e.point),o=s.length>0;!o&&a&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=s,o&&!a&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=i}else this._hoveredFeatures=null}}Zf.savedMaps=[];const aje=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function sje(t){if(!t)return null;const e=t.map,n={getMap:()=>e};for(const r of oje(e))!(r in n)&&!aje.includes(r)&&(n[r]=e[r].bind(e));return n}function oje(t){const e=new Set;let n=t;for(;n;){for(const r of Object.getOwnPropertyNames(n))r[0]!=="_"&&typeof t[r]=="function"&&r!=="fire"&&r!=="setEventedParent"&&e.add(r);n=Object.getPrototypeOf(n)}return Array.from(e)}const lje=typeof document<"u"?x.useLayoutEffect:x.useEffect;function cje(t,e){const{RTLTextPlugin:n,maxParallelImageRequests:r,workerCount:i,workerUrl:a}=e;if(n&&t.getRTLTextPluginStatus&&t.getRTLTextPluginStatus()==="unavailable"){const{pluginUrl:s,lazy:o=!0}=typeof n=="string"?{pluginUrl:n}:n;t.setRTLTextPlugin(s,c=>{c&&console.error(c)},o)}r!==void 0&&t.setMaxParallelImageRequests(r),i!==void 0&&t.setWorkerCount(i),a!==void 0&&t.setWorkerUrl(a)}const e_=x.createContext(null);function uje(t,e){const n=x.useContext(eje),[r,i]=x.useState(null),a=x.useRef(),{current:s}=x.useRef({mapLib:null,map:null});x.useEffect(()=>{const f=t.mapLib;let d=!0,p;return Promise.resolve(f||$E(()=>import("./maplibre-gl-Pc0eg3ih.js").then(m=>m.m),[])).then(m=>{if(!d)return;if(!m)throw new Error("Invalid mapLib");const y="Map"in m?m:m.default;if(!y.Map)throw new Error("Invalid mapLib");cje(y,t),t.reuseMaps&&(p=Zf.reuse(t,a.current)),p||(p=new Zf(y.Map,t,a.current)),s.map=sje(p),s.mapLib=y,i(p),n?.onMapMount(s.map,t.id)}).catch(m=>{const{onError:y}=t;y?y({type:"error",target:null,originalEvent:null,error:m}):console.error(m)}),()=>{d=!1,p&&(n?.onMapUnmount(t.id),t.reuseMaps?p.recycle():p.destroy())}},[]),lje(()=>{r&&r.setProps(t)}),x.useImperativeHandle(e,()=>s.map,[r]);const o=x.useMemo(()=>({position:"relative",width:"100%",height:"100%",...t.style}),[t.style]),c={height:"100%"};return x.createElement("div",{id:t.id,ref:a,style:o},r&&x.createElement(e_.Provider,{value:s},x.createElement("div",{"mapboxgl-children":"",style:c},t.children)))}const t_=x.forwardRef(uje),fje=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function mo(t,e){if(!t||!e)return;const n=t.style;for(const r in e){const i=e[r];Number.isFinite(i)&&!fje.test(r)?n[r]=`${i}px`:n[r]=i}}function nY(t,e){if(t===e)return null;const n=DF(t),r=DF(e),i=[];for(const a of r)n.has(a)||i.push(a);for(const a of n)r.has(a)||i.push(a);return i.length===0?null:i}function DF(t){return new Set(t?t.trim().split(/\s+/):[])}x.memo(x.forwardRef((t,e)=>{const{map:n,mapLib:r}=x.useContext(e_),i=x.useRef({props:t}),a=x.useMemo(()=>{let T=!1;x.Children.forEach(t.children,R=>{R&&(T=!0)});const C={...t,element:T?document.createElement("div"):void 0},A=new r.Marker(C);return A.setLngLat([t.longitude,t.latitude]),A.getElement().addEventListener("click",R=>{i.current.props.onClick?.({type:"click",target:A,originalEvent:R})}),A.on("dragstart",R=>{const P=R;P.lngLat=a.getLngLat(),i.current.props.onDragStart?.(P)}),A.on("drag",R=>{const P=R;P.lngLat=a.getLngLat(),i.current.props.onDrag?.(P)}),A.on("dragend",R=>{const P=R;P.lngLat=a.getLngLat(),i.current.props.onDragEnd?.(P)}),A},[]);x.useEffect(()=>(a.addTo(n.getMap()),()=>{a.remove()}),[]);const{longitude:s,latitude:o,offset:c,style:f,draggable:d=!1,popup:p=null,rotation:m=0,rotationAlignment:y="auto",pitchAlignment:v="auto"}=t;x.useEffect(()=>{mo(a.getElement(),f)},[f]),x.useImperativeHandle(e,()=>a,[]);const b=i.current.props;(a.getLngLat().lng!==s||a.getLngLat().lat!==o)&&a.setLngLat([s,o]),c&&!tje(a.getOffset(),c)&&a.setOffset(c),a.isDraggable()!==d&&a.setDraggable(d),a.getRotation()!==m&&a.setRotation(m),a.getRotationAlignment()!==y&&a.setRotationAlignment(y),a.getPitchAlignment()!==v&&a.setPitchAlignment(v),a.getPopup()!==p&&a.setPopup(p);const w=nY(b.className,t.className);if(w)for(const T of w)a.toggleClassName(T);return i.current.props=t,Fc.createPortal(t.children,a.getElement())}));x.memo(x.forwardRef((t,e)=>{const{map:n,mapLib:r}=x.useContext(e_),i=x.useMemo(()=>document.createElement("div"),[]),a=x.useRef({props:t}),s=x.useMemo(()=>{const o={...t},c=new r.Popup(o);return c.setLngLat([t.longitude,t.latitude]),c.once("open",f=>{a.current.props.onOpen?.(f)}),c},[]);if(x.useEffect(()=>{const o=c=>{a.current.props.onClose?.(c)};return s.on("close",o),s.setDOMContent(i).addTo(n.getMap()),()=>{s.off("close",o),s.isOpen()&&s.remove()}},[]),x.useEffect(()=>{mo(s.getElement(),t.style)},[t.style]),x.useImperativeHandle(e,()=>s,[]),s.isOpen()){const o=a.current.props;(s.getLngLat().lng!==t.longitude||s.getLngLat().lat!==t.latitude)&&s.setLngLat([t.longitude,t.latitude]),t.offset&&!Ha(o.offset,t.offset)&&s.setOffset(t.offset),(o.anchor!==t.anchor||o.maxWidth!==t.maxWidth)&&(s.options.anchor=t.anchor,s.setMaxWidth(t.maxWidth));const c=nY(o.className,t.className);if(c)for(const f of c)s.toggleClassName(f);a.current.props=t}return Fc.createPortal(t.children,i)}));function Xc(t,e,n,r){const i=x.useContext(e_),a=x.useMemo(()=>t(i),[]);return x.useEffect(()=>{const s=e,o=null,c=typeof e=="function"?e:null,{map:f}=i;return f.hasControl(a)||(f.addControl(a,s?.position),o&&o(i)),()=>{c&&c(i),f.hasControl(a)&&f.removeControl(a)}},[]),a}function dje(t){const e=Xc(({mapLib:n})=>new n.AttributionControl(t),{position:t.position});return x.useEffect(()=>{mo(e._container,t.style)},[t.style]),null}x.memo(dje);function hje(t){const e=Xc(({mapLib:n})=>new n.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)}),{position:t.position});return x.useEffect(()=>{mo(e._controlContainer,t.style)},[t.style]),null}x.memo(hje);function pje(t,e){const n=x.useRef({props:t}),r=Xc(({mapLib:i})=>{const a=new i.GeolocateControl(t),s=a._setupUI;return a._setupUI=()=>{a._container.hasChildNodes()||s()},a.on("geolocate",o=>{n.current.props.onGeolocate?.(o)}),a.on("error",o=>{n.current.props.onError?.(o)}),a.on("outofmaxbounds",o=>{n.current.props.onOutOfMaxBounds?.(o)}),a.on("trackuserlocationstart",o=>{n.current.props.onTrackUserLocationStart?.(o)}),a.on("trackuserlocationend",o=>{n.current.props.onTrackUserLocationEnd?.(o)}),a},{position:t.position});return n.current.props=t,x.useImperativeHandle(e,()=>r,[]),x.useEffect(()=>{mo(r._container,t.style)},[t.style]),null}x.memo(x.forwardRef(pje));function gje(t){const e=Xc(({mapLib:n})=>new n.NavigationControl(t),{position:t.position});return x.useEffect(()=>{mo(e._container,t.style)},[t.style]),null}x.memo(gje);function mje(t){const e=Xc(({mapLib:a})=>new a.ScaleControl(t),{position:t.position}),n=x.useRef(t),r=n.current;n.current=t;const{style:i}=t;return t.maxWidth!==void 0&&t.maxWidth!==r.maxWidth&&(e.options.maxWidth=t.maxWidth),t.unit!==void 0&&t.unit!==r.unit&&e.setUnit(t.unit),x.useEffect(()=>{mo(e._container,i)},[i]),null}x.memo(mje);function yje(t){const e=Xc(({mapLib:n})=>new n.TerrainControl(t),{position:t.position});return x.useEffect(()=>{mo(e._container,t.style)},[t.style]),null}x.memo(yje);function vje(t){const e=Xc(({mapLib:n})=>new n.LogoControl(t),{position:t.position});return x.useEffect(()=>{mo(e._container,t.style)},[t.style]),null}x.memo(vje);const bje={longitude:-74.006,latitude:40.7128,zoom:12,pitch:50,bearing:20};function xje(){const[t,e]=x.useState(null),[n,r]=x.useState(!0),[i,a]=x.useState(null),[s,o]=x.useState("heatmap"),[c,f]=x.useState(0),[d,p]=x.useState(bje);x.useEffect(()=>{(async()=>{try{const C=await $Ce();e(C)}catch(C){console.error("Failed to fetch map data:",C)}finally{r(!1)}})()},[]);const m=x.useMemo(()=>t?t.filter(T=>T.trip_count>=c):[],[t,c]),y=x.useMemo(()=>t?[...t].sort((T,C)=>C.trip_count-T.trip_count).slice(0,10):[],[t]),v=[s==="heatmap"&&new Jx({id:"heatmap-layer",data:m,getPosition:T=>[T.lon,T.lat],getWeight:T=>T.trip_count,radiusPixels:40,intensity:2,threshold:.05,colorRange:[[255,255,178],[254,204,92],[253,141,60],[240,59,32],[189,0,38]]}),s==="hexagon"&&new eO({id:"hexagon-layer",data:m,getPosition:T=>[T.lon,T.lat],getElevationWeight:T=>T.trip_count,elevationScale:5,extruded:!0,radius:200,opacity:.8,coverage:.9,upperPercentile:99,material:{ambient:.64,diffuse:.6,shininess:32,specularColor:[51,51,51]},transitions:{elevationScale:3e3}}),s==="points"&&new hl({id:"scatterplot-layer",data:m,pickable:!0,opacity:.8,stroked:!0,filled:!0,radiusScale:6,radiusMinPixels:2,radiusMaxPixels:30,lineWidthMinPixels:1,getPosition:T=>[T.lon,T.lat],getRadius:T=>Math.sqrt(T.trip_count),getFillColor:[59,130,246],getLineColor:[0,0,0],onHover:T=>a(T)})],b=T=>{p({...d,longitude:T.lon,latitude:T.lat,zoom:15,transitionDuration:1e3})},w=x.useMemo(()=>!t||t.length===0?5e4:t.reduce((T,C)=>C.trip_count>T?C.trip_count:T,0),[t]);return n?E.jsx("div",{className:"flex justify-center items-center h-96",children:E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):E.jsxs("div",{className:"flex h-[calc(100vh-120px)] bg-background overflow-hidden",children:[E.jsxs("div",{className:"w-72 border-r border-gray-800 bg-[#0a0b10] p-4 flex flex-col gap-6 overflow-y-auto z-10",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-lg font-semibold text-foreground mb-1",children:"Map Explorer"}),E.jsx("p",{className:"text-xs text-muted-foreground",children:"Geospatial Analysis"})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("label",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[E.jsx(Zce,{className:"w-4 h-4"})," Visualization"]}),E.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[E.jsxs("button",{onClick:()=>o("heatmap"),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${s==="heatmap"?"bg-primary/20 border-primary text-primary":"bg-secondary/30 border-transparent text-muted-foreground hover:bg-secondary/50"}`,children:[E.jsx(gg,{className:"w-5 h-5 mb-1"}),E.jsx("span",{className:"text-[10px]",children:"Heatmap"})]}),E.jsxs("button",{onClick:()=>o("hexagon"),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${s==="hexagon"?"bg-primary/20 border-primary text-primary":"bg-secondary/30 border-transparent text-muted-foreground hover:bg-secondary/50"}`,children:[E.jsx(Yce,{className:"w-5 h-5 mb-1"}),E.jsx("span",{className:"text-[10px]",children:"3D Hex"})]}),E.jsxs("button",{onClick:()=>o("points"),className:`flex flex-col items-center justify-center p-2 rounded border transition-all ${s==="points"?"bg-primary/20 border-primary text-primary":"bg-secondary/30 border-transparent text-muted-foreground hover:bg-secondary/50"}`,children:[E.jsx(eue,{className:"w-5 h-5 mb-1"}),E.jsx("span",{className:"text-[10px]",children:"Points"})]})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("label",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[E.jsx(p3,{className:"w-4 h-4"})," Filter Stations"]}),E.jsxs("div",{className:"px-1",children:[E.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-2",children:[E.jsx("span",{children:"Min Trips"}),E.jsx("span",{className:"font-mono text-foreground",children:c})]}),E.jsx("input",{type:"range",min:"0",max:w,step:Math.ceil(w/100),value:c,onChange:T=>f(Number(T.target.value)),className:"w-full h-1 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]})]}),E.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[E.jsxs("label",{className:"text-sm font-medium text-foreground flex items-center gap-2 mb-3",children:[E.jsx(Gz,{className:"w-4 h-4"})," Top Locations"]}),E.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:y.map((T,C)=>E.jsxs("button",{onClick:()=>b(T),className:"w-full text-left p-2 rounded bg-secondary/20 hover:bg-secondary/40 border border-transparent hover:border-border transition-all group",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("span",{className:"text-xs font-medium text-foreground line-clamp-1 group-hover:text-primary transition-colors",children:T.station_name}),E.jsxs("span",{className:"text-[10px] font-mono text-muted-foreground bg-secondary/50 px-1 rounded",children:["#",C+1]})]}),E.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1",children:[T.trip_count.toLocaleString()," trips"]})]},C))})]})]}),E.jsxs("div",{className:"flex-1 relative",children:[E.jsx(Yx,{initialViewState:d,onViewStateChange:({viewState:T})=>p(T),controller:!0,layers:v,getTooltip:({object:T})=>{if(!T)return null;if(s==="hexagon"){const C=T.points||[],A=[...new Set(C.map(P=>P.station_name))];return`${A.length===1?`Station: ${A[0]}`:`Stations: ${A.slice(0,3).join(", ")}${A.length>3?"...":""}`}
Total Trips: ${T.elevationValue.toLocaleString()}`}return`${T.station_name}
Trips: ${T.trip_count.toLocaleString()}`},children:E.jsx(t_,{mapStyle:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json"})}),E.jsxs("div",{className:"absolute bottom-6 right-6 glass-panel p-4 rounded-xl max-w-xs",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),E.jsx("span",{className:"text-xs font-bold text-foreground",children:s==="hexagon"?"3D DENSITY":s==="heatmap"?"HEATMAP INTENSITY":"STATION VOLUME"})]}),E.jsxs("div",{className:"text-[10px] text-muted-foreground",children:[s==="hexagon"&&"Height represents aggregated trip volume in 200m radius.",s==="heatmap"&&"Warmer colors indicate higher concentration of trip starts.",s==="points"&&"Circle size corresponds to total trip volume."]})]})]})]})}const _je={longitude:-74.006,latitude:40.7128,zoom:12,pitch:45,bearing:0};function wje(){const[t,e]=x.useState(null),[n,r]=x.useState(!0),[i,a]=x.useState(null),[s,o]=x.useState(_je),[c,f]=x.useState(0);x.useEffect(()=>{(async()=>{try{const w=await zCe(200);e(w)}catch(w){console.error("Failed to fetch routes:",w)}finally{r(!1)}})()},[]);const d=x.useMemo(()=>t?t.filter(b=>b.trip_count>=c):[],[t,c]),p=x.useMemo(()=>[...d].sort((b,w)=>w.trip_count-b.trip_count).slice(0,10),[d]),m=[new JR({id:"arc-layer",data:d,getSourcePosition:b=>[b.start_lon,b.start_lat],getTargetPosition:b=>[b.end_lon,b.end_lat],getSourceColor:[59,130,246],getTargetColor:[236,72,153],getWidth:3,pickable:!0,onHover:b=>a(b)}),new hl({id:"start-points",data:d,getPosition:b=>[b.start_lon,b.start_lat],getRadius:30,getFillColor:[59,130,246],radiusMinPixels:2}),new hl({id:"end-points",data:d,getPosition:b=>[b.end_lon,b.end_lat],getRadius:30,getFillColor:[236,72,153],radiusMinPixels:2})],y=b=>{const w=(b.start_lat+b.end_lat)/2,T=(b.start_lon+b.end_lon)/2;o({...s,longitude:T,latitude:w,zoom:13,pitch:50,bearing:30,transitionDuration:1e3})},v=x.useMemo(()=>!t||t.length===0?5e3:t.reduce((b,w)=>w.trip_count>b?w.trip_count:b,0),[t]);return n?E.jsx("div",{className:"flex justify-center items-center h-96 text-indigo-500",children:E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):t?E.jsxs("div",{className:"flex h-[calc(100vh-120px)] bg-background overflow-hidden",children:[E.jsxs("div",{className:"w-80 border-r border-gray-800 bg-[#0a0b10] p-4 flex flex-col gap-6 overflow-y-auto z-10",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-lg font-semibold text-foreground mb-1",children:"Route Analysis"}),E.jsx("p",{className:"text-xs text-muted-foreground",children:"Top Commuter Flows"})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("label",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[E.jsx(p3,{className:"w-4 h-4"})," Filter Volume"]}),E.jsxs("div",{className:"px-1",children:[E.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-2",children:[E.jsx("span",{children:"Min Trips"}),E.jsx("span",{className:"font-mono text-foreground",children:c})]}),E.jsx("input",{type:"range",min:"0",max:v,step:Math.ceil(v/100),value:c,onChange:b=>f(Number(b.target.value)),className:"w-full h-1 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]})]}),E.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[E.jsxs("label",{className:"text-sm font-medium text-foreground flex items-center gap-2 mb-3",children:[E.jsx(Gz,{className:"w-4 h-4"})," Top Routes"]}),E.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:p.map((b,w)=>E.jsxs("button",{onClick:()=>y(b),className:"w-full text-left p-3 rounded bg-secondary/20 hover:bg-secondary/40 border border-transparent hover:border-border transition-all group",children:[E.jsxs("div",{className:"flex justify-between items-start mb-1",children:[E.jsxs("span",{className:"text-[10px] font-mono text-muted-foreground bg-secondary/50 px-1 rounded",children:["#",w+1]}),E.jsxs("span",{className:"text-xs font-bold text-primary",children:[b.trip_count.toLocaleString()," trips"]})]}),E.jsxs("div",{className:"flex items-center gap-2 text-xs text-foreground",children:[E.jsx("span",{className:"truncate max-w-[40%]",children:b.start_station_name}),E.jsx(Yz,{className:"w-3 h-3 text-muted-foreground flex-shrink-0"}),E.jsx("span",{className:"truncate max-w-[40%]",children:b.end_station_name})]})]},w))})]})]}),E.jsxs("div",{className:"flex-1 relative",children:[E.jsx(Yx,{initialViewState:s,onViewStateChange:({viewState:b})=>o(b),controller:!0,layers:m,getTooltip:({object:b})=>b&&b.start_station_name&&`${b.start_station_name}  ${b.end_station_name}
Trips: ${b.trip_count}`,children:E.jsx(t_,{mapStyle:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json"})}),E.jsxs("div",{className:"absolute bottom-6 right-6 glass-panel p-4 rounded-xl max-w-xs",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx(oue,{className:"w-4 h-4 text-primary"}),E.jsx("span",{className:"text-xs font-bold text-foreground",children:"FLOW DIRECTION"})]}),E.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),E.jsx("span",{children:"Start"})]}),E.jsx("div",{className:"h-0.5 w-8 bg-gradient-to-r from-blue-500 to-pink-500"}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-pink-500"}),E.jsx("span",{children:"End"})]})]})]})]})]}):E.jsx("div",{className:"flex justify-center items-center h-96 text-red-500",children:"Failed to load route data."})}const BF=({active:t,payload:e,label:n})=>t&&e&&e.length?E.jsxs("div",{className:"glass-panel p-3 rounded border border-border/50 shadow-xl",children:[E.jsx("p",{className:"text-sm font-bold text-foreground mb-1",children:n}),E.jsxs("p",{className:"text-xs text-primary",children:[e[0].value.toLocaleString()," trips"]})]}):null;function Sje(){const[t,e]=x.useState([]),[n,r]=x.useState(""),[i,a]=x.useState(null),[s,o]=x.useState(null),[c,f]=x.useState(!0),[d,p]=x.useState(!1),m=x.useCallback(async b=>{a(b),p(!0);try{const w=await HCe(b);o(w)}catch(w){console.error("Failed to load station details:",w),o(null)}finally{p(!1)}},[]);x.useEffect(()=>{(async()=>{try{const w=await VCe();e(w.sort()),w.length>0&&m(w[0])}catch(w){console.error("Failed to load stations:",w)}finally{f(!1)}})()},[m]);const y=x.useMemo(()=>t.filter(b=>b.toLowerCase().includes(n.toLowerCase())),[t,n]),v=x.useMemo(()=>!s||!s.location?null:new hl({id:"station-marker",data:[s.location],getPosition:b=>[b.lon,b.lat],getRadius:100,getFillColor:[236,72,153],stroked:!0,getLineColor:[255,255,255],getLineWidth:2,radiusMinPixels:5,radiusMaxPixels:15}),[s?.location?.lat,s?.location?.lon]);return E.jsxs("div",{className:"flex h-[calc(100vh-64px)] bg-background overflow-hidden",children:[E.jsxs("div",{className:"w-80 border-r border-border bg-card/30 flex flex-col backdrop-blur-md z-10",children:[E.jsxs("div",{className:"p-4 border-b border-border",children:[E.jsx("h2",{className:"text-lg font-semibold text-foreground mb-1",children:"Station Drilldown"}),E.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Deep dive into station analytics"}),E.jsxs("div",{className:"relative",children:[E.jsx(cue,{className:"absolute left-2 top-2.5 w-4 h-4 text-muted-foreground"}),E.jsx("input",{type:"text",placeholder:"Search stations...",value:n,onChange:b=>r(b.target.value),className:"w-full bg-secondary/50 border border-border rounded pl-8 pr-3 py-2 text-sm text-foreground focus:outline-none focus:ring-1 focus:ring-primary placeholder:text-muted-foreground/50"})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-1",children:c?E.jsx("div",{className:"flex justify-center p-4",children:E.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary"})}):y.map(b=>E.jsx("button",{onClick:()=>m(b),className:`w-full text-left px-3 py-2 rounded text-xs transition-colors truncate
                                    ${i===b?"bg-primary/20 text-primary font-medium border border-primary/30":"text-muted-foreground hover:bg-secondary/50 hover:text-foreground"}`,children:b},b))})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-6 relative",children:d?E.jsx("div",{className:"absolute inset-0 flex justify-center items-center bg-background/80 backdrop-blur-sm z-20",children:E.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):s?E.jsxs("div",{className:"w-full space-y-6",children:[E.jsx("div",{className:"flex items-end justify-between border-b border-border pb-4",children:E.jsxs("div",{children:[E.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[E.jsx(E4,{className:"w-6 h-6 text-primary"}),i]}),E.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Detailed performance metrics and usage patterns."})]})}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsxs("div",{className:"glass-panel p-4 rounded-xl border border-border/50",children:[E.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[E.jsx(gg,{className:"w-4 h-4"}),E.jsx("span",{className:"text-xs font-medium uppercase tracking-wider",children:"Total Trips"})]}),E.jsx("div",{className:"text-2xl font-bold text-foreground",children:s.kpis.total_trips.toLocaleString()})]}),E.jsxs("div",{className:"glass-panel p-4 rounded-xl border border-border/50",children:[E.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[E.jsx(cA,{className:"w-4 h-4"}),E.jsx("span",{className:"text-xs font-medium uppercase tracking-wider",children:"Avg Daily Trips"})]}),E.jsx("div",{className:"text-2xl font-bold text-foreground",children:s.kpis.avg_trips_day.toLocaleString()})]}),E.jsxs("div",{className:"glass-panel p-4 rounded-xl border border-border/50",children:[E.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[E.jsx(A4,{className:"w-4 h-4"}),E.jsx("span",{className:"text-xs font-medium uppercase tracking-wider",children:"Peak Hour"})]}),E.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[s.kpis.peak_hour,":00"]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.jsx("div",{className:"glass-panel p-6 rounded-xl border border-border/50",children:E.jsxs(Pp,{children:[E.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-4 flex items-center gap-2",children:[E.jsx(A4,{className:"w-4 h-4 text-primary"})," Hourly Demand Profile"]}),E.jsx("div",{className:"h-64",children:E.jsx(kp,{width:"100%",height:"100%",children:E.jsxs(iq,{data:s.hourly_profile,children:[E.jsx("defs",{children:E.jsxs("linearGradient",{id:"colorHourly",x1:"0",y1:"0",x2:"0",y2:"1",children:[E.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),E.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),E.jsx(Ff,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),E.jsx($f,{dataKey:"hour",stroke:"#666",tick:{fontSize:10},tickFormatter:b=>`${b}:00`}),E.jsx(yc,{stroke:"#666",tick:{fontSize:10}}),E.jsx(Wp,{content:E.jsx(BF,{}),cursor:{stroke:"#3b82f6",strokeWidth:1}}),E.jsx(df,{type:"monotone",dataKey:"trip_count",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorHourly)"})]})})})]})}),E.jsx("div",{className:"glass-panel p-6 rounded-xl border border-border/50",children:E.jsxs(Pp,{children:[E.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-4 flex items-center gap-2",children:[E.jsx(cA,{className:"w-4 h-4 text-emerald-500"})," Weekly Pattern"]}),E.jsx("div",{className:"h-64",children:E.jsx(kp,{width:"100%",height:"100%",children:E.jsxs(aEe,{data:s.daily_profile,children:[E.jsx(Ff,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),E.jsx($f,{dataKey:"day_of_week",stroke:"#666",tick:{fontSize:10},tickFormatter:b=>b.slice(0,3)}),E.jsx(yc,{stroke:"#666",tick:{fontSize:10}}),E.jsx(Wp,{content:E.jsx(BF,{}),cursor:{fill:"rgba(255,255,255,0.05)"}}),E.jsx(XP,{dataKey:"trip_count",fill:"#10b981",radius:[4,4,0,0]})]})})})]})})]}),E.jsxs("div",{className:"glass-panel p-1 rounded-xl border border-border/50 overflow-hidden h-64 relative",children:[E.jsx(Yx,{initialViewState:{longitude:s.location.lon,latitude:s.location.lat,zoom:14,pitch:0,bearing:0},controller:!0,layers:[v],children:E.jsx(t_,{mapStyle:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json"})}),E.jsx("div",{className:"absolute top-4 left-4 bg-black/50 backdrop-blur px-2 py-1 rounded text-xs text-white border border-white/10",children:"Station Location"})]})]}):E.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground",children:[E.jsx(E4,{className:"w-12 h-12 mb-4 opacity-20"}),E.jsx("p",{children:"Select a station to view details"})]})})]})}const _2="https://citibike-capstone-project.onrender.com/api",Tje=()=>{const[t,e]=x.useState([]),[n,r]=x.useState(""),[i,a]=x.useState(""),[s,o]=x.useState([]),[c,f]=x.useState([]),[d,p]=x.useState(!1),[m,y]=x.useState(""),[v,b]=x.useState(null);x.useEffect(()=>{w();const C=new Date;C.setDate(C.getDate()-14);const A=C.getFullYear(),R=String(C.getMonth()+1).padStart(2,"0"),P=String(C.getDate()).padStart(2,"0");a(`${A}-${R}-${P}`)},[]);const w=async()=>{try{const A=(await Ct.get(`${_2}/stations`)).data||[];e(A),A.length>0?r(A[0]):y("No stations available. Please check backend connection.")}catch(C){console.error("Error fetching stations:",C),y("Failed to load stations. Backend may be offline.")}},T=async()=>{if(!n||!i){y("Please select a station and date");return}const C=new Date(i),A=new Date,R=new Date("2019-01-01");if(C>A){y("Cannot generate predictions for future dates. Please select a historical date.");return}if(C<R){y("Data only available from January 2019 onwards");return}p(!0),y(""),b(null);try{const P=new Date(i+"T00:00:00").toISOString(),O=new Date(new Date(i+"T00:00:00").getTime()+48*36e5).toISOString(),D=(await Ct.post(`${_2}/predict`,{station_name:n,start_date:P,end_date:O})).data.predictions||[];o(D);let L=[];try{L=(await Ct.get(`${_2}/historical-demand`,{params:{station:n,start_date:P,end_date:O}})).data||[]}catch($){console.error("Failed to fetch historical actuals:",$)}try{const $=D.map(I=>{const W=L.find(J=>{const z=new Date(J.date),q=new Date(I.date);return z.getUTCFullYear()===q.getUTCFullYear()&&z.getUTCMonth()===q.getUTCMonth()&&z.getUTCDate()===q.getUTCDate()&&z.getUTCHours()===q.getUTCHours()});let H=I.predicted;if(W&&W.demand!==null){const J=W.demand,z=I.predicted;z<J?H=Math.ceil(z):H=Math.floor(z)}else H=Math.round(I.predicted);return{date:I.date,predicted:H,actual:W?W.demand:null}});f($);const j=$.filter(I=>I.actual!==null&&I.actual!==void 0);if(j.length>0){const I=j.reduce((H,J)=>H+Math.abs(J.predicted-J.actual),0)/j.length,W=j.reduce((H,J)=>J.actual===0?H:H+Math.abs((J.predicted-J.actual)/J.actual),0)/j.length*100;b({mae:I.toFixed(2),mape:W.toFixed(1),samples:j.length})}}catch($){console.error("Historical data error:",$),f(D.map(j=>({...j,actual:null})))}}catch(P){console.error("Error generating predictions:",P),y(P.response?.data?.detail||"Failed to generate predictions")}finally{p(!1)}};return E.jsx("div",{className:"min-h-full bg-[#0a0a0f] text-white p-8",children:E.jsxs("div",{className:"w-full mx-auto",children:[E.jsxs("div",{className:"mb-8",children:[E.jsx("div",{className:"text-sm text-gray-400 mb-2 uppercase tracking-wider",children:"Advanced Machine Learning"}),E.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Urban Mobility Command"}),E.jsx("p",{className:"text-gray-400",children:"48-hour precision forecaster"})]}),E.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm text-gray-400 mb-2 uppercase tracking-wider",children:"Station"}),E.jsx("select",{value:n,onChange:C=>r(C.target.value),className:"w-full px-4 py-3 bg-[#1a1a2e] border border-gray-800 rounded-lg text-white focus:border-purple-500 focus:outline-none transition-colors",children:t.length===0?E.jsx("option",{value:"",children:"No stations available"}):t.map(C=>E.jsx("option",{value:C,children:C},C))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm text-gray-400 mb-2 uppercase tracking-wider",children:"Start Date"}),E.jsx("input",{type:"date",value:i,onChange:C=>a(C.target.value),className:"w-full px-4 py-3 bg-[#1a1a2e] border border-gray-800 rounded-lg text-white focus:border-purple-500 focus:outline-none transition-colors"})]}),E.jsx("div",{className:"flex items-end",children:E.jsx("button",{onClick:T,disabled:d||!n,className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-medium rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:d?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating..."]}):E.jsxs(E.Fragment,{children:[E.jsx(Qv,{className:"w-4 h-4"}),"Generate"]})})})]}),m&&E.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-800 rounded-lg text-red-400",children:m}),s.length>0&&E.jsxs("div",{className:`grid ${v?"grid-cols-4":"grid-cols-3"} gap-4 mb-8`,children:[E.jsxs("div",{className:"bg-[#1a1a2e] border border-gray-800 rounded-lg p-6",children:[E.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Total Predictions"}),E.jsx("div",{className:"text-4xl font-bold",children:s.length})]}),E.jsxs("div",{className:"bg-[#1a1a2e] border border-gray-800 rounded-lg p-6",children:[E.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Peak Demand"}),E.jsx("div",{className:"text-4xl font-bold text-purple-400",children:(()=>{const C=s.filter(A=>A.predicted!==null&&A.predicted!==void 0);return C.length>0?Math.max(...C.map(A=>A.predicted)).toFixed(0):"0"})()})]}),E.jsxs("div",{className:"bg-[#1a1a2e] border border-gray-800 rounded-lg p-6",children:[E.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Avg Demand"}),E.jsx("div",{className:"text-4xl font-bold text-blue-400",children:(()=>{const C=s.filter(A=>A.predicted!==null&&A.predicted!==void 0);return C.length>0?(C.reduce((A,R)=>A+R.predicted,0)/C.length).toFixed(1):"0.0"})()})]}),v&&E.jsxs("div",{className:"bg-[#1a1a2e] border border-gray-800 rounded-lg p-6",children:[E.jsxs("div",{className:"text-gray-400 text-sm mb-2 flex items-center gap-2",children:[E.jsx(pue,{className:"w-4 h-4"}),"Model Accuracy"]}),E.jsxs("div",{className:"text-4xl font-bold text-green-400",children:["MAE: ",v.mae]}),E.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["MAPE: ",v.mape,"%  ",v.samples," samples"]})]})]}),c.length>0&&E.jsx("div",{className:"bg-[#1a1a2e] border border-gray-800 rounded-lg p-6",children:E.jsx(Pp,{children:E.jsx("div",{className:"h-[400px]",children:E.jsx(kp,{width:"100%",height:"100%",children:E.jsxs(rEe,{data:c,children:[E.jsx(Ff,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),E.jsx($f,{dataKey:"date",stroke:"#666",tick:{fontSize:12,fill:"#666"},tickLine:!1,axisLine:!1,tickFormatter:C=>{const A=new Date(C);return`${A.getUTCMonth()+1}/${A.getUTCDate()} ${A.getUTCHours()}:00`}}),E.jsx(yc,{stroke:"#666",tick:{fontSize:12,fill:"#666"},tickLine:!1,axisLine:!1,label:{value:"Bikes",angle:-90,position:"insideLeft",fill:"#666"}}),E.jsx(Wp,{contentStyle:{backgroundColor:"#1a1a2e",borderColor:"#333",borderRadius:"8px",color:"#fff"},labelFormatter:C=>new Date(C).toLocaleString(),formatter:C=>C!==null?C.toFixed(2)+" bikes":"N/A"}),E.jsx(P9,{wrapperStyle:{paddingTop:"20px"}}),E.jsx(Xp,{type:"monotone",dataKey:"predicted",stroke:"#a855f7",strokeWidth:2,dot:!1,name:" AI Prediction"}),E.jsx(Xp,{type:"monotone",dataKey:"actual",stroke:"#06b6d4",strokeWidth:2,dot:!1,name:" Actual Demand",connectNulls:!1})]})})})})}),s.length===0&&!d&&!m&&E.jsxs("div",{className:"bg-[#1a1a2e] border border-gray-800 rounded-lg p-12 text-center",children:[E.jsx(gg,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),E.jsx("h3",{className:"text-xl font-medium text-gray-300 mb-2",children:"No Predictions Yet"}),E.jsx("p",{className:"text-gray-500",children:"Select a station and date, then click Generate to see AI-powered forecasts"})]}),d&&E.jsxs("div",{className:"bg-[#1a1a2e] border border-gray-800 rounded-lg p-12 text-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),E.jsx("h3",{className:"text-xl font-medium text-gray-300 mb-2",children:"Generating Predictions..."}),E.jsxs("p",{className:"text-gray-500",children:["Running ML models for ",n]})]})]})})},Aje={longitude:-74.006,latitude:40.7128,zoom:12,pitch:50,bearing:-10},nv="/api";function Eje(){const[t,e]=x.useState(Aje),[n,r]=x.useState("abm"),[i,a]=x.useState(null),[s,o]=x.useState(null),[c,f]=x.useState(null),[d,p]=x.useState(null),[m,y]=x.useState(!1),[v,b]=x.useState(null);x.useEffect(()=>{(async()=>{y(!0),b(null);try{let P;if(n==="abm"&&!i?P=await fetch(`${nv}/advanced-analytics/abm`):n==="uhi"&&!s?P=await fetch(`${nv}/advanced-analytics/uhi`):n==="safety"&&!c?P=await fetch(`${nv}/advanced-analytics/safety`):n==="web3"&&!d&&(P=await fetch(`${nv}/advanced-analytics/web3`)),P){if(!P.ok)throw new Error(`HTTP Error: ${P.status}`);const O=await P.json();n==="abm"&&a(O),n==="uhi"&&o(O),n==="safety"&&f(O),n==="web3"&&p(O)}}catch(P){console.error("Failed to fetch Advanced Analytics data:",P),b("DATA STREAM INTERRUPTED")}finally{y(!1)}})()},[n]);const[w,T]=x.useState(0);x.useEffect(()=>{const R=setInterval(()=>{T(P=>P+.05),n==="abm"&&i&&a(P=>P.map(O=>({...O,lng:O.lng+(Math.random()-.5)*5e-4,lat:O.lat+(Math.random()-.5)*5e-4,energy_level:Math.max(0,O.energy_level-.1)})))},50);return()=>clearInterval(R)},[n,i]);const C=x.useMemo(()=>{const R=[];if(n==="abm"&&i&&R.push(new hl({id:"abm-agents",data:i,getPosition:P=>[P.lng,P.lat],getFillColor:P=>P.state==="RIDING"?[0,255,255]:[255,0,128],getRadius:40,radiusMinPixels:3,opacity:.9,pickable:!0,updateTriggers:{getPosition:[i]},transitions:{getPosition:50}})),n==="uhi"&&s){const P=1+Math.sin(w)*.2;R.push(new Jx({id:"uhi-heatmap",data:s,getPosition:O=>[O.lng,O.lat],getWeight:O=>O.heat_stress_index,radiusPixels:60+Math.sin(w*2)*5,intensity:2*P,threshold:.1,aggregation:"SUM",updateTriggers:{radiusPixels:[w],intensity:[w]},colorRange:[[255,255,204],[255,237,160],[254,217,118],[254,178,76],[253,141,60],[252,78,42],[227,26,28],[189,0,38],[128,0,38]]}))}return n==="safety"&&c&&R.push(new hl({id:"safety-incidents",data:c,getPosition:P=>[P.lng,P.lat],getFillColor:[255,50,50],getRadius:P=>P.severity*40+Math.sin(w*8)*15,opacity:.7+Math.sin(w*5)*.3,stroked:!0,getLineColor:[255,255,255],lineWidthMinPixels:2,pickable:!0,filled:!0,updateTriggers:{getRadius:[w],opacity:[w]}})),n==="web3"&&d&&R.push(new Gx({id:"web3-rewards",data:d,getPosition:P=>[P.lng,P.lat],getElevation:P=>P.bikecoin_reward*30+Math.sin(w+P.lng)*150,getFillColor:P=>P.action_type==="pickup"?[0,255,128]:[255,165,0],radius:50,extruded:!0,pickable:!0,elevationScale:1,updateTriggers:{getElevation:[w]},transitions:{getElevation:100}})),R},[n,i,s,c,d,w]),A=({object:R})=>R?n==="abm"?{html:`
                    <div style="font-family: monospace; background: rgba(0,0,0,0.9); padding: 10px; border: 1px solid #0ff; color: #fff; border-radius: 4px;">
                        <div style="font-weight: bold; color: #0ff; margin-bottom: 4px;">AGENT: ${R.agent_id}</div>
                        <div>STATE: <span style="color: ${R.state==="RIDING"?"#0f0":"#f0f"}">${R.state}</span></div>
                        <div>ENERGY: ${R.energy_level}%</div>
                        <div>MODE: ${R.decision_factor}</div>
                    </div>
                `}:n==="safety"?{html:`
                    <div style="font-family: monospace; background: rgba(50,0,0,0.9); padding: 10px; border: 1px solid #f00; color: #fff; border-radius: 4px;">
                        <div style="font-weight: bold; color: #f00; margin-bottom: 4px;"> SAFETY ALERT</div>
                        <div>TYPE: ${R.event_type}</div>
                        <div>SEVERITY: ${(R.severity*100).toFixed(0)}%</div>
                    </div>
                `}:n==="web3"?{html:`
                    <div style="font-family: monospace; background: rgba(0,50,0,0.9); padding: 10px; border: 1px solid #0f0; color: #fff; border-radius: 4px;">
                        <div style="font-weight: bold; color: #0f0; margin-bottom: 4px;"> BIKECOIN REWARD</div>
                        <div>ACTION: ${R.action_type}</div>
                        <div>VALUE: ${R.bikecoin_reward} BKC</div>
                    </div>
                `}:null:null;return E.jsxs("div",{className:"flex h-[calc(100vh-64px)] bg-[#02040a] overflow-hidden relative font-mono text-white selection:bg-cyan-500 selection:text-black",children:[E.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(0,255,255,0.03)_1px,transparent_1px)] bg-[size:40px_40px] pointer-events-none"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#02040a] via-transparent to-transparent pointer-events-none"}),E.jsxs("div",{className:"absolute top-0 left-0 right-0 h-16 bg-black/40 backdrop-blur-md border-b border-white/10 flex items-center justify-between px-8 z-30",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-3 h-3 bg-cyan-500 rounded-full animate-pulse shadow-[0_0_10px_#0ff]"}),E.jsxs("h1",{className:"text-xl font-bold tracking-widest text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-600",children:["CITY_OS ",E.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"KERNEL v9.0.1"})]})]}),E.jsxs("div",{className:"flex items-center gap-8 text-xs text-gray-400",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Fce,{size:14,className:"text-cyan-500"}),E.jsx("span",{children:"CPU: 12%"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(rue,{size:14,className:"text-green-500"}),E.jsx("span",{children:"NET: CONNECTED"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Wce,{size:14,className:"text-purple-500"}),E.jsx("span",{children:"NODES: 2,451"})]})]})]}),E.jsxs("div",{className:"absolute top-24 left-8 z-20 w-72 flex flex-col gap-4",children:[E.jsxs("div",{className:"backdrop-blur-xl bg-black/60 border border-white/10 p-1 rounded-2xl shadow-[0_0_30px_rgba(0,0,0,0.5)]",children:[E.jsx("div",{className:"p-4 border-b border-white/5 mb-2",children:E.jsx("h2",{className:"text-xs font-bold text-gray-500 uppercase tracking-[0.2em]",children:"Active Protocol"})}),E.jsxs("div",{className:"flex flex-col gap-2 p-2",children:[E.jsx(rv,{active:n==="abm",onClick:()=>r("abm"),icon:E.jsx(uA,{size:16}),label:"AGENT SIMULATION",sub:"Autonomous Swarm Logic",color:"cyan"}),E.jsx(rv,{active:n==="uhi",onClick:()=>r("uhi"),icon:E.jsx(C4,{size:16}),label:"THERMAL VISION",sub:"Landsat LST Analysis",color:"red"}),E.jsx(rv,{active:n==="safety",onClick:()=>r("safety"),icon:E.jsx(Jw,{size:16}),label:"SAFETY SENTINEL",sub:"Computer Vision Events",color:"orange"}),E.jsx(rv,{active:n==="web3",onClick:()=>r("web3"),icon:E.jsx(Qv,{size:16}),label:"TOKENOMICS",sub:"BikeCoin Incentive Net",color:"emerald"})]})]}),E.jsxs("div",{className:"backdrop-blur-xl bg-black/60 border border-white/10 p-4 rounded-2xl",children:[E.jsxs("div",{className:"flex justify-between items-center mb-2",children:[E.jsx("span",{className:"text-xs text-gray-500",children:"SYSTEM LOAD"}),E.jsx("span",{className:"text-xs text-cyan-400",children:"OPTIMAL"})]}),E.jsx("div",{className:"w-full h-1 bg-gray-800 rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-500 w-[35%] animate-pulse"})}),E.jsxs("div",{className:"flex justify-between items-center mt-4 mb-2",children:[E.jsx("span",{className:"text-xs text-gray-500",children:"DATA INTEGRITY"}),E.jsx("span",{className:"text-xs text-green-400",children:"VERIFIED"})]}),E.jsx("div",{className:"w-full h-1 bg-gray-800 rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 w-[98%]"})})]})]}),v&&E.jsx("div",{className:"absolute top-24 right-8 z-50 animate-bounce",children:E.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 px-6 py-4 rounded-xl backdrop-blur-md flex items-center gap-3 shadow-[0_0_20px_rgba(255,0,0,0.2)]",children:[E.jsx(Jw,{size:24}),E.jsxs("div",{children:[E.jsx("div",{className:"font-bold",children:"SYSTEM ALERT"}),E.jsx("div",{className:"text-xs opacity-80",children:v})]})]})}),m&&E.jsx("div",{className:"absolute inset-0 z-40 bg-black/20 backdrop-blur-[2px] flex items-center justify-center",children:E.jsxs("div",{className:"bg-black/80 border border-cyan-500/30 px-8 py-6 rounded-2xl flex flex-col items-center gap-4 shadow-[0_0_50px_rgba(0,255,255,0.1)]",children:[E.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin"}),E.jsx("div",{className:"text-cyan-500 text-xs tracking-[0.2em] animate-pulse",children:"ESTABLISHING UPLINK..."})]})}),E.jsx("div",{className:"w-full h-full",children:E.jsx(Yx,{initialViewState:t,onViewStateChange:({viewState:R})=>e(R),controller:!0,layers:C,getTooltip:A,style:{background:"#000"},children:E.jsx(t_,{mapStyle:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json"})})}),E.jsx("div",{className:"absolute bottom-8 right-8 z-20 max-w-md",children:E.jsxs("div",{className:"backdrop-blur-xl bg-black/80 border-l-2 border-cyan-500 p-6 rounded-r-xl shadow-2xl relative overflow-hidden group",children:[E.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-20 group-hover:opacity-100 transition-opacity",children:E.jsx(gg,{size:100,className:"text-cyan-500 -mt-8 -mr-8"})}),E.jsxs("h3",{className:"text-white font-bold text-lg mb-1 flex items-center gap-3 relative z-10",children:[n==="abm"&&E.jsx(uA,{className:"text-cyan-400",size:20}),n==="uhi"&&E.jsx(C4,{className:"text-red-400",size:20}),n==="safety"&&E.jsx(Jw,{className:"text-orange-400",size:20}),n==="web3"&&E.jsx(Qv,{className:"text-emerald-400",size:20}),E.jsxs("span",{className:"tracking-widest",children:[n==="abm"&&"AGENT_SWARM",n==="uhi"&&"MICRO_CLIMATE",n==="safety"&&"CV_SAFETY_NET",n==="web3"&&"TOKEN_ECONOMY"]})]}),E.jsx("div",{className:"h-px w-full bg-gradient-to-r from-cyan-500/50 to-transparent my-3"}),E.jsxs("p",{className:"text-gray-400 text-xs leading-relaxed font-light relative z-10",children:[n==="abm"&&"Real-time tracking of 50 autonomous agents. Behavior logic driven by energy constraints and weather variables. [CYAN: Active] [MAGENTA: Idle/Charging]",n==="uhi"&&"Thermal satellite imagery proxy. Visualizing urban heat islands with high spatial resolution. Pulsing zones indicate critical heat stress requiring mitigation.",n==="safety"&&"Computer Vision anomaly detection. Aggregating near-miss events from traffic feeds. [RED ZONES] indicate high-probability collision vectors.",n==="web3"&&"Decentralized incentive layer. Visualizing BikeCoin (BKC) distribution. [GREEN: Pickup Bonus] [ORANGE: Dropoff Bonus]. Height indicates reward magnitude."]})]})})]})}const rv=({active:t,onClick:e,icon:n,label:r,sub:i,color:a})=>{const s={cyan:"hover:border-cyan-500/50 hover:bg-cyan-500/10 text-cyan-400",red:"hover:border-red-500/50 hover:bg-red-500/10 text-red-400",orange:"hover:border-orange-500/50 hover:bg-orange-500/10 text-orange-400",emerald:"hover:border-emerald-500/50 hover:bg-emerald-500/10 text-emerald-400"},o={cyan:"border-cyan-500 bg-cyan-500/20 text-cyan-300 shadow-[0_0_15px_rgba(0,255,255,0.3)]",red:"border-red-500 bg-red-500/20 text-red-300 shadow-[0_0_15px_rgba(255,0,0,0.3)]",orange:"border-orange-500 bg-orange-500/20 text-orange-300 shadow-[0_0_15px_rgba(255,165,0,0.3)]",emerald:"border-emerald-500 bg-emerald-500/20 text-emerald-300 shadow-[0_0_15px_rgba(16,185,129,0.3)]"};return E.jsxs("button",{onClick:e,className:`
                group relative flex items-center gap-4 px-4 py-3 rounded-xl transition-all duration-300 border
                ${t?o[a]:`border-transparent bg-transparent ${s[a]} opacity-60 hover:opacity-100`}
            `,children:[E.jsx("div",{className:`
                p-2 rounded-lg transition-all duration-300
                ${t?"bg-black/40":"bg-white/5 group-hover:bg-white/10"}
            `,children:n}),E.jsxs("div",{className:"text-left",children:[E.jsx("span",{className:"block font-bold text-sm tracking-wider",children:r}),E.jsx("span",{className:"text-[10px] opacity-70 uppercase tracking-widest",children:i})]}),t&&E.jsx("div",{className:"absolute right-3 w-1.5 h-1.5 rounded-full animate-pulse bg-current shadow-[0_0_10px_currentColor]"})]})},Cje=t=>t.scrollTop;function LF(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}var Gr="top",ea="bottom",ta="right",Zr="left",tO="auto",Jg=[Gr,ea,ta,Zr],Qf="start",Jp="end",Pje="clippingParents",rY="viewport",Lh="popper",Rje="reference",jF=Jg.reduce(function(t,e){return t.concat([e+"-"+Qf,e+"-"+Jp])},[]),iY=[].concat(Jg,[tO]).reduce(function(t,e){return t.concat([e,e+"-"+Qf,e+"-"+Jp])},[]),Oje="beforeRead",Mje="read",Ije="afterRead",kje="beforeMain",Nje="main",Dje="afterMain",Bje="beforeWrite",Lje="write",jje="afterWrite",Uje=[Oje,Mje,Ije,kje,Nje,Dje,Bje,Lje,jje];function cs(t){return t?(t.nodeName||"").toLowerCase():null}function wi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Uc(t){var e=wi(t).Element;return t instanceof e||t instanceof Element}function Yi(t){var e=wi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function nO(t){if(typeof ShadowRoot>"u")return!1;var e=wi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Fje(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},a=e.elements[n];!Yi(a)||!cs(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function $je(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),o=s.reduce(function(c,f){return c[f]="",c},{});!Yi(i)||!cs(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(c){i.removeAttribute(c)}))})}}const zje={name:"applyStyles",enabled:!0,phase:"write",fn:Fje,effect:$je,requires:["computeStyles"]};function ts(t){return t.split("-")[0]}var Tc=Math.max,bb=Math.min,Jf=Math.round;function ZE(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function aY(){return!/^((?!chrome|android).)*safari/i.test(ZE())}function ed(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,a=1;e&&Yi(t)&&(i=t.offsetWidth>0&&Jf(r.width)/t.offsetWidth||1,a=t.offsetHeight>0&&Jf(r.height)/t.offsetHeight||1);var s=Uc(t)?wi(t):window,o=s.visualViewport,c=!aY()&&n,f=(r.left+(c&&o?o.offsetLeft:0))/i,d=(r.top+(c&&o?o.offsetTop:0))/a,p=r.width/i,m=r.height/a;return{width:p,height:m,top:d,right:f+p,bottom:d+m,left:f,x:f,y:d}}function rO(t){var e=ed(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function sY(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&nO(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function so(t){return wi(t).getComputedStyle(t)}function Vje(t){return["table","td","th"].indexOf(cs(t))>=0}function _l(t){return((Uc(t)?t.ownerDocument:t.document)||window.document).documentElement}function n_(t){return cs(t)==="html"?t:t.assignedSlot||t.parentNode||(nO(t)?t.host:null)||_l(t)}function UF(t){return!Yi(t)||so(t).position==="fixed"?null:t.offsetParent}function Hje(t){var e=/firefox/i.test(ZE()),n=/Trident/i.test(ZE());if(n&&Yi(t)){var r=so(t);if(r.position==="fixed")return null}var i=n_(t);for(nO(i)&&(i=i.host);Yi(i)&&["html","body"].indexOf(cs(i))<0;){var a=so(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function em(t){for(var e=wi(t),n=UF(t);n&&Vje(n)&&so(n).position==="static";)n=UF(n);return n&&(cs(n)==="html"||cs(n)==="body"&&so(n).position==="static")?e:n||Hje(t)||e}function iO(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function dp(t,e,n){return Tc(t,bb(e,n))}function Wje(t,e,n){var r=dp(t,e,n);return r>n?n:r}function oY(){return{top:0,right:0,bottom:0,left:0}}function lY(t){return Object.assign({},oY(),t)}function cY(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var qje=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,lY(typeof e!="number"?e:cY(e,Jg))};function Xje(t){var e,n=t.state,r=t.name,i=t.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,o=ts(n.placement),c=iO(o),f=[Zr,ta].indexOf(o)>=0,d=f?"height":"width";if(!(!a||!s)){var p=qje(i.padding,n),m=rO(a),y=c==="y"?Gr:Zr,v=c==="y"?ea:ta,b=n.rects.reference[d]+n.rects.reference[c]-s[c]-n.rects.popper[d],w=s[c]-n.rects.reference[c],T=em(a),C=T?c==="y"?T.clientHeight||0:T.clientWidth||0:0,A=b/2-w/2,R=p[y],P=C-m[d]-p[v],O=C/2-m[d]/2+A,k=dp(R,O,P),D=c;n.modifiersData[r]=(e={},e[D]=k,e.centerOffset=k-O,e)}}function Kje(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||sY(e.elements.popper,i)&&(e.elements.arrow=i))}const Yje={name:"arrow",enabled:!0,phase:"main",fn:Xje,effect:Kje,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function td(t){return t.split("-")[1]}var Gje={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Zje(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Jf(n*i)/i||0,y:Jf(r*i)/i||0}}function FF(t){var e,n=t.popper,r=t.popperRect,i=t.placement,a=t.variation,s=t.offsets,o=t.position,c=t.gpuAcceleration,f=t.adaptive,d=t.roundOffsets,p=t.isFixed,m=s.x,y=m===void 0?0:m,v=s.y,b=v===void 0?0:v,w=typeof d=="function"?d({x:y,y:b}):{x:y,y:b};y=w.x,b=w.y;var T=s.hasOwnProperty("x"),C=s.hasOwnProperty("y"),A=Zr,R=Gr,P=window;if(f){var O=em(n),k="clientHeight",D="clientWidth";if(O===wi(n)&&(O=_l(n),so(O).position!=="static"&&o==="absolute"&&(k="scrollHeight",D="scrollWidth")),O=O,i===Gr||(i===Zr||i===ta)&&a===Jp){R=ea;var L=p&&O===P&&P.visualViewport?P.visualViewport.height:O[k];b-=L-r.height,b*=c?1:-1}if(i===Zr||(i===Gr||i===ea)&&a===Jp){A=ta;var $=p&&O===P&&P.visualViewport?P.visualViewport.width:O[D];y-=$-r.width,y*=c?1:-1}}var j=Object.assign({position:o},f&&Gje),I=d===!0?Zje({x:y,y:b},wi(n)):{x:y,y:b};if(y=I.x,b=I.y,c){var W;return Object.assign({},j,(W={},W[R]=C?"0":"",W[A]=T?"0":"",W.transform=(P.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",W))}return Object.assign({},j,(e={},e[R]=C?b+"px":"",e[A]=T?y+"px":"",e.transform="",e))}function Qje(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,s=a===void 0?!0:a,o=n.roundOffsets,c=o===void 0?!0:o,f={placement:ts(e.placement),variation:td(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,FF(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,FF(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Jje={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qje,data:{}};var iv={passive:!0};function eUe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,a=i===void 0?!0:i,s=r.resize,o=s===void 0?!0:s,c=wi(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&f.forEach(function(d){d.addEventListener("scroll",n.update,iv)}),o&&c.addEventListener("resize",n.update,iv),function(){a&&f.forEach(function(d){d.removeEventListener("scroll",n.update,iv)}),o&&c.removeEventListener("resize",n.update,iv)}}const tUe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eUe,data:{}};var nUe={left:"right",right:"left",bottom:"top",top:"bottom"};function Dv(t){return t.replace(/left|right|bottom|top/g,function(e){return nUe[e]})}var rUe={start:"end",end:"start"};function $F(t){return t.replace(/start|end/g,function(e){return rUe[e]})}function aO(t){var e=wi(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function sO(t){return ed(_l(t)).left+aO(t).scrollLeft}function iUe(t,e){var n=wi(t),r=_l(t),i=n.visualViewport,a=r.clientWidth,s=r.clientHeight,o=0,c=0;if(i){a=i.width,s=i.height;var f=aY();(f||!f&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:o+sO(t),y:c}}function aUe(t){var e,n=_l(t),r=aO(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=Tc(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Tc(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+sO(t),c=-r.scrollTop;return so(i||n).direction==="rtl"&&(o+=Tc(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:c}}function oO(t){var e=so(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function uY(t){return["html","body","#document"].indexOf(cs(t))>=0?t.ownerDocument.body:Yi(t)&&oO(t)?t:uY(n_(t))}function hp(t,e){var n;e===void 0&&(e=[]);var r=uY(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),a=wi(r),s=i?[a].concat(a.visualViewport||[],oO(r)?r:[]):r,o=e.concat(s);return i?o:o.concat(hp(n_(s)))}function QE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function sUe(t,e){var n=ed(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function zF(t,e,n){return e===rY?QE(iUe(t,n)):Uc(e)?sUe(e,n):QE(aUe(_l(t)))}function oUe(t){var e=hp(n_(t)),n=["absolute","fixed"].indexOf(so(t).position)>=0,r=n&&Yi(t)?em(t):t;return Uc(r)?e.filter(function(i){return Uc(i)&&sY(i,r)&&cs(i)!=="body"}):[]}function lUe(t,e,n,r){var i=e==="clippingParents"?oUe(t):[].concat(e),a=[].concat(i,[n]),s=a[0],o=a.reduce(function(c,f){var d=zF(t,f,r);return c.top=Tc(d.top,c.top),c.right=bb(d.right,c.right),c.bottom=bb(d.bottom,c.bottom),c.left=Tc(d.left,c.left),c},zF(t,s,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function fY(t){var e=t.reference,n=t.element,r=t.placement,i=r?ts(r):null,a=r?td(r):null,s=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,c;switch(i){case Gr:c={x:s,y:e.y-n.height};break;case ea:c={x:s,y:e.y+e.height};break;case ta:c={x:e.x+e.width,y:o};break;case Zr:c={x:e.x-n.width,y:o};break;default:c={x:e.x,y:e.y}}var f=i?iO(i):null;if(f!=null){var d=f==="y"?"height":"width";switch(a){case Qf:c[f]=c[f]-(e[d]/2-n[d]/2);break;case Jp:c[f]=c[f]+(e[d]/2-n[d]/2);break}}return c}function eg(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,a=n.strategy,s=a===void 0?t.strategy:a,o=n.boundary,c=o===void 0?Pje:o,f=n.rootBoundary,d=f===void 0?rY:f,p=n.elementContext,m=p===void 0?Lh:p,y=n.altBoundary,v=y===void 0?!1:y,b=n.padding,w=b===void 0?0:b,T=lY(typeof w!="number"?w:cY(w,Jg)),C=m===Lh?Rje:Lh,A=t.rects.popper,R=t.elements[v?C:m],P=lUe(Uc(R)?R:R.contextElement||_l(t.elements.popper),c,d,s),O=ed(t.elements.reference),k=fY({reference:O,element:A,placement:i}),D=QE(Object.assign({},A,k)),L=m===Lh?D:O,$={top:P.top-L.top+T.top,bottom:L.bottom-P.bottom+T.bottom,left:P.left-L.left+T.left,right:L.right-P.right+T.right},j=t.modifiersData.offset;if(m===Lh&&j){var I=j[i];Object.keys($).forEach(function(W){var H=[ta,ea].indexOf(W)>=0?1:-1,J=[Gr,ea].indexOf(W)>=0?"y":"x";$[W]+=I[J]*H})}return $}function cUe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,a=n.rootBoundary,s=n.padding,o=n.flipVariations,c=n.allowedAutoPlacements,f=c===void 0?iY:c,d=td(r),p=d?o?jF:jF.filter(function(v){return td(v)===d}):Jg,m=p.filter(function(v){return f.indexOf(v)>=0});m.length===0&&(m=p);var y=m.reduce(function(v,b){return v[b]=eg(t,{placement:b,boundary:i,rootBoundary:a,padding:s})[ts(b)],v},{});return Object.keys(y).sort(function(v,b){return y[v]-y[b]})}function uUe(t){if(ts(t)===tO)return[];var e=Dv(t);return[$F(t),e,$F(e)]}function fUe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,o=s===void 0?!0:s,c=n.fallbackPlacements,f=n.padding,d=n.boundary,p=n.rootBoundary,m=n.altBoundary,y=n.flipVariations,v=y===void 0?!0:y,b=n.allowedAutoPlacements,w=e.options.placement,T=ts(w),C=T===w,A=c||(C||!v?[Dv(w)]:uUe(w)),R=[w].concat(A).reduce(function(be,Ae){return be.concat(ts(Ae)===tO?cUe(e,{placement:Ae,boundary:d,rootBoundary:p,padding:f,flipVariations:v,allowedAutoPlacements:b}):Ae)},[]),P=e.rects.reference,O=e.rects.popper,k=new Map,D=!0,L=R[0],$=0;$<R.length;$++){var j=R[$],I=ts(j),W=td(j)===Qf,H=[Gr,ea].indexOf(I)>=0,J=H?"width":"height",z=eg(e,{placement:j,boundary:d,rootBoundary:p,altBoundary:m,padding:f}),q=H?W?ta:Zr:W?ea:Gr;P[J]>O[J]&&(q=Dv(q));var se=Dv(q),le=[];if(a&&le.push(z[I]<=0),o&&le.push(z[q]<=0,z[se]<=0),le.every(function(be){return be})){L=j,D=!1;break}k.set(j,le)}if(D)for(var _e=v?3:1,F=function(Ae){var we=R.find(function(Ee){var Xe=k.get(Ee);if(Xe)return Xe.slice(0,Ae).every(function(ue){return ue})});if(we)return L=we,"break"},ee=_e;ee>0;ee--){var ye=F(ee);if(ye==="break")break}e.placement!==L&&(e.modifiersData[r]._skip=!0,e.placement=L,e.reset=!0)}}const dUe={name:"flip",enabled:!0,phase:"main",fn:fUe,requiresIfExists:["offset"],data:{_skip:!1}};function VF(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function HF(t){return[Gr,ta,ea,Zr].some(function(e){return t[e]>=0})}function hUe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,s=eg(e,{elementContext:"reference"}),o=eg(e,{altBoundary:!0}),c=VF(s,r),f=VF(o,i,a),d=HF(c),p=HF(f);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:d,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const pUe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hUe};function gUe(t,e,n){var r=ts(t),i=[Zr,Gr].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[Zr,ta].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function mUe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,a=i===void 0?[0,0]:i,s=iY.reduce(function(d,p){return d[p]=gUe(p,e.rects,a),d},{}),o=s[e.placement],c=o.x,f=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=s}const yUe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:mUe};function vUe(t){var e=t.state,n=t.name;e.modifiersData[n]=fY({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const bUe={name:"popperOffsets",enabled:!0,phase:"read",fn:vUe,data:{}};function xUe(t){return t==="x"?"y":"x"}function _Ue(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,o=s===void 0?!1:s,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.padding,m=n.tether,y=m===void 0?!0:m,v=n.tetherOffset,b=v===void 0?0:v,w=eg(e,{boundary:c,rootBoundary:f,padding:p,altBoundary:d}),T=ts(e.placement),C=td(e.placement),A=!C,R=iO(T),P=xUe(R),O=e.modifiersData.popperOffsets,k=e.rects.reference,D=e.rects.popper,L=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,$=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(O){if(a){var W,H=R==="y"?Gr:Zr,J=R==="y"?ea:ta,z=R==="y"?"height":"width",q=O[R],se=q+w[H],le=q-w[J],_e=y?-D[z]/2:0,F=C===Qf?k[z]:D[z],ee=C===Qf?-D[z]:-k[z],ye=e.elements.arrow,be=y&&ye?rO(ye):{width:0,height:0},Ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:oY(),we=Ae[H],Ee=Ae[J],Xe=dp(0,k[z],be[z]),ue=A?k[z]/2-_e-Xe-we-$.mainAxis:F-Xe-we-$.mainAxis,De=A?-k[z]/2+_e+Xe+Ee+$.mainAxis:ee+Xe+Ee+$.mainAxis,je=e.elements.arrow&&em(e.elements.arrow),me=je?R==="y"?je.clientTop||0:je.clientLeft||0:0,ht=(W=j?.[R])!=null?W:0,Le=q+ue-ht-me,pt=q+De-ht,It=dp(y?bb(se,Le):se,q,y?Tc(le,pt):le);O[R]=It,I[R]=It-q}if(o){var jt,tn=R==="x"?Gr:Zr,Zt=R==="x"?ea:ta,nn=O[P],tr=P==="y"?"height":"width",ke=nn+w[tn],fs=nn-w[Zt],rn=[Gr,Zr].indexOf(T)!==-1,ds=(jt=j?.[P])!=null?jt:0,xn=rn?ke:nn-k[tr]-D[tr]-ds+$.altAxis,at=rn?nn+k[tr]+D[tr]-ds-$.altAxis:fs,an=y&&rn?Wje(xn,nn,at):dp(y?xn:ke,nn,y?at:fs);O[P]=an,I[P]=an-nn}e.modifiersData[r]=I}}const wUe={name:"preventOverflow",enabled:!0,phase:"main",fn:_Ue,requiresIfExists:["offset"]};function SUe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function TUe(t){return t===wi(t)||!Yi(t)?aO(t):SUe(t)}function AUe(t){var e=t.getBoundingClientRect(),n=Jf(e.width)/t.offsetWidth||1,r=Jf(e.height)/t.offsetHeight||1;return n!==1||r!==1}function EUe(t,e,n){n===void 0&&(n=!1);var r=Yi(e),i=Yi(e)&&AUe(e),a=_l(e),s=ed(t,i,n),o={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((cs(e)!=="body"||oO(a))&&(o=TUe(e)),Yi(e)?(c=ed(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):a&&(c.x=sO(a))),{x:s.left+o.scrollLeft-c.x,y:s.top+o.scrollTop-c.y,width:s.width,height:s.height}}function CUe(t){var e=new Map,n=new Set,r=[];t.forEach(function(a){e.set(a.name,a)});function i(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!n.has(o)){var c=e.get(o);c&&i(c)}}),r.push(a)}return t.forEach(function(a){n.has(a.name)||i(a)}),r}function PUe(t){var e=CUe(t);return Uje.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function RUe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function OUe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var WF={placement:"bottom",modifiers:[],strategy:"absolute"};function qF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function MUe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,a=i===void 0?WF:i;return function(o,c,f){f===void 0&&(f=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},WF,a),modifiersData:{},elements:{reference:o,popper:c},attributes:{},styles:{}},p=[],m=!1,y={state:d,setOptions:function(T){var C=typeof T=="function"?T(d.options):T;b(),d.options=Object.assign({},a,d.options,C),d.scrollParents={reference:Uc(o)?hp(o):o.contextElement?hp(o.contextElement):[],popper:hp(c)};var A=PUe(OUe([].concat(r,d.options.modifiers)));return d.orderedModifiers=A.filter(function(R){return R.enabled}),v(),y.update()},forceUpdate:function(){if(!m){var T=d.elements,C=T.reference,A=T.popper;if(qF(C,A)){d.rects={reference:EUe(C,em(A),d.options.strategy==="fixed"),popper:rO(A)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function($){return d.modifiersData[$.name]=Object.assign({},$.data)});for(var R=0;R<d.orderedModifiers.length;R++){if(d.reset===!0){d.reset=!1,R=-1;continue}var P=d.orderedModifiers[R],O=P.fn,k=P.options,D=k===void 0?{}:k,L=P.name;typeof O=="function"&&(d=O({state:d,options:D,name:L,instance:y})||d)}}}},update:RUe(function(){return new Promise(function(w){y.forceUpdate(),w(d)})}),destroy:function(){b(),m=!0}};if(!qF(o,c))return y;y.setOptions(f).then(function(w){!m&&f.onFirstUpdate&&f.onFirstUpdate(w)});function v(){d.orderedModifiers.forEach(function(w){var T=w.name,C=w.options,A=C===void 0?{}:C,R=w.effect;if(typeof R=="function"){var P=R({state:d,name:T,instance:y,options:A}),O=function(){};p.push(P||O)}})}function b(){p.forEach(function(w){return w()}),p=[]}return y}}var IUe=[tUe,bUe,Jje,zje,yUe,dUe,wUe,Yje,pUe],kUe=MUe({defaultModifiers:IUe});function NUe(t){const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...a}=t,s=i?{}:d$(n,r),{props:o,internalRef:c}=h$({...a,externalSlotProps:s}),f=_a(c,s?.ref,t.additionalProps?.ref);return f$(e,{...o,ref:f},r)}function lO(t){return parseInt(x.version,10)>=19?t?.props?.ref||null:t?.ref||null}function DUe(t){return typeof t=="function"?t():t}const BUe=x.forwardRef(function(e,n){const{children:r,container:i,disablePortal:a=!1}=e,[s,o]=x.useState(null),c=_a(x.isValidElement(r)?lO(r):null,n);if(sl(()=>{a||o(DUe(i)||document.body)},[i,a]),sl(()=>{if(s&&!a)return oD(n,s),()=>{oD(n,null)}},[n,s,a]),a){if(x.isValidElement(r)){const f={ref:c};return x.cloneElement(r,f)}return r}return s&&Fc.createPortal(r,s)});function LUe(t){return Rt("MuiPopper",t)}Ot("MuiPopper",["root"]);function jUe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function JE(t){return typeof t=="function"?t():t}function UUe(t){return t.nodeType!==void 0}const FUe=t=>{const{classes:e}=t;return Dt({root:["root"]},LUe,e)},$Ue={},zUe=x.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:a,disablePortal:s,modifiers:o,open:c,placement:f,popperOptions:d,popperRef:p,slotProps:m={},slots:y={},TransitionProps:v,ownerState:b,...w}=e,T=x.useRef(null),C=_a(T,n),A=x.useRef(null),R=_a(A,p),P=x.useRef(R);sl(()=>{P.current=R},[R]),x.useImperativeHandle(p,()=>A.current,[]);const O=jUe(f,a),[k,D]=x.useState(O),[L,$]=x.useState(JE(r));x.useEffect(()=>{A.current&&A.current.forceUpdate()}),x.useEffect(()=>{r&&$(JE(r))},[r]),sl(()=>{if(!L||!c)return;const J=se=>{D(se.placement)};let z=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:se})=>{J(se)}}];o!=null&&(z=z.concat(o)),d&&d.modifiers!=null&&(z=z.concat(d.modifiers));const q=kUe(L,T.current,{placement:O,...d,modifiers:z});return P.current(q),()=>{q.destroy(),P.current(null)}},[L,s,o,c,d,O]);const j={placement:k};v!==null&&(j.TransitionProps=v);const I=FUe(e),W=y.root??"div",H=NUe({elementType:W,externalSlotProps:m.root,externalForwardedProps:w,additionalProps:{role:"tooltip",ref:C},ownerState:e,className:I.root});return E.jsx(W,{...H,children:typeof i=="function"?i(j):i})}),VUe=x.forwardRef(function(e,n){const{anchorEl:r,children:i,container:a,direction:s="ltr",disablePortal:o=!1,keepMounted:c=!1,modifiers:f,open:d,placement:p="bottom",popperOptions:m=$Ue,popperRef:y,style:v,transition:b=!1,slotProps:w={},slots:T={},...C}=e,[A,R]=x.useState(!0),P=()=>{R(!1)},O=()=>{R(!0)};if(!c&&!d&&(!b||A))return null;let k;if(a)k=a;else if(r){const $=JE(r);k=$&&UUe($)?sD($).body:sD(null).body}const D=!d&&c&&(!b||A)?"none":void 0,L=b?{in:d,onEnter:P,onExited:O}:void 0;return E.jsx(BUe,{disablePortal:o,container:k,children:E.jsx(zUe,{anchorEl:r,direction:s,disablePortal:o,modifiers:f,ref:n,open:b?!A:d,placement:p,popperOptions:m,popperRef:y,slotProps:w,slots:T,...C,style:{position:"fixed",top:0,left:0,display:D,...v},TransitionProps:L,children:i})})}),HUe=Fe(VUe,{name:"MuiPopper",slot:"Root"})({}),dY=x.forwardRef(function(e,n){const r=PC(),i=xt({props:e,name:"MuiPopper"}),{anchorEl:a,component:s,components:o,componentsProps:c,container:f,disablePortal:d,keepMounted:p,modifiers:m,open:y,placement:v,popperOptions:b,popperRef:w,transition:T,slots:C,slotProps:A,...R}=i,P=C?.root??o?.Root,O={anchorEl:a,container:f,disablePortal:d,keepMounted:p,modifiers:m,open:y,placement:v,popperOptions:b,popperRef:w,transition:T,...R};return E.jsx(HUe,{as:s,direction:r?"rtl":"ltr",slots:{root:P},slotProps:A??c,...O,ref:n})}),WUe=dr(E.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function qUe(t){return Rt("MuiChip",t)}const Ge=Ot("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),XUe=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:a,onDelete:s,clickable:o,variant:c}=t,f={root:["root",c,n&&"disabled",`size${xe(r)}`,`color${xe(i)}`,o&&"clickable",o&&`clickableColor${xe(i)}`,s&&"deletable",s&&`deletableColor${xe(i)}`,`${c}${xe(i)}`],label:["label",`label${xe(r)}`],avatar:["avatar",`avatar${xe(r)}`,`avatarColor${xe(i)}`],icon:["icon",`icon${xe(r)}`,`iconColor${xe(a)}`],deleteIcon:["deleteIcon",`deleteIcon${xe(r)}`,`deleteIconColor${xe(i)}`,`deleteIcon${xe(c)}Color${xe(i)}`]};return Dt(f,qUe,e)},KUe=Fe("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:a,onDelete:s,size:o,variant:c}=n;return[{[`& .${Ge.avatar}`]:e.avatar},{[`& .${Ge.avatar}`]:e[`avatar${xe(o)}`]},{[`& .${Ge.avatar}`]:e[`avatarColor${xe(r)}`]},{[`& .${Ge.icon}`]:e.icon},{[`& .${Ge.icon}`]:e[`icon${xe(o)}`]},{[`& .${Ge.icon}`]:e[`iconColor${xe(i)}`]},{[`& .${Ge.deleteIcon}`]:e.deleteIcon},{[`& .${Ge.deleteIcon}`]:e[`deleteIcon${xe(o)}`]},{[`& .${Ge.deleteIcon}`]:e[`deleteIconColor${xe(r)}`]},{[`& .${Ge.deleteIcon}`]:e[`deleteIcon${xe(c)}Color${xe(r)}`]},e.root,e[`size${xe(o)}`],e[`color${xe(r)}`],a&&e.clickable,a&&r!=="default"&&e[`clickableColor${xe(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${xe(r)}`],e[c],e[`${c}${xe(r)}`]]}})(Vt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Ge.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Ge.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${Ge.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Ge.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Ge.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Ge.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Ge.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Ge.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Ge.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Sr(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${Ge.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${Ge.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${Ge.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Ge.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(Sr(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${Ge.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${Ge.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Sr(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${Ge.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Ge.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Ge.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Ge.avatar}`]:{marginLeft:4},[`& .${Ge.avatarSmall}`]:{marginLeft:2},[`& .${Ge.icon}`]:{marginLeft:4},[`& .${Ge.iconSmall}`]:{marginLeft:2},[`& .${Ge.deleteIcon}`]:{marginRight:5},[`& .${Ge.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Sr()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.alpha((t.vars||t).palette[n].main,.7)}`,[`&.${Ge.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${Ge.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.focusOpacity)},[`& .${Ge.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),YUe=Fe("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${xe(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function XF(t){return t.key==="Backspace"||t.key==="Delete"}const KF=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiChip"}),{avatar:i,className:a,clickable:s,color:o="default",component:c,deleteIcon:f,disabled:d=!1,icon:p,label:m,onClick:y,onDelete:v,onKeyDown:b,onKeyUp:w,size:T="medium",variant:C="filled",tabIndex:A,skipFocusWhenDisabled:R=!1,slots:P={},slotProps:O={},...k}=r,D=x.useRef(null),L=_a(D,n),$=we=>{we.stopPropagation(),v&&v(we)},j=we=>{we.currentTarget===we.target&&XF(we)&&we.preventDefault(),b&&b(we)},I=we=>{we.currentTarget===we.target&&v&&XF(we)&&v(we),w&&w(we)},W=s!==!1&&y?!0:s,H=W||v?_p:c||"div",J={...r,component:H,disabled:d,size:T,color:o,iconColor:x.isValidElement(p)&&p.props.color||o,onDelete:!!v,clickable:W,variant:C},z=XUe(J),q=H===_p?{component:c||"div",focusVisibleClassName:z.focusVisible,...v&&{disableRipple:!0}}:{};let se=null;v&&(se=f&&x.isValidElement(f)?x.cloneElement(f,{className:Te(f.props.className,z.deleteIcon),onClick:$}):E.jsx(WUe,{className:z.deleteIcon,onClick:$}));let le=null;i&&x.isValidElement(i)&&(le=x.cloneElement(i,{className:Te(z.avatar,i.props.className)}));let _e=null;p&&x.isValidElement(p)&&(_e=x.cloneElement(p,{className:Te(z.icon,p.props.className)}));const F={slots:P,slotProps:O},[ee,ye]=ya("root",{elementType:KUe,externalForwardedProps:{...F,...k},ownerState:J,shouldForwardComponentProp:!0,ref:L,className:Te(z.root,a),additionalProps:{disabled:W&&d?!0:void 0,tabIndex:R&&d?-1:A,...q},getSlotProps:we=>({...we,onClick:Ee=>{we.onClick?.(Ee),y?.(Ee)},onKeyDown:Ee=>{we.onKeyDown?.(Ee),j(Ee)},onKeyUp:Ee=>{we.onKeyUp?.(Ee),I(Ee)}})}),[be,Ae]=ya("label",{elementType:YUe,externalForwardedProps:F,ownerState:J,className:z.label});return E.jsxs(ee,{as:H,...ye,children:[le||_e,E.jsx(be,{...Ae,children:m}),se]})});function GUe(t){return Rt("MuiButton",t)}const Wl=Ot("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),ZUe=x.createContext({}),QUe=x.createContext(void 0),JUe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:a,loading:s,loadingPosition:o,classes:c}=t,f={root:["root",s&&"loading",a,`${a}${xe(e)}`,`size${xe(i)}`,`${a}Size${xe(i)}`,`color${xe(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${xe(o)}`],startIcon:["icon","startIcon",`iconSize${xe(i)}`],endIcon:["icon","endIcon",`iconSize${xe(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=Dt(f,GUe,c);return{...c,...d}},hY=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],eFe=Fe(_p,{shouldForwardProp:t=>kC(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${xe(n.color)}`],e[`size${xe(n.size)}`],e[`${n.variant}Size${xe(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Vt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Wl.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Wl.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Wl.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Wl.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Sr()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Wl.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Wl.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Wl.loading}`]:{color:"transparent"}}}]}})),tFe=Fe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${xe(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...hY]})),nFe=Fe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${xe(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...hY]})),rFe=Fe("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),YF=Fe("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),iFe=x.forwardRef(function(e,n){const r=x.useContext(ZUe),i=x.useContext(QUe),a=vp(r,e),s=xt({props:a,name:"MuiButton"}),{children:o,color:c="primary",component:f="button",className:d,disabled:p=!1,disableElevation:m=!1,disableFocusRipple:y=!1,endIcon:v,focusVisibleClassName:b,fullWidth:w=!1,id:T,loading:C=null,loadingIndicator:A,loadingPosition:R="center",size:P="medium",startIcon:O,type:k,variant:D="text",...L}=s,$=Bb(T),j=A??E.jsx(c$,{"aria-labelledby":$,color:"inherit",size:16}),I={...s,color:c,component:f,disabled:p,disableElevation:m,disableFocusRipple:y,fullWidth:w,loading:C,loadingIndicator:j,loadingPosition:R,size:P,type:k,variant:D},W=JUe(I),H=(O||C&&R==="start")&&E.jsx(tFe,{className:W.startIcon,ownerState:I,children:O||E.jsx(YF,{className:W.loadingIconPlaceholder,ownerState:I})}),J=(v||C&&R==="end")&&E.jsx(nFe,{className:W.endIcon,ownerState:I,children:v||E.jsx(YF,{className:W.loadingIconPlaceholder,ownerState:I})}),z=i||"",q=typeof C=="boolean"?E.jsx("span",{className:W.loadingWrapper,style:{display:"contents"},children:C&&E.jsx(rFe,{className:W.loadingIndicator,ownerState:I,children:j})}):null;return E.jsxs(eFe,{ownerState:I,className:Te(r.className,W.root,d,z),component:f,disabled:p||C,focusRipple:!y,focusVisibleClassName:Te(W.focusVisible,b),ref:n,type:k,id:C?$:T,...L,classes:W,children:[H,R!=="end"&&q,o,R==="end"&&q,J]})});function aFe(t){return Rt("MuiCard",t)}Ot("MuiCard",["root"]);const sFe=t=>{const{classes:e}=t;return Dt({root:["root"]},aFe,e)},oFe=Fe(Zo,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),lFe=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiCard"}),{className:i,raised:a=!1,...s}=r,o={...r,raised:a},c=sFe(o);return E.jsx(oFe,{className:Te(c.root,i),elevation:a?8:void 0,ref:n,ownerState:o,...s})});function cFe(t){return Rt("MuiCardContent",t)}Ot("MuiCardContent",["root"]);const uFe=t=>{const{classes:e}=t;return Dt({root:["root"]},cFe,e)},fFe=Fe("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),dFe=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiCardContent"}),{className:i,component:a="div",...s}=r,o={...r,component:a},c=uFe(o);return E.jsx(fFe,{as:a,className:Te(c.root,i),ownerState:o,ref:n,...s})}),Wa=fne({createStyledComponent:Fe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>xt({props:t,name:"MuiGrid"}),useTheme:Ub});function eC(t){return`scale(${t}, ${t**2})`}const hFe={entering:{opacity:1,transform:eC(1)},entered:{opacity:1,transform:"none"}},w2=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),tC=x.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:a,easing:s,in:o,onEnter:c,onEntered:f,onEntering:d,onExit:p,onExited:m,onExiting:y,style:v,timeout:b="auto",TransitionComponent:w=lo,...T}=e,C=nf(),A=x.useRef(),R=Ub(),P=x.useRef(null),O=_a(P,lO(a),n),k=J=>z=>{if(J){const q=P.current;z===void 0?J(q):J(q,z)}},D=k(d),L=k((J,z)=>{Cje(J);const{duration:q,delay:se,easing:le}=LF({style:v,timeout:b,easing:s},{mode:"enter"});let _e;b==="auto"?(_e=R.transitions.getAutoHeightDuration(J.clientHeight),A.current=_e):_e=q,J.style.transition=[R.transitions.create("opacity",{duration:_e,delay:se}),R.transitions.create("transform",{duration:w2?_e:_e*.666,delay:se,easing:le})].join(","),c&&c(J,z)}),$=k(f),j=k(y),I=k(J=>{const{duration:z,delay:q,easing:se}=LF({style:v,timeout:b,easing:s},{mode:"exit"});let le;b==="auto"?(le=R.transitions.getAutoHeightDuration(J.clientHeight),A.current=le):le=z,J.style.transition=[R.transitions.create("opacity",{duration:le,delay:q}),R.transitions.create("transform",{duration:w2?le:le*.666,delay:w2?q:q||le*.333,easing:se})].join(","),J.style.opacity=0,J.style.transform=eC(.75),p&&p(J)}),W=k(m),H=J=>{b==="auto"&&C.start(A.current||0,J),r&&r(P.current,J)};return E.jsx(w,{appear:i,in:o,nodeRef:P,onEnter:L,onEntered:$,onEntering:D,onExit:I,onExited:W,onExiting:j,addEndListener:H,timeout:b==="auto"?null:b,...T,children:(J,{ownerState:z,...q})=>x.cloneElement(a,{style:{opacity:0,transform:eC(.75),visibility:J==="exited"&&!o?"hidden":void 0,...hFe[J],...v,...a.props.style},ref:O,...q})})});tC&&(tC.muiSupportAuto=!0);function pFe(t){return Rt("MuiLinearProgress",t)}Ot("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const nC=4,rC=gl`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,gFe=typeof rC!="string"?sd`
        animation: ${rC} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,iC=gl`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,mFe=typeof iC!="string"?sd`
        animation: ${iC} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,aC=gl`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,yFe=typeof aC!="string"?sd`
        animation: ${aC} 3s infinite linear;
      `:null,vFe=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${xe(r)}`,n],dashed:["dashed",`dashedColor${xe(r)}`],bar1:["bar","bar1",`barColor${xe(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${xe(r)}`,n==="buffer"&&`color${xe(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Dt(i,pFe,e)},cO=(t,e)=>t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.5),bFe=Fe("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${xe(n.color)}`],e[n.variant]]}})(Vt(({theme:t})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(Sr()).map(([e])=>({props:{color:e},style:{backgroundColor:cO(t,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),xFe=Fe("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${xe(n.color)}`]]}})(Vt(({theme:t})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(Sr()).map(([e])=>{const n=cO(t,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),yFe||{animation:`${aC} 3s infinite linear`}),_Fe=Fe("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar1,e[`barColor${xe(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(Vt(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(Sr()).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${nC}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${nC}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:gFe||{animation:`${rC} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),wFe=Fe("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar2,e[`barColor${xe(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(Vt(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(Sr()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(Sr()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:cO(t,e),transition:`transform .${nC}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:mFe||{animation:`${iC} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),sC=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiLinearProgress"}),{className:i,color:a="primary",value:s,valueBuffer:o,variant:c="indeterminate",...f}=r,d={...r,color:a,variant:c},p=vFe(d),m=PC(),y={},v={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&s!==void 0){y["aria-valuenow"]=Math.round(s),y["aria-valuemin"]=0,y["aria-valuemax"]=100;let b=s-100;m&&(b=-b),v.bar1.transform=`translateX(${b}%)`}if(c==="buffer"&&o!==void 0){let b=(o||0)-100;m&&(b=-b),v.bar2.transform=`translateX(${b}%)`}return E.jsxs(bFe,{className:Te(p.root,i),ownerState:d,role:"progressbar",...y,ref:n,...f,children:[c==="buffer"?E.jsx(xFe,{className:p.dashed,ownerState:d}):null,E.jsx(_Fe,{className:p.bar1,ownerState:d,style:v.bar1}),c==="determinate"?null:E.jsx(wFe,{className:p.bar2,ownerState:d,style:v.bar2})]})});function SFe(t){return Rt("MuiTooltip",t)}const fn=Ot("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function TFe(t){return Math.round(t*1e5)/1e5}const AFe=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:a}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${xe(a.split("-")[0])}`],arrow:["arrow"]};return Dt(s,SFe,e)},EFe=Fe(dY,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(Vt(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${fn.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${fn.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${fn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${fn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${fn.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${fn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${fn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${fn.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),CFe=Fe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${xe(n.placement.split("-")[0])}`]]}})(Vt(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${fn.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${fn.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${fn.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${fn.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${TFe(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${fn.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${fn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${fn.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${fn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${fn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${fn.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${fn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${fn.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${fn.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${fn.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),PFe=Fe("span",{name:"MuiTooltip",slot:"Arrow"})(Vt(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let av=!1;const GF=new Fb;let jh={x:0,y:0};function sv(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const RFe=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:a,classes:s,components:o={},componentsProps:c={},describeChild:f=!1,disableFocusListener:d=!1,disableHoverListener:p=!1,disableInteractive:m=!1,disableTouchListener:y=!1,enterDelay:v=100,enterNextDelay:b=0,enterTouchDelay:w=700,followCursor:T=!1,id:C,leaveDelay:A=0,leaveTouchDelay:R=1500,onClose:P,onOpen:O,open:k,placement:D="bottom",PopperComponent:L,PopperProps:$={},slotProps:j={},slots:I={},title:W,TransitionComponent:H,TransitionProps:J,...z}=r,q=x.isValidElement(a)?a:E.jsx("span",{children:a}),se=Ub(),le=PC(),[_e,F]=x.useState(),[ee,ye]=x.useState(null),be=x.useRef(!1),Ae=m||T,we=nf(),Ee=nf(),Xe=nf(),ue=nf(),[De,je]=Rre({controlled:k,default:!1});let me=De;const ht=Bb(C),Le=x.useRef(),pt=_f(()=>{Le.current!==void 0&&(document.body.style.WebkitUserSelect=Le.current,Le.current=void 0),ue.clear()});x.useEffect(()=>pt,[pt]);const It=Ve=>{GF.clear(),av=!0,je(!0),O&&!me&&O(Ve)},jt=_f(Ve=>{GF.start(800+A,()=>{av=!1}),je(!1),P&&me&&P(Ve),we.start(se.transitions.duration.shortest,()=>{be.current=!1})}),tn=Ve=>{be.current&&Ve.type!=="touchstart"||(_e&&_e.removeAttribute("title"),Ee.clear(),Xe.clear(),v||av&&b?Ee.start(av?b:v,()=>{It(Ve)}):It(Ve))},Zt=Ve=>{Ee.clear(),Xe.start(A,()=>{jt(Ve)})},[,nn]=x.useState(!1),tr=Ve=>{Vv(Ve.target)||(nn(!1),Zt(Ve))},ke=Ve=>{_e||F(Ve.currentTarget),Vv(Ve.target)&&(nn(!0),tn(Ve))},fs=Ve=>{be.current=!0;const Ti=q.props;Ti.onTouchStart&&Ti.onTouchStart(Ve)},rn=Ve=>{fs(Ve),Xe.clear(),we.clear(),pt(),Le.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ue.start(w,()=>{document.body.style.WebkitUserSelect=Le.current,tn(Ve)})},ds=Ve=>{q.props.onTouchEnd&&q.props.onTouchEnd(Ve),pt(),Xe.start(R,()=>{jt(Ve)})};x.useEffect(()=>{if(!me)return;function Ve(Ti){Ti.key==="Escape"&&jt(Ti)}return document.addEventListener("keydown",Ve),()=>{document.removeEventListener("keydown",Ve)}},[jt,me]);const xn=_a(lO(q),F,n);!W&&W!==0&&(me=!1);const at=x.useRef(),an=Ve=>{const Ti=q.props;Ti.onMouseMove&&Ti.onMouseMove(Ve),jh={x:Ve.clientX,y:Ve.clientY},at.current&&at.current.update()},Wn={},Oa=typeof W=="string";f?(Wn.title=!me&&Oa&&!p?W:null,Wn["aria-describedby"]=me?ht:null):(Wn["aria-label"]=Oa?W:null,Wn["aria-labelledby"]=me&&!Oa?ht:null);const Cr={...Wn,...z,...q.props,className:Te(z.className,q.props.className),onTouchStart:fs,ref:xn,...T?{onMouseMove:an}:{}},wl={};y||(Cr.onTouchStart=rn,Cr.onTouchEnd=ds),p||(Cr.onMouseOver=sv(tn,Cr.onMouseOver),Cr.onMouseLeave=sv(Zt,Cr.onMouseLeave),Ae||(wl.onMouseOver=tn,wl.onMouseLeave=Zt)),d||(Cr.onFocus=sv(ke,Cr.onFocus),Cr.onBlur=sv(tr,Cr.onBlur),Ae||(wl.onFocus=ke,wl.onBlur=tr));const ei={...r,isRtl:le,arrow:i,disableInteractive:Ae,placement:D,PopperComponentProp:L,touch:be.current},In=typeof j.popper=="function"?j.popper(ei):j.popper,Ma=x.useMemo(()=>{let Ve=[{name:"arrow",enabled:!!ee,options:{element:ee,padding:4}}];return $.popperOptions?.modifiers&&(Ve=Ve.concat($.popperOptions.modifiers)),In?.popperOptions?.modifiers&&(Ve=Ve.concat(In.popperOptions.modifiers)),{...$.popperOptions,...In?.popperOptions,modifiers:Ve}},[ee,$.popperOptions,In?.popperOptions]),nr=AFe(ei),i_=typeof j.transition=="function"?j.transition(ei):j.transition,Kc={slots:{popper:o.Popper,transition:o.Transition??H,tooltip:o.Tooltip,arrow:o.Arrow,...I},slotProps:{arrow:j.arrow??c.arrow,popper:{...$,...In??c.popper},tooltip:j.tooltip??c.tooltip,transition:{...J,...i_??c.transition}}},[a_,Yc]=ya("popper",{elementType:EFe,externalForwardedProps:Kc,ownerState:ei,className:Te(nr.popper,$?.className)}),[Gc,Zc]=ya("transition",{elementType:tC,externalForwardedProps:Kc,ownerState:ei}),[hs,Qc]=ya("tooltip",{elementType:CFe,className:nr.tooltip,externalForwardedProps:Kc,ownerState:ei}),[Sl,s_]=ya("arrow",{elementType:PFe,className:nr.arrow,externalForwardedProps:Kc,ownerState:ei,ref:ye});return E.jsxs(x.Fragment,{children:[x.cloneElement(q,Cr),E.jsx(a_,{as:L??dY,placement:D,anchorEl:T?{getBoundingClientRect:()=>({top:jh.y,left:jh.x,right:jh.x,bottom:jh.y,width:0,height:0})}:_e,popperRef:at,open:_e?me:!1,id:ht,transition:!0,...wl,...Yc,popperOptions:Ma,children:({TransitionProps:Ve})=>E.jsx(Gc,{timeout:se.transitions.duration.shorter,...Ve,...Zc,children:E.jsxs(hs,{...Qc,children:[W,i?E.jsx(Sl,{...s_}):null]})})})]})}),pY=x.createContext();function OFe(t){return Rt("MuiTable",t)}Ot("MuiTable",["root","stickyHeader"]);const MFe=t=>{const{classes:e,stickyHeader:n}=t;return Dt({root:["root",n&&"stickyHeader"]},OFe,e)},IFe=Fe("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(Vt(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),ZF="table",kFe=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiTable"}),{className:i,component:a=ZF,padding:s="normal",size:o="medium",stickyHeader:c=!1,...f}=r,d={...r,component:a,padding:s,size:o,stickyHeader:c},p=MFe(d),m=x.useMemo(()=>({padding:s,size:o,stickyHeader:c}),[s,o,c]);return E.jsx(pY.Provider,{value:m,children:E.jsx(IFe,{as:a,role:a===ZF?null:"table",ref:n,className:Te(p.root,i),ownerState:d,...f})})}),r_=x.createContext();function NFe(t){return Rt("MuiTableBody",t)}Ot("MuiTableBody",["root"]);const DFe=t=>{const{classes:e}=t;return Dt({root:["root"]},NFe,e)},BFe=Fe("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),LFe={variant:"body"},QF="tbody",jFe=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiTableBody"}),{className:i,component:a=QF,...s}=r,o={...r,component:a},c=DFe(o);return E.jsx(r_.Provider,{value:LFe,children:E.jsx(BFe,{className:Te(c.root,i),as:a,ref:n,role:a===QF?null:"rowgroup",ownerState:o,...s})})});function UFe(t){return Rt("MuiTableCell",t)}const FFe=Ot("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),$Fe=t=>{const{classes:e,variant:n,align:r,padding:i,size:a,stickyHeader:s}=t,o={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${xe(r)}`,i!=="normal"&&`padding${xe(i)}`,`size${xe(a)}`]};return Dt(o,UFe,e)},zFe=Fe("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${xe(n.size)}`],n.padding!=="normal"&&e[`padding${xe(n.padding)}`],n.align!=="inherit"&&e[`align${xe(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(Vt(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${FFe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),fa=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiTableCell"}),{align:i="inherit",className:a,component:s,padding:o,scope:c,size:f,sortDirection:d,variant:p,...m}=r,y=x.useContext(pY),v=x.useContext(r_),b=v&&v.variant==="head";let w;s?w=s:w=b?"th":"td";let T=c;w==="td"?T=void 0:!T&&b&&(T="col");const C=p||v&&v.variant,A={...r,align:i,component:w,padding:o||(y&&y.padding?y.padding:"normal"),size:f||(y&&y.size?y.size:"medium"),sortDirection:d,stickyHeader:C==="head"&&y&&y.stickyHeader,variant:C},R=$Fe(A);let P=null;return d&&(P=d==="asc"?"ascending":"descending"),E.jsx(zFe,{as:w,ref:n,className:Te(R.root,a),"aria-sort":P,scope:T,ownerState:A,...m})});function VFe(t){return Rt("MuiTableContainer",t)}Ot("MuiTableContainer",["root"]);const HFe=t=>{const{classes:e}=t;return Dt({root:["root"]},VFe,e)},WFe=Fe("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),qFe=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiTableContainer"}),{className:i,component:a="div",...s}=r,o={...r,component:a},c=HFe(o);return E.jsx(WFe,{ref:n,as:a,className:Te(c.root,i),ownerState:o,...s})});function XFe(t){return Rt("MuiTableHead",t)}Ot("MuiTableHead",["root"]);const KFe=t=>{const{classes:e}=t;return Dt({root:["root"]},XFe,e)},YFe=Fe("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),GFe={variant:"head"},JF="thead",ZFe=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiTableHead"}),{className:i,component:a=JF,...s}=r,o={...r,component:a},c=KFe(o);return E.jsx(r_.Provider,{value:GFe,children:E.jsx(YFe,{as:a,className:Te(c.root,i),ref:n,role:a===JF?null:"rowgroup",ownerState:o,...s})})});function QFe(t){return Rt("MuiTableRow",t)}const e8=Ot("MuiTableRow",["root","selected","hover","head","footer"]),JFe=t=>{const{classes:e,selected:n,hover:r,head:i,footer:a}=t;return Dt({root:["root",n&&"selected",r&&"hover",i&&"head",a&&"footer"]},QFe,e)},e8e=Fe("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(Vt(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${e8.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${e8.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)}}}))),t8="tr",S2=x.forwardRef(function(e,n){const r=xt({props:e,name:"MuiTableRow"}),{className:i,component:a=t8,hover:s=!1,selected:o=!1,...c}=r,f=x.useContext(r_),d={...r,component:a,hover:s,selected:o,head:f&&f.variant==="head",footer:f&&f.variant==="footer"},p=JFe(d);return E.jsx(e8e,{as:a,ref:n,className:Te(p.root,i),role:a===t8?null:"row",ownerState:d,...c})}),t8e=dr(E.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),n8e=()=>{const[t,e]=x.useState([]),[n,r]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const s=await fetch("/data/dashboard_rebalancing.json");if(!s.ok)throw new Error("Network response was not ok");const o=await s.json();e(o),r(!1)}catch(s){console.error("Failed to fetch rebalancing data",s),r(!1)}})()},[]);const i=a=>{switch(a){case"CRITICAL":return"error";case"HIGH":return"warning";case"MEDIUM":return"info";case"LOW":return"success";default:return"default"}};return E.jsxs(Hr,{sx:{p:4,backgroundColor:"#0a0b1e",minHeight:"100%",color:"white"},children:[E.jsxs(Bt,{variant:"h4",sx:{mb:4,fontWeight:"bold",background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:[E.jsx(g$,{sx:{mr:2,verticalAlign:"bottom",color:"#FF8E53"}}),"Fleet Command Center"]}),E.jsxs(Wa,{container:!0,spacing:3,sx:{mb:4},children:[E.jsx(Wa,{item:!0,xs:12,md:4,children:E.jsxs(Zo,{sx:{p:3,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.1)"},children:[E.jsx(Bt,{variant:"h6",color:"gray",children:"Pending Moves"}),E.jsx(Bt,{variant:"h3",sx:{fontWeight:"bold",color:"#FF8E53"},children:t.filter(a=>a.action!=="HOLD").length})]})}),E.jsx(Wa,{item:!0,xs:12,md:4,children:E.jsxs(Zo,{sx:{p:3,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.1)"},children:[E.jsx(Bt,{variant:"h6",color:"gray",children:"Critical Shortages"}),E.jsx(Bt,{variant:"h3",sx:{fontWeight:"bold",color:"#f44336"},children:t.filter(a=>a.priority==="CRITICAL").length})]})}),E.jsx(Wa,{item:!0,xs:12,md:4,children:E.jsxs(Zo,{sx:{p:3,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.1)"},children:[E.jsx(Bt,{variant:"h6",color:"gray",children:"System Health"}),E.jsx(Bt,{variant:"h3",sx:{fontWeight:"bold",color:"#4caf50"},children:"98%"})]})})]}),E.jsx(Zo,{sx:{width:"100%",overflow:"hidden",background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.1)"},children:E.jsx(qFe,{sx:{maxHeight:600},children:E.jsxs(kFe,{stickyHeader:!0,"aria-label":"sticky table",children:[E.jsx(ZFe,{children:E.jsxs(S2,{children:[E.jsx(fa,{sx:{backgroundColor:"#1a1b2e",color:"gray"},children:"Station"}),E.jsx(fa,{sx:{backgroundColor:"#1a1b2e",color:"gray"},children:"Action"}),E.jsx(fa,{sx:{backgroundColor:"#1a1b2e",color:"gray"},children:"Quantity"}),E.jsx(fa,{sx:{backgroundColor:"#1a1b2e",color:"gray"},children:"Priority"}),E.jsx(fa,{sx:{backgroundColor:"#1a1b2e",color:"gray"},children:"Status"})]})}),E.jsx(jFe,{children:n?E.jsx(S2,{children:E.jsx(fa,{colSpan:5,children:E.jsx(sC,{sx:{backgroundColor:"rgba(255,255,255,0.1)","& .MuiLinearProgress-bar":{backgroundColor:"#FF8E53"}}})})}):t.map((a,s)=>E.jsxs(S2,{hover:!0,role:"checkbox",tabIndex:-1,sx:{"&:hover":{backgroundColor:"rgba(255,255,255,0.05)"}},children:[E.jsx(fa,{sx:{color:"white"},children:a.station}),E.jsx(fa,{sx:{color:"white"},children:E.jsx(KF,{label:a.action,size:"small",sx:{backgroundColor:a.action==="RESTOCK"?"rgba(76, 175, 80, 0.2)":a.action==="PICKUP"?"rgba(244, 67, 54, 0.2)":"rgba(255,255,255,0.1)",color:a.action==="RESTOCK"?"#4caf50":a.action==="PICKUP"?"#f44336":"gray",fontWeight:"bold"}})}),E.jsx(fa,{sx:{color:"white",fontWeight:"bold"},children:a.quantity}),E.jsx(fa,{sx:{color:"white"},children:E.jsx(KF,{label:a.priority,color:i(a.priority),variant:"outlined",size:"small"})}),E.jsx(fa,{sx:{color:"white"},children:E.jsx(iFe,{variant:"outlined",size:"small",startIcon:E.jsx(t8e,{}),sx:{borderColor:"rgba(255,255,255,0.3)",color:"rgba(255,255,255,0.7)"},children:"Dispatch"})})]},s))})]})})})]})},r8e=dr(E.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),i8e=dr([E.jsx("circle",{cx:"4",cy:"14",r:"2"},"0"),E.jsx("path",{d:"M1.22 17.58C.48 17.9 0 18.62 0 19.43V21h4.5v-1.61c0-.83.23-1.61.63-2.29-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58"},"1"),E.jsx("circle",{cx:"20",cy:"14",r:"2"},"2"),E.jsx("path",{d:"M22.78 17.58c-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V21H24v-1.57c0-.81-.48-1.53-1.22-1.85m-6.54-.93c-1.17-.52-2.61-.9-4.24-.9s-3.07.39-4.24.9C6.68 17.13 6 18.21 6 19.39V21h12v-1.61c0-1.18-.68-2.26-1.76-2.74M9 12c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3"},"3"),E.jsx("path",{d:"M2.48 10.86C2.17 10.1 2 9.36 2 8.6 2 6.02 4.02 4 6.6 4c2.68 0 3.82 1.74 5.4 3.59C13.57 5.76 14.7 4 17.4 4 19.98 4 22 6.02 22 8.6c0 .76-.17 1.5-.48 2.26.65.31 1.18.82 1.53 1.44.6-1.2.95-2.42.95-3.7C24 4.9 21.1 2 17.4 2c-2.09 0-4.09.97-5.4 2.51C10.69 2.97 8.69 2 6.6 2 2.9 2 0 4.9 0 8.6c0 1.28.35 2.5.96 3.7.35-.62.88-1.13 1.52-1.44"},"4")]),a8e=dr(E.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})),s8e=()=>{const[t,e]=x.useState(null),[n,r]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const s=await fetch("/data/dashboard_equity.json");if(!s.ok)throw new Error("Network response was not ok");const o=await s.json();e(o),r(!1)}catch(s){console.error("Failed to fetch equity data",s),r(!1)}})()},[]);const i=a=>a>=.9?"#4caf50":a>=.8?"#ff9800":"#f44336";return E.jsxs(Hr,{sx:{p:4,backgroundColor:"#0a0b1e",minHeight:"100%",color:"white"},children:[E.jsxs(Bt,{variant:"h4",sx:{mb:1,fontWeight:"bold",background:"linear-gradient(45deg, #00C853 30%, #B2FF59 90%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:[E.jsx(p$,{sx:{mr:2,verticalAlign:"bottom",color:"#B2FF59"}}),"Social Equity Monitor"]}),E.jsx(Bt,{variant:"subtitle1",sx:{mb:4,color:"gray"},children:"Real-time tracking of service availability across all boroughs."}),E.jsxs(Wa,{container:!0,spacing:3,sx:{mb:4},children:[E.jsx(Wa,{item:!0,xs:12,md:4,children:E.jsxs(Zo,{sx:{p:3,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.1)"},children:[E.jsx(Bt,{variant:"h6",color:"gray",children:"System Gini Coefficient"}),E.jsxs(Hr,{sx:{display:"flex",alignItems:"baseline",gap:1},children:[E.jsx(Bt,{variant:"h3",sx:{fontWeight:"bold",color:"#00C853"},children:"0.12"}),E.jsxs(Bt,{variant:"body2",color:"success.main",sx:{display:"flex",alignItems:"center"},children:[E.jsx(a8e,{fontSize:"small",sx:{mr:.5}})," Excellent"]})]}),E.jsx(Bt,{variant:"caption",color:"gray",children:"Lower is better (0 = Perfect Equality)"})]})}),E.jsx(Wa,{item:!0,xs:12,md:8,children:E.jsxs(Zo,{sx:{p:3,height:"100%",background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center"},children:[E.jsx(i8e,{sx:{fontSize:60,color:"rgba(255,255,255,0.1)",mr:3}}),E.jsxs(Hr,{children:[E.jsx(Bt,{variant:"h6",color:"white",children:"Why this matters?"}),E.jsx(Bt,{variant:"body2",color:"gray",children:`Our "God Protocol" doesn't just optimize for profit. It actively rebalances bikes to underserved areas (Bronx, Queens) to ensure fair access to public transit for all New Yorkers, regardless of neighborhood density.`})]})]})})]}),E.jsx(Bt,{variant:"h5",sx:{mb:3,fontWeight:"bold"},children:"Borough Service Levels"}),E.jsx(Wa,{container:!0,spacing:3,children:n?E.jsx(Wa,{item:!0,xs:12,children:E.jsx(sC,{})}):Object.entries(t).map(([a,s])=>E.jsx(Wa,{item:!0,xs:12,md:6,lg:4,children:E.jsx(lFe,{sx:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)"},children:E.jsxs(dFe,{children:[E.jsxs(Hr,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[E.jsx(Bt,{variant:"h6",color:"white",children:a}),E.jsx(RFe,{title:"Service Availability Score (0-1)",children:E.jsx($2,{size:"small",children:E.jsx(r8e,{sx:{color:"gray"}})})})]}),E.jsxs(Hr,{sx:{display:"flex",alignItems:"center",mb:1},children:[E.jsx(Hr,{sx:{flexGrow:1,mr:2},children:E.jsx(sC,{variant:"determinate",value:s*100,sx:{height:10,borderRadius:5,backgroundColor:"rgba(255,255,255,0.1)","& .MuiLinearProgress-bar":{backgroundColor:i(s)}}})}),E.jsxs(Bt,{variant:"h6",sx:{color:i(s),fontWeight:"bold"},children:[(s*100).toFixed(0),"%"]})]}),E.jsx(Bt,{variant:"caption",color:"gray",children:s<.8?"Intervention Needed: High Rebalancing Priority":"Service Level Optimal"})]})})},a))})]})};function o8e(){return E.jsx(QQ,{children:E.jsx(Tce,{children:E.jsxs(RQ,{children:[E.jsx(Ds,{path:"/",element:E.jsx(WCe,{})}),E.jsx(Ds,{path:"/map",element:E.jsx(xje,{})}),E.jsx(Ds,{path:"/routes",element:E.jsx(wje,{})}),E.jsx(Ds,{path:"/stations",element:E.jsx(Sje,{})}),E.jsx(Ds,{path:"/prediction",element:E.jsx(Tje,{})}),E.jsx(Ds,{path:"/advanced",element:E.jsx(Eje,{})}),E.jsx(Ds,{path:"/rebalancing",element:E.jsx(n8e,{})}),E.jsx(Ds,{path:"/equity",element:E.jsx(s8e,{})})]})})})}class l8e extends gi.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Uncaught error:",e,n)}render(){return this.state.hasError?E.jsxs("div",{className:"p-8 bg-background text-foreground h-screen overflow-auto",children:[E.jsx("h1",{className:"text-2xl font-bold text-destructive mb-4",children:"Something went wrong."}),E.jsxs("div",{className:"bg-secondary/30 p-4 rounded-lg border border-border mb-4",children:[E.jsx("h2",{className:"font-mono font-bold text-lg mb-2",children:this.state.error&&this.state.error.toString()}),E.jsx("pre",{className:"font-mono text-xs whitespace-pre-wrap text-muted-foreground",children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),E.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Reload Page"})]}):this.props.children}}LZ.createRoot(document.getElementById("root")).render(E.jsx(gi.StrictMode,{children:E.jsx(l8e,{children:E.jsx(o8e,{})})}));export{Aa as g};
